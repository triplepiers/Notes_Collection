{"config":{"lang":["zh","en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p> \u7ea6 254 \u4e2a\u5b57  5 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"#about","title":"About","text":"<p>\u672c\u7ad9\u76ee\u524d\uff1a</p> <ul> <li>\u5171\u6709 62 \u4e2a\u9875\u9762\uff0c83948 \u4e2a\u5b57\uff0c12618 \u884c\u4ee3\u7801\uff0c18 \u5f20\u56fe\u7247\u3002</li> <li>\u7ee7\u627f\u4e86\u5b66\u4e60\u524d\u7aef\u6846\u67b6\u7684\u7b14\u8bb0</li> <li>\u52c9\u5f3a\u6d88\u9664\u4e86 Obsidian \u548c Mkdocs \u6e32\u67d3\u7ed3\u679c\u4e0d\u4e00\u81f4\u7684\u95ee\u9898</li> <li>\u5c1d\u8bd5\u641e\u4e86\u4ee3\u7801\u9ad8\u4eae\uff08\ud83e\udd14\u4f3c\u4e4e\u4e0d\u652f\u6301 JS\uff09&amp;&amp; MathJax\uff08\u8bd5\u4e00\u4e0b\uff1a \\(E = MC^2\\)\uff09</li> </ul> <p>\u5e7f\u544a\u4f4d\u62db\u79df -&gt; \u8bd5\u56fe\u6210\u4e3a\u6307\u9488\u6570\u7ec4</p>"},{"location":"#todo","title":"\u8f6f\u5de5\u529d\u9000\u6307\u5357 (TODO)","text":"<p>\u90a3\u786e\u5b9e\u662f\u4e00\u4e2a\u5b57\u90fd\u6ca1\u5199</p> \u60a8\u6709\u89c1\u8fc7\u671f\u4e2d\u8003 PTSD \u60a3\u8005\u5417 <p>30 min \u6781\u9650\u5f80\u8fd4\u6e2f\u6cc9\u4f46\u4e00\u573a\u8003\u8bd5\u90fd\u6ca1\u8d76\u4e0a\u7684\u5669\u68a6\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5417\uff1f</p>"},{"location":"#credit","title":"Credit","text":"<p>\u672c\u7ad9\u70b9\u901a\u8fc7 TonyCrane \u8001\u5e08\u7f16\u5199\u7684 mkdocs-statistics-plugin \u63d2\u4ef6\u5b9e\u73b0 \u5b57\u6570\u7edf\u8ba1 &amp; \u9605\u8bfb\u65f6\u95f4\u4f30\u8ba1</p> <ul> <li> <p>\u5982\u679c\u60a8\u53d1\u73b0 icon \u88ab\u9519\u8bef\u663e\u793a\u4e3a <code>:material-circle-edit-outline:</code>\uff1a</p> <p>\u60a8\u53ef\u80fd\u9700\u8981\u5728 YAML \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u9879</p> <pre><code>markdown_extensions:\n    - md_in_html\n    - pymdownx.emoji:\n        emoji_index: !!python/name:material.extensions.emoji.twemoji\n        emoji_generator: !!python/name:material.extensions.emoji.to_svg\n</code></pre> </li> <li> <p>\u5982\u679c\u60a8\u9700\u8981\u4e00\u4efd\u81ea\u52a8\u5316\u90e8\u7f72\u811a\u672c\uff1a</p> <p>\u53ef\u4ee5\u770b\u770b \u8fd9\u91cc\uff08\u53ea\u662f\u5728\u5b98\u65b9\u811a\u672c\u4e0a\u6dfb\u52a0\u4e86\u4f9d\u8d56\u5b89\u88c5\u73af\u8282\uff09</p> </li> </ul>"},{"location":"Nulling/Agent/Overview/","title":"\u8ba9\u6211\u4eec\u8bf4\u4e2d\u6587","text":"<p> \u7ea6 433 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>AI \u662f\u4e16\u754c\u4e0a\u6700\u4f1a\u9020\u65b0\u8bcd\u7684\u5b66\u79d1 ...</p> <p>LLM \u662f\u4e00\u4e2a\u53ea\u4f1a\u7eb8\u4e0a\u8c08\u5175\u7684\u5446\u74dc\uff0c\u6211\u4eec\u5982\u4f55\u7ed9\u4ed6\u88c5\u914d\u5e72 dirty work \u7684\u725b\u9a6c\uff08\u7a0b\u5e8f\uff09</p>"},{"location":"Nulling/Agent/Overview/#1-memory","title":"1 Memory","text":"<ul> <li>\uff08\u538b\u7f29 / \u672a\u538b\u7f29\u8fc7\uff09\u7684 Context\uff0c\u9632\u6b62\u957f\u5ea6\u7206\u70b8</li> <li>\u5c0f\u8001\u677f\u8bb0\uff0c\u5927\u8001\u677f\uff08LLM\uff09\u8d35\u4eba\u591a\u5fd8\u4e8b</li> </ul>"},{"location":"Nulling/Agent/Overview/#2-agent","title":"2 Agent\uff08\u5c0f\u8001\u677f\uff09","text":"<p>\u6267\u884c\u5927\u8001\u677f\uff08LLM\uff09\u7684\u53e3\u8c15\uff0c\u9a71\u7b56\u725b\u9a6c\uff08Function\uff09\u5e72\u6d3b\u3001\u7136\u540e\u6c47\u62a5\u6210\u679c</p>"},{"location":"Nulling/Agent/Overview/#21-search","title":"2.1 Search","text":"<ul> <li>RAG\uff08\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff09\uff1a\u4ece (\u672c\u5730)\u6587\u6863/\u5411\u91cf\u6570\u636e\u5e93 \u4e2d\u67e5\u627e\u6700\u76f8\u5173\u7684\u7247\u6bb5\u8fd4\u56de\uff08\u4f5c\u4e3a Reference\uff09</li> <li>Web Search\uff1a\u4ece \u7f51\u4e0a \u6252\u62c9\u76f8\u5173\u4fe1\u606f\u8fd4\u56de</li> </ul>"},{"location":"Nulling/Agent/Overview/#22-tool-using","title":"2.2 Tool Using","text":"<ul> <li> <p>Function Calling\uff08LLM \\(\\leftrightarrow\\) Agent\uff09\uff1a\u7ea6\u5b9a LLM \u9700\u8981\u8c03\u7528\u51fd\u6570\u65f6\u7684\u8fd4\u56de\u683c\u5f0f </p> </li> <li> <p>MCP\uff08Agent \\(\\leftrightarrow\\) Function\uff0cLocal / Remote\uff09\uff1a\u7ea6\u5b9a Agent \u5b9e\u9645\u8c03\u7528\u51fd\u6570\u7684\u65b9\u5f0f</p> <ul> <li><code>tool_list</code>\uff1a\u8fd4\u56de\u5168\u90e8\u529f\u80fd\u5217\u8868 </li> <li><code>tool_call</code>\uff1a\u5b9e\u9645\u8c03\u7528\u7279\u5b9a\u529f\u80fd</li> </ul> </li> </ul>"},{"location":"Nulling/Agent/Overview/#23-skilllocal","title":"2.3 Skill\uff08Local\uff09","text":"<p>\u5c31\u662f Prompt / \u8bf4\u660e\u6587\u6863\uff08<code>SKILL.md</code>\uff09\u52a0\u8f7d\u5668</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u628a MCP \u63d0\u4f9b\u7684\u529f\u80fd\u5168\u4e22\u5230 <code>/skill</code> \u4e0b\u3001\u7136\u540e\u5728 SKILL.md \u4e2d\u8fdb\u884c\u8bf4\u660e</p> <ul> <li> <p>Sample</p> <ul> <li>\u4f60\u5e0c\u671b\uff1a\u5b9e\u73b0\u4ece srcFile \\(\\rightarrow\\) dstFile \u7684\u683c\u5f0f\u8f6c\u6362\uff0c\u4f46\u8fd9\u6709 \\(A_N^N\\) \u79cd\u6392\u5217\u7ec4\u5408\u65b9\u5f0f</li> <li>\u4e8e\u662f\uff1a\u4f60\u4e3a\u6bcf\u4e00\u79cd\u683c\u5f0f\u5206\u522b\u5b9e\u73b0\u4e86 <code>from_X</code> &amp; <code>to_X</code> \u811a\u672c\uff0c\u8ba9 LLM \u81ea\u5df1\u770b\u7740\u7528</li> </ul> </li> <li> <p>Solution</p> <ul> <li>\u5728\u4e00\u4e2a\u7ea6\u5b9a\u4fd7\u6210\u7684\u4f4d\u7f6e\u4e0b\uff08<code>~/.config/skills</code>\uff09\u5b58\u653e\u6240\u6709\u7684\u811a\u672c + \u529f\u80fd\u63cf\u8ff0\uff08<code>SKILL.md</code>\uff09</li> <li>\u6bcf\u6b21\u5b9e\u9645\u53d1\u9001  Prompt \u524d\uff0cAgent \u90fd\u4f1a \u81ea\u52a8\u8bfb\u53d6 <code>SKILL.md</code> \u5e76\u5c06\u5176\u62fc\u63a5\u5230 Prompt \u4e2d</li> </ul> </li> </ul>"},{"location":"Nulling/Agent/Overview/#24-subagent","title":"2.4 SubAgent","text":"<ul> <li>\u8d1f\u8d23\u7279\u5b9a\u529f\u80fd\u7684\u5c0f\u5916\u5305</li> <li>\u5c0f\u8001\u677f\uff08Agent\uff09\u4e0d\u4f1a\u50a8\u5b58\u5177\u4f53\u5916\u5305\u9879\u76ee\u7684 Memory</li> </ul>"},{"location":"Nulling/Agent/Overview/#3-langchain-workflow","title":"3 LangChain / Workflow","text":"<p>\u4e00\u5806\u7528\u4e8e\u9a71\u52a8 Agent \u7684 IF-ELSE \u6216\u8005 LOOP \u89c4\u5219\uff0c\u786c\u6027\u89c4\u5b9a\u6bcf\u4e00\u6b65\u600e\u4e48\u529e</p> <ul> <li>LangChain\uff1a\u4e00\u822c\u6307\u7f16\u7a0b\u5b9e\u73b0</li> <li>Workflow\uff1a\u4e00\u822c\u6307 GUI \u9875\u9762\u4e0a\u7684\u62d6\u62fd\u8fde\u7ebf\u5b9e\u73b0</li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/","title":"LangChain Basic","text":"<p> \u7ea6 2064 \u4e2a\u5b57  487 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Nulling/Agent/LangChain/1_Base/#intro","title":"Intro","text":"<pre><code>pip install langchain # install\n</code></pre> <p>LangChain \u662f\u4e00\u4e2a\u7528\u4e8e\u8f85\u52a9\u5f00\u53d1 LLM-based App \u7684 Python \u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u7528\u4e8e\u8f85\u52a9\u5f00\u53d1\u8005\u5c06 LLM \u96c6\u6210\u81f3\u5177\u4f53\u5e94\u7528\u7a0b\u5e8f\u4e2d\u3002</p> <p>\u5176\u6838\u5fc3\u7ec4\u4ef6\u5982\u4e0b\uff1a</p> \u7ec4\u4ef6 \u63cf\u8ff0 Model \u4f7f\u7528\u7684 LLM Prompt \u63d0\u793a\u8bcd\u7ba1\u7406 Chain \u7528\u4e8e\u4e32\u8054\u7ec4\u4ef6\uff0c\u5f62\u6210\u5de5\u4f5c\u6d41 Memory \u4fdd\u5b58\u5bf9\u8bdd\u5386\u53f2 Agent \u667a\u80fd\u4f53\uff0c\u6839\u636e\u7528\u6237\u8f93\u5165\u81ea\u52a8\u9009\u62e9\u9700\u8981\u6267\u884c\u7684\uff08\u4e0d\u540c\uff09\u64cd\u4f5c Tool \u4e00\u4e9b\u5185\u7f6e\u529f\u80fd\u6a21\u5757\uff08\u6587\u672c\u5904\u7406\u3001\u6570\u636e\u67e5\u8be2 etc. \uff09"},{"location":"Nulling/Agent/LangChain/1_Base/#_1","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<p>LangChain (v0.3) \u81ea\u5e95\u5411\u4e0a\u5305\u542b\u4e09\u4e2a Level\uff1a</p> <ul> <li>Achitecture<ul> <li>Base LangChain\uff1a\u63d0\u4f9b\u5305\u542b\u64cd\u4f5c Model\u3001\u642d\u5efa Agent \u548c RAG \u7684\u57fa\u7840 API</li> <li>LangGraph\uff1a\u5bf9 Base LangChain \u7684\u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u652f\u6301\u534f\u8c03 \u591a\u4e2a LLM / Agent \u5b8c\u6210\u66f4\u590d\u6742\u7684\u4efb\u52a1</li> </ul> </li> <li>Components\uff1aAgent / Retrieval</li> <li>Deployment\uff1a\u90e8\u7f72<ul> <li>LangSmith\uff1a\u8fd0\u7ef4\u7528</li> <li>LangServe\uff1a\u63d0\u4f9b Restful API \u7684\u6807\u51c6\u670d\u52a1\u63a5\u53e3\uff08\u53ef\u4ee5\u4e0d\u7528\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#1-model-io","title":"1 Model I/O","text":"<p>\u8be5\u6a21\u5757\u5c06\u5bf9\u4e0d\u540c LLM \u7684\u64cd\u4f5c\u5c01\u88c5\u4e3a\u7edf\u4e00\u63a5\u53e3\uff0c\u4f7f\u5f97\u5728\u66f4\u6362 LLM \u65f6\u65e0\u9700\u91cd\u6784\u4ee3\u7801</p> <p>\u5176\u8fd0\u4f5c\u6d41\u7a0b\u4e3b\u8981\u5305\u542b\u4e09\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>Format\uff1a\u5c06\u539f\u59cb\u6570\u636e\u683c\u5f0f\u5316\u4e3a LLM \u53ef\u4ee5\u5904\u7406\u7684\u683c\u5f0f\uff0c\u5e76\u63d2\u5165 Prompt \u6a21\u7248\u4e2d</li> <li>Predict\uff1aLLM \u57fa\u4e8e\u683c\u5f0f\u5316\u540e\u7684 Prompt \u8fdb\u884c\u9884\u6d4b</li> <li>Parse\uff1a\u5c06 Completion \u8fdb\u4e00\u6b65\u6807\u51c6\u5316\u4e3a JSON \u7ed3\u6784</li> </ol> <pre><code># using GPT Model\nfrom langchain_openai import ChatOpenAI\nllm = ChatOpenAI()\n\n# \u7b80\u5355\u7684\u5355\u8f6e\u5bf9\u8bdd sample \nprompt = '\u4f60\u662f\u8c01?'\nprint(llm.invoke(prompt).content)\n\n# \u624b\u52a8\u6a21\u62df\u591a\u8f6e\u5bf9\u8bdd\uff0c\u65b9\u4fbf\u8fdb\u884c\u8c03\u8bd5\nfrom langchain.schema import (\n    AIMessage,     # Completion\n    HumanMessage,  # User Input\n    SystemMessage  # System Prompt\n)\n\"\"\"\n\u8fd8\u6709\u4e0b\u9762\u4e24\u79cd\uff0c\u4f46\u7528\u7684\u6ca1\u90a3\u4e48\u591a\uff1a\n- ChatMessage\uff08\u901a\u7528\u6d88\u606f\u7c7b\uff0c\u53ef\u81ea\u5b9a\u4e49\u89d2\u8272\uff09\n- FunctionMessage/ToolMessage\uff08\u5de5\u5177\u8c03\u7528\u6d88\u606f\uff0c\u7528\u4e8e\u8bb0\u5f55\u8c03\u7528\u7ed3\u679c\uff09\n\"\"\"\n\nmessages = [\n    SystemMessage(content=\"\u4f60\u662f\u4e00\u4f4d LangCahin \u8bfe\u7a0b\u52a9\u7406\u3002\"),\n    HumanMessage(content=\"\u4f60\u597d\uff0c\u6211\u662f xxx\"),\n    AIMessage(content=\"\u6b22\u8fce\"),\n    HumanMessage(content=\"\u4f60\u662f\u8c01\uff1f\u6211\u53c8\u662f\u8c01\uff1f\"),\n]\nprint(llm.invoke(messages).content)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#11-model","title":"1.1 Model","text":""},{"location":"Nulling/Agent/LangChain/1_Base/#openai-online","title":"OpenAI (Online)","text":"<pre><code>from langchain_openai import ChatOpenAI\nllm = ChatOpenAI(\n    # required: \u53ef\u4ee5\u914d\u7f6e\u5230\u4e0d\u540c\u670d\u52a1\u5e73\u53f0\n    base_url='',\n    api_key='',\n    model='',\n    # optional\n    temperature=0\n)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#ollama","title":"Ollama (\u672c\u5730)","text":"<pre><code>from langchain_ollama import ChatOllama\nllm = ChatOllama(\n    model='xxxxx'\n)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#12-prompt-template","title":"1.2 Prompt Template","text":"<ul> <li> <p><code>PromptTemplate</code>\uff1a\u57fa\u7840\u6a21\u7248\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u8f93\u5165\u53d8\u91cf\u4e0e\u6a21\u7248\u6587\u672c</p> <pre><code>from langchain.prompts import PromptTemplate\ntemplate = PromptTemplate.from_template(\"\u7ed9\u6211\u8bb2\u4e00\u4e2a\u5173\u4e8e{name}\u7684\u7b11\u8bdd\")\n\n# \u5b9e\u4f8b\u5316\nprompt = template.format(name=\"\u963f\u5ddd\") \n</code></pre> </li> <li> <p><code>ChatPromptTemplate</code>\uff1a\u9488\u5bf9\u804a\u5929\u573a\u666f\uff0c\u652f\u6301\u5206\u522b\u5b9a\u4e49 Sys\u3001Usr\u3001AI \u7684\u6d88\u606f\u6a21\u7248</p> <pre><code>from langchain.prompt.chat import AIMessagePromptTemplate, HumanMessagePromptTemplate, SystemMessagePromptTemplate\nfrom langchain.prompts import ChatPromptTemplate\n\ntemplate = ChatPromptTemplate.from_messages([\n    SystemMessagePromptTemplate.from_template(\"\u4f60\u662f{product}\u7684\u5ba2\u670d\u52a9\u624b\uff0c\u4f60\u53eb{name}\"),\n    HumanMessagePromptTemplate.from_template(\"hello, \u4f60\u597d\u5417\"),\n    AIMessagePromptTemplate.from_template(\"\u6211\u5f88\u597d\uff0c\u8c22\u8c22\"),\n    HumanMessagePromptTemplate.from_template(\"{query}\"),\n])\n# \u5b9e\u4f8b\u5316\nprompt = template.from_messages(\n    product=\"\u6c42\u662f\u6f6e\",\n    name=\"x86\",\n    query=\"\u4f60\u662f\u8c01\"\n)\n\n\"\"\"\u4e5f\u6709\u65b9\u6cd5\u4e0d\u90a3\u4e48\u957f\u7684\"\"\"\ntemplate = ChatPromptTemplate(\n    messages=[\n        (\"system\", \"\u4f60\u662f\u4e00\u4e2aAI\u52a9\u624b\uff0c\u4f60\u53eb{name}\"),\n        (\"human\",  \"\u6211\u7684\u95ee\u9898\u662f{question}\")\n    ],\n    input_variables=[\"name\", \"human\"]\n)\nprompt = template.invoke(input={\n    \"name\":     \"x86\",\n    \"question\": \"\u4f60\u662f\u8c01\"\n})\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#few-shot","title":"Few-Shot","text":"<p>\u65e0\u8bba\u8f93\u5165\u4ec0\u4e48\u95ee\u9898\uff0cFewShotTemplate \u5747\u4f1a\u8f93\u51fa \u5168\u90e8 \u793a\u4f8b</p> <ul> <li> <p><code>FewShotPomprtTemplate</code>\uff1a\u6ca1\u5565\u597d\u8bf4\u7684\uff0c\u5c31\u662f Few-Shot</p> <pre><code>from langchain.prompts import PromptTemplate\nfrom langchain.prompts.few_shot import FewShotPromptTemplate\n\n# \u5b9a\u4e49 shots\nexamples = {\n    {\"input\": \"\u5317\u4eac\u5929\u6c14\u5982\u4f55\",    \"output\": \"\u5317\u4eac\u5e02\"},\n    {\"input\": \"\u4eca\u5929\u5357\u4eac\u4f1a\u4e0b\u96e8\u5417\", \"output\": \"\u5357\u4eac\u5e02\"},\n    {\"input\": \"\u6b66\u6c49\u70ed\u5417\",        \"output\": \"\u6b66\u6c49\u5e02\"},\n}\n\n# example shots -&gt; prompt \u7684\u683c\u5f0f\u5316\u65b9\u5f0f\nbase_prompt = PromptTemplate(\n    input_variables=[\"input\", \"output\"],\n    template=\"Input: {input}\\nOutput: {output}\"\n)\n# few-shot \u6a21\u7248\nprompt = FewShotTemplate(\n    # few-shots \u76f8\u5173\u914d\u7f6e\n    examples=examples,\n    example_prompt=base_prompt,\n    # \u5176\u4ed6\u914d\u7f6e\n    suffix=\"Input: {input}\\nOutput: \", # \u63a5\u5728 Shots \u540e\n    input_variables=[\"input\"],         # \u5b9e\u9645 query\n)\n\n# \u5b9e\u4f8b\u5316\nprompt = template.format(input=\"\u957f\u6c99\u591a\u5c11\u5ea6\")\n</code></pre> </li> <li> <p><code>FewShotChatMessagePromptTemplate</code> \u9488\u5bf9 Chat \u683c\u5f0f\u8fdb\u884c\u4e86\u4f18\u5316\uff1a</p> <ul> <li>\u652f\u6301\u5c06 Shots \u81ea\u52a8\u8f6c\u5316\u4e3a Message \u7c7b\u578b</li> <li>\u652f\u6301\u8f93\u51fa\u683c\u5f0f\u5316\u7684\u804a\u5929\u6d88\u606f</li> <li>\u652f\u6301\u4fdd\u7559\u5bf9\u8bdd\u8f6e\u6b21\u7ed3\u6784</li> </ul> <pre><code>from langchain.prompts import (\n    FewShotChatMessagePromptTemplate,\n    ChatPromptTemplate\n)\n\nexamples = [{\n    \"input\": \"1+1=?\", \"output\": \"2\"\n}]\n\n# \u5b9a\u4e49 Chat \u683c\u5f0f\u7684 prompt \u6a21\u7248\nmsg_example_prompt = ChatPromptTemplate.from_messages([\n    (\"human\", \"{input}\"),\n    (\"ai\",    \"{output}\")\n])\n\n# \u5b9e\u4f8b\u5316 few_shot_prompt\nfew_shot_prompt = FewShotChatMessagePromptTemplate(\n    example_prompt=msg_example_prompt,\n    examples=examples\n)\n# \u663e\u793a\u683c\u5f0f\u5316\u540e\u7684\u6d88\u606f\nprint(few_shot_prompt.format())\n\"\"\"\nHuman: 1+1=?\nAI: 2\n\"\"\"\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#example-selector","title":"Example Selector","text":"<p>\u652f\u6301\u6839\u636e\u5f53\u524d\u8f93\u5165\uff0c\u4ece\u5927\u91cf\u5019\u9009\u793a\u4f8b\u4e2d\u9009\u53d6\u76f8\u5173\u5ea6\u6700\u9ad8\u7684\u5b50\u96c6</p> <ul> <li> <p>\u5e38\u89c1\u7684 Example \u7b5b\u9009\u7b56\u7565\u5982\u4e0b</p> <ul> <li> <p>\u957f\u5ea6\u76f8\u4f3c\uff08\u4e0d\u660e\u6240\u4ee5\uff09\uff1a\u9009\u62e9\u4e0e input \u957f\u5ea6\u9ad8\u5ea6\u76f8\u5173\u7684 example\uff0c\u8d85\u8f7b\u91cf</p> </li> <li> <p>\u8bed\u4e49\u76f8\u4f3c\uff1a\u57fa\u4e8e \u4f59\u5f26\u76f8\u4f3c\u5ea6\uff08\u6216\u5176\u4ed6\uff09 \u6307\u6807\u8bc4\u4f30\u6587\u672c\u5bf9\u7684\u8bed\u4e49\u76f8\u4f3c\u5ea6\uff0c\u9009\u62e9\u76f8\u4f3c\u5ea6\u6700\u9ad8\u7684 <code>Top K</code> \u4e2a example</p> </li> <li> <p>\u6700\u5927\u8fb9\u9645\u76f8\u5173\uff1a\u4f18\u5148\u9009\u62e9\u8bed\u4e49\u76f8\u5173\u7684 example\uff0c\u5e76\u901a\u8fc7\u60e9\u7f5a\u673a\u5236\u907f\u514d\u8fd4\u56de\u540c\u8d28\u5316\u5185\u5bb9</p> </li> </ul> </li> <li> <p>\u9700\u8981\u501f\u52a9 Embedding \u6a21\u578b\u5c06 question \u5411\u91cf\u5316</p> <pre><code># \u521d\u59cb\u5316 Embedding \u6a21\u578b\nfrom langchain_openai import OpenAIEmbeddings\nembedding_model = OpenAIEmbeddings(\n    model=\"text-embedding-ada-002\" # \u6216\u8005\u5176\u4ed6\u7684\n)\n\n# \u5b9a\u4e49 Example \u7ec4\nexamples = [{\n    \"question\": \"xxxxxx\", \"answer\":   \"yyyyyy\",\n}]\n\n# \u5b9a\u4e49 example selector\nexample_selector = SemanticSimilarityExampleSelector.from_examples(\n    examples,\n    embedding_model,\n    Chroma,          # \u7528\u4e8e\u5b58\u50a8\u6f5c\u5165\u7ed3\u679c + \u8ba1\u7b97\u76f8\u4f3c\u5ea6\u7684 VectorStore \u7c7b\n    k=1              # \u9700\u8981\u8fd4\u56de\u7684 Example \u6570\u91cf\n)\n\n# \u9009\u53d6 Example\nquestion = \"x1x1x1x1\"\nselected_examples = example_selector.select_examples({\n    \"question\": question\n})\n\"\"\"\nselected_examples = [\n    {'question': '???', 'answer': '???'}, ...\n]\n\"\"\"\n\n# \u4e5f\u53ef\u4ee5\u628a\u6311\u9009\u7684 Example \u4e22\u8fdb Prompt \u6a21\u7248\nsimilar_prompt = FewShotPromptTemplate(\n    example_selector=example_selector,\n    example_prompt=PromptTemplate.from_template(template=\"Input: {input}\\nOutput: {output}\"),\n    prefix=\"\u8f93\u51fa\u6bcf\u4e2a\u8bcd\u7ec4\u7684\u53cd\u4e49\u8bcd\",\n    suffix=\"Input: {word}\\nOutput: \",\n    input_variables=[\"word\"]\n)\nresponse = similar_prompt.invoke({ \"word\": \"\u5fe7\u90c1\" })\n\"\"\" response.text =\nInput:   \u9ad8\u5174   --- \u8fd9\u90e8\u5206\u662f\nOutput:  \u60b2\u4f24   --- \u53ec\u56de\u793a\u4f8b\n\nInput:   \u5fe7\u90c1   &lt;-- \u8fd9\u91cc\u662f suffix + word\nOutput\n\"\"\"\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#load-file","title":"Load File","text":"<p>\u4ece JSON \u6587\u4ef6\u4e2d\u52a0\u8f7d\u6a21\u7248</p> <ul> <li> <p>\u5728 JSON \u6587\u4ef6\u4e2d\u6309\u4ee5\u4e0b\u683c\u5f0f\u5b9a\u4e49 template \u6a21\u7248</p> <pre><code>{\n    \"_type\": \"prompt\",\n    \"intput_variables\": [\n        \"name\",\n        \"love\"\n    ],\n    \"template\": \"\u6211\u7684\u540d\u5b57\u53eb{name}\uff0c\u6211\u559c\u6b22{love}\"\n}\n</code></pre> </li> <li> <p>\u652f\u6301\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u4ece JSON \u6587\u4ef6\u4e2d\u8bfb\u53d6\u6a21\u7248</p> <pre><code>from langchain.prompts import load_prompt\nprompt = load_prompt(path=\"xxx.json\", encoding=\"utf-8\") # load\n\n# \u793a\u4f8b\u5316\nprompt.format(name=\"\u7532\", love=\"\u5c0f\u7b3c\u5305\")\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#13-output-parser","title":"1.3 Output Parser","text":"<p>LLM \u901a\u5e38\u53ea\u80fd\u8fd4\u56de\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u9884\u6d4b\u7ed3\u679c\uff08\u975e\u7ed3\u6784\u5316\uff09\uff1b\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u9700\u8981\u6a21\u578b\u8fd4\u56de\u683c\u5f0f\u5316\u7ed3\u679c\u4ee5\u8fdb\u4e00\u6b65\u5904\u7406\u3002</p> <p>\u4e3a\u6b64\uff0cLangChain \u63d0\u4f9b\u4e86\u591a\u79cd\u7c7b\u578b\u7684\u8f93\u51fa\u5185\u5bb9\u89e3\u6790\u5668\uff1a</p> <ul> <li><code>[Str, Json, XML, CommaSeperatedList, Datetime]Outputparser</code>\uff1a\u5c06\u7ed3\u679c\u89e3\u6790\u4e3a\u5e38\u89c1\u6570\u636e\u7c7b\u578b</li> <li><code>EnumOutputParser</code>\uff1a\u5c06 LLM \u8f93\u51fa\u89e3\u6790\u4e3a\u9884\u5b9a\u4e49\u679a\u4e3e\u503c</li> <li><code>StructOutputParser</code>\uff1a\u5c06\u8f93\u51fa\u8f6c\u6362\u4e3a\u6307\u5b9a\u683c\u5f0f\uff08\u5b57\u5178, etc\uff09</li> <li><code>OutputFixingParser</code>\uff1a\u5c1d\u8bd5\u81ea\u52a8\u4fee\u590d\u975e\u9884\u671f\u7684\u683c\u5f0f\u9519\u8bef</li> <li><code>RetryOutputParser</code>\uff1a\u5f53\u4e3b\u89e3\u6790\u5668\u56e0\u683c\u5f0f\u9519\u8bef\u65e0\u6cd5\u6b63\u5e38\u89e3\u6790\u65f6\uff0c\u5c1d\u8bd5\u8c03\u7528\u53e6\u4e00\u4e2a LLM \u4fee\u6b63\u9519\u8bef\u5e76\u91cd\u65b0\u89e3\u6790</li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#csv","title":"CSV","text":"<ul> <li> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528 CSV Parser \u7684\u793a\u4f8b\uff0c\u652f\u6301\u4ee5\u9017\u53f7\u5206\u9694\u8f93\u51fa\u7684 item List</p> <pre><code>from lanchain.output_parsers import CommaSeparatedListOutputParser\noutput_parser = CommaSeparatedListOutputParser()\n\n# \u521b\u5efa Prompt \u6a21\u7248\uff1aRequest + \u8f93\u51fa\u683c\u5f0f\u8981\u6c42\nchat_prompt = ChatPromptTemplate.from_message([\n    HumanMessagePromptTemplate.from_template(\"{request}\\n{format_instructions}\")\n])\n\n# \u57fa\u4e8e\u6a21\u7248\u521d\u59cb\u5316 Prompt\nmodel_request = chat_prompt.from_prompt(\n    request=\"\u7ed9\u62115\u79cd\u5fc3\u60c5\",\n    # \u9884\u671f Completion \u8fd4\u56de\u683c\u5f0f\uff1a\"foo, bar, baz\" / \"foo,bar,baz\"\n    format_instructions=output_parser.get_format_instructions()\n)\n\n# \u9884\u6d4b\u53ca\u683c\u5f0f\u5316\ncompletion = llm.invoke(model_request).content\nprint(output_parser.parse(completion))\n</code></pre> </li> <li> <p>\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>DatetimeOutputParser</code> \u5bf9 Completion \u4e2d\u7684\u65f6\u95f4\u8fdb\u884c\u683c\u5f0f\u5316</p> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#json","title":"JSON","text":"<p>\u672c\u8d28\u4e0a\u662f\u901a\u8fc7 <code>get_format_instructions</code> \u5728 prompt \u63d2\u5165\u4e86\u4e00\u6bb5\u5bf9\u8f93\u51fa\u683c\u5f0f\u8fdb\u884c\u63cf\u8ff0\u7684\u6587\u672c</p> <pre><code># init\nfrom langchain_core.outoput_parser import JsonOutputParser\nparser = JsonOutputParser()\n\nprompt_template = PromptTemplate.from_template(\n    template=\"\u6309\u7167\u683c\u5f0f{format_instruction}\u56de\u7b54\u7528\u6237\u67e5\u8be2\\n\u7528\u6237\u95ee\u9898\u4e3a{question}\",\n    partial_variables={\"format_instruction\": parser.get_format_instructions()}\n)\n\"\"\"\n\u5b9e\u9645\u4e0a\u5c31\u4e00\u53e5\u8bdd\uff1a'Return a JSON object.'\n\"\"\"\nprompt = prompt_template.invoke(input={\"question\": \"xxx\"})\nresponses = chat_model.invoke(prompt)\n\n# parse\njson_response = parser.invoke(response)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#xml","title":"XML","text":"<ul> <li>\u672c\u8d28\uff1a\u5728 PromptTemplate \u4e2d\u8981\u6c42\u6a21\u578b\u8fd4\u56de <code>&lt;tag&gt;content&lt;/tag&gt;</code> \u683c\u5f0f\u7684 XML \u6570\u636e</li> <li>\u6ce8\u610f\uff1a<code>XMLParser</code> \u4f1a\u5c06 LLM \u8f93\u51fa\u7684 XML \u5185\u5bb9\u8f6c\u6362\u4e3a\u5b57\u5178\uff0c\u4ee5\u4f9b\u540e\u7eed\u5904\u7406</li> </ul> <pre><code>from langchain_core import XMLOutputParser\nparser = XMLOutputParser()\n\n# response \u5176\u5b9e\u662f\u7b26\u5408 XML \u683c\u5f0f\u7684\n# \u4f46 parsed \u5176\u5b9e\u662f dict\uff08\u6839\u636e XML \u5c42\u7ea7\u8fdb\u884c\u5d4c\u5957\uff09\nxml_respose = parser.invoke(response)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#_2","title":"\u81ea\u5b9a\u4e49\u683c\u5f0f","text":"<pre><code>from pydantic import BaseModel, Field\nfrom langchain.output_parser import PydanticOutputParser\n\n# \u7528\u4e8e\u6570\u636e\u683c\u5f0f\u9a8c\u8bc1\nclass Writer(BaseModel): \n    \"\"\"\u4f5c\u5bb6\u7c7b\"\"\"\n    name: str = Field(description=\"name of a writer\")\n    nationality: str = Field(description=\"nationality of a writer\")\n    magnum_opus: list = Field(description=\"python list of discoveries\") # \u4ee3\u8868\u4f5c\u5217\u8868\n\n# \u4f7f\u7528\u81ea\u5b9a\u4e49\u683c\u5f0f\u521d\u59cb\u5316 Parser\noutput_parser = PydanticOutputParser(pydantic_object=Writer)\n\n# \u521d\u59cb\u5316 prompt\nmodel_request = chat_prompt.from_prompt(\n    request=\"\u83ab\u8a00\u662f\u8c01\",\n    # \u4f1a\u57fa\u4e8e\u4e0a\u9762\u7684 schema &amp; desc \u751f\u6210\u4e00\u5768\n    format_instructions=output_parser.get_format_instructions()\n)\n\n# \u9884\u6d4b\u53ca\u683c\u5f0f\u5316\ncompletion = llm.invoke(model_request).content\nprint(output_parser.parse(completion)) # \u4f1a\u751f\u6210 JSON\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#14-tips","title":"1.4 Tips","text":"\u5b9e\u4f8b\u5316 <p>\u9664 <code>format</code> \u5916\uff08\u8fd4\u56de str\uff09\uff0c\u8fd8\u652f\u6301\u901a\u8fc7 <code>invoke</code> \u65b9\u6cd5\u8fdb\u884c\u5b9e\u4f8b\u5316\uff08\u5165\u53c2\u4e3a dict\u3001\u8fd4\u56de StringPromptValue\uff09</p> <pre><code>prompt.format(name=\"\u7532\", love=\"\u5c0f\u7b3c\u5305\")\n\n# (\u7ea6\uff09\u7b49\u4ef7\u4e8e\nprompt.invoke(input={\n    \"name\": \"\u7532\", \n    \"love\": \"\u5c0f\u7b3c\u5305\"\n})\n</code></pre> Partial Variables <p>\u5bf9 Prompt Template \u4e2d\u7684\u90e8\u5206 variable \u8d4b\u9ed8\u8ba4\u503c</p> <pre><code>template = PromptTemplat.from_template(\n    template=\"{product}\u7684\u4f18\u70b9\u5305\u62ec{aspect_1}\u548c{aspect_2}\",\n    partial_variables={\n        \"aspect_1\": \"\u7eed\u822a\"\n    }\n)\n\n# \u5728\u5b9e\u4f8b\u5316\u65f6\uff0c\u65e0\u9700\u663e\u5f0f\u4e3a aspect_1 \u8d4b\u503c\uff08\u5f53\u7136\uff0c\u5e26\u4e86\u7684\u8bdd\u4f1a *\u8986\u76d6\u9ed8\u8ba4\u503c*\nprompt = template.formate(product=\"\u624b\u673a\", aspect_2=\"\u6444\u5f71\")\n\n# \u8ba9\u4e00\u90e8\u5206\u4eba\u5148\u5bcc\u8d77\u6765\uff1f\ntemplate_1 = template.partial(aspect_2=\"\u6444\u5f71\") # \u8fd4\u56de\u5b58\u50a8\u4e86 partial \u7ed3\u679c\u7684\u65b0\u6a21\u7248\nprompt = template1.format(product=\"\u624b\u673a\")\n</code></pre> Runnable Protocal <ul> <li> <p>LangChain \u652f\u6301\u7684 Completion \u51fd\u6570\u4e0d\u6b62 <code>invoke</code> \uff0c\u8fd9\u4e00\u79cd\uff1a</p> Function Desc <code>invoke</code> \u963b\u585e\uff0cLLM \u5b8c\u6210\u5bf9\u5355\u6761 ipt \u7684\u63a8\u7406\u540e\u8fd4\u56de <code>stream</code> \u6d41\u5f0f\u54cd\u5e94\uff0c\u9010\u5b57\u8f93\u51fa\u9884\u6d4b\u7ed3\u679c <code>batch</code> \u6279\u91cf\u5904\u7406\u8f93\u5165 <pre><code>\"\"\"Stream\"\"\"\n# 1 \u9700\u8981\u5728\u521d\u59cb\u5316 Model \u65f6\u8bbe\u7f6e streaming=True\nmodel = ChatOpenAI(model=\"\", streaming=True)\n# 2 \u9700\u8981\u7528 loop \u8fdb\u884c\u8f93\u51fa\nfor chunk in model.stream(msgs):\n    print(chunk.contetn, end=\"\", flush=True) # \u5f3a\u884c\u5237\u65b0\u65e0\u6362\u884c\u7b26\u7684\u7f13\u51b2\u533a\n\n\"\"\"Batch\"\"\"\n# 1 \u9700\u8981\u5c06 query_i \u5bf9\u5e94\u7684 msgs_i \u8fdb\u884c\u62fc\u63a5\nmsgs = [msgs_1, msgs_2, msgs_3]\n# 2 \u6279\u91cf\u63a8\u7406\uff08\u5176\u5b9e\u5f88\u7b80\u5355\uff09\uff0c\u8fd4\u56de List(AIMessage)\nresponses = model.batch(msgs)\n</code></pre> </li> <li> <p>\u8fd9\u4e9b\u65b9\u6cd5\u4e5f\u6709\u5bf9\u5e94\u7684\u5f02\u6b65\u6a21\u5f0f <code>a[Func]</code>\uff0c\u9700\u8981\u914d\u5408 asyncio \u7684 <code>await</code> \u8bed\u6cd5\u98df\u7528</p> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#2-chains","title":"2 Chains","text":"<p>\u7528\u4e8e\u8fde\u63a5\u4e0d\u540c\u7ec4\u4ef6\uff08PromptTemplate\uff0cModel\uff0cMemoty\uff0cTools\uff09\u4ee5\u5f62\u6210 workflow</p>"},{"location":"Nulling/Agent/LangChain/1_Base/#21-lcel","title":"2.1 LCEL","text":"<ul> <li> <p>LangChain \u8868\u8fbe\u5f0f\u8bed\u8a00\uff08LangChain Expression Language\uff09\u652f\u6301\u901a\u8fc7\u7ba1\u9053\u7b26 <code>|</code> \u5b9a\u4e49\u987a\u5e8f workflow</p> </li> <li> <p>\u57fa\u672c\u6784\u6210</p> <pre><code>chain = prompt_template | model | output_parser\nchain.invoke({ \"input\": \"xxxx\" }) # \u53ea\u7528\u4e00\u6761\u8bed\u53e5\u4fbf\u53ef\u5b8c\u6210\u4ece\u6a21\u7248\u586b\u5145\u5230\u8f93\u51fa\u683c\u5f0f\u5316\u7684\u5168\u6d41\u7a0b\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#sql-query","title":"SQL Query","text":"<p>\u5b9e\u73b0 NL-to-Query</p> Sample for MySQL<pre><code>from langchain.chains import create_sql_query_chain\nfrom langchain_community.utilities import SQLDatabase\n\n# connect\ndb = SQLDatabase.from_uri(f\"mysql+pymysql://{username}:{password}@{host}:{port}/{database}\")\n\n# init Chat Model\nchat_model = ...\n\n# create Chain\nchain = create_sql_query_chain(chat_model, db)\nresponse = chain.invoke({\n    \"question\": \"How many peoples in table Emploees?\",\n    \"table_names_to_use\": [\"employees\"]\n}) # =&gt; \u6b64\u5904\u53ea\u662f\u751f\u6210\u4e86 SQLQuery: 'SELECT ...'\uff0c\u6ca1\u6709\u771f\u6b63\u6267\u884c\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#stuff-document","title":"Stuff Document","text":"<p>\u5c06\u591a\u4e2a\u6587\u6863\u5185\u5bb9\u5408\u5e76\u4e3a\u4e00\u6761\u957f\u6587\u672c\uff0c\u4fbf\u4e8e\u4e00\u6b21\u6027\u4f20\u9012\u7ed9 LLM \u5904\u7406</p> <ul> <li>\u6709\u52a9\u4e8e\u4fdd\u6301\u4e0a\u4e0b\u6587\u5b8c\u6574\uff0c\u9002\u5408\u9700\u8981\u5bf9\u6587\u6863\u8fdb\u884c\u5168\u5c40\u7406\u89e3\u7684\u4efb\u52a1\uff08\u603b\u7ed3\u3001\u95ee\u7b54\uff09</li> <li>\u9002\u7528\u4e8e \u5c11\u91cf \u00b7 \u4e2d\u7b49\u957f\u5ea6 \u6587\u6863\u573a\u666f</li> </ul> <pre><code>from langchain.chains.combine_documents import create_stuff_documents_chain\nfrom langchain_core.documents import Document\n\nprompt = PromptTemplate.from_template(\"\u6587\u6863{docs}\u4e2d\u7684\u9999\u8549\u662f\u4ec0\u4e48\u989c\u8272\u7684\uff1f\")\n\nchain = create_stuff_documents_chain(\n    llm, prompt,\n    document_variable_name=\"docs\" # \u548c prompt template \u4e2d\u9700\u8981\u7528\u6587\u6863\u5185\u5bb9\u66ff\u6362\u7684\u53d8\u91cf\u540d\u4e00\u81f4\n)\n\n# \u5b9a\u4e49\u591a\u4e2a\u6587\u6863\ndocuments = [\n    Document(page_content=\"A...\"),\n    Document(page_content=\"B...\")\n]\n\n# \u805a\u5408\u591a\u4e2a\u6587\u6863\nchain.invoke({ \"docs\": documents })\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#22","title":"2.2 \u987a\u5e8f\u94fe","text":"<ul> <li>\u5957\u5a03\u7ed3\u6784\uff1a\u652f\u6301\u987a\u5e8f\u8fde\u63a5\u591a\u6761 Chain \u4ee5\u5f62\u6210 Pipeline</li> <li>\u4e24\u79cd\u7c7b\u578b\uff1aSimpleSequentialChain\uff08\u5355\u8f93\u5165\u8f93\u51fa\uff09\u3001SequentialChain\uff08\u591a\u8f93\u5165\u8f93\u51fa\u3001\u9700\u8981\u624b\u52a8 map\uff09</li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#simplesequentialchain","title":"SimpleSequentialChain","text":"<p>\u591a\u6761 Unit Chain \u7684 Template \u4e2d\u53ea\u6709 \u5355\u4e2a\u8f93\u5165\u53d8\u91cf\uff0c\u4e0d\u9700\u8981 \u624b\u52a8\u6307\u5b9a\u6620\u5c04\u5173\u7cfb</p> <pre><code>from langchain.chains import LLMChain\nfrom langchain.chains.sequential import SimpleSequentialChain\n\nchain_a = LLMChain(llm=llm_a, prompt=prompt_template_a, verbose=True) # \u9700\u8981\u53d8\u91cf question\nchain_b = LLMChain(llm=llm_b, prompt=prompt_template_b, verbose=True) # \u53ea\u80fd\u6709\u4e00\u4e2a\u53d8\u91cf\n\nchain = SimpleSequentialChain(\n    chains=[chain_a, chain_b],\n    verbose=True\n)\n# \u65e0\u8bba template_a \u4e2d\u7684\u53d8\u91cf\u53eb\u4ec0\u4e48\uff0c\u8fd9\u8fb9\u90fd\u5f97\u7528 input\uff08\u597d\u667a\u969c\u7684\u8bbe\u8ba1\uff09\nchain.invoke(input={\"input\": \"question\"})\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#sequentialchain","title":"SequentialChain","text":"<ul> <li>\u591a\u6761 Unit Chain \u7684 Template \u4e2d\u5b58\u5728\u82e5\u5e72\u4e2a\u53d8\u91cf</li> <li>\u9700\u8981 \u663e\u5f0f\u5b9a\u4e49 \u4e0d\u540c\u53d8\u91cf\u4e4b\u95f4\u7684\u4f20\u9012\u5173\u7cfb\u3001\u652f\u6301\u5206\u652f\u548c\u6761\u4ef6\u903b\u8f91</li> </ul> <pre><code>\"\"\"\nA:\n- input \u6d89\u53ca\u4e24\u4e2a\u53d8\u91cf\uff1aknowledge, action\n- output_key: opt_key_a\nB:\n- input: opt_key_a\n- output_key: opt_key_b\n\"\"\"\nchain = SequentialChain(\n    chains=[chain_a, chain_b],\n    input_variables=['knowledge', 'action'],\n    output_variables=['opt_key_a', 'opt_key_b'], # \u4f1a\u540c\u65f6\u8f93\u51fa\u4e24\u4e2a\u9636\u6bb5\u7684 output\n    verbose=True\n)\nresponse = chain.invoke({\n    \"knowledge\": \"xxxx\",\n    \"action\":    \"\u4e3e\u4e00\u4e2a\u4f8b\u5b50\"\n})\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#3-memory","title":"3 Memory","text":"<p>\u6a21\u578b\u672c\u8eab \u4e0d\u4f1a\u8bb0\u5fc6 \u4efb\u4f55\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u9700\u8981\u624b\u52a8\u7ef4\u62a4</p> <p>Memory \u6a21\u5757\u4f1a\u5c06\u7528\u6237\u5f53\u5f53\u524d\u8f6e\u6b21 query \u4e0e\u5386\u53f2\u4e0a\u4e0b\u6587\u8fdb\u884c\u62fc\u5408\uff0c\u5e76\u5c06 response \u62fc\u63a5\u81f3 Context \u5c3e\u90e8</p> <p>Memory \u6a21\u5757\u7684\u51e0\u79cd\u5b9e\u73b0\u601d\u8def\u5982\u4e0b\uff1a</p> <ol> <li>\u6700\u7b80\u5355\uff1a\u4fdd\u7559\u5b8c\u6574\u7684\u804a\u5929\u6d88\u606f\u5217\u8868</li> <li>\u7b80\u5355\u6709\u6548\uff1a\u8fd4\u56de\u6700\u65b0\u7684 k \u6761\u6d88\u606f</li> <li>\u7565\u590d\u6742\uff1a\u8fd4\u56de\u6700\u65b0 k \u6761\u6d88\u606f\u7684\u6982\u8981</li> <li>\u590d\u6742\uff1a\u4ece\u5386\u53f2\u6d88\u606f\u4e2d\u63d0\u53d6\u5b9e\u4f53\u3001\u4ec5\u8fd4\u56de\u4e0e\u5f53\u524d\u7528\u6237\u76f8\u5173\u7684\u5b9e\u4f53\u4fe1\u606f</li> </ol> <p>LangChain \u4e3a\u5176\u4e2d\u7684 \u5bf9\u8bdd\u3001\u5b9e\u4f53\u3001\u6458\u8981 \u7c7b\u578b\u5b9e\u73b0\u90fd\u63d0\u4f9b\u4e86\u5bf9\u5e94\u5de5\u5177</p>"},{"location":"Nulling/Agent/LangChain/1_Base/#31-chatmessagehistory","title":"3.1 ChatMessageHistory","text":"<p>\u8be5\u7c7b\u5c06\u76f4\u63a5\u64cd\u4f5c\u6d88\u606f\u5bf9\u8c61\uff0c\u662f\u5176\u4ed6 Memory \u7ec4\u4ef6\u7684\u5e95\u5c42\u5b58\u50a8\u5de5\u5177\u3001\u4e0d\u6d89\u53ca\u5b57\u7b26\u4e32\u683c\u5f0f\u5316</p> <pre><code># \u521d\u59cb\u5316\nfrom langchain.memory import ChatMessageHistory\nhistory = ChatMessageHistory()\n\n# \u6dfb\u52a0\u6d88\u606f\nhistory.add_user_message(\"hello\")\nhistory.add_ai_message(\"nice to meet you\")\nhistory.add_user_maessage(\"calculate 1*2*3 = ?\")\n\n# \u5582\u7ed9 LLM\nresponse = llm.invoke(history.messages)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#32-conversationbuffermemory","title":"3.2 ConversationBufferMemory","text":"<ul> <li> <p>\u4ec5\u8fd4\u56de\u6700\u8fd1 K \u6b21\u4ea4\u4e92\u7ed3\u679c\uff08\u6309\u4e00\u6b21\u4ea4\u4e92\u4e3a\u6700\u5c0f\u5355\u4f4d\u79fb\u9664\u5386\u53f2\u6d88\u606f\uff09\uff0c\u8282\u7701 token</p> </li> <li> <p>\u652f\u6301\u901a\u8fc7 <code>return_messages</code> \u53c2\u6570\u63a7\u5236\u8fd4\u56de\u683c\u5f0f\uff1a</p> <ul> <li><code>True</code>\uff1a\u8fd4\u56de <code>List[BaseMessage]</code></li> <li><code>False</code>\uff08\u9ed8\u8ba4\uff09\uff1a\u8fd4\u56de\u7ecf\u62fc\u63a5\u7684\u7eaf\u5b57\u7b26\u4e32</li> </ul> </li> </ul> <pre><code># \u521d\u59cb\u5316\uff0c\u9700\u8981\u663e\u5f0f\u6307\u5b9a K \u503c\nfrom langchain.memory import ConversationBufferMemory\nmemo = ConversationBufferMemory(k=5, return_messages=True)\n\n\"\"\"\u624b\u52a8\u585e context\"\"\"\nmemo.save_context({\"input\":\"hello\"}, {\"output\":\"how are you\"})\nmemo.save_context({\"input\":\"calc 1+3=?\"}, {\"output\":\"4\"})\nmemo.save_context({\"input\":\"introduce yourself\"}, {\"output\":\"...\"})\n\n\"\"\"\u4f7f\u7528 LLMChain \u81ea\u52a8\u585e\"\"\"\nconversation_with_summary = LLMChain(\n    llm=llm, prompt=prompt_template,\n    memory=memo,\n    verbose=True\n)\nres1 = conversation_with_summary.invoke({\"question\":\"usr input1\"})\nres2 = conversation_with_summary.invoke({\"question\":\"usr input2\"})\n\nprint(memo.load_memory_variables({}))\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#conversationtokenbuffermemory","title":"ConversationTokenBufferMemory","text":"<p>\u7c7b\u4f3c\u7684\uff0c\u53ea\u4fdd\u7559\u6700\u8fd1 Token \u4e2a\u5bf9\u8bdd\u6570\u636e</p> <pre><code>from langchain.memory import ConversationTokenBufferMemory\nmemo = ConversationTokenBufferMemory(\n    llm=llm, max_token_limit=50\n)\n# \u624b\u52a8/\u81ea\u52a8\u585e \u7684\u64cd\u4f5c\u4e0e\u4e4b\u524d\u4e00\u81f4\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#33-conversationsummarymemory","title":"3.3 ConversationSummaryMemory","text":"<p>\u901a\u8fc7 K \u503c\u6216 token \u6570\u63a7\u5236\u8bb0\u5f55\u5747\u65e0\u6cd5\u517c\u987e\u5b58\u50a8\u5360\u7528\u4e0e\u5bf9\u8bdd\u8d28\u91cf</p> <p><code>ConversationSummaryMemory</code> \u63d0\u4f9b\u4e86\u667a\u80fd\u5bf9\u8bdd\u5386\u53f2\u538b\u7f29\u673a\u5236\uff0c\u80fd\u901a\u8fc7 LLM \u81ea\u52a8\u751f\u6210\u5e76\u66f4\u65b0\u5386\u53f2\u5bf9\u8bdd\u5185\u5bb9\u7684\u7cbe\u7b80\u6458\u8981\u3001\u800c\u975e\u5b58\u50a8\u539f\u59cb\u5bf9\u8bdd\u6587\u672c</p> <pre><code>from langchain.memory import ConversationSummaryMemory\nmemo = ConversationSummaryMemory(llm=llm)\n\n# \u719f\u6089\u7684\u53e4\u6cd5 save_context\n# \u6b64\u65f6\u4f7f\u7528 load_memory_variables \u5c06\u6253\u5370\u6458\u8981\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#conversationsummarybuffermemory","title":"ConversationSummaryBufferMemory","text":"<ul> <li>\u8be5\u7c7b\u4fdd\u7559\u4e86 \u8fd1\u671f \u5bf9\u8bdd\u5185\u5bb9\u7684\u539f\u59cb\u8bb0\u5f55\u3001\u540c\u65f6\u5bf9 \u65e9\u671f \u5185\u5bb9\u8fdb\u884c\u52a8\u6001\u6458\u8981</li> <li>\u65e9\u671f / \u8fd1\u671f \u6d88\u606f\u7684\u5212\u5206\u4f9d\u636e\u662f token \u6570</li> </ul> <pre><code>from langchain.memory import ConversationSummaryBufferMemory\nmemo = ConversationSummaryBufferMemory(\n    llm=llm, return_messages=True,\n    max_token_limit=50,\n    # mamory_key=\"prompt_template \u4e2d\u7684 variable\"\n)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#34-conversationentitymemory","title":"3.4 ConversationEntityMemory","text":"<p>\u8be5\u7c7b\u652f\u6301\u667a\u80fd\u8bc6\u522b\u3001\u5b58\u50a8\u548c\u5229\u7528\u5bf9\u8bdd\u4e2d\u51fa\u73b0\u7684 \"\u5b9e\u4f53-\u5c5e\u6027\" \u4fe1\u606f\uff0c\u89e3\u51b3\u4fe1\u606f\u8fc7\u8f7d</p> <pre><code>from langchain.memory import ConversationEntityMemory\nfrom langchain.memory.prompt import ENTITY_MEMORY_CONVERSATION_TEMPLATE\n\nllm = ChatOpenAI()\nchain = LLMChain(\n    llm=llm,\n    prompt=ENTITY_MEMORY_CONVERSATION_TEMPLATE,\n    memory=ConversationEntityMemory(llm=llm)\n)\n\n# \u63a8\u7406\u3001\u6253\u5370\u5b9e\u4f53\u4fe1\u606f\nchain.invoke(input=\"\")\nprint(chain.memory.entity_store.store)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#converstationkgmemory","title":"ConverstationKGMemory","text":"<ul> <li> <p>\u5728\u8bc6\u522b\u51fa\u7684 Entity \u57fa\u7840\u4e0a\u6784\u5efa\u77e5\u8bc6\u56fe\u8c31\uff08Knowledge Graph, KG\uff09\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u6355\u6349\u5b9e\u4f53\u4e4b\u95f4\u7684\u590d\u6742\u5173\u7cfb</p> </li> <li> <p>\u5bf9\u8bdd\u5185\u5bb9\u5c06\u88ab\u8f6c\u6362\u4e3a <code>(\u5934\u5b9e\u4f53, \u5173\u7cfb, \u5c3e\u5b9e\u4f53)</code> \u7684\u4e09\u5143\u7ec4</p> </li> </ul> <pre><code>from langchain.memory import ConversationKGMemory\nmemo = ConversationKGMemory(llm=llm)\n\n# \u53e4\u6cd5\u5bf9\u8bdd\n\nmemo.load_memory_variable({\"input\":\"Who is Sam\"}) # \u8fd4\u56de Sam \u76f8\u5173\u8282\u70b9\nmemo.get_knowledge_triples(\"\u5979\u6700\u559c\u6b22\u7ea2\u8272\")          # \u8fd4\u56de\u6240\u6709\u76f8\u5173\u7684\u4e09\u5143\u7ec4\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#35-vectorstoreretrievermemory","title":"3.5 VectorStoreRetrieverMemory","text":"<p>\u8be5\u7c7b\u5c06\u5386\u53f2\u5bf9\u8bdd\u5b58\u50a8\u5728\u5411\u91cf\u6570\u636e\u5e93\u4e2d\uff0c\u5e76\u57fa\u4e8e\u5411\u91cf\u76f8\u4f3c\u5ea6\u68c0\u7d22\u3001\u8fd4\u56de\u8bed\u4e49\u76f8\u4f3c\u5ea6\u6700\u9ad8\u7684 k \u4e2a\u6587\u6863</p> <pre><code>from langchain.memory import VectorStoreRetrieverMemory\nfrom langchain_community.vectors import FAISS\n\n# \u585e\u70b9\u521d\u59cb\u6587\u672c\uff08\u53e4\u6cd5 save_context\uff09\nmemo = ConvertStaionMemory() \n\n# \u521d\u59cb\u5316\u5411\u91cf\u6570\u636e\u5e93\uff08\u9700\u8981\u914d\u7f6e Embedding Model\uff09\nvector_store = FAISS.from_texts(memo.buffer.split('\\n'), embedding_model)\n# \u5b9a\u4e49\u68c0\u7d22\u5668\uff1a\u53ea\u53ec\u56de k=1 \u4e2a\u7ed3\u679c\nretriever = vector_store.as_retriever(search_kwag=dict(k=1))\n\n# \u521d\u59cb\u5316\u5e26\u68c0\u7d22\u529f\u80fd\u7684\u5411\u91cf\u5bf9\u8bdd\u8bb0\u5f55\nmemory = VectorStoreRetrieverMemory(retriever=retriever)\n\n# \u901a\u8fc7 load_memory_variable({\"prompt\":\"xxx\"}) \u68c0\u7d22\u6700\u76f8\u5173\u7684 k \u6761\u6570\u636e\n</code></pre>"},{"location":"Nulling/Agent/LangChain/1_Base/#4-tools","title":"4 Tools","text":"<ul> <li> <p>Tools \u7528\u4e8e\u81ea\u5b9a\u4e49\u5de5\u5177\u4ee5\u6269\u5c55 LLM \u80fd\u529b\uff0c\u4f7f\u5176\u80fd\u591f\u4e0e\u5916\u90e8\u7cfb\u7edf\u3001API \u6216\u81ea\u5b9a\u4e49\u51fd\u6570\u8fdb\u884c\u4ea4\u4e92\uff0c\u4ee5\u7a81\u7834\u6587\u672c\u751f\u6210\u7684\u80fd\u529b\u8fb9\u754c</p> </li> <li> <p>\u6bcf\u4e2a Tool \u4e13\u6ce8\u4e8e\u7279\u5b9a\u529f\u80fd\uff0c\u4ee5\u4fbf\u8fdb\u884c\u7ec4\u5408\u6216\u590d\u7528</p> </li> <li> <p>LangChain \u6846\u67b6\u672c\u8eab\u5c31\u652f\u6301\u5927\u91cf\u7b2c\u4e09\u65b9\u5de5\u5177</p> </li> </ul>"},{"location":"Nulling/Agent/LangChain/1_Base/#41","title":"4.1 \u5de5\u5177\u5b9a\u4e49","text":"<p>Tool \u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u8981\u7d20\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u63cf\u8ff0 <code>name</code> str \u5de5\u5177\u540d\u79f0\uff08\u552f\u4e00\uff09 <code>description</code> str [Optional] \u529f\u80fd\u63cf\u8ff0 <code>args_schema</code> Pydantic BaseModel [Optional] \u7528\u4e8e\u63d0\u4f9b\u9644\u52a0\u4fe1\u606f\uff0c\u6216\u9a8c\u8bc1\u9884\u671f\u53c2\u6570 <code>return_dict</code> bool \u4e3a True \u65f6\uff0cAgent \u5c06\u505c\u6b62\u5e76\u76f4\u63a5\u5c06\u8c03\u7528\u7ed3\u679c\u53cd\u9988\u7ed9\u7528\u6237 <p>Tool \u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u81ea\u5b9a\u4e49\uff1a</p> <ol> <li> <p>\u4f7f\u7528 <code>@tool</code> \u88c5\u9970\u5668</p> <ul> <li> <p>\u9ed8\u8ba4\u4f7f\u7528\u51fd\u6570\u540d\u4f5c\u4e3a\u5de5\u5177\u540d\u79f0\uff08\u6216\u901a\u8fc7 <code>name_or_callabel</code> \u8fdb\u884c\u8986\u76d6\uff09</p> </li> <li> <p>\u4f7f\u7528 docstring\uff08\u5fc5\u586b\uff09\u4f5c\u4e3a\u529f\u80fd\u63cf\u8ff0</p> </li> </ul> <pre><code>from langchain_core.tools import tool\n\n@tool\ndef add_number(a: int, b: int) -&gt; int:\n    \"\"\"\u8ba1\u7b97\u4e24\u4e2a\u6574\u6570\u4e4b\u548c\n    :param a: ...; b: ...\n    :return: int: ...\n    \"\"\"\n    return a + b\n# \u6b64\u65f6\uff0cadd_number \u5df2\u7ecf\u662f\u4e00\u4e2a tool\uff1a\n# - \u53ef\u4ee5\u901a\u8fc7 add_number.args \u5f62\u5f0f\u6253\u5370\u53c2\u6570\n# - \u53ef\u4ee5\u901a\u8fc7 add_number.invoke({\"a\": 1, \"b\": 2}) \u8fdb\u884c\u8c03\u7528\n\nfrom pydantic import BaseModel, Field\nclass FieldInfo(BaseModel):\n    a: int = Field(description=\"\u7b2c\u4e00\u4e2a\u6574\u5f62\u53c2\u6570\")\n    b: int = Field(description=\"\u7b2c\u4e8c\u4e2a\u6574\u5f62\u53c2\u6570\")\n\n# \u4ee5\u4e0b\u5199\u6cd5\u5c06\u8986\u76d6\u9ed8\u8ba4\u8bbe\u7f6e\n@tool(name_or_callable=\"add_2_num\", args_schema=FieldInfo)\ndef add_number(a: int, b: int) -&gt; int:\n    return a+b\n# \u6b64\u65f6\u7684\u5de5\u5177\u540d\u4e3a add_2_num\n</code></pre> </li> <li> <p>\u4f7f\u7528 <code>StructuredTool.from_function</code> \u65b9\u6cd5</p> <ul> <li>\u57fa\u4e8e\u529f\u80fd\u51fd\u6570\u8fdb\u884c\u5c01\u88c5</li> <li>\u8be5\u65b9\u5f0f\u652f\u6301\u66f4\u591a\u7684\u914d\u7f6e\u9879\u3001\u540c\u6b65/\u5f02\u6b65\u5b9e\u73b0\u89c4\u8303</li> </ul> <pre><code>from langchain_core.tools import StructuredTool\n\ndef search_google(query: str) -&gt; str:\n    return \"this is a result\"\n\nsearch_tool = StructuredTool.from_function(\n    func=search_google,\n    name=\"search\",\n    description=\"\u67e5\u8be2\u641c\u7d22\u5f15\u64ce\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\"\n)\n# \u6b64\u65f6\u9700\u8981\u901a\u8fc7 search_tool \u8fdb\u884c\u8c03\u7528\uff08\u989d\uff0c\u90a3 name \u53c8\u6709\u4ec0\u4e48\u7528\uff1f\uff09\n</code></pre> </li> </ol>"},{"location":"Nulling/Agent/LangChain/1_Base/#42","title":"4.2 \u5de5\u5177\u8c03\u7528","text":"<p>\uff08\u5305\u542b <code>name, description, JSON</code>\uff09 2. L 3. \u6839\u636e</p> <pre><code># 1 \u5411\u5927\u6a21\u578b\u63d0\u4f9b\u6240\u6709\u53ef\u7528\u7684 Tool \u4fe1\u606f\u5217\u8868\ntools = [ MoveFileTool() ]\n## \u7531\u4e8e chat_model \u53ea\u63a5\u53d7 func \u5217\u8868\uff0c\u6b64\u5904\u9700\u8981\u8f6c\u6362\ntools = [ convert_to_openai_function(t) for t in tools]\n\n# 2 LLM \u901a\u8fc7 Prompt \u63a8\u65ad\u9700\u8981\u8c03\u7528\u7684\u5de5\u5177\uff0c\u5e76\u63d0\u4f9b\u5177\u4f53\u7684\u5b9e\u53c2\u4fe1\u606f\n## \u7528\u6237\u9700\u6c42\nmessages = [ HumanMessage(content=\"\u5c06\u6587\u4ef6 a.out \u79fb\u52a8\u5230\u684c\u9762\") ]\nresponse = chat_model.invoke(\n    input=messages,\n    functions=tools \n)\n\"\"\"\nAI Content \u5728\u4e0d\u540c\u60c5\u5f62\u4e0b\u7684\u683c\u5f0f\uff1a\n1. \u9700\u8981\u8c03\u7528\u5de5\u5177: content \u4e3a\u7a7a\u3001additional_kwargs.function_call \u7ed9\u51fa\u5de5\u5177\u540d\u79f0\u4e0e\u53c2\u6570\n2. \u4e0d\u9700\u8981\u8c03\u7528\u5de5\u5177: content \u4e3a\u975e\u7a7a\u6587\u672c\u3001additional_kwargs \u4e0d\u5305\u542b function_call \u5b57\u6bb5\n\"\"\"\n\n# 3 (\u56e0\u4e3a\u76ee\u524d\u4e0d\u662f Agent \u6a21\u5f0f) \u6839\u636e response \u624b\u52a8\u8c03\u7528\u5bf9\u5e94 tool\nif \"function_call\" in response.additional_kwargs:\n    tool_name = response.additional_kwargs[\"function_call\"][\"name\"]\n    tool_args = json.loads(response.additional_kwargs[\"function_call\"][\"arguments\"])\n    # \u6bd4\u8f83\u5446\u7684\u8c03\u7528\u65b9\u6cd5\n    if \"move_file\" in tool_name: tool = MoveFileTool\n    # \u7edf\u4e00\u8c03\u7528\u65b9\u5f0f\n    tool.run(tool_args)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/2_Apps/","title":"LangChain Applications","text":"<p> \u7ea6 1088 \u4e2a\u5b57  179 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Nulling/Agent/LangChain/2_Apps/#1-rag","title":"1 RAG","text":"<p>\u5927\u81f4\u5206\u6210\u4e0b\u9762\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u77e5\u8bc6\u5e93\u6784\u5efa</p> <ol> <li>\u64b0\u5199 Loader\uff1a\u5c06 \u6587\u6863/\u89c6\u9891/\u56fe\u7247 \u7edf\u4e00\u5230 Text \u6a21\u6001</li> <li>\u64b0\u5199 Splitter\uff1a\u5207\u5206 Text\uff0c\u5f62\u6210 Chunk</li> <li>Embedding\uff1a\u628a Chunk \u8f6c\u5316\u4e3a tensor \u4f5c\u4e3a\u77e5\u8bc6\u5e93</li> </ol> </li> <li> <p>Query Embedding\uff1a\u628a query \u4e22\u53bb embed \u5c31\u884c\u4e86</p> </li> <li> <p>Retrieve</p> <ul> <li>\u6bd4\u8f83 vector similarity\uff0c\u53ec\u56de\u76f8\u5173 chunk</li> <li>\u5bf9\u53ec\u56de\u7cbe\u5ea6\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u9700\u8981\u4f7f\u7528 Reranker \u8fdb\u4e00\u6b65\u7b5b\u9009</li> </ul> </li> <li> <p>Augmentation\uff1a\u5c06\u53ec\u56de chunk \u62fc\u63a5\u5230 Prompt \u6a21\u7248\u4e2d</p> </li> <li> <p>Generation</p> </li> </ol>"},{"location":"Nulling/Agent/LangChain/2_Apps/#2-agent","title":"2 Agent","text":"Agent vs Chain <ul> <li>Chain \u7684\u884c\u52a8\u5e8f\u5217\u662f\u56fa\u5b9a\u7684\uff08\u7531\u786c\u7f16\u7801\u51b3\u5b9a\uff09</li> <li>Agent \u53ef\u4ee5\u6839\u636e\u5177\u4f53\u4efb\u52a1\u52a8\u6001\u62c6\u89e3\u6d41\u7a0b\u3001\u8c03\u7528\u5de5\u5177\uff0c\u5e76\u4f9d\u7167\u4e2d\u95f4\u7ed3\u679c\u63a8\u8fdb\u4efb\u52a1</li> </ul> \\[ \\text{Agent} = \\text{LLM} + \\text{Memory} + \\text{Tools} + \\text{Planning} + \\text{Action} \\] <ul> <li> <p>Memory\uff1a\u4f7f\u6a21\u578b\u5728\u5904\u7406\u91cd\u590d\u5de5\u4f5c\u65f6\u80fd\u590d\u7528\u7ecf\u9a8c\uff0c\u907f\u514d\u7528\u6237\u8fdb\u884c\u5927\u91cf\u91cd\u590d\u4ea4\u4e92</p> <ul> <li>\u77ed\u671f\u8bb0\u5fc6\uff1a\u5b58\u50a8 \u5355\u4e2a\u4f1a\u8bdd\u5468\u671f \u7684 Context\uff0c\u5c5e\u4e8e\u4e34\u65f6\u5b58\u50a8\u673a\u5236\u3001\u53d7\u9650\u4e8e LLM \u9650\u5236\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u957f\u5ea6</li> <li>\u957f\u671f\u8bb0\u5fc6\uff1a<ul> <li>\u652f\u6301\u6a2a\u8de8 \u591a\u4e2a\u4efb\u52a1 / \u591a\u4e2a\u5468\u671f\uff0c\u975e\u5373\u65f6\u7684\u5b58\u50a8\u3001\u8c03\u7528\u6838\u5fc3\u77e5\u8bc6</li> <li>\u53ef\u4ee5\u901a\u8fc7 \u6a21\u578b\u53c2\u6570\u5fae\u8c03\uff08\u56fa\u5316\u77e5\u8bc6\uff09\u3001\u77e5\u8bc6\u56fe\u8c31\uff08\u7ed3\u6784\u5316\u8bed\u4e49\u7f51\u7edc\uff09\u3001\u5411\u91cf\u6570\u636e\u5e93\uff08\u76f8\u4f3c\u6027\u68c0\u7d22\uff09\u5b9e\u73b0</li> </ul> </li> </ul> </li> <li> <p>Tool Use\uff1a\u8c03\u7528\u5916\u90e8\u5de5\u5177\u6269\u5c55\u80fd\u529b\u8fb9\u754c</p> </li> <li> <p>Planning\uff1a\u901a\u8fc7\u4efb\u52a1\u5206\u89e3\u3001\u53cd\u601d-\u81ea\u7701\u6846\u67b6\u5b9e\u73b0\u5bf9\u590d\u6742\u4efb\u52a1\u7684\u5904\u7406</p> </li> <li> <p>Action\uff1a\u6267\u884c\u51b3\u7b56\uff08\u5982\uff0c\u81ea\u52a8\u8ba2\u7968\u3001\u9a71\u52a8\u673a\u5668\u4eba\u3001\u7f16\u7a0b\u7b49\uff09</p> </li> </ul>"},{"location":"Nulling/Agent/LangChain/2_Apps/#21","title":"2.1 \u57fa\u672c\u4f7f\u7528","text":"<p>LangChain v0.x \u7684\u8bbe\u8ba1\u7406\u5ff5\u662f \u201c\u9488\u5bf9 \u7279\u5b9a\u4f7f\u7528\u573a\u666f \u8bbe\u8ba1 Agent\u201d</p> <p>\u5728\u5b9e\u73b0\u601d\u7ef4\u94fe\u63a8\u7406\uff08<code>reate_react_agent</code>\uff09\u3001\u7ed3\u6784\u5316\u8f93\u51fa\uff08<code>create_structured_chat_agent</code>\uff09\u3001\u5de5\u5177\u8c03\u7528\uff08<code>create_tool_calling_agent</code>\uff09\u65f6\uff0c\u9700\u8981\u91c7\u7528\u4e0d\u540c\u7684\u6784\u9020\u51fd\u6570\u3002</p> <ul> <li> <p>LangChain v1.0 \u7edf\u4e00\u4f7f\u7528 <code>create_agent()</code> \u4f5c\u4e3a Agent \u521b\u5efa API\uff08\u5e95\u5c42\u901a\u8fc7 LangGraph \u5b9e\u73b0\uff09</p> <p>\u8be5\u8303\u5f0f\u5929\u7136\u652f\u6301\u5de5\u5177\u7684\u5e76\u53d1\u8c03\u7528\u3001\u591a\u6b65\u8c03\u7528\u3001\u62a5\u9519\u5904\u7406\uff08\u9700\u8981\u7528\u4e2d\u95f4\u4ef6\uff09</p> </li> </ul> <ul> <li><code>create_agent</code> \u652f\u6301 \u9759\u6001/\u52a8\u6001 \u4e24\u79cd LLM \u4f7f\u7528\u6a21\u5f0f\uff1a\u672c\u8282\u4e2d\u7684\u9759\u6001\u6a21\u5f0f\u4ec5\u5728\u521b\u5efa Agent \u65f6\u914d\u7f6e\u4e00\u6b21\uff0c\u5e76\u5728\u6574\u4e2a\u6267\u884c\u6d41\u7a0b\u4e2d\u56fa\u5b9a\uff1b\u52a8\u6001\u6a21\u5f0f\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u4ecb\u7ecd</li> </ul> <pre><code>from langchain.agents import create_agent\nfrom langchain_deepseek import ChatDeepSeek\nfrom langchain_community.tools.tavily_search import TavilySearchResults\n\n# 1 \u521b\u5efa\u6a21\u578b\u548c\u5de5\u5177\nmodel = ChatDeepSeek(model=\"deepseek-chat\")\nweb_search_tool = TavilySearchResults(max_results=2)\n# \u8fd9\u4e2a\u5de5\u5177\u4e5f\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 invoke \u8c03\u7528\n\n# 2 \u521b\u5efa Agent\uff08\u628a LLM \u548c Tools \u7ed1\u4e00\u5757\u513f\u5c31\u5b8c\u4e8b\u4e86\uff09\nagent = create_agent(\n    model=model,\n    tools=[web_search_tool], # \u81ea\u5b9a\u4e49\u5de5\u5177\u7528 @tool \u8f6c\u5316\u540e\u4e22\u8fdb\u6765\u8fdb\u884c\n    system_prompt=\"\u4f60\u662f...\"\n)\n\n# 3 \u8fd0\u884c\nresponse = agent.invoke({\n    \"messages\": [\n        { \"role\": \"user\", \"content\": \"xxx\" }\n    ]\n})\n\"\"\" response[\"messages\"] \u4e2d\u5b9e\u9645\u5305\u542b 4 \u6761\u6d88\u606f\n1. HumanMessage\uff1a\u7528\u6237\u8f93\u5165\n2. AIMessage\uff1aLLM \u8fd4\u56de\u7684 FunctionCall \u6307\u4ee4\n3. ToolMessage\uff1a\u5de5\u5177\u8fd4\u56de\u7684\u7ed3\u679c\n4. AIMessage\uff1aLLM \u6700\u7ec8\u8fd4\u56de\u7ed9\u7528\u6237\u7684\u4fe1\u606f\n\"\"\"\n</code></pre>"},{"location":"Nulling/Agent/LangChain/2_Apps/#_1","title":"\u8bb0\u5fc6\u7ba1\u7406","text":"<p>\u4e24\u79cd\u65b9\u6848\uff1a\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff08\u77ed\u671f\uff09\u3001\u4fdd\u5b58\u5728\u78c1\u76d8\u4e2d\uff08\u957f\u671f\uff09</p> \u5728\u5185\u5b58\u4e2d\u4fdd\u5b58<pre><code>from langgraph.checkpoint.memory import InMemorySaver\n\ncheckpointer = InMemorySaver()\ntools = [ get_weather ]\nagent = create_agent(\n    model=model, tools=tools,\n    checkpointer=checkpointer\n)\n\n# \u5728\u8c03\u7528\u65f6\u5fc5\u987b\u52a0\u5165 config \u53c2\u6570\u6807\u660e \"\u7ebf\u7a0b id\" \u8fdb\u884c\u533a\u5206\nconfig = { \"configurable\": { \"thread_id\": \"1\" }}\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"1xxx\"}]},\n    config\n)\n\n# \u8bfb\u53d6\u5f53\u524d\u7ebf\u7a0b\u7684\u8bb0\u5fc6\uff08\u5305\u542b usr1 + AI1\uff09\nlatest = agent.get_state(config)\n\n# \u4e0b\u4e00\u6b21\u8c03\u7528\uff1amessages \u53ea\u7528\u643a\u5e26\u5f53\u6b21\u4fe1\u606f\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"2xxx\"}]},\n    config # \u6307\u660e\u7ebf\u7a0b\uff0c\u81ea\u52a8\u8bfb\u53d6\u5386\u53f2\u6d88\u606f\n)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/2_Apps/#_2","title":"\u90e8\u7f72\u4e0a\u7ebf","text":"<ul> <li> <p>LangSmith [\u6536\u8d39]\uff1a\u53ef\u89c6\u5316\u8c03\u8bd5\u3001\u6027\u80fd\u8bc4\u4f30\u4e0e\u8fd0\u7ef4\u76d1\u63a7\u5e73\u53f0</p> </li> <li> <p>LangGraph Studio\uff1aLangGraph \u56fe\u7ed3\u6784\u53ef\u89c6\u5316\u4e0e\u8c03\u8bd5\u6846\u67b6</p> </li> <li> <p>LangGraph Cli\uff1a\u672c\u5730\u542f\u52a8\u3001\u8c03\u8bd5\u3001\u6d4b\u8bd5\u3001\u6258\u7ba1 LangGraph \u667a\u80fd\u4f53\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u652f\u6301\u5c06\u670d\u52a1\u6253\u5305\u4e3a\u540e\u7aef API</p> </li> <li> <p>Agent Chat UI\uff1a\u591a\u667a\u80fd\u4f53\u524d\u7aef\u5bf9\u8bdd\u9762\u677f\uff0c\u652f\u6301\u4e0a\u4f20\u6587\u4ef6\u3001\u591a\u5de5\u5177\u534f\u540c\u3001\u7ed3\u6784\u5316\u8f93\u51fa\u3001\u591a\u8f6e\u5bf9\u8bdd\u3001\u8c03\u8bd5\u6807\u6ce8\u529f\u80fd</p> </li> </ul> <p>\u6655\u4e86\u5417\uff1f\u6ca1\u5173\u7cfb\uff0c\u770b\u4e0b\u9762\u7684\u6b65\u9aa4\u5c31\u884c\uff1a</p> <ol> <li>\u521b\u5efa Agent \u9879\u76ee\u4e3b\u6587\u4ef6\u5939</li> <li>\u521b\u5efa <code>requirements.txt</code> \u6587\u4ef6\uff08\u4f9d\u8d56\u9879\uff09</li> <li>\u521b\u5efa <code>.env</code> \u6587\u4ef6\uff08\u5b58\u653e\u4e0d\u9002\u5408\u786c\u7f16\u7801\u7684\u654f\u611f\u4fe1\u606f\uff0c\u5982 API-KEy\uff09</li> <li> <p>\u521b\u5efa <code>agent.py</code> \u4e3b\u6587\u4ef6\uff0c\u9700\u8981\u7f16\u5199 Graph \u8fd0\u884c\u903b\u8f91\uff08\u8bb0\u5fc6\u4f1a\u81ea\u52a8\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u914d\u7f6e\uff09</p> <pre><code>...\n# \u521b\u5efa\u56fe\ngraph = create_react_agent(model=model, prompt=\"sys_prompt\")\n</code></pre> </li> <li> <p>\u521b\u5efa <code>langgraph.json</code> \u6587\u4ef6\uff08\u9879\u76ee\u4fe1\u606f\u914d\u7f6e\uff09</p> langgraph.json<pre><code>{\n    # \u5fc5\u586b\n    \"dependencies\": [\"./\"], # \u5728\u5f53\u524d\u76ee\u5f55\u67e5\u627e requirements.txt\n    # \u5fc5\u586b\uff1a\"\u56fe\u540d\": \"\u6587\u4ef6\u8def\u5f84:\u53d8\u91cf\u540d\"\n    \"graphs\": {\n        \"chatbot\": \"./graph.py:graph\" # \u5b9a\u4e49\u56fe chatbot \u6765\u81ea graph.py \u4e2d\u7684 graph \u53d8\u91cf\n    },\n    # \u9009\u586b\uff1a\u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\n    \"env\": \".env\"\n}\n</code></pre> </li> <li> <p>\u5b89\u88c5 langgraph-cli \u53ca\u5bf9\u5e94\u4f9d\u8d56</p> <pre><code>pip install -U \"langgraph-cli[inmem]\"\npip install -r requirements.txt\n</code></pre> </li> <li> <p>\u8fdb\u5165\u9879\u76ee\u4e3b\u76ee\u5f55\uff0c\u542f\u52a8\u9879\u76ee</p> <pre><code>cd path/to/project\nlanggraph dev\n</code></pre> </li> <li> <p>\u63a5\u5165\u524d\u7aef\u9879\u76ee Agent Chat UI\uff08\u4f9d\u8d56\u4e8e NodeJS\uff09</p> <pre><code># \u514b\u9686\u9879\u76ee\ngit clone git@github.com:langchain-ai/agent-chat-ui.git\ncd agent-chat-ui\n\n# \u5b89\u88c5\u4f9d\u8d56\nnpm install -g pnpm\npnpm install\n\n# \u542f\u52a8\u524d\u7aef UI\npnpm dev # \u5728\u5f39\u51fa\u7684 Web \u7a97\u53e3\u4e2d\u914d\u7f6e\u540e\u7aef\u63a5\u53e3\u5730\u5740\n</code></pre> </li> </ol>"},{"location":"Nulling/Agent/LangChain/2_Apps/#22","title":"2.2 \u4e2d\u95f4\u4ef6","text":"<ul> <li>Middleware \u652f\u6301\u5728 LLM \u8c03\u7528 \u524d\u540e \u62e6\u622a\u8bf7\u6c42\u3001\u4fee\u6539\u53c2\u6570\uff0c\u6216\u52a8\u6001\u8c03\u6574\u6a21\u578b\u9009\u62e9\u673a\u5236</li> </ul> <ul> <li>\u4e2d\u95f4\u4ef6\u652f\u6301\u5d4c\u5165\u7684\u4f4d\u7f6e\u5f88\u4e30\u5bcc\uff1abefore/after model, before/after agent</li> </ul>"},{"location":"Nulling/Agent/LangChain/2_Apps/#_3","title":"\u6a21\u578b\u52a8\u6001\u9009\u62e9","text":"<p>\u6839\u636e\u4efb\u52a1\u4e0a\u4e0b\u6587\u81ea\u52a8\u5207\u6362\u6a21\u578b\uff0c\u5b9e\u73b0\u667a\u80fd\u6a21\u578b\u8def\u7531\u3002\u5982\uff1a\u5728\u5bf9\u8bdd\u521d\u671f\u4f7f\u7528\u8f7b\u91cf\u6a21\u578b\u8282\u7ea6\u6210\u672c\uff0c\u5728\u4e0a\u4e0b\u6587\u590d\u6742\u5316\u540e\u81ea\u52a8\u5207\u6362\u81f3\u66f4\u5f3a\u6a21\u578b</p> <pre><code># \u51c6\u5907\u4e24\u79cd\u6a21\u578b\nbase_model = ChatDeepSeek(model=\"deepseek-chat\")\nreasoner_model = ChatDeepSeek(model=\"deepseek-reasoner\")\n\ndef _get_last_usr_txt(messages) -&gt; str:\n    \"\"\"\u8fd4\u56de\u6700\u65b0\u7684\u7528\u6237\u6d88\u606f\u6587\u672c\"\"\"\n    for m in reversed(messages):\n        if isinstance(m, HumanMessage):\n            return m.content if isinstance(m.content, str) else \"\"\n    return \"\"\n\n@wrap_model_call\ndef dynamic_deepseek_routing(request: ModelRequest, handler) -&gt; ModelResponse:\n    \"\"\"\u6839\u636e\u5bf9\u8bdd\u590d\u6742\u7a0b\u5ea6\u52a8\u6001\u9009\u62e9\u6a21\u578b\"\"\"\n    messages = request.state_get(\"messages\", [])\n    msg_cnt  = len(messages)\n    last_usr = _get_last_usr_txt(messages)\n    last_len = len(last_usr)\n\n    # \u590d\u6742\u4efb\u52a1\u5173\u952e\u5b57\n    hard_keywords = (\"\u8bc1\u660e\", \"\u63a8\u5bfc\", \"step-by-step\")\n\n    # \u542f\u53d1\u5f0f\u4efb\u52a1\u590d\u6742\u5ea6\u5206\u7c7b\n    is_hard = (\n        msg_cnt  &gt; 10 or\n        last_len &gt; 120 or\n        any(kw.lower() in last_usr.lower() for kw in hard_keywords)\n    )\n\n    # \u9009\u62e9\u6a21\u578b\n    request.model = reasoner_model if is_hard else base_model\n\n    # \u5305\u88f9\uff0c\u5e76\u7531\u4e0b\u6e38\u8c03\u7528\n    return handler(request)\n\n# \u521b\u5efa Agent\uff0c\u9ed8\u8ba4\u4f7f\u7528 base_model\u3001\u53ef\u7531\u4e2d\u95f4\u4ef6\u6309\u9700\u66ff\u6362\nagent = create_agent(\n    model=base_model,\n    tools=tools,\n    middleware=[dynamic_deepseek_routing]\n)\n</code></pre>"},{"location":"Nulling/Agent/LangChain/2_Apps/#_4","title":"\u6d88\u606f\u538b\u7f29","text":"<ul> <li> <p>\u6700\u7b80\u5355\u7684\u6d88\u606f\u538b\u7f29\u65b9\u5f0f\u663e\u7136\u662f\u76f4\u63a5\u5bf9\u5386\u53f2\u6d88\u606f\u8fdb\u884c\u88c1\u526a</p> <p>\u6b64\u7c7b\u65b9\u6cd5\u901a\u5e38\u914d\u5408 <code>@before_model</code> \u8fd9\u4e00 hook \u4f7f\u7528\uff0c\u5728\u6bcf\u6b21\u8c03\u7528 LLM \u524d\u8fdb\u884c\u8ba1\u7b97</p> <p>\u8be5\u65b9\u6cd5\u5b9e\u73b0\u7b80\u5355\u3001\u6267\u884c\u5feb\u901f\uff0c\u9002\u7528\u4e8e ChatBot \u548c RAG \u95ee\u7b54\uff0c\u4f46\u5bb9\u6613\u4e22\u5931\u957f\u671f Ctx</p> <pre><code>@before_model\ndef trim_messages(state: AgentState, runtime: Runtime) -&gt; dict[str, Any] | None:\n    \"\"\"\u53ea\u4fdd\u7559 Sys_Prompt + \u6700\u8fd1\u4e09\u6761\"\"\"\n    messages = state[\"messages\"]\n    if len(messages) &lt;= 4: return\n\n    sys_prompt = messages[0]\n    new_msgs   = sys_prompt + messages[-3:]\n\n    return {\n        \"messages\": [\n            RemoveMessage(id=REMOVE_ALL_MESSAGES),\n            *new_msgs\n        ]\n    }\n\nagent = create_agent(\n    model=model, tools=tools,\n    middleware=[trim_messages],\n    checkpointer=InMemorySaver()\n)\n</code></pre> </li> <li> <p>\u5220\u9664\u6307\u5b9a\u6d88\u606f\u4e5f\u662f\u4e00\u79cd\u53ef\u884c\u65b9\u6848\uff0c\u901a\u5e38\u914d\u5408 <code>@after_model</code> \u98df\u7528</p> <pre><code>@after_model\ndef delete_old_msgs(state: AgentState, runtime: Runtime) -&gt; dict[str, Any] | None:\n    \"\"\"\u6bcf\u6b21\u8c03\u7528\u540e\uff0c\u5220\u9664\u6700\u65e9\u7684\u4e24\u6761\u6d88\u606f\"\"\"\n    messages = state[\"messages\"]\n\n    if len(messages) &gt; 4: \n        return {\n            \"messages\": [\n                RemoveMessage(id=m.id) for m in messages[:2]\n            ]\n        }\n</code></pre> </li> <li> <p>\u6d88\u606f\u6458\u8981\u662f\u6700\u667a\u80fd\u7684\u538b\u7f29\u7b56\u7565\uff0cLangChain v1.0 \u63d0\u4f9b\u4e86 <code>SummarizationMiddleware</code> \u5b9e\u73b0</p> <pre><code>agent = create_agent(\n    model=main_model, tools=[],\n    middleware=[\n        SummarizationMiddleware(\n            model=summary_model,\n            max_tokens_before_summary=3000, # \u89e6\u53d1\u9608\u503c\n            messages_to_keep=10 # \u9700\u8981\u4fdd\u7559\u7684\uff08\u6700\u65b0\uff09\u539f\u59cb\u6570\u636e\u6570\u91cf\n        )\n    ],\n    checkpointer=checkpointer\n)\n</code></pre> </li> </ul>"},{"location":"Nulling/Agent/LangChain/2_Apps/#human-in-the-loop","title":"Human in the Loop","text":"<ul> <li> <p>\u5b8c\u5168\u5c06\u9ad8\u98ce\u9669\u4efb\u52a1\u4ea4\u7531 LLM \u6267\u884c\u5b58\u5728\u663e\u8457\u5b89\u5168\u6f0f\u6d1e</p> </li> <li> <p>LangChain v1.0 \u63d0\u4f9b\u4e86\u652f\u6301\u5728\u5173\u952e\u8282\u70b9\u6682\u505c Agent \u6267\u884c\u3001\u7b49\u5f85\u4eba\u7c7b\u5ba1\u6838\u7684\u4e2d\u95f4\u4ef6\uff0c\u4f7f Agent \u884c\u4e3a\u771f\u6b63\u7b26\u5408\u4f26\u7406\u4e0e\u5408\u89c4\u8981\u6c42</p> </li> </ul> <pre><code>agent = create_agent(\n    model=model, tools=tools, checkpointer=checkpointer,\n    middleware=[\n        HumanInTheLoopMiddleWare(\n            # \u62e6\u622a\u89c4\u5219: \u5728\u6267\u884c\u641c\u7d22\u524d\u4eba\u5de5\u5ba1\u6838\n            interrupt_on={\n                \"tavily_search_results_json\": {\n                    \"allowed_decisions\": [\"approve\", \"edit\", \"reject\"],\n                    \"description\": \n                        lambda tool_name, tool_input, state: (f\"\u6a21\u578b\u51c6\u5907\u6267\u884c Tavily \u641c\u7d22: '{tool_input.get('query', '')}'\")\n                }\n            },\n            description_prefix=\"\u26a0\ufe0f \u9700\u8981\u4eba\u5de5\u5ba1\u6279\u641c\u7d22\u64cd\u4f5c\"\n        )\n    ]\n)\n</code></pre>"},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/","title":"Pixels & Filters","text":"<p> \u7ea6 158 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#1-color","title":"1 Color","text":""},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#11-color-space","title":"1.1 Color Space \u8272\u57df","text":"<ul> <li>Linear Color Space<ul> <li>\u8272\u5f69\u7531\u4e09\u539f\u8272\u7684\u6743\u91cd\u51b3\u5b9a<ul> <li>\u4e24\u79cd\u989c\u8272\u6df7\u5408\u7684\u7ed3\u679c\u5728\u5176\u8fde\u7ebf\u4e0a</li> <li>\u4e09\u79cd\u989c\u8272\u6df7\u5408\u7684\u7ed3\u679c\u5728\u5176\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u5185</li> </ul> </li> <li>\u4f8b\u5b50\uff1aRGB Space - \u4e09\u79cd\u5355\u8272\u5149\u7684\u7ebf\u6027\u7ec4\u5408\u8868\u793a\u989c\u8272</li> </ul> </li> <li>Nonlinear Color Space<ul> <li>\u4f8b\u5b50\uff1aHSV\uff08 RGB\u662f\u5176\u5728100%\u660e\u5ea6\u4e0b\u7684\u7279\u4f8b\uff09\uff0c\u4f7f\u7528\u4e09\u4e2a\u7ef4\u5ea6\u63cf\u8ff0\u5143\u7d20<ul> <li>Hue \u8272\u76f8       0-360 \u8f6c\u4e00\u5708\u5c31\u662f RGB \u8272\u57df\uff08\u4ece\u7ea2\u8272\u5f00\u59cb\uff09</li> <li>Saturation \u9971\u548c\u5ea6       \u4ece\u4e2d\u5fc3\u7684\u767d\u8272\u8fc7\u6e21\u5230\u6700\u9a9a\u7684\u989c\u8272\uff08\u5149\u8c31\u8272\uff09</li> <li>Value \u660e\u5ea6       \u4e3a 0 \u65f6\u5168\u9ed1</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#2-sampling-quantization","title":"2 Sampling &amp; Quantization","text":""},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#3-image-as-functions","title":"3 Image as Functions","text":""},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#4-linear-system-filter","title":"4 Linear System (filter)","text":""},{"location":"Nulling/CV/Standford%20CS131/Pixels%20%26%20Filters/#5-convolution-correlation","title":"5 Convolution &amp; Correlation","text":""},{"location":"Nulling/Front%20End/Canvas/","title":"Canvas","text":"<p> \u7ea6 155 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/Canvas/#_1","title":"\u77e2\u91cf\u8def\u5f84","text":""},{"location":"Nulling/Front%20End/Canvas/#1","title":"1 \u77e2\u91cf\u8def\u5f84","text":"<ul> <li>Canvas \u7684\u77e2\u91cf\u8def\u5f84\u7531\u4e00\u7cfb\u5217 \"\u547d\u4ee4\" + \"\u5750\u6807\" \u6784\u6210</li> <li> <p>\u77e2\u91cf\u8def\u5f84\u7ed8\u5236\u6d41\u7a0b</p> <ol> <li><code>beginPath()</code>: \u521b\u5efa\u4e00\u4e2a\u65b0\u8def\u5f84\uff08\u5e76\u6e05\u695a\u6240\u6709\u65e7\u8def\u5f84\uff09</li> <li><code>moveTo(x,y)</code>: \u5c06\u7ed8\u56fe\u5149\u6807\u79fb\u52a8\u81f3\u8def\u5f84 \u8d77\u70b9</li> <li>\u8fde\u63a5 <code>curPos</code> =&gt; \u6307\u5b9a\u4f4d\u7f6e <code>(x,y)</code></li> <li>\u7ed8\u5236\u76f4\u7ebf <code>lineTo(x,y)</code></li> <li>\u7ed8\u5236\u66f2\u7ebf: <code>(x,y)</code> \u4e3a\u7ec8\u70b9\u5750\u6807\uff0c<code>cp[i](x,y)</code> \u4e3a\u63a7\u5236\u70b9\u5750\u6807<pre><code>| Method | Desc. |\n| :----: | :---  |\n| `quadraticCurveTo(cp1x, cp1y, x, y)` | \u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf |\n| `bezierCurveTo(cp1x, cp1y, cp2x, cp2y ,x, y)` | \u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf |\n4. `closePath()`: \u8fde\u63a5 `curPos` =&gt; `initPoint` \u7684 **\u76f4\u7ebf**\n5. \u7ed8\u5236\u8def\u5f84\uff1a`stroke()` \u4ec5\u7ed8\u5236\u8def\u5f84\u8f6e\u5ed3\uff0c`fill()` \u586b\u5145\u8def\u5f84\u5185\u90e8\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Front%20End/Canvas/#credit-to","title":"Credit to","text":"<p>[1] canvas\u77e2\u91cf\u8def\u5f84\u7f20\u7ed5\u89c4\u5219\u3001\u95ed\u5408\u4ee5\u53ca\u5e03\u5c14\u8fd0\u7b97, povxa@\u7a00\u571f\u6398\u91d1</p>"},{"location":"Nulling/Front%20End/Promise/","title":"Promise","text":"<p> \u7ea6 1312 \u4e2a\u5b57  469 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/Promise/#intro","title":"Intro","text":"<ol> <li> <p>Promise \u662f\u4ec0\u4e48\uff1f</p> <p><code>Promise</code> \u662f ES6 \u4e2d\u5f15\u5165\u7684 \u00b7 \u8fdb\u884c\u5f02\u6b65\u7f16\u7a0b \u7684\u89e3\u51b3\u65b9\u6848</p> <ul> <li>\u4ece\u8bed\u6cd5\u4e0a\u6765\u8bf4\uff0c<code>Promise</code> \u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570</li> <li>\u4ece\u529f\u80fd\u4e0a\u6765\u8bf4\uff0c<code>Promise</code>\u5bf9\u8c61\u7528\u6237\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u5e76\u83b7\u53d6\u5176\u6267\u884c\u7684\u7ed3\u679c\u503c</li> </ul> </li> <li> <p><code>Promise</code> \u7684\u4f18\u52bf</p> <ul> <li>\u65e7\u65b9\u5f0f\u5fc5\u987b\u5728\u5f02\u6b65\u4efb\u52a1\u542f\u52a8\u524d\u6307\u5b9a\u56de\u8c03\u51fd\u6570\uff0c\u800c Promise \u652f\u6301\u5728\u4efb\u52a1\u7ed3\u675f\u540e\u7ed1\u5b9a &gt;=1 \u4e2a\u56de\u8c03</li> <li>\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff0c\u89e3\u51b3\u56de\u8c03\u5730\u72f1</li> </ul> </li> </ol>"},{"location":"Nulling/Front%20End/Promise/#_1","title":"\u72b6\u6001\u5c5e\u6027","text":"<p>\u5b9e\u4f8b\u4e2d\u7684 <code>PromiseState</code> \u5c5e\u6027\uff0c\u5171\u6709\u4e09\u79cd\u53d6\u503c\uff1a<code>pending</code>, <code>resolved/fullfilled</code>, <code>rejected</code></p> <p>\u5171\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u72b6\u6001\u8f6c\u53d8\uff08\u6bcf\u4e2a Promise \u5bf9\u8c61\u53ea\u80fd\u6539\u53d8\u4e00\u6b21\uff09\uff1a</p> <ul> <li><code>pending -&gt; resolved</code> \u7ed3\u679c\u4e00\u822c\u79f0\u4e3a <code>value</code></li> <li><code>pending - &gt;rejected</code> \u7ed3\u679c\u4e00\u822c\u79f0\u4e3a <code>reason</code></li> </ul>"},{"location":"Nulling/Front%20End/Promise/#_2","title":"\u7ed3\u679c\u5c5e\u6027","text":"<p>\u5b9e\u4f8b\u4e2d\u7684 <code>PromiseResult</code> \u5c5e\u6027\uff0c\u4fdd\u5b58\u4e86\u5f02\u6b65\u4efb\u52a1 \u6210\u529f/\u5931\u8d25 \u7684\u7ed3\u679c\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>resolve() / reject()</code> \u51fd\u6570\u8fdb\u884c\u4fee\u6539</p>"},{"location":"Nulling/Front%20End/Promise/#_3","title":"\u5de5\u4f5c\u6d41\u7a0b","text":"<ol> <li>\u901a\u8fc7 <code>new Promise()</code> \u521b\u5efa\u5bf9\u8c61\u5305\u88f9\u5f02\u6b65\u64cd\u4f5c\uff0c\u6b64\u65f6\u7684\u72b6\u6001\u4e3a <code>pending</code></li> <li>\u89c6\u5f02\u6b65\u4efb\u52a1\u6267\u884c\u7ed3\u679c\u8c03\u7528\u5bf9\u5e94\u51fd\u6570<ul> <li>\u6267\u884c\u6210\u529f\uff0c\u8c03\u7528 <code>resolve()</code> \uff0c\u72b6\u6001\u53d8\u4e3a <code>resolved</code></li> <li>\u6267\u884c\u5931\u8d25\uff0c\u8c03\u7528 <code>reject()</code>\uff0c\u72b6\u6001\u53d8\u4e3a <code>rejected</code></li> </ul> </li> <li>\u6839\u636e\u72b6\u6001\u8c03\u7528 \u6210\u529f/\u5931\u8d25\u56de\u8c03\uff08\u4e5f\u53ef\u80fd\u662f <code>catch</code>\uff09</li> <li>\u8fd4\u56de\u65b0\u7684 Promise \u5bf9\u8c61</li> </ol>"},{"location":"Nulling/Front%20End/Promise/#1","title":"1 \u57fa\u672c\u4f7f\u7528","text":""},{"location":"Nulling/Front%20End/Promise/#11","title":"1.1 \u524d\u7aef\u6a21\u62df\u62bd\u5956","text":"<ul> <li>\u9700\u6c42<ul> <li>\u70b9\u51fb button\u540e\uff0c\u95f4\u9694 2s \u663e\u793a\u662f\u5426\u4e2d\u5956\uff0830%\u6982\u7387\uff09</li> <li>\u6839\u636e\u662f\u5426\u4e2d\u5956\u5f39\u51fa\u4e0d\u540c\u7684\u63d0\u793a\u4fe1\u606f</li> </ul> </li> <li>\u4e0d\u4f7f\u7528 Promise \u7684\u5b9e\u73b0     <pre><code>function rand(m, n) { // \u751f\u6210\u968f\u673a\u6570\n    return Math.ceil(Math.random()*(n-m+1) + m-1);\n}\nconst btn = document.querySelector('#btn');\nbtn.addEventListener('click', function(){\n    setTimeout(()=&gt;{\n        let n = rand(1, 100);\n        if (n &lt;= 30) alert('\u606d\u559c');\n        else         alert('\u518d\u63a5\u518d\u5389');\n    }, 2000);\n})\n</code></pre></li> <li>Promise \u5b9e\u73b0     <pre><code>function rand(m, n) { // \u751f\u6210\u968f\u673a\u6570\n    return Math.ceil(Math.random()*(n-m+1) + m-1);\n}\nconst btn = document.querySelector('#btn');\nbtn.addEventListener('click', function(){\n    // \u65b0\u5efa Promise \u5b9e\u4f8b\uff0c\u4e24\u4e2a\u53c2\u4e3a \u6210\u529f/\u5931\u8d25 \u7684\u56de\u8c03\u51fd\u6570\n    const p = new Promise((resolve, reject) =&gt; {\n        // \u5305\u88f9\u5f02\u6b65\u64cd\u4f5c\n        setTimeout(()=&gt;{\n            let n = rand(1, 100);\n            if (n &lt;= 30) resolve(); // \u5c06 Promise \u5bf9\u8c61\u72b6\u6001\u8bbe\u7f6e\u4e3a\u6210\u529f\n            else         rejcet();  // \u5c06 Promise \u5bf9\u8c61\u72b6\u6001\u8bbe\u7f6e\u4e3a\u5931\u8d25\n        }, 2000);\n    })\n})\n// \u8c03\u7528 then \u65b9\u6cd5\u6307\u5b9a\u56de\u8c03\np.then(\n    () =&gt; { // \u6210\u529f\u56de\u8c03\n        alert('\u606d\u559c');\n    },\n    () =&gt; { // \u5931\u8d25\u56de\u8c03\n        alert('\u518d\u63a5\u518d\u5389');\n    }\n)\n</code></pre></li> </ul> What if \u6211\u4eec\u5e0c\u671b\u5728\u56de\u8c03\u7684 <code>alert</code> \u4e2d\u83b7\u53d6\u4ea7\u751f\u7684\u968f\u673a\u6570\uff1f <ul> <li>\u95ee\u9898\u5206\u6790<ul> <li>\u56de\u8c03\u51fd\u6570\u4e0e\u751f\u6210\u7684\u968f\u673a\u6570 <code>n</code> \u4e0d\u5728\u540c\u4e00\u4e2a\u51fd\u6570\u4e2d</li> <li>Promise \u53ef\u4ee5\u83b7\u53d6\u4e00\u6b65\u4efb\u52a1\u4e2d \u6210\u529f/\u5931\u8d25 \u7684\u7ed3\u679c\u503c</li> </ul> </li> <li> <p>\u95ee\u9898\u89e3\u51b3</p> <p>\u628a <code>n</code> \u4e22\u7ed9 <code>resolve &amp; reject</code> \u5c31\u884c\u4e86 <pre><code>btn.addEventListener('click', function(){\n    const p = new Promise((resolve, reject) =&gt; {\n        setTimeout(()=&gt;{\n            let n = rand(1, 100);\n            // \u5c06 n \u4f5c\u4e3a\u7ed3\u679c\u503c\u4f20\u9012\u7ed9\u4e24\u4e2a\u56de\u8c03\n            if(n&lt;=30) resolve(n);\n            else      reject(n);\n        }, 2000)\n    })\n    p.then (\n        (val) =&gt; alert('\u606d\u559c\u4e2d\u5956\uff01\u4e2d\u5956\u6570\u5b57\u4e3a\uff1a' + val);\n        (val) =&gt; alert('\u518d\u63a5\u518d\u5389\uff01\u60a8\u7684\u6570\u5b57\u4e3a\uff1a' + val);\n    )\n})\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/Promise/#12-fs","title":"1.2 fs \u8bfb\u53d6\u6587\u4ef6","text":"<p>\u9700\u8981 <code>node.js \u73af\u5883</code></p> <ul> <li>\u4e0d\u4f7f\u7528 Promise \u7684\u65b9\u5f0f     <pre><code>// \u5f15\u5165 fs \u6a21\u5757\nconst fs = require('fs');\nfs.readFile('./liric.txt', (err, data) =&gt; {\n    // \u82e5\u5b58\u5728\u9519\u8bef\uff0c\u5219\u629b\u51fa\n    if(err) throw err;\n    // \u65e0\u9519\u5219\u8f93\u51fa\u7ed3\u679c(\u9ed8\u8ba4\u662fbuffer\uff0ctoString\u53ef\u4ee5\u8f6c\u4e3a\u5b57\u7b26\u4e32)\n    console.log(data.toString());\n});\n</code></pre></li> <li>\u4f7f\u7528 Promise \u8fdb\u884c\u5c01\u88c5     <pre><code>/* \u51fd\u6570 mineReadFile\n * \u53c2\u6570\uff1apath - \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\n * \u8fd4\u56de\u503c\uff1apromise \u5bf9\u8c61\n */\nfunction mineReadFile(path) {\n    return new Promise((resolve, reject) =&gt; {\n        require('fs').readFile(path, (err, data)=&gt;{\n            if(err) reject(err);\n            else    resolve(data);\n        })\n    })\n}\n// \u4f7f\u7528\u65f6\u518d\u6307\u5b9a\u56de\u8c03\nmineReadFile('./liric.txt').then(\n    res =&gt; {console.log(res.toString())},\n    err =&gt; {console.log(err)}\n)\n</code></pre></li> <li> <p>\u4f7f\u7528 <code>util.promisify</code> \u5c01\u88c5</p> <p><code>util.promisify</code> \u662f node.js \u4e2d\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u4e8e\u4f20\u5165\u4e00\u4e2a\u300c\u9075\u5faa\u5e38\u89c1\u9519\u8bef\u56de\u8c03\u98ce\u683c\u7684\u51fd\u6570\u300d\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a Promise \u7248\u672c\u3002</p> <pre><code>// \u4ee5 fs.readFile() \u4e3a\u4f8b\nconst util = require('util');\nconst fs = requires('fs');\n\nlet mineReadFile = util.promisify(fs.readFile);\n\nmineReadFile('path').then(\n    res =&gt; {console.log(res.toString())},\n    err =&gt; {console.log(err)}\n)\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Promise/#13-ajax","title":"1.3 AJAX \u8bf7\u6c42","text":"<p>\u9700\u6c42\uff1a\u70b9\u51fb button \u540e\u53d1\u9001 Ajax \u8bf7\u6c42</p> <ul> <li>\u4e0d\u4f7f\u7528 Promise     <pre><code>btn.addEventListner('click', ()=&gt;{\n    const xhr = new XMLHttpRequest();\n    xhr.oepn('GET', 'api_url');\n    xhr.send();\n    xhr.onreadystatechange = function() {\n        if(xhr.readyState === 4) {\n            // \u54cd\u5e94\u72b6\u7801 2xx \u89c6\u4e3a\u8bf7\u6c42\u6210\u529f\n            if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt;= 300) {\n                console.log(xhr.response);\n            } else {\n                console.log(xhr.status);\n            }\n        }\n    }\n})\n</code></pre></li> <li>\u4f7f\u7528 Promise \u8fdb\u884c\u5c01\u88c5     <pre><code>/* \u51fd\u6570 sendAJAX\n * \u53c2\u6570\uff1aURL\n * \u8fd4\u56de\u503c\uff1apromise \u5bf9\u8c61\n */\nfunction sendAJAX(url) {\n    return new Promise((resolve, reject) =&gt; {\n        const xhr = new XMLHttpRequest();\n        xhr.responseAType = 'json';\n        xhr.oepn('GET', url);\n        xhr.send();\n        xhr.onreadystatechange = function() {\n            if(xhr.readyState === 4) {\n                if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt;= 300) {\n                    resolve(xhr.response);\n                } else {\n                    reject(xhr.status);\n                }\n            }\n        }\n    })\n}\n\nsendAJAX('api_url').then(\n    res =&gt; {console.log(res)},\n    err =&gt; {console.log(err)}\n)\n</code></pre></li> </ul>"},{"location":"Nulling/Front%20End/Promise/#2-api","title":"2 API","text":""},{"location":"Nulling/Front%20End/Promise/#_4","title":"\u6784\u9020\u51fd\u6570","text":"<pre><code>// resolve/reject \u662f \u6210\u529f/\u5931\u8d25 \u7684\u56de\u8c03\u51fd\u6570\nnew Promise((resolve, reject)=&gt;{\n    // \u8fd9\u4e00\u90e8\u5206\u4ee3\u7801\u4f1a\u7acb\u5373\u6267\u884c\uff08\u540c\u6b65\u8c03\u7528\uff09\n})\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#then","title":"then \u65b9\u6cd5","text":"<p>\u7528\u4e8e\u6307\u5b9a\u56de\u8c03\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Promise \u5bf9\u8c61</p> <pre><code>Promise.prototype.then(\n    onResolved, // \u51fd\u6570 value =&gt; {}\n    onRejected  // \u51fd\u6570 reason =&gt; {}\n)\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#catch","title":"catch \u65b9\u6cd5","text":"<p>\u7528\u4e8e\u6307\u5b9a\u300c\u5931\u8d25\u300d\u56de\u8c03</p> <pre><code>Promise.prototypr.catch(\n    onRejected  // \u51fd\u6570 reason =&gt; {}\n)\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#resolve","title":"resolve \u65b9\u6cd5","text":"<p>\u8fd4\u56de\u4e00\u4e2a \u6210\u529f/\u5931\u8d25 \u7684 Promise \u5bf9\u8c61\uff08\u5feb\u901f\u5c01\u88c5\u4f20\u5165\u7684\u6570\u636e\uff09</p> <pre><code>Promise.resolve(data / Promise\u5bf9\u8c61);\n\n// \u4f20\u5165\u300c\u975ePromise\u5bf9\u8c61\u300d\uff0c\u8fd4\u56de \u6210\u529f\u7684Promise\u5bf9\u8c61 + PromiseResult = data\nlet p = Promise.resolve(111);\n/* p[PromiseStatus] = fullfilled\n   p[PromiseResult] = 111 */\n\n// \u4f20\u5165\u300cPromise\u5bf9\u8c61\u300d\uff0c\u5219\u53c2\u6570\u7ed3\u679c\u51b3\u5b9a\u8fd4\u56de\u7ed3\u679c\nlet p = Promise.resolve(new Promise((resolve, reject) =&gt; {\n    resolve(\"OK\");   // =&gt; \u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u7684 Promise\uff0cresult = \u4f20\u5165\u53c2\u6570\n    rejsct(\"Error\"); // =&gt; \u8fd4\u56de\u4e00\u4e2a\u5931\u8d25\u7684 Promise\uff0cresult = \u4f20\u5165\u53c2\u6570\n}))\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#reject","title":"reject \u65b9\u6cd5","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u300c\u5931\u8d25\u300d\u7684 Promise \u5bf9\u8c61\uff08\u9a6c\u4e0a\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u5931\u8d25\uff09</p> <pre><code>Promise.reject(\u5931\u8d25\u539f\u56e0);\n// \u8fd4\u56de rejected \u7684 Promise\u5bf9\u8c61\uff0cresult = \u4f20\u5165\u53c2\u6570\uff08\u4e0d\u7ba1\u4f20\u5165\u5565\uff09\n\n// \u5373\u4f7f\u300c\u4f20\u5165\u4e00\u4e2a\u6210\u529f\u7684 Promise \u5bf9\u8c61\u300d\uff0c\u4e5f\u4f1a\u8fd4\u56de\u4e00\u4e2a rejected \u7684 \u65b0\u5b9e\u4f8b\uff0c\u5982\uff1a\nlet p = new Promise((resolve, reject)=&gt;{\n    resolve(\"OK\"); // \u663e\u7136\uff0c\u4f20\u5165\u7684\u662f\u4e00\u4e2a\u300c\u6210\u529f\u300d\u7684 Promise \u5bf9\u8c61\n}) // \u4f46\u662f p \u662f\u4e00\u4e2a\u300c\u5931\u8d25\u7684Promise\u300d\uff0c\u503c\u4e3a \u201cOK\u201d\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#all","title":"all \u65b9\u6cd5","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Promise \u5bf9\u8c61\uff08\u4f20\u5165\u7684\u6240\u6709 Promise \u90fd\u6210\u529f\u624d\u8fd4\u56de\u6210\u529f\u5bf9\u8c61\uff09</p> <ul> <li>\u6210\u529f Promise \u7684\u7ed3\u679c\uff1a\u6240\u6709\u6210\u529f Promise \u5bf9\u8c61\u8fd4\u56de\u7ed3\u679c\u7ec4\u6210\u7684\u6570\u7ec4</li> <li>\u5931\u8d25 Promise \u7684\u7ed3\u679c\uff1a\u5931\u8d25\u7684\u7b2c\u4e00\u4e2a Promise \u5bf9\u8c61\u7684\u7ed3\u679c</li> </ul> <pre><code>let p1 = new Promise((res, rej)=&gt;{\n    res(\"OK1\")\n})\nlet p2 = new Promise((res, rej)=&gt;{\n    res(\"OK2\")\n    rej(\"ERROR2\")\n})\n\nconst res = Promise.all([p1, p2])\n// \u5982\u679c p2 \u4f7f\u7528\u7684\u662f res(\"OK2\")\uff0c\u5219 res = [\"OK1\", \"OK2\"]\n// \u5982\u679c p2 \u4f7f\u7528\u7684\u662f rej(\"ERROR2\")\uff0c\u5219 res = \"ERROR2\"\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#race","title":"race \u65b9\u6cd5","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Promise \u5bf9\u8c61\uff08\u9996\u4e2a\u5b8c\u6210\u7684 Promise \u51b3\u5b9a\u8fd4\u56de\u503c\u7684\u72b6\u6001\u53ca\u7ed3\u679c\uff09</p> <pre><code>let p1 = new Promise((res, rej)=&gt;{\n    res(\"OK1\")\n})\nlet p2 = new Promise((res, rej)=&gt;{\n    res(\"OK2\")\n    rej(\"ERROR2\")\n})\n\nconst res = Promise.race([p1, p2])\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#3","title":"3 \u5173\u952e\u95ee\u9898","text":"<ol> <li>\u5982\u4f55\u6539\u53d8 Promise \u7684\u72b6\u6001\uff1f<ul> <li><code>resolve(val)</code>\uff1a\u4ece pending \u53d8\u4e3a resolved</li> <li><code>reject(reason)</code>\uff1a\u4ece pending \u53d8\u6210 rejected</li> <li>\u629b\u51fa\u5f02\u5e38\uff1a\u4ece pending \u53d8\u6210 rejected</li> </ul> </li> <li> <p>\u4e3a\u4e00\u4e2a Promise \u5bf9\u8c61\u6307\u5b9a\u591a\u4e2a \u6210\u529f/\u5931\u8d25 \u51fd\u6570\uff0c\u90fd\u4f1a\u88ab\u6210\u529f\u8c03\u7528\u5417\uff1f</p> <p>\u5f53 Promise \u5bf9\u8c61\u8f6c\u53d8\u4e3a\u76f8\u5e94\u5bf9\u8c61\u65f6\uff0c\u5bf9\u5e94\u7684\u56de\u8c03\u90fd\u4f1a\u88ab\u8c03\u7528</p> <pre><code> let p = new Promise((res, rej) =&gt; res());\n // \u6307\u5b9a\u4e24\u4e2a\u6210\u529f\u56de\u8c03\n p.then( res =&gt; console.log(\"recall 1\"));\n p.then( res =&gt; console.log(\"recall 2\"));\n // \u4f9d\u6b21\u8f93\u51fa reacall 1, recall 2(\u5982\u679c\u4e00\u76f4\u662f pending \u7684\u8bdd\u5c31\u4e0d\u4f1a\u6267\u884c)\n</code></pre> </li> <li> <p>Promise \u72b6\u6001\u6539\u53d8 \u4e0e <code>then()</code> \u6307\u5b9a\u56de\u8c03 \u7684\u987a\u5e8f</p> <p>\u6267\u884c\u5f02\u6b65\u4efb\u52a1\u65f6\uff1a\u5148\u6307\u5b9a\u56de\u8c03\uff0c\u518d\u6539\u53d8\u72b6\u6001\uff08\u53cd\u8fc7\u6765\u4e5f\u6709\u53ef\u80fd\uff09</p> <ul> <li>\u5148\u6539\u53d8\u72b6\u6001\uff0c\u518d\u6307\u5b9a\u56de\u8c03\u7684\u4f8b\u5b50\uff1a\u76f4\u63a5\u8c03\u7528 <code>resolve / reject</code>\uff08\u540c\u6b65\u4efb\u52a1\uff09\uff0c\u5ef6\u8fdf\u8c03\u7528 <code>then</code></li> <li>\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5\u5f97\u5230\u6570\u636e\uff08\u6267\u884c\u56de\u8c03\u51fd\u6570\uff09\uff1f<ul> <li>\u5148\u6307\u5b9a\u56de\u8c03\uff0c\u518d\u6539\u53d8\u72b6\u6001\uff1a\u9a6c\u4e0a\u8c03\u7528\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u5f97\u5230\u6570\u636e</li> <li>\u5148\u6539\u53d8\u72b6\u6001\uff0c\u518d\u6307\u5b9a\u56de\u8c03\uff1a\u6307\u5b9a\u56de\u8c03\u540e\u7acb\u5373\u8c03\u7528\uff0c\u5e76\u5f97\u5230\u6570\u636e</li> </ul> </li> </ul> </li> <li> <p><code>then()</code> \u8fd4\u56de\u7684 Promise \u5bf9\u8c61\u72b6\u6001\u7531\u4ec0\u4e48\u51b3\u5b9a\uff1f</p> <p>\u7531\u56de\u8c03\u51fd\u6570\u6267\u884c\u7ed3\u679c\u51b3\u5b9a</p> <ul> <li>\u82e5\u6267\u884c\u56de\u8c03\u7684\u8fc7\u7a0b\u4e2d\u629b\u51fa\u5f02\u5e38 =&gt; \u8fd4\u56de rejected\uff0creason = \u629b\u51fa\u7684\u5f02\u5e38</li> <li>\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u300c\u975e Promise \u503c\u300d=&gt; \u8fd4\u56de resolved\uff0cvalue = \u8fd4\u56de\u503c</li> <li>\u56de\u8c03\u51fd\u6570\u8fd4\u56de Promise \u5bf9\u8c61 =&gt; \u76f4\u63a5\u4f5c\u4e3a <code>then()</code>  \u8fd4\u56de\u7684\u7ed3\u679c</li> </ul> </li> <li> <p>\u5982\u4f55\u4e32\u8054\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff1f</p> <p>\u901a\u8fc7\u5bf9 <code>then()</code> \u7684\u94fe\u5f0f\u8c03\u7528\u4e32\u8054\u591a\u4e2a \u540c\u6b65/\u5f02\u6b65 \u4efb\u52a1 <pre><code>// p \u662f\u4e00\u4e2a\u300c\u5f02\u6b65\u4efb\u52a1\u300d\uff0c\u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u7684 Promise\nlet p = new Promise((res, rej)=&gt;{\n    setTimeout(()=&gt;{res(\"ok\")}, 1000);\n})\n\np.then(\n    res=&gt;{// \u6267\u884c\u6210\u529f\u56de\u8c03\uff0c\u518d\u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u7684 Promise\n        return new Promise((res, rej)=&gt;{\n            res(\"success\");\n        })\n}).then( // \u6267\u884c\u6210\u529f\u56de\u8c03\uff0c\u8f93\u51fa \u201csuccess\u201d\n    res=&gt;{console.log(res)}\n).then( // \u4e0a\u4e00\u4e2a\u6210\u529f\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff08undefined\uff09=&gt; \u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u7684 Promise\uff0cresult = undefined\n    res=&gt;{console.log(res)}\n)\n</code></pre></p> </li> <li> <p>Promise \u7684\u300c\u5f02\u5e38\u7a7f\u900f\u300d</p> <p>\u7c7b\u4f3c\u4e8e\u201c\u4e8b\u4ef6\u5192\u6ce1\u201d\u7684\u611f\u89c9</p> <p>\u5728\u8fdb\u884c <code>then()</code> \u7684\u94fe\u5f0f\u8c03\u7528\u65f6\uff0c\u53ef\u4ee5\u5728\u672b\u5c3e\u7528 <code>catch()</code> \u6307\u5b9a\u4e00\u4e2a\u7edf\u4e00\u7684\u5931\u8d25\u56de\u8c03</p> <p>=&gt; \u524d\u9762\u4efb\u4f55\u4e00\u6b65\u51fa\u9519\u90fd\u5c06\u7531\u8be5\u51fd\u6570\u8fdb\u884c\u515c\u5e95\u5904\u7406 <pre><code>let p = new Promise((res,rej)=&gt;{})\n.then()\n.then()\n.catch(\n    reason =&gt; console.log(\"\u7edf\u4e00\u7684\u5931\u8d25\u56de\u8c03\")\n)\n// \u4f46\u4e2d\u95f4\u6307\u5b9a\u4e86\u5355\u72ec\u7684\u5931\u8d25\u56de\u8c03\uff0c\u4e14\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u8bdd\n// =&gt; \u4f1a\u88ab\u8ba4\u4e3a\u8fd4\u56de\u4e86 undefined\uff0c\u4ece\u800c\u8fdb\u5165\u4e0b\u4e00\u8f6e\u7684\u6210\u529f\u56de\u8c03\uff08\u5e76\u4e0d\u4f1a\u8fdb\u5165 catch\uff09\n</code></pre></p> </li> <li> <p>\u5982\u4f55\u4e2d\u65ad Promise \u94fe\uff1f</p> <p>\u5728\u56de\u8c03\u4e2d\u8fd4\u56de\u4e00\u4e2a pending \u72b6\u6001\u7684 Promise \u5bf9\u8c61\uff0c\u5373\u53ef\u8df3\u51fa <code>then()</code> \u7684\u94fe\u5f0f\u8c03\u7528</p> <p><code>return new Promise(()=&gt;{})</code></p> <p><code>return new Promise()</code> \u4f1a\u89e6\u53d1\u4e0b\u4e00\u5c42\u7684\u5931\u8d25\u56de\u8c03</p> </li> </ol>"},{"location":"Nulling/Front%20End/Promise/#4","title":"4 \u81ea\u5b9a\u4e49\u5c01\u88c5","text":"<pre><code>class Promise {\n    // \u6784\u9020\u65b9\u6cd5\n    constructor(executor) {\n        // \u6dfb\u52a0\u5c5e\u6027\n        this.PromiseState = 'pending';\n        this.PromiseResult = null;\n        this.callback = [];\n        // \u4fdd\u5b58\u5b9e\u4f8b\u5bf9\u8c61\u7684 this \u6307\u9488\n        const _this = this;\n\n        function resolve(data){\n            if(_this.PromiseState !== 'pending') return; // \u4ec5\u5141\u8bb8\u4fee\u6539\u4e00\u6b21\n            _this.PromiseState = 'fullfilled';\n            _this.PromiseResult = data;\n            // \u5f02\u6b65\u6267\u884c\u6240\u6709\u56de\u8c03\n            setTimout(()=&gt;_this.callback.forEach(item =&gt; item.onResolved(data)))\n        }\n\n        function reject(data){\n            if(_this.PromiseState !== 'pending') return;\n            _this.PromiseState = 'rejected';\n            _this.PromiseResult = data;\n            setTimeout(()=&gt;_this.callback.forEach(item =&gt; item.onRejected(data)))\n        }\n\n        try {\n            // \u540c\u6b65\u8c03\u7528\u300c\u6267\u884c\u5668\u51fd\u6570\u300d\n            executor(resolve, reject);\n        } catch(e) { // throw \u629b\u51fa\u5f02\u5e38\uff0c\u6539\u53d8\u72b6\u6001\n            reject(e);\n        }\n    }\n\n    // \u5c01\u88c5 then \u65b9\u6cd5\n    then(onResolved, onRejected) {\n        const _this = this;\n\n        // \u517c\u5bb9\u7528\u6237\u672a\u4f20\u5165\u6210\u529f\u56de\u8c03\u7684\u60c5\u5f62\n        if(typeof onResolved !== 'function') {\n            onResolved = (value) =&gt; {\n                return value; // \u5b9e\u73b0\u503c\u4f20\u9012\n            }\n        }\n\n        // \u517c\u5bb9\u7528\u6237\u672a\u4f20\u5165\u5931\u8d25\u56de\u8c03\u7684\u60c5\u5f62\n        if(typeof onRejected !== 'function') {\n            onRejected = (reason) =&gt; {\n                throw reason; // \u5b9e\u73b0\u5f02\u5e38\u7a7f\u900f\n            }\n        }\n\n        // \u8fd4\u56de Promise \u5bf9\u8c61\n        return new Promise((resolve, reject) =&gt; {\n            // \u5c01\u88c5\u51fd\u6570\uff1a\u7528\u4e8e\u6839\u636e Promise \u5bf9\u8c61\u72b6\u6001\u8c03\u7528\u5bf9\u5e94\u56de\u8c03\u51fd\u6570\n            // \u53c2\u6570 type -&gt; \u9700\u8981\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570\n            function callback(type) {\n                try {\n                    // \u83b7\u53d6\u56de\u8c03\u7684\u6267\u884c\u7ed3\u679c\n                    let res = type(_this.PromiseResult);\n                    // \u5224\u65ad\u7ed3\u679c\u7684\u7c7b\u578b\n                    if(res instanceof Promise) {\n                        res.then(\n                            value =&gt; resolve(value),\n                            reason =&gt; reject(reason)\n                        )\n                    } else {\n                        resolve(res);\n                    }\n                } catch(err) { // \u517c\u5bb9\u629b\u51fa\u5f02\u5e38\u7684\u60c5\u51b5\n                    reject(err);\n                }\n            }\n            // \u6839\u636e Promise \u72b6\u6001\u8c03\u7528\u5bf9\u5e94\u56de\u8c03\u51fd\u6570\n            if(this.PromiseState === 'fullfilled') {\n                // \u5f02\u6b65\u6267\u884c\u56de\u8c03\u51fd\u6570\n                setTimeout(()=&gt;callback(onResolved))\n            }\n            if(this.PromiseState === 'rejecteded') {\n                setTimeout(()=&gt;callback(onRejected))\n            }\n\n            if(this.PromiseResult === 'pending') {\n                // \u4fdd\u5b58\u56de\u8c03\u51fd\u6570\uff0c\u4ee5\u5728\u72b6\u6001\u6539\u53d8\u65f6\u6267\u884c\u56de\u8c03\n                this.callback.push({ // \u4e00\u5bf9\u5bf9\u6dfb\u52a0\uff08\u652f\u6301\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\uff09\n                    // \u652f\u6301\u5f02\u6b65\u4fee\u6539 then \u7684\u8fd4\u56de\u503c\n                    onResolved: function() {\n                        callback(onResolved);\n                    },\n                    onRejected: function() {\n                        callback(onRejected);\n                    }\n                })\n            }\n        })\n    }\n\n    // \u5c01\u88c5 catch \u65b9\u6cd5\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n\n    // \u5c01\u88c5 resolve \u65b9\u6cd5\uff08\u5c5e\u4e8e\u7c7b\uff09\n    static resolve(value) {\n        return new Promise((resolve, reject) =&gt; {\n            if(value instanceof Promise) {\n                value.then(\n                    value =&gt; resolve(value),\n                    reason =&gt; reject(reason)\n                )\n            } else {\n                resolve(value);\n            }\n        })\n    }\n\n    // \u5c01\u88c5 reject \u65b9\u6cd5\uff08\u5c5e\u4e8e\u7c7b\uff09\n    static reject(value) {\n        // \u8fd4\u56de\u5931\u8d25\u7684 Promise \u5bf9\u8c61\n        return new Promise((resolve, reject) =&gt; reject(value))\n    }\n\n    // \u5c01\u88c5 all \u65b9\u6cd5\uff08\u5c5e\u4e8e\u7c7b\uff09\n    static all(promises) {\n        return new Promise((resolve, reject) =&gt; {\n            // \u8bb0\u5f55\u6210\u529f\u7684\u6570\u91cf\n            let count = 0;\n            // \u6210\u529f\u7ed3\u679c\u6570\u7ec4\n            let arr = [];\n            // \u904d\u5386\u6570\u7ec4\uff0c\u786e\u5b9a\u6bcf\u4e00\u4e2a Promise \u7684\u72b6\u6001\n            for(let i = 0 ; i &lt; promises.length; i++) {\n                promises[i].then(\n                    v =&gt; { // \u8bf4\u660e\u8be5\u5bf9\u8c61\u6210\u529f\n                        count++;\n                        // \u5c06\u5f53\u524d\u6210\u529f\u7ed3\u679c\u5b58\u5165\u6570\u7ec4\uff08\u4f7f\u7528\u4e0b\u6807\uff0c\u4e0d\u53d7\u4efb\u52a1\u7ed3\u675f\u987a\u5e8f\u5f71\u54cd\uff09\n                        arr[i] = v;\n                        if(count === promises.length) {\n                            resolve(arr);\n                        }\n                    },\n                    r =&gt; { // \u5bf9\u8c61\u5931\u8d25\uff08\u8fd4\u56de\u9996\u4e2a\u5931\u8d25\u7ed3\u679c\uff09\n                        reject(r);\n                    }\n                )\n            }\n        })\n    }\n\n    // \u5c01\u88c5 race \u65b9\u6cd5\uff08\u5c5e\u4e8e\u7c7b\uff09\n    static race(promises) {\n        return Promise((resolve, reject) =&gt; {\n            for(let i = 0 ; i &lt; promises.length; i++) {\n                promises[i].then(\n                    r =&gt; { // \u4fee\u6539\u8fd4\u56de\u7684 Promise \u72b6\u6001\n                        resolve(v);\n                    },\n                    v =&gt; {\n                        reject(r);\n                    }\n                )\n            }\n        })\n    }\n}\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#5-async-await","title":"5 async &amp; await","text":"<ul> <li> <p><code>async</code> \u51fd\u6570</p> <p>\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0c\u7ed3\u679c\u7531\u51fd\u6570\u8fd4\u56de\u503c\u51b3\u5b9a <pre><code>async function test() {\n    // 1. \u8fd4\u56de \u975ePomise\u5bf9\u8c61 =&gt; \u6210\u529f\uff0cres = \u8fd4\u56de\u503c\n    // 2. \u8fd4\u56de Promise\u5bf9\u8c61 =&gt; \u7ed3\u679c\u4e00\u81f4\n    // 3. \u629b\u51fa\u5f02\u5e38 =&gt; \u5931\u8d25\uff0creason = \u629b\u51fa\u7ed3\u679c\n}\nlet res = test(); // res \u662f\u4e00\u4e2a Promise \u5bf9\u8c61\n</code></pre></p> </li> <li> <p><code>await</code> \u8868\u8fbe\u5f0f</p> <ul> <li>\u53f3\u4fa7\u8868\u8fbe\u5f0f\u4e00\u822c\u4e3a Promise \u5bf9\u8c61\uff08\u4e5f\u53ef\u4ee5\u662f\u5176\u4ed6\u503c\uff09<ul> <li>\u4e3a Promise \u5bf9\u8c61\u65f6<ul> <li>\u6210\u529f -&gt; \u8fd4\u56de Promise \u6210\u529f\u7684\u7ed3\u679c</li> <li>\u5931\u8d25 -&gt; \u629b\u51fa\u5f02\u5e38\uff0c\u9700\u8981\u901a\u8fc7 <code>try-catch</code> \u6355\u83b7</li> </ul> </li> <li>\u975e Promise \u5bf9\u8c61\u65f6\uff0c\u76f4\u63a5\u8fd4\u56de <p><code>await</code> \u5fc5\u987b\u5199\u5728 <code>async</code> \u4e2d\uff08\u4f46\u662f <code>async</code> \u4e2d\u4e0d\u4e00\u5b9a\u6709 <code>await</code> \u8868\u8fbe\u5f0f\uff09</p> </li> </ul> </li> </ul> <pre><code>async function test() {\n   // 1. \u53f3\u4fa7\u4e3a\u6210\u529f\u7684 Promise\n   let p_1 = new Promise((res, rej) =&gt; res(\"OK\"));\n   let res_1 = await p_1; // res_1 = \"OK\"\n   // 2. \u53f3\u4fa7\u4e3a\u5931\u8d25\u7684 Promise\n   let p_1 = new Promise((res, rej) =&gt; rej(\"OK\"));\n   try {\n       let res_2 = await p_2;\n   } catch(err) {\n       console.log(err); // \u6253\u5370\u5931\u8d25\u7ed3\u679c\n   }\n   // 3. \u53f3\u4fa7\u975e Promise\n   let res_3 = await 28; // res_3 = 28\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Promise/#sample","title":"Sample \u8bfb\u53d6\u6587\u4ef6","text":"<p>\u9700\u6c42\uff1a\u8bfb\u53d6\u4e09\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u62fc\u63a5\u540e\u8f93\u51fa</p> <pre><code>const fs = require('fs');\nconst util = require('util');\nconst mineReadFile = util.promisify(fs.readFile);\n\nasync function main() {\n    try {\n        // await \u4f1a\u62bd\u51fa PromiseResult\n        let data1 = await mineReadFile('file1');\n        let data2 = await mineReadFile('file2');\n        let data3 = await mineReadFile('file3');\n    } catch(err) {\n        console.log(err);\n    }\n    console.log(data1 + data2 + data3);\n}\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#sample-ajax","title":"Sample \u53d1\u9001 Ajax \u8bf7\u6c42","text":"<p>\u9700\u6c42\uff1a\u70b9\u51fb button \u540e\uff0c\u53d1\u9001Ajax\u8bf7\u6c42\u83b7\u53d6\u4fe1\u606f</p> <pre><code>const btn = document.querySelector(\"#btn\");\nbtn.onCLick = async function() {\n    let info = await sendAJAX(url); // \u662f\u524d\u9762\u5c01\u88c5\u7684\u51fd\u6570\uff0c\u8fd4\u56de\u503c\u662f Promise \u5bf9\u8c61\n    // \u6216\u8005\u76f4\u63a5\u7528 axios\uff08\u672c\u8eab\u662f\u57fa\u4e8e Promise \u5c01\u88c5\u7684\uff09\n    console.log(info);\n}\n</code></pre>"},{"location":"Nulling/Front%20End/Promise/#6","title":"6 \u5e76\u53d1\u9650\u5236","text":"<p>Credit to \u7231\u54ed\u7684\u8d75\u4e00\u4e00@BiliBili\uff0c\u82ef\u4eba\u628a\u539f\u672c\u7684 TS \u626d\u66f2\u6210\u4e86 JS</p> <pre><code>/* sleep \u7528\u4e8e\u6a21\u4eff\u5f02\u6b65\u4efb\u52a1\n * Number timeout \u5355\u4f4d\u4e3a ms\n * String taskName\n */\nfunction sleep(timeout, taskName) {\n    return new Promise((resolve, reject) =&gt; {\n        console.log(`Task [${taskName}] begin`);\n        setTimeout(() =&gt; {\n            console.log(`Task [${taskName}] finishied`);\n        }, timeout);\n    })\n}\n\n/* doSomething \u7528\u4e8e\u9650\u5236\u5f02\u6b65\u4efb\u52a1\u7684\u6700\u5927\u5e76\u53d1\u6570\n * Function tasks = () =&gt; sleep(timeout, 'tName')\n * Number limit \u6700\u5927\u5e76\u53d1\u6570\n */\n\nasync function doSomething (tasks, limit) {\n    const taskPool = new Set(); // \u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\u96c6\u5408\n    for(var task of tasks) {\n        const p = task();\n        // \u5305\u88c5\u4ee5\u517c\u5bb9\u540c\u6b65\u4efb\u52a1\n        const promise = Promise.resolve(p)\n        taskPool.add(promise);\n        // \u79fb\u9664\u6267\u884c\u5b8c\u6bd5\u7684\u4efb\u52a1\uff08\u5f02\u6b65\uff09\n        promise.then(\n            res =&gt; {\n                taskPool.delete(promise);\n            }\n        )\n        // \u82e5\u603b\u6570 &gt; limit \u7b49\u5f85\u6700\u5feb\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\n        if(taskPool.size &gt;= limit) {\n            await Promise.race(taskPool);\n        }\n    }\n    return Promise.all(taskPool)\n}\n\n// \u6d4b\u8bd5\ndosomething(tasks, 2).then(\n    res =&gt; console.log('All tasks finished');\n)\n\n/* genTasks \u7528\u4e8e\u751f\u6210\u56fe\u7247\u52a0\u8f7d\u4efb\u52a1\u6570\u7ec4\n * String Array urls \u7528\u4e8e\u8bb0\u5f55\u6bcf\u5f20\u56fe\u7247\u7684 URL \u5730\u5740\n * \u8fd4\u56de\u503c Array tasks = () =&gt; Promise\n */\nfunction genTasks(urls) {\n    const tasks = [];\n    urls.foreach(url =&gt; {\n        tasks.push(() =&gt; new Promise((resolve, reject) =&gt; {\n                     const img = new Image();\n                     img.src = url;\n                     // \u76d1\u542c\u52a0\u8f7d\u5b8c\u6bd5\n                     img.onLoad = () =&gt; {\n                         resolve();\n                     }\n        }))\n    })\n    return tasks;\n}\n</code></pre>"},{"location":"Nulling/Front%20End/TS/","title":"TypeScript","text":"<p> \u7ea6 1055 \u4e2a\u5b57  548 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p> <ul> <li> <p>TS \u662f JS \u7684\u8d85\u96c6\uff0c\u4f46\u6700\u7ec8\u4ecd\u4f1a\u88ab\u7f16\u8bd1\u4e3a JS \u4ea4\u7531\u6d4f\u89c8\u5668\u7b49 JS \u8fd0\u884c\u73af\u5883\u6267\u884c\u3002\u76f8\u8f83\u4e8e JS\uff0cTS \u63d0\u4f9b\u4e86\u9759\u6001\u7c7b\u578b\u68c0\u67e5\uff08\u9ebb\u70e6\uff09\u3001\u63a5\u53e3\u3001\u6cdb\u578b\u7b49\u73b0\u4ee3\u5f00\u53d1\u7279\u6027\u3002</p> </li> <li> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\u7684 TS \u4ee3\u7801\u91cf\u4f1a\u5927\u4e8e JS\uff08\u56e0\u4e3a\u8981 dtype \u561b\uff09</p> </li> </ul> Hey\uff0cWHY TS\uff1f <ol> <li> <p>JS \u8fc7\u4e8e\u81ea\u7531\uff0c\u4ee5\u81f4\uff1a</p> <p>\u6570\u636e\u7c7b\u578b\u4e0d\u6e05\u695a\u3001\u8bbf\u95ee\u4e0d\u5b58\u5728\u5c5e\u6027\u90fd\u4e0d\u4f1a\u62a5\u9519</p> </li> <li> <p>\u9759\u6001\u7c7b\u578b\u68c0\u67e5</p> <p>\u5c31\u6bd4\u8f83\u50cf C \u4e86\uff0cTS \u4f1a\u5728 \u8fd0\u884c\u524d \u8fdb\u884c\u68c0\u67e5</p> </li> </ol> \u7c7b\u578b\u58f0\u660e\u6587\u4ef6 <code>.d.ts</code>\" <p>\u68a6\u56de C \u8bed\u8a00\u5934\u6587\u4ef6\u4e86</p> <p>\u6b64\u7c7b\u6587\u4ef6\u4f1a\u7ed9 JS \u5e93\u548c\u6a21\u5757\u52a0\u4e0a\u7c7b\u578b\u4fe1\u606f\uff0c\u65b9\u4fbf TS \u505a\u7c7b\u578b\u68c0\u67e5\u3002\u4e00\u822c\u662f\u6210\u5bf9\u51fa\u73b0\u7684\uff0c\u4f8b\u5982\uff1a</p> demo.js<pre><code>export function add(a,b) { return a+b }\nexport function sub(a,b) { return a-b }\n</code></pre> demo.d.ts<pre><code>// \u53ea\u6709\u58f0\u660e\ndeclare function add(a: number, b:number): number;\ndeclare function sub(a: number, b:number): number;\n// \u9700\u8981\u5bfc\u51fa\nexport { add, sub };\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#0-install","title":"0 Install","text":"<p>\u7b80\u5355\u7684\uff0c\u62ff NPM \u5168\u5c40\u5b89\u88c5\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86</p> <pre><code>npm install typescript -g\n</code></pre> <ul> <li> <p>\u7f16\u8bd1</p> </li> <li> <p>\u624b\u52a8\u628a TS \u6587\u4ef6\u7f16\u8bd1\u4e3a JS \u6587\u4ef6\uff08\u4e2d\u6587\u4f1a\u88ab\u8f6c\u4e3a UFT8 \u4ee5\u4fdd\u8bc1\u517c\u5bb9\u6027\uff09</p> <pre><code>tsc fileName.ts # \u4f1a\u751f\u6210 fileName.js\n</code></pre> </li> <li> <p>\u81ea\u52a8\u5316\u7f16\u8bd1\uff08\u8fd9\u56de\u9003\u4e0d\u8fc7\u5efa\u9879\u76ee\u4e86\uff09</p> <pre><code>tsc --init # \u4f1a\u5192\u51fa tsconfig.json\n\ntsc --watch fileName.ts # \u624b\u52a8\u6dfb\u52a0\u9700\u8981\u76d1\u542c\u7684\u6587\u4ef6\ntsc --watch             # \u76d1\u542c\u8def\u5f84\u4e0b\u7684\u6240\u6709 TS \u6587\u4ef6\n</code></pre> tsconfig.json<pre><code>{\n  'compilerOptions': {\n    // \u9700\u8981\u7684 JS \u7248\u672c\n    'target': 'es2016'(ES7) / 'es2015'(ES6),\n    // \u51fa\u9519\u65f6\u4e0d\u8fdb\u884c\u7f16\u8bd1\uff0c\u7b49\u4ef7\u4e8e tsc --noEmitOnError\n    'noEmitOnError': true,\n  }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#1","title":"1 \u5e38\u7528\u7c7b\u578b","text":"<p>TS \u4e2d\u5305\u542b\u4e86\uff1a</p> <ul> <li>JS \u7684 \u6240\u6709\u6570\u636e\u7c7b\u578b\uff1a<code>string</code>, <code>number</code>, <code>boolean</code>, <code>null</code>, <code>undefined</code>, <code>bigint</code>, <code>symbol</code>, <code>object</code></li> <li>\u4ee5\u53ca\u516d\u4e2a\u65b0\u7c7b\u578b\uff1a<code>any</code>, <code>unknown</code>, <code>never</code>, <code>void</code>, <code>tuple</code>. <code>enum</code></li> <li>\u4ee5\u53ca\u4e24\u79cd\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u65b9\u6cd5\uff1a<code>type</code>, <code>interface</code></li> </ul>"},{"location":"Nulling/Front%20End/TS/#11","title":"1.1 \u7c7b\u578b\u58f0\u660e","text":"<ul> <li> <p>\u53d8\u91cf\u7c7b\u578b\u58f0\u660e</p> \u81ea\u52a8\u88c5\u7bb1: \u5f53\u4f60\u8bbf\u95ee <code>str.length</code> \u65f6\u90fd\u53d1\u751f\u4e86\u4ec0\u4e48 <pre><code>let str = 'hello'; // \u663e\u7136 str \u672c\u8eab\u5e76\u6ca1\u6709 length \u5c5e\u6027\n\nlet size = (function() {\n  // \u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6 String \u5bf9\u8c61\u5bf9\u539f\u59cb\u5b57\u7b26\u4e32\u8fdb\u884c\u5305\u88c5\n  let tmpStrObj = new String(str);\n  // \u8bbf\u95ee\u5305\u88c5\u5bf9\u8c61\u7684 length\n  let lenVal = tmpStrObj.length;\n  // (\u81ea\u52a8)\u9500\u6bc1\u4e34\u65f6\u5bf9\u8c61\uff0c\u8fd4\u56de\u957f\u5ea6\u503c\n  return lenVal;\n})();\n</code></pre> <p><pre><code>let a1:string; // \u8bed\u6cd5\u5c31\u662f let [varName]:[varType]\na1 = 9;        // \u4f1a\u62a5\u7c7b\u578b\u4e0d\u5339\u914d\u7684\u9519\u8bef\na1 = new String('a'); // \u274c\n\n/* \u26a0\ufe0f JS \u4e2d\u7684\u5185\u7f6e\u6784\u9020\u51fd\u6570 String(), Number() \u7b49\u7528\u4e8e\u521b\u5efa\u5305\u88c5\u5bf9\u8c61(object)\n      \u5728\u65e5\u5e38\u5f00\u53d1\u65f6\u5f88\u5c11\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528\u5c0f\u5199\u7248\u672c*/\nlet a2:String; // \u5305\u88c5\u5668\u5bf9\u8c61 String &gt; \u57fa\u5143 string\na2 = new String('a'); a2 = 'a'; // \u2705\n\n// \u8fd8\u80fd\u6307\u5b9a dtype \u4e3a\u5b57\u9762\u91cf\nlet b: 'hello'; // c \u53ea\u80fd = 'hello'\uff0c\u90a3\u4e3a\u5565\u4e0d\u7528 const\uff1f\n\n// \u7c7b\u578b\u63a8\u65ad\nlet c = -99;    // \u63a8\u65ad d:number\nc = 'hello';    // \u7c7b\u578b\u4e0d\u5339\u914d\n\n// \u611f\u89c9\u51fd\u6570\u8fd4\u56de\u503c\u4e5f\u5b9a\u4e49\u5728\u540e\u9762\u602a\u602a\u7684\uff1f\nfunction add(x:number, y:number):number {\n  return x+y;\n}\n</code></pre> - \u5bf9\u8c61\u7c7b\u578b\u58f0\u660e</p> <pre><code>let person: {\n  name: string,\n  age?: number,     // \u53ef\u9009\u5c5e\u6027\uff0c\u8d4b\u503c\u65f6\u53ef\u4ee5\u4e0d\u4f20\u5165\n  [key:string]: any // \u652f\u6301\u8ffd\u52a0\u4efb\u4f55 key \u4e3a\u5b57\u7b26\u4e32\u7684\u589e\u52a0\u5c5e\u6027\n};\n\nperson = {name:'tom', age:16}\uff1b\n</code></pre> </li> <li> <p>\u51fd\u6570\u7c7b\u578b\u58f0\u660e</p> <pre><code>// \u5176\u5b9e\u7b97\u662f\u5b9a\u4e49\u4e86 \u4e00\u7ec4 \u51fd\u6570\u7684\u5f62\u5f0f\u5427\nlet count: (a:number, b:number) =&gt; number;\n\nfunction add(a:number, b:number):number { return a+b; }\nfunction sub(a:number, b:number):number { return a-b; }\n\n// \u4e0b\u9762\u5c31\u90fd\u5408\u6cd5\u4e86\ncount = add; count = sub;\n\n// \u81ea\u52a8\u63a8\u65ad\u4e5f\u884c\uff08\u4e0d\u592a\u4e25\u8c28\uff09\ncount = (a,b) =&gt; { return a*b };          // \u2705\ncount = function(a,b) { return 'res=' + a/b }; // \u274c\n</code></pre> </li> <li> <p>\u6570\u7ec4\u7c7b\u578b\u58f0\u660e</p> <pre><code>let arr: string[]; // \u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f string\nlet arr: Array&lt;number&gt;;\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#12","title":"1.2 \u5e38\u7528\u7c7b\u578b","text":"<ul> <li> <p>Any\uff1a\u653e\u5f03\u5bf9\u8be5\u53d8\u91cf\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u5f7b\u5e95\u8fd4\u7956\u4e3a JS\uff08TS \u5c31\u662f AnyScript\uff09</p> <p>\u8bfb\u4efb\u4f55\u5c5e\u6027\u90fd \u4e0d\u4f1a \u62a5\u9519</p> <pre><code>// \u663e\u5f0f\u6307\u5b9a\nlet a:any;\na = 100; a = 'hello'; a = false; // \u2705\n\n// \u9690\u5f0f\u6307\u5b9a\uff1a\u8ba9\u4ed6\u81ea\u5df1\u63e3\u5ea6\u5723\u610f\nlet b;\nb = 100; b = 'hello'; b = true;  // \u2705\n\n// \u4f46\u662f\u6709\u5de8\u5927 bug\uff0cany \u53ef\u4ee5\u88ab\u8d4b\u503c\u7ed9\u4efb\u610f\u7c7b\u578b\u53d8\u91cf\nlet c:string;\nc = a;          // \u2705 \u8fd9\u5c31\u5f88\u62bd\u8c61\u4e86\n</code></pre> </li> <li> <p>Unknown\uff1a\u6bd4 any \u597d\u4e00\u70b9\uff0c\u4f60\u4e0d\u592a\u786e\u5b9a\u7684\u65f6\u5019\u53ef\u4ee5\u5148\u62ff\u5b83\u586b\u4e0a</p> <p>\u8bfb\u4efb\u4f55\u5c5e\u6027 \u90fd\u4f1a \u8b66\u544a\uff08\u9664\u975e\u65ad\u8a00\uff09</p> <pre><code>let a:unknown;\na = 100; a = 'hello'; a = false;     // \u2705\n\nlet x:string = a;                    // \u274c\nif (typeof a === 'string') { x = a } // \u2705\nx = a as string; x = &lt;string&gt;a;      // \u2705 \u7528\u4e86\u65ad\u8a00\n</code></pre> </li> <li> <p>Never\uff1a\u4ec0\u4e48\u90fd\u4e0d\u884c\uff08\u5305\u62ec <code>undefined</code>. <code>null</code>, <code>''</code>, <code>0</code>\uff09\uff0c\u4e00\u822c\u662f TS \u81ea\u5df1\u63a8\u65ad\u7684</p> <pre><code>function demo():never {\n  ; // \u4f60\u5c31\u7b97\u5565\u4e5f\u4e0d\u5199\u4e5f\u4f1a\u5bc4 =&gt; TS \u4f1a\u81ea\u52a8\u8fd4\u56de undefined\n  ; // \u53ea\u6709 deadLoop(\u6c38\u6052\u5d4c\u5957)\uff0c\u6216\u8005\u6c38\u8fdc\u4e0d\u80fd\u6b63\u5e38\u9000\u51fa\uff08\u76f4\u63a5\u629b Err\uff09\u624d\u884c\n}\n\nlet a:string;\nif (typeof a === 'string') {}\nelse { console.log(a); }      // \u8fd9\u91cc\u7684 a \u662f never \u7c7b\u578b\uff08\u4ec0\u4e48\u4e1c\u897f\uff09\n</code></pre> </li> <li> <p>Void\uff1a\u4e00\u822c\u7528\u4e8e\u58f0\u660e\u8fd4\u56de\u503c\uff0c\u4f60\u4e0d\u80fd\u62ff\u8fd4\u56de\u503c\u5e72\u4efb\u4f55\u4e8b</p> <p>\u4f46\u662f <code>function():void != function():undefined</code></p> \u4e0b\u9762\u7684\u5199\u6cd5\u90fd\u5408\u6cd5<pre><code>function logMsg(msg:string):void {\n  console.log(msg);\n  // \u2705 \u6ca1\u6709 return, \u8fd4\u56de undefined \n}\n\nfunction logMsg(msg:string):void {\n  console.log(msg);\n  return\uff1b          // \u2705 \u8fd4\u56de\uff0c\u81ea\u52a8\u8865 undefined \n}\n\nfunction logMsg(msg:string):void {\n  console.log(msg);\n  return undefined; // \u2705 \u624b\u52a8\u8fd4\u56de undefined \n}\n</code></pre> </li> <li> <p>object\uff1a\u5176\u5b9e\u6709\u5927\u5c0f\u5199\u4e24\u79cd\uff0c\u4f46\u56e0\u4e3a\u8303\u56f4\u592a\u5e7f\uff08\u5339\u654c <code>any</code>\uff09\u3001\u6240\u4ee5\u57fa\u672c\u7528\u4e0d\u4e0a</p> <ul> <li> <p>object\uff1a\u6240\u6709\u7684 \u975e\u539f\u59cb\u7c7b\u578b\uff0c\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u51fd\u6570\uff08\u90fd\u884c\uff09</p> </li> <li> <p>Object\uff1a\u6240\u6709\u80fd\u8c03 Object \u65b9\u6cd5\uff08\u6bd4\u5982 <code>toString</code>\uff09\u7684\uff0c\u4e0d\u80fd\u5b58 <code>null</code> &amp; <code>undefined</code></p> </li> </ul> </li> <li> <p>tuple\uff1a\u5b58\u50a8\u4e00\u7ec4\u957f\u5ea6\u56fa\u5b9a\u3001\u503c\u4e0d\u53ef\u4fee\u6539\u7684\u5143\u7d20</p> <pre><code>let arr: [string, number];   // \u53ea\u80fd\u5b58\u5006\uff0c\u7b2c\u4e00\u4e2a str \u7b2c\u4e8c\u4e2a num\nlet arr: [string, boolean?]; // \u53ef\u4ee5\u6ca1\u6709 bool\nlet arr: [number, ...string[]]; // \u7b2c\u4e00\u4e2a\u4e00\u5b9a\u662f num, \u540e\u9762\u968f\u4fbf\u6709\u51e0\u4e2a str\n</code></pre> </li> <li> <p>enum\uff1a\u679a\u4e3e\uff08\u672c\u8d28\u4e0a\u8fd8\u662f Object-int\uff09\uff0cswitch-case \u7684\u65f6\u5019\u770b\u7740\u8bed\u4e49\u5316\u4e00\u70b9</p> <pre><code>enum Direction { // \u6570\u5b57\u679a\u4e3e\uff1a\u81ea\u52a8\u9012\u589e + \u53cd\u5411\u6620\u5c04\n  UP,            // Direction[0]\uff0cDirection['UP'] == 0\n  DOWN,\n  LEFT,\n  RIGHT\n}\n\nenum Direction { // \u5b57\u7b26\u4e32\u679a\u4e3e\uff1a\u5f88\u591a\u5b57\u7b26\u4e32\u5c01\u88c5\u7684\u662f\u8fd9\u4e2a\n  UP = 'up',\n  DOWN = 'down'\n}\n\n// \u5e38\u91cf\u679a\u4e3e\uff1a\u7f16\u8bd1\u65f6\u4f1a\u5185\u8054\uff08\u4f1a\u628a Direction.UP \u76f4\u63a5\u6362\u6210 0\uff09\nconst enum Direction {} \n\nfunction walk(dir:Direction) {\n  switch(dir) {\n    case Direction.UP: break;\n    case Direction.DOWN: break;\n    case Direction.LEFT: break;\n    case Direction.RIGHT: break;\n  }\n}\n</code></pre> </li> <li> <p>type\uff1a\u7ed9\u7c7b\u578b\u8d77\u522b\u540d\uff08\u76f8\u5f53\u4e8e <code>typedef</code>\uff09</p> <pre><code>// \u8054\u5408\u7c7b\u578b\uff08or\uff09\ntype Status = number | string;\ntype Gender = '\u7537' | '\u5973';\n\n// \u4ea4\u53c9\u7c7b\u578b\ntype Area = {\n  height: number, width:  number\n};\ntype Address = {\n  cell: number, room: number\n};\ntype House = Area &amp; Address;\nlet house:House = {\n  height: 100, width: 100,\n  cell:   1,   room:  20\n}\n\n// \u51fd\u6570\u7c7b\u578b\ntype LogFunc = () =&gt; void    // \u26a0\ufe0f \u5e76\u4e0d\u4e25\u683c\u8fd4\u56de\u7a7a\nconst f:LogFunc = function() {\n  return 60;  // \u8fd9\u4e1c\u897f\u80fd\u884c\n}\n// \u4f46\u4f60\u4e0d\u5e94\u8be5\u5904\u7406 void \u7684\u8fd4\u56de\u503c\nlet x = f(); console.log(x);        // \u274c\n\n// \u8fd9\u662f\u4e3a\u4e86 forEach(\u904d\u5386) map(\u8fed\u4ee3) \u90fd\u80fd\u6210\u7acb\narr.forEach((item) =&gt; item += 1;)   // \u8fd4\u56de undefined\narr.forEach((item) =&gt; b.push(item)) // \u8fd4\u56de push \u7ed3\u679c\uff08\u662f\u4e2a int\uff09\narr.map((item) =&gt; {return item+1;}) // \u8fd4\u56de int\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#2","title":"2 \u7c7b","text":"<ul> <li> <p>\u5c5e\u6027\u4fee\u9970\u7b26</p> Name Rule public ALL\uff08default\uff09 protected \u7c7b\u5185\u3001\u5b50\u7c7b private \u7c7b\u5185\uff08\u5b50\u7c7b\u4e0d\u884c\uff09 readonly \u4e0d\u80fd\u4fee\u6539\u7f62\u4e86 </li> <li> <p>\u7c7b\u7684\u5b9a\u4e49</p> <pre><code>class Person {\n  name: string\n  age:  number\n  // \u6784\u9020\u51fd\u6570\n  constructor(name:string, age:number) {\n    this.name = name;\n    this.age  = age;\n  }\n\n  // \u6784\u9020 + \u6210\u5458\u5b9a\u4e49\u4e5f\u53ef\u4ee5\u7b80\u5199\u4e3a\u4e0b\u5217\u5f62\u5f0f\n  constructor( // \u4f60\u751a\u81f3\u4e0d\u7528\u4e00\u4e2a\u4e2a\u8d4b\u503c\n    public name: string,\n    private age:  number\n  ) {}\n\n\n  // \u5176\u4ed6\u7684\u65b9\u6cd5\n  speak() {\n    console.log(`My name is ${this.name}`)\n  }\n}\n</code></pre> </li> <li> <p>\u7c7b\u7684\u7ee7\u627f</p> <pre><code>// \u5b8c\u5168\u4e0d\u6269\u5c55\u7684\u8bdd\u8fde\u6784\u9020\u51fd\u6570\u90fd\u4e0d\u7528\u5199\nclass Student extends Person {\n  private readonly rank: number\n  constructor(name:string, age:number, rank:number) { // \u9700\u8981\u5168\u63a5\u8fc7\u6765\n    super(name, age); // \u4e22\u7ed9\u7236\u7c7b\n    this.rank = rank;\n  }\n  study() {\n    console.log(`${this.name} is \u52c9\u5f3aing ...`)\n  }\n  override speak() { // \u4f1a\u88ab\u8986\u76d6\uff08\u4e0d\u52a0\u5173\u952e\u8bcd\u4e5f\u884c\uff0c\u4f46\u62fc\u9519\u4e86\u4e0d\u4f1a\u62a5\u9519\uff09\n    console.log(`My rank is ${this.rank}`)\n  }\n}\n// \u521b\u5efa\u5b9e\u4f8b\ncosnt s = new Student('\u5c0f\u674e', 18, 2);\n</code></pre> </li> <li> <p>\u62bd\u8c61\u7c7b\uff1a\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316\uff0c\u53ea\u7528\u6765\u5b9a\u4e49\u7c7b\u7684\u7ed3\u6784\u548c\u884c\u4e3a</p> <p>\u4f60\u53ef\u4ee5\u53ea\u5199\u62bd\u8c61\u65b9\u6cd5\uff08\u6d3e\u751f\u7c7b\u5fc5\u987b\u5b9e\u73b0\uff09\uff0c\u4e5f\u53ef\u4ee5\u7a0d\u5fae\u585e\u4e00\u4e9b\u5177\u4f53\u5b9e\u73b0</p> <pre><code>// \u9700\u8981\u6709 abstract \u5173\u952e\u8bcd\nabstract class Package {\n  constructor(\n    public weight: number\n  ) {}\n\n  abstract calculate(s:string):number // \u4e0d\u80fd\u6709 {} \u51fd\u6570\u4f53\n\n  printPkg() {\n    console.log(`\u5171\u8ba1 ${this.calculate('aaa')} \u5143`)\n  }\n}\n\nclass StandardPkg extends Package {\n  constructor(\n    weight: number,\n    private uniPrice: number\n  ) { super(weight); } // \u8fd9\u53e5\u4e0d\u80fd\u4e22\n\n  calculate() {\n    return this.weight * this.uniPrice;\n  }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#3","title":"3 \u63a5\u53e3","text":"<p><code>interface</code> \u53ea\u80fd\u5b9a\u4e49\u683c\u5f0f\uff0c\u4e0d\u80fd\u5305\u542b \u4efb\u4f55\u5b9e\u73b0</p> <p>\u4e00\u4e2a\u7c7b\u53ef\u4ee5 \u5b9e\u73b0\u591a\u4e2a \u63a5\u53e3\uff0c\u4f46\u53ea\u80fd \u7ee7\u627f\u4e00\u4e2a \u62bd\u8c61\u7c7b</p> <ul> <li> <p>\u5b9a\u4e49\u7c7b\u7ed3\u6784</p> <pre><code>interface PersonInterface {\n  name: string\n  age:  number\n  speak():void\n}\n\nclass Person implements PersonInterface {\n  constructor(\n    name:string,\n    age: number\n  ) {}\n  speak() {console.log(this.name)}\n}\n</code></pre> </li> <li> <p>\u5b9a\u4e49\u5bf9\u8c61\u7ed3\u6784</p> <pre><code>interface UsrInterface {\n  usrname: string\n  pwd:     string\n  age?:    number\n  run:     (n:number) =&gt; void\n}\n// \u5df2\u7ecf\u53d8\u6210 type \u7684\u5f62\u72b6\u529b\nconst usr: UserInterface = {\n  name: 'admin',\n  pwd:  '123',\n  run(n) { console.log(`${n} meters`) }\n}\n</code></pre> </li> <li> <p>\u5b9a\u4e49\u51fd\u6570\u7ed3\u6784</p> <pre><code>interface CountInterface {\n  (a:number, b:number): number;\n}\n\nconst add: CountInterface = (x, y) =&gt; {\n  return x + y;\n}\n</code></pre> </li> <li> <p>\u63a5\u53e3\u7ee7\u627f</p> <pre><code>interface PersonInterface {\n  name: string\n  age:  number\n}\n\ninterface StudentInterface extends PersonInterface {\n  grade: number\n}\n\nconst stu: StudentInterface {\n  name: 'aaa',\n  age:  12,\n  grade: 7\n}\n</code></pre> </li> <li> <p>\u81ea\u52a8\u5408\u5e76</p> <pre><code>interface PersonInterface {\n  name: string\n  age:  number\n}\n// \u540d\u5b57\u4e00\u6837\u54e6\uff08\u6709\u4e00\u79cd CSS \u611f\uff09\ninterface PersonInterface {\n  gender: string\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#4","title":"4 \u6cdb\u578b","text":"<p>\u5728\u5b9a\u4e49 \u51fd\u6570\u3001\u7c7b\u3001\u63a5\u53e3 \u65f6\uff0c\u4f7f\u7528\u5360\u4f4d\u7b26\u89c4\u5b9a\u7c7b\u578b\uff08\u5728\u5177\u4f53\u4f7f\u7528\u65f6\u624d\u88ab\u786e\u5b9a\uff09</p> <ul> <li> <p>\u6cdb\u578b\u51fd\u6570</p> <pre><code>function logData&lt;T&gt;(data:T) {\n  console.log(data)\n}\nlogData&lt;number&gt;(100);\nlogData&lt;string&gt;('hello');\n\n// \u53ef\u4ee5\u6709\u591a\u4e2a\u6cdb\u578b\nfunction log&lt;A,B&gt;(p1:A, p2:B): A|B {\n  console.log(p1)\n  return Date.now() % 2 ? p1 : p2;\n}\nlog&lt;number, string&gt;(123, 'aaa');\n</code></pre> </li> <li> <p>\u6cdb\u578b\u63a5\u53e3</p> <pre><code>interface SampleInter&lt;T&gt; {\n  extraInfo: T\n}\nlet s: SampleInter&lt;number&gt; {\n  extraInfo: 200\n}\n\n// \u8fd8\u53ef\u4ee5\u4f20\u4e00\u4e9b\u5947\u602a\u7684\ntype JobInfo = {\n  title: string\n  company: string\n}\nlet s: SampleInter&lt;JobInfo&gt; {\n  exrtaInfo; {\n    title: 'mentor',\n    company: 'aaa'\n  }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#5","title":"5 \u88c5\u9970\u5668","text":"<ul> <li> <p>\u88c5\u9970\u5668\u7684\u672c\u8d28\u662f\u51fd\u6570\uff0c\u53ef\u4ee5\u5bf9 \u7c7b/\u5c5e\u6027/\u65b9\u6cd5/\u53c2\u6570 \u8fdb\u884c\u6269\u5c55\u3002</p> </li> <li> <p>\u4f46\u8fd9\u4e1c\u897f\u81f3\u4eca\u4ecd\u662f\u4e00\u4e2a\u5b9e\u9a8c\u7279\u6027\uff0c\u9700\u8981\u624b\u52a8\u8c03\u6574\u914d\u7f6e\u5f00\u542f</p> </li> <li> <p>\u6267\u884c\u987a\u5e8f\uff1a\u5c5e\u6027 =&gt; \u53c2\u6570 =&gt; \u65b9\u6cd5 =&gt; \u7c7b</p> </li> </ul>"},{"location":"Nulling/Front%20End/TS/#51","title":"5.1 \u7c7b\u88c5\u9970\u5668","text":"<p>\u5982\u679c\u7c7b\u88c5\u9970\u5668\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u65b0\u7684\u7c7b\uff0c\u90a3\u4e48\u4ed6\u4f1a \u66ff\u6362 \u6389\u88ab\u88c5\u9970\u7684\u7c7b</p> <pre><code>/* \u5b9e\u9645\u4e0a\u8fd9\u91cc\u7528 Function \u7c7b\u4e0d\u592a\u6070\u5f53\n   \u5728 TS \u4e2d\uff0cFunction \u53ef\u4ee5\u6307\u4ee3\uff1a\u666e\u901a\u51fd\u6570\u3001\u7bad\u5934\u51fd\u6570\u3001\u65b9\u6cd5 etc.\n   \u4f46\u4e0d\u662f\u6240\u6709 Function \u7c7b\u51fd\u6570\u90fd\u80fd\u88ab\u5b9e\u4f8b\u5316\uff08\u6bd4\u5982\u7bad\u5934\u51fd\u6570\uff09\n*/\nfunction CustomToString(target:Function) {\n  // \u91cd\u5199 toString \u65b9\u6cd5\n  target.prototype.toString = function() {\n    return JSON.stringify(this);\n  }\n  // \u5c01\u9501\uff1a\u65e0\u6cd5 \u4fee\u6539/\u5220\u9664 \u5bf9\u8c61\u7684 \u5c5e\u6027/\u65b9\u6cd5\n  Object.seal(target.prototype);\n\n  // \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7c7b\n  return class {\n    test() { console.log('oi') }\n  }\n}\n\n@CustomToString // \u6b64\u5904\u76f8\u5f53\u4e8e\u8fdb\u884c\u4e86 CustomToString(Person) \u8c03\u7528\nclass Person {\n  name: string, age: int\n}\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u60f3\u9650\u5236\u4f20\u5165\u53c2\u6570\u5fc5\u987b\u662f \u6784\u9020\u51fd\u6570\uff0c\u90a3\u4e48 Function \u5c31\u592a\u5bbd\u4e86 \u4ec5\u58f0\u660e\u6784\u9020\u7c7b\u578b<pre><code>/* \u6211\u4eec\u9700\u8981\u81ea\u5b9a\u4e49\u7c7b\u8fdb\u884c\u89e3\u51b3\n   new            \u8868\u793a\u8be5\u51fd\u6570\u80fd\u88ab new \u5173\u952e\u5b57\u8c03\u7528\n   ...args:any[]  \u63a5\u53d7\u4efb\u610f\u6570\u91cf\u3001\u4efb\u610f\u7c7b\u578b\u53c2\u6570\n   =&gt; {}          \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff08\u4e0d\u662f null/undefined\uff09\n*/\ntype Constructor = new (..args:any[]) =&gt; {}\n\nfunction test(fn: Constructor) {}\n\nclass Person {}\ntest(Person)   // \u8f93\u5165\u7684\u53c2\u6570\u662f\u5426\u4e3a Class\n</code></pre> \u58f0\u660e\u6784\u9020\u7c7b\u578b+\u6307\u5b9a\u9759\u6001\u5c5e\u6027<pre><code>// \u5b9a\u4e49\u5305\u542b\u9759\u6001\u5c5e\u6027 wife \u7684\u6784\u9020\u7c7b\u578b\ntype Constructor = {\n  new(...args: any[]): {}; // \u6784\u9020\u5176\u4ed6\u5c5e\u6027\u7b7e\u540d\n  wife: string;\n}\n\nfunction test(fn:Constructor) {}\n\nclass Person {\n  static wife = 'asdf'\n}\ntest(Person)   // \u8f93\u5165\u53c2\u6570\u662f\u5426\u4e3a\u5177\u5907\u7279\u5b9a\u9759\u6001\u5c5e\u6027\u7684\u5bf9\u8c61\n</code></pre></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u4e3a\u8fd4\u56de\u7684\u7c7b\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u65b9\u6cd5 LogTime \u7528\u4e8e\u6253\u5370\u65f6\u95f4</p> <pre><code>type Constructor = new (...args:any[]) =&gt; {}\n\n// \u901a\u8fc7 LogTime \u4fee\u9970\u7684\u7c7b\u5c06\uff1a\u4fdd\u7559\u539f\u6765\u7684\u65b9\u6cd5/\u5c5e\u6027 + \u5e76\u6dfb\u52a0 createdTime/getTime\nfunction LogTime&lt;T extends Constructor&gt;(target: T) {\n  return class extends target {\n    createdTime: Date\n    constructor(...args:any[]) {\n      super(...args)\n      this.createdTime = new Date()\n    }\n    getTime() {\n      return `\u521b\u5efa\u65f6\u95f4${this.createdTime}`\n    }\n  }\n}\n\n// \u4f46\u539f\u6765\u7684\u7c7b\u4f1a\u4e0d\u627f\u8ba4 getTime() \u65b9\u6cd5\uff0c\u5fc5\u987b\u5199\u4e00\u4e2a\u501f\u53e3\u8ba9\u4ed6\u8ba4\u8bc6\u4e00\u4e0b\ninterface Person { // \u8d77\u540c\u4e00\u4e2a\u540d\u5b57 =&gt; \u81ea\u52a8\u5408\u5e76\n  getTime(): void\n}\n\n@LogTime\nclass Person {}\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#52","title":"5.2 \u88c5\u9970\u5668\u5de5\u5382","text":"<p>\u201c\u88c5\u9970\u5668\u5de5\u5382\u201d\u662f\u4e00\u4e2a\u8fd4\u56de \u51fd\u6570\u88c5\u9970\u5668 \u7684\u51fd\u6570\uff0c\u8fd9\u4f7f\u5f97\u4f60\u53ef\u4ee5\u4e3a\u88c5\u9970\u5668\u6dfb\u52a0\u53c2\u6570\uff0c\u4ece\u800c\u66f4\u52a0\u7075\u6d3b\u7684\u63a7\u5236\u88c5\u9970\u5668\u7684\u884c\u4e3a</p> \u5148\u6765\u770b\u4e00\u4e2a\u53cd\u9762\u4f8b\u5b50 <pre><code>function LogInfo(target: Function) {\n  target.prototype.introduce = function() {\n    console.log(`My name is ${this.name}`);\n  }\n}\n\ninterface Person {\n  introduce: () =&gt; void\n}\n\n@LogInfo                   // \u88c5\u9970\u5668\u4f20\u4e0d\u4e86\u53c2\u6570\nclass Person {             // @LogInfo(3) \u7b49\u4ef7\u4e8e LogInfo(3)(Person)\n  constructor(\n    public name:string\n  ) {}\n}\n\nconst p = new Person('Tom');\np.introduce();              // \u90a3\u6211\u4eec\u600e\u4e48\u624b\u52a8\u8c03\u591a\u6b21\u5462\uff1f\n</code></pre> <p>\u5f53\u4e00\u5c42\u4f20\u53c2\u89e3\u51b3\u4e0d\u4e86\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5c31 \u518d\u5305\u4e00\u5c42 \uff01</p> <pre><code>function LogInfo(n: number) {         // \u8fd9\u4e00\u5c42\u7528\u6765\u63a5\u53c2\u6570\n  return function(target: Function) { // \u8fd9\u5c42\u624d\u662f\u6b63\u7ecf\u88c5\u9970\u5668\n    target.prototype.introduce = function() {\n        for (let i=0; i&lt;n; i++) {\n          console.log(`My name is ${this.name}`);\n        }\n    }\n  }\n}\n\n@LogInfo(5)        // \u8fd9\u4e0b\u80fd\u8fde\u7740 speak 5 \u6b21\u4e86\nclass Person {...}\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#53","title":"5.3 \u88c5\u9970\u5668\u7ec4\u5408","text":"<p>\u6211\u4eec\u6709 test1 &amp; test4 \u4e24\u4e2a \u88c5\u9970\u5668\uff0c\u548c test2 &amp; test3 \u4e24\u4e2a \u88c5\u9970\u5668\u5de5\u5382\u3002</p> <pre><code>@test1\n@test2()  // \u5de5\u5382\u8981\u52a0\u62ec\u53f7\n@test3()\n@test4\nclass Person {}\n/*  \u8c03\u7528\u987a\u5e8f\u5982\u4e0b\uff1a\n    1. \u81ea\u9876\u5411\u4e0b\u6267\u884c\u5de5\u5382\u3001\u8fd4\u56de\u88c5\u9970\u5668\n    2. \u81ea\u9876\u5411\u4e0a\u6267\u884c\u88c5\u9970\u5668\uff08\u5de5\u5382\u90e8\u5206\u6267\u884c\u8fd4\u56de\u7684\uff09\n*/\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#54","title":"5.4 \u5c5e\u6027\u88c5\u9970\u5668","text":"<pre><code>// \u76d1\u89c6\u5c5e\u6027\u503c\u7684\u53d8\u5316\nfunction State(target: object, propertyKey: string) {\n  /* target: \u88c5\u9970\u5b9e\u4f8b\u5c5e\u6027\u65f6\uff0c\u4e3a\u7c7b\u7684\u539f\u578b\u5bf9\u8c61\uff1b\u88c5\u9970 static \u5c5e\u6027\u65f6\uff0c\u4e3a\u7c7b\u672c\u8eab\n    propertyKey: \u5c5e\u6027\u540d */\n  let key = `__${propertyKey}`;\n  /* \u8fd9\u8fb9\u76f4\u63a5\u5728\u539f\u578b\u4e0a\u585e\u503c\uff0c\u5982\u679c\u76f4\u63a5\u7528 key \u4f1a\u585e\u5728 prototype \u4e0a\uff08\u76f8\u5f53\u4e8e\u7c7b\u5171\u7528\u4e86\uff09\n     \u4f46\u662f this[__key] \u53ef\u4ee5\u53ea\u64cd\u4f5c\u5bf9\u5e94\u7684\u5b9e\u4f8b */\n  Object.defineProperty(target, propertyKey, {\n    get() {\n      return this[key]\n    }\n    set(neoVal) {\n      console.log(`${propertyKey} has been set to ${neoVal}`)\n      // \u4f60\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u6279\u91cf\u66f4\u65b0\u9875\u9762\u4e0a\u6240\u6709\u7528\u5230 age \u7684\u5730\u65b9\n      this[key] = neoVal\n    },\n    enumerable: true,  // \u53ef\u679a\u4e3e\n    configurable: true // \u53ef\u914d\u7f6e\n  })\n}\nclass Person {\n  @State age: number // \u8fd9\u4e2a\u662f\u52a0\u5728\u5b9e\u4f8b\u4e0a\u7684\n}\n\n// \u8fd9\u4e2a\u662f\u52a0\u8f7d\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\nlet value = -1;\nObject.defineProperty(Person.prototype, 'age', {\n  get()    { return value},\n  set(val) { value = val }\n})\n\n/* \u5982\u679c\u5148\u5f80\u539f\u578b\u4e0a\u585e age\uff0c\u518d\u5b9e\u4f8b\u5316\u3002\u90a3\u4e48\uff1a\n   1. \u8c03\u7528\u6784\u9020\u5668\u65f6\uff0cthis.age = age \u4f1a\u5728\u539f\u578b\u94fe\u4e0a\u67e5\u627e age \u5c5e\u6027\n   2. \u539f\u578b\u4e0a\u6709\u3001\u89e6\u53d1 setter\uff0c\u6b64\u65f6\u4ea7\u751f\u5c5e\u6027\u906e\u853d\n   \u26a0\ufe0f \u4f46\u662f\uff0c\u5148\u5b9e\u4f8b\u5316\u3001\u518d\u5f80 prototype \u4e0a\u585e\u5c31\u4e0d\u4f1a\u5c5e\u6027\u906e\u853d\n*/\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#55","title":"5.5 \u65b9\u6cd5\u88c5\u9970\u5668","text":"<pre><code>// \u5728\u539f\u65b9\u6cd5\u524d\u540e\u6dfb\u52a0\u4e00\u4e9b\u903b\u8f91\nfunction Logger(target:object,prototype:string,descriptor:PropertyDescriptor) {\n  // \u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\uff1a\u539f\u578b\u5bf9\u8c61/\u7c7b\u672c\u8eab\uff08static\uff09\uff0c\u65b9\u6cd5\u540d\uff0c\u65b9\u6cd5\u63cf\u8ff0\u5668\n  const originnal = descriptor.value; // \u5b58\u50a8\u539f\u59cb\u65b9\u6cd5\n  descriptor.value = function(...args:any[]) { // \u66ff\u6362\u539f\u65b9\u6cd5\n    console.log(`func ${propertyKey} BEGIN ...`);\n    const res = originnal.call(this, ...args);  // \u6267\u884c\u539f\u51fd\u6570\uff0corigginal() \u4f1a\u628a this \u641e\u4e22\n    console.log(`func ${propertyKey} END`);\n    return res; // \u56e0\u4e3a\u53ef\u80fd\u6709\u8fd4\u56de\u503c\n  }\n}\n\n// \u9a8c\u8bc1\u6709\u6548\u503c\uff0c\u53ca\u65f6\u963b\u6b62\u539f\u65b9\u6cd5\u8c03\u7528\nfunction Validate(maxVal: number) { // \u63a5\u53d7\u989d\u5916\u53c2\u6570\uff0c\u6240\u4ee5\u7528\u4e86\u5de5\u5382\n  return function(target, prototype, descriptor) {\n    const origin = descriptor.value;\n    descriptor.value = function(...args: any[] {\n      if (args[0] &gt; maxVal) {\n        throw new Error('\u5e74\u9f84\u592a\u5927')\n      }\n      // \u53c2\u6570\u7b26\u5408\u8981\u6c42\u65f6\uff0c\u8c03\u7528\u539f\u59cb\u65b9\u6cd5\n      return origin.call(this, args); // call \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u6570\u7ec4\uff0c\u4e0d\u7528\u6790\u6784\n    })\n  }\n}\n\nclass Person {\n  @Logger speak() [\n    console.log(`${this.name}`);\n  ]\n  @Validate(100)\n  static isAdult(age: number) {\n    return age &gt;= 18;\n  }\n}\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#56","title":"5.6 \u8bbf\u95ee\u5668\u88c5\u9970\u5668","text":"<pre><code>function ValidateRange(minTemp, maxTemp) { // \u8981\u63a5\u53c2\u6570\n  return function(target, propertyKey, descriptor) {\n    const originSet = descriptor.set;      // \u8fd9\u91cc\u4e0d\u4e00\u6837\u4e86\u54e6\n    descriptor.set = function(val) {\n      if (val &lt; minTemp || val &gt; maxTemp) {\n        throw new Error('invalid Temp!')\n      }\n      if (originSet) { // \u56e0\u4e3a\u8fd9\u4e2a\u5c5e\u6027\u53ef\u80fd\u6ca1\u6709\u5199 setter\n        originSet.call(this, val);\n      }\n    }\n  }\n}\n\nclass Weather {\n  private _temp: number\n  constructor(_temp:number) { this._temp = _temp; }\n\n  @ValidateRange(-50, 50)\n  set temp(val) { this._temp = val }\n  get temp()    { return this._temp }\n}\n\nconst w = new Weather(20);\nw._temp;   // \u274c _temp \u662f\u79c1\u6709\u7684\nw.temp;    // \u2705 \u4f1a\u8c03\u7528 get temp()\n</code></pre>"},{"location":"Nulling/Front%20End/TS/#57","title":"5.7 \u53c2\u6570\u88c5\u9970\u5668","text":"<p>\u53c2\u6570\u88c5\u9970\u5668\u7684 \u8fd4\u56de\u503c\u4f1a\u88ab\u5ffd\u7565</p> <pre><code>import 'reflect-metadata'\nconst requiredMetadataKey = Symbol(\"required\");\n\n// \u628a\u88ab\u6ce8\u91ca\u7684 \u53c2\u6570idx \u4e22\u8fdb list\nfunction required(target, propertyKey: string | symbol, parameterIndex: number) {\n  // parameterIndex \u662f\u4ece 0 \u5f00\u59cb\u7684\u53c2\u6570\u7d22\u5f15\n  let RequiredParams: number[] = Reflect.getOwnMetadata(requiredMetadataKey, target propertyKey) || [];\n  RequiredParams.push(parameterIndex);\n  Reflect.defineMetadata( requiredMetadataKey, existingRequiredParameters, target, propertyKey);\n}\n\n// \u8c03\u7528\u524d\u9a8c\u8bc1\uff1a\u6240\u6709 required \u53c2\u6570\u5747\u4f20\u5165\u65f6\uff0c\u8c03\u7528\u539f\u65b9\u6cd5\nfunction validate(target, propertyKey, descriptor) {\n  let orogin = descriptor.value;\n  descriptor.value = function (...args) {\n    let requiredParameters: number[] = Reflect.getOwnMetadata(requiredMetadataKey, target, propertyName);\n    if (requiredParameters) {\n      for (let paramIdx of requiredParameters) {\n        if (paramIdx &gt;= args.length || args[paramIdx] === undefined) {\n          throw new Error(\"Missing required argument.\");\n        }\n      }\n    }\n    return method.apply(this, args);\n  }\n}\n\nclass Person {\n  @validate\n  speak(@required msg: string, num: number) {\n    console.log(`[${this.name}]: ${msg}`);\n  }\n}\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/","title":"TailWind CSS","text":"<p> \u7ea6 710 \u4e2a\u5b57  118 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u8fd8\u5728\u4e3a\u4e86\u624b\u6413\u54cd\u5e94\u5f0f\u5e03\u5c40\u5417\uff1f\u5bf9\u5b83\u4f7f\u7528 TailWind \u5427\uff01</p> <p>\u90a3\u4e48\u4ee3\u4ef7\u662f\u4ec0\u4e48\u5462\uff1f\u4f60\u9700\u8981\u8bb0\u4f4f\u66f4\u591a\u6c9f\u69fd\u7684\u7c7b\u540d ...</p> <p>\u4e0d\u540c\u4e8e\u63d0\u4f9b\u9884\u5236\u7ec4\u4ef6\u6837\u5f0f\u7684 Bootstrap / ElementUI\uff0cTailwind \u53ea\u662f\u63d0\u4f9b\u4e86\u4e00\u5806\u9884\u5b9a\u4e49\u7684\u7c7b\u3001\u4f7f\u4f60\u80fd\u8fc7\u901a\u8fc7 <code>className</code> \u53e0\u53e0\u4e50\u7684\u65b9\u5f0f\u51cf\u5c11\u786c\u6838\u624b\u6413 CSS \u7684\u65f6\u95f4\uff1a</p> <ul> <li>Before</li> </ul> <pre><code>.custom-div {\n  background-color: #3490dc;\n  color: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n</code></pre> <ul> <li>After</li> </ul> <pre><code>&lt;div class=\"bg-blue-500 text-white p-4 rounded-lg\"&gt;\n  This is a Tailwind-styled div\n&lt;/div&gt;\n</code></pre> <p>\u6211\u89c9\u5f97\u8fd9\u4e2a\u7c7b\u540d\u5806\u53e0\u548c BootStrap \u4e00\u6837\u7a00\u70c2</p> <p>\u5b9e\u9645\u4e0a\u8fd9\u4e1c\u897f\u4e5f\u53ea\u662f\u5bf9\u6837\u5f0f\u505a\u4e86\u4ebf\u4e9b\u62c6\u5206\uff08\u4e5f\u7b97\u662f\u63d0\u9ad8\u4e86\u590d\u7528\u6027\uff09\uff1a</p> <pre><code>.flex { diplay: flex; }\n.item-center { align-item: center; }\n.justify-center { justify-content: center; }\n.text-blue { color: blue; }\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#0-install","title":"0 Install","text":"<p>\u6b64\u5904\u4ecb\u7ecd\u4e00\u4e0b\u901a\u8fc7 NPM \u5b89\u88c5 TailWind \u7684\u65b9\u6cd5\uff08\u987a\u4fbf\u63ba\u4e86 PostCSS\uff09\uff1a</p> <pre><code>npm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init\n</code></pre> <p>\u968f\u540e\uff0c\u4f60\u9700\u8981\u5728 PostCSS \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5199\u70b9\u4e1c\u897f\uff1a</p> postcss.config.js<pre><code>module.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  }\n}\n</code></pre> <p>\u628a\u4f60\u7684\u6240\u6709\u6a21\u677f\u6587\u4ef6\u8def\u5f84\u5582\u7ed9 TailWind \u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> tailwind.config.js<pre><code>/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\"./src/**/*.{html,js}\"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n</code></pre> <p>\u5728\u4f60\u7684 CSS \u6587\u4ef6\u4e2d\u5f15\u5165 TailWind \u6a21\u5757\uff1a</p> main.css<pre><code>// \u5176\u5b9e\u8fd8\u6709\u4e2a theme \u6a21\u5757\uff0c\u5185\u7f6e\u4e86\u989c\u8272/\u95f4\u9694\u4e4b\u7c7b\u7684\n@tailwind base;       // \u4e00\u4e9b\u9700\u8981\u7edf\u4e00\u6e05\u9664\u7684\u683c\u5f0f\uff1amargin / padding \u4e4b\u7c7b\u7684\n@tailwind components; // \u4f60\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u6837\u5f0f\n@tailwind utilities;  // \u5b9e\u9645\u4f7f\u7528\u7684 CSS\uff08\u53ea\u4f1a\u52a8\u6001 link \u4f60\u7528\u5230\u7684\u90e8\u5206\uff09\n</code></pre> <p>\u9f50\u6d3b\u4e86\uff0c\u76f4\u63a5\u5f00\u5e72\u5427\uff01</p>"},{"location":"Nulling/Front%20End/TailWind/#1-hello-world","title":"1 Hello World","text":"<pre><code>&lt;div class='bg-violet-200(\u80cc\u666f\u8272\uff0c200\u662f\u57fa\u4e8e\u539f\u8272\u7684\u7070\u5ea6\uff1f) h-10(\u7ec4\u4ef6\u9ad8\u5ea6) w-full(\u6491\u6ee1)\n            border-2(\u8fb9\u6846\u7c97\u7ec6) border-violet-600(\u8fb9\u6846\u989c\u8272)\n            my-4(Y\u5411/\u4e0a\u4e0b\u7684margin) p-2(padding)\n            justify-center items-center(\u559c\u95fb\u4e50\u89c1\u5c45\u4e2d)'&gt;\n  &lt;h1 class='text-center(\u6c34\u5e73\u5c45\u4e2d) text-lg(\u5b57\u53f7) text-blue-400(\u989c\u8272\u548c\u5b57\u53f7)\n             font-mono font-extrabold\n             mt-2(\u6bd4\u8f83\u5c0f\u7684\u4e0a\u95f4\u9694)'&gt; \n    Hello World\n    &lt;/h1&gt;\n&lt;/div&gt;\n</code></pre> <p>\u4f46\u663e\u7136\uff0c\u9884\u5236\u83dc\u5e76\u4e0d\u80fd cover \u4f60\u7684\u6240\u6709\u9700\u6c42\u3002</p> <p>\u597d\u5728 TailWind \u63d0\u4f9b\u4e86 JIT \u7f16\u8bd1\u5668\uff0c\u4f7f\u4f60\u53ef\u4ee5\u81ea\u7531\u7684\u7528\u53d8\u91cf\u5b9a\u4e49\u4e00\u4e9b\u5ba2\u5236\u5316\u7684\u7c7b\u522b\uff0cbelike\uff1a</p> <pre><code>text-[13px] \n=&gt; JIT \n=&gt; .text-\\[13px\\] {\n    fontsize: 30px;\n}\n</code></pre> <p>\u7c7b\u4f3c\u7684\uff0c\u4f60\u53ef\u4ee5\u641e\u51fa\uff1a<code>w-[762px]</code>\uff0c<code>text-[#FFEF89]</code>\uff0c<code>bg-[#777]</code>\uff0c<code>before:content-['jsm']</code>\uff0c\u751a\u81f3 <code>text=[min(10vw, 10px)]</code></p>"},{"location":"Nulling/Front%20End/TailWind/#2","title":"2 \u5e03\u5c40","text":"<p>TailWind \u57fa\u4e8e FlexBox &amp; Grid \u8fdb\u884c\u5e03\u5c40\uff08\u5df2\u7ecf\u5f88\u5148\u8fdb\u4e86\uff09</p>"},{"location":"Nulling/Front%20End/TailWind/#flex","title":"Flex","text":"<pre><code>&lt;div class=\"flex flex-col(\u7eb5\u5411\u6392\u5217) jutify-end space-x-6(\u6a2a\u5411\u95f4\u9694)\"&gt;\n    &lt;div class=\"h-16 w-16 rounded-full bg-blue-500\"&gt;&lt;/div&gt;\n    &lt;div class=\"h-16 w-16 rounded-full bg-blue-500\"&gt;&lt;/div&gt;\n    &lt;div class=\"h-16 w-16 rounded-full bg-blue-500\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#grid","title":"Grid","text":"<pre><code>&lt;div class=\"grid grid-cols-3(\u4e09\u5217) gap-2(\u5143\u7d20\u95f4\u95f4\u9694)\"&gt;\n    ...\n&lt;/div&gt;\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#_1","title":"\u54cd\u5e94\u5f0f","text":"<ul> <li> <p>TailWind \u540c\u65f6\u63d0\u4f9b\u4e86\u4e00\u7ec4\u9884\u5b9a\u4e49\u7684\u8bbe\u5907\u5bbd\u5ea6\uff0c\u4e8e\u662f\u4f60\u53ef\u4ee5\u5f00\u59cb\u5199\u54cd\u5e94\u5f0f\u4e86\u3002</p> <p>\u8fd9\u4e1c\u897f\u8bbe\u7f6e\u7684\u662f <code>min-width</code>\uff0c\u6240\u4ee5\u4f60\u5904\u7406\u7684\u5e94\u8be5\u662f\u5c4f\u5e55 \u66f4\u5927 \u7684\u60c5\u51b5 </p> <p>\u4f46\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>max-sm / max-md</code> \u7684\u683c\u5f0f\uff0c\u628a\u5bbd\u5ea6\u9650\u5236\u6539\u6210 <code>max-width</code></p> </li> </ul> <pre><code>'md:block hidden' - \u53ea\u5728 middle \u53ca\u4ee5\u4e0a\u5927\u5c0f\u7684\u5c4f\u5e55\u4e0a\u663e\u793a\u4e3a block, \u5176\u4f59\u60c5\u51b5 hide\n'sm:bg-blue-100 md:bg-red-100' - \u5c0f\u5c4f\u80cc\u666f\u4e3a\u84dd\uff0c\u4e2d\u5c4f\u53ca\u4ee5\u4e0a\u4e3a\u7ea2\n</code></pre> <pre><code>!!! info \"\u8bf7\u4f7f\u7528 **\u65e0\u524d\u7f00** \u7c7b\u540d\u5f00\u53d1\u79fb\u52a8\u7aef\uff08\u800c\u975e\u4f7f\u7528 `sm`\uff0c\u8fd9\u53ea\u9002\u7528\u4e8e\u5927\u4e8e 640px \u7684\u5c4f\u5e55\uff09\"\n</code></pre> <ul> <li>TailWind \u540c\u65f6\u5141\u8bb8\u4f60 \u5ba2\u5236\u5316\u8bbe\u5907\u5bbd\u5ea6\u65ad\u70b9\uff0c\u8bb0\u5f97\u5e26\u4e0a <code>--breakpoint</code> \u7684\u524d\u7f00\uff1a</li> </ul> <p>```css title=app.css   @import 'tailwindcss';</p> <p>@theme {     --breakpoint-xs: 30rem;     --breakpoint-2xl: 100rem;     --breakpoing-3xl: 120rem;   }   ```</p> <ul> <li>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u53d8\u91cf\u7684\u5f62\u5f0f\u6307\u5b9a <code>min/max-width</code></li> </ul> <pre><code>max-[600px]:bg-sky-300 min-[320px]:text-center\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#3","title":"3 \u4e3b\u9898\u5207\u6362","text":"<ul> <li>TailWind \u539f\u751f\u652f\u6301\u4e86\u6697\u8272\u6a21\u5f0f\uff0c\u4f60\u53ea\u9700\u8981\u5728\u7c7b\u540d\u524d\u6dfb\u52a0 <code>dark</code> \u5173\u952e\u5b57\uff1a</li> </ul> <pre><code>text-black bg-white dark:text-white dark:bg-black // \u611f\u89c9\u597d\u9ebb\u70e6\n</code></pre> <ul> <li> <p>\u4e0b\u9762\u4f60\u8fd8\u9700\u8981\u624b\u52a8\u63a7\u5236\u4eae\u6697\u6a21\u5f0f\u7684\u65b9\u6cd5\uff1a</p> </li> <li> <p>\u4f7f\u7528\u5a92\u4f53\u67e5\u8be2\uff1a<code>prefers-color-scheme</code></p> </li> <li> <p>\u57fa\u4e8e CSS \u9009\u62e9\u5668\u5c06 <code>dark</code> \u53d8\u91cf\u8986\u76d6\u4e3a\u6307\u5b9a\u7684\u9009\u62e9\u5668\u5b57\u7b26\u4e32      app.css<pre><code>@cumstom-variant dark (&amp;:where(.dark, .dark *));\n</code></pre></p> <p>\u4f60\u9700\u8981\u914d\u5408\u4ee5\u4e0b JS \u98df\u7528</p> <pre><code>document.body.classList.toggle('dark')\n</code></pre> </li> <li> <p>\u4f7f\u7528 Data \u5c5e\u6027</p> app.css<pre><code>@cumstom-variant dark (&amp;:where([data-theme=dark], [data-theme=dark] *));\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/TailWind/#4","title":"4 \u81ea\u5b9a\u4e49\u4e3b\u9898","text":"<ol> <li> <p>Inline \u65b9\u6848\uff1a\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>[]</code> \u89e3\u51b3\uff0cbelike\uff1a<code>bg-[#fff]</code></p> </li> <li> <p>\u4fee\u6539 Config\uff1a\u5728 TW v4 \u4e2d\uff0c\u4f60\u53ea\u9700\u8981\u6ce8\u610f\u524d\u7f00</p> </li> </ol> <pre><code>@theme {\n  --color-chestnut: #973F29; // \u4f60\u5c31\u53ef\u4ee5\u7528 bg-chestnut \u4e86\n}\n</code></pre> <ol> <li> <p>\u5206\u90e8\u5ba2\u5236\u5316</p> </li> <li> <p>base\uff1a\u4f5c\u7528\u4e8e\u9875\u9762\u4e0a\u7684 \u6240\u6709 \u5143\u7d20</p> </li> <li>components\uff1a\u4f5c\u7528\u4e8e\u4e00\u4e9b\u7279\u5b9a\u7ec4\u4ef6\uff08\u5361\u7247\u4e4b\u7c7b\u7684\uff09</li> <li>utilities\uff1a\u539f\u5b50\u6837\u5f0f\uff0cmargin / padding \u4e4b\u7c7b\u7684</li> </ol> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>@layer</code> \u6307\u5b9a\u5ba2\u5236\u5316\u7684\u4f5c\u7528\u57df</p> <pre><code>@layer base {\n  h1 {\n    @apply font-mono; // \u521b\u98de\u9875\u9762\u4e2d\u7684\u6240\u6709 h1 \u6807\u7b7e\n  }\n  p {\n    @apply text-left;\n  }\n}\n\n@layer components {\n  .card { // \u7136\u540e\u4f60\u53ea\u5199 .card \u5c31\u884c\u4e86\uff08\u53c8\u7ec4\u5408\u56de\u53bb\u4e86\u5c5e\u4e8e\u662f\uff09\n    @apply m-10 rounded-lg bg-white;\n  }\n}\n\n@utility flex-center { // \u719f\u6089\u7684\u4e09\u4ef6\u5957\n  @apply flex justify-center items-center;\n}\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#5-samples","title":"5 Samples","text":""},{"location":"Nulling/Front%20End/TailWind/#_2","title":"\u9ed8\u8ba4\u7ec4\u4ef6\u6837\u5f0f\u8986\u76d6","text":"<ul> <li>\u8986\u76d6 \u590d\u9009/\u5355\u9009 \u6846\u7684\u9ed8\u8ba4\u5f3a\u8c03\u989c\u8272\uff1a\u52a0\u4e0a <code>accent</code></li> </ul> <pre><code>&lt;input type='checkbox' class='accent-pink-500' checked /&gt;\n</code></pre> <ul> <li>\u6587\u4ef6\u9009\u62e9\u5668\uff1a\u4f60\u53ea\u9700\u8981\u52a0\u4e0a <code>file</code> \u524d\u7f00</li> </ul> <pre><code>&lt;input type='file'\n       class='block w-full text-sm file:mr-4 file:border-0' /&gt;\n</code></pre> <ul> <li>\u9009\u4e2d\u65f6\u6587\u4ef6\u6837\u5f0f\uff1a\u52a0\u4e0a <code>selection</code> \u524d\u7f00</li> </ul> <pre><code>&lt;p class='selection:text-white selection:bg-green-400'&gt;\n  \u8fd9\u662f\u4e00\u6bb5\u6587\u5b57\n&lt;/p&gt;\n</code></pre> <ul> <li>TextArea \u7684\u5149\u6807\u989c\u8272\uff1a\u52a0\u4e0a <code>caret</code></li> </ul> <pre><code>&lt;textarea class=\"w-full caret-pingk-200 text-white\"\n          placeholder=\"type sth ...\"&gt;\n&lt;/textarea&gt;\n</code></pre>"},{"location":"Nulling/Front%20End/TailWind/#_3","title":"\u624b\u98ce\u7434\u6298\u53e0\u680f","text":"<p>\u8fd9\u4e1c\u897f\u80fd\u4e0d\u7528 JS \u5199\u51fa\u6765\uff0c\u5f88\u795e\u5947\u5427</p> <pre><code>&lt;div class=\"max-w-lg mx-auto p-8\"&gt;\n    &lt;details\n     class=\"open:bg-white open:ring-1 open:ring-black/5 open:shadow-lg\n            dark:open:bg-slate-900 dark:open:ring-white/10\n            p-6 rounded-lg\" \n     open\n    &gt;\n        &lt;summary\n         class=\"text-sm leading-6 font-semibold select-none\n               text-slate-900 dark:text-white\"\n        &gt;\n            Why do they call it Ovaltine?\n        &lt;/summary&gt;\n        &lt;div class=\"mt-3 text-sm leading-6 text-slate-600 dark:text-slate-400\"&gt;\n            &lt;p&gt;\u8fd9\u662f\u4e00\u6bb5\u6587\u5b57&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/details&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Nulling/Front%20End/VSCodePlugin/","title":"VSCode \u63d2\u4ef6\u7f16\u5199","text":"<p> \u7ea6 439 \u4e2a\u5b57  217 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>Reference: \u7f16\u5199\u4e00\u4e2a Vscode \u63d2\u4ef6 | \u4ece\u521b\u5efa\u5230\u53d1\u5e03 | \u4e00\u952e\u5220\u9664\u51fd\u6570 (\u8f83\u5b8c\u5584\u7684 Repo)</p> <p>\u4ece\u96f6\u7f16\u5199\u4e00\u4e2a VSCode \u63d2\u4ef6\u5e76\u53d1\u5e03\u81f3\u63d2\u4ef6\u5e02\u573a\uff0c\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u4e00\u952e\u5220\u9664 \u9009\u4e2d\u51fd\u6570 (\u51fd\u6570\u58f0\u660e / \u51fd\u6570\u8868\u8fbe\u5f0f / \u7bad\u5934\u51fd\u6570)</li> <li>\u652f\u6301 \u547d\u4ee4 / \u5feb\u6377\u952e \u8c03\u7528</li> </ul>"},{"location":"Nulling/Front%20End/VSCodePlugin/#1-cli","title":"1 \u521d\u59cb\u5316\u9879\u76ee\uff08CLI\uff09","text":"<ul> <li> <p>\u5b89\u88c5\u811a\u624b\u67b6\uff1a<code>generattor-code</code> \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u9879\u76ee\u6a21\u7248</p> <pre><code>npm install -g yo generator-code\n</code></pre> </li> <li> <p>\u521d\u59cb\u5316\u9879\u76ee\uff1a\u9009\u62e9 TS\u3001\u4e0d\u4f7f\u7528 webpack</p> <pre><code>yo code # \u5373\u4f7f\u7528 generator-code \u63d0\u4f9b\u7684\u6a21\u7248\n</code></pre> </li> <li> <p>\u521d\u59cb\u5316\u540e\u7684\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 eslint.config.mjs\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 extension.ts            &lt;= \u8fd9\u91cc\u662f\u5165\u53e3\u6587\u4ef6\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test                    &lt;= \u4e0b\u9762\u5b58\u653e\u5355\u5143\u6d4b\u8bd5\n\u251c\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 vsc-extension-quickstart.md\n</code></pre> </li> <li> <p>\u8fd0\u884c\u3001\u8c03\u8bd5</p> <pre><code># 1 \u8fd0\u884c: \u4f7f\u7528 package.json \u4e2d\u63d0\u4f9b\u7684\u5bf9\u5e94\u547d\u4ee4\u5373\u53ef\nnpm run compile # =&gt; \u8be5\u547d\u4ee4\u4f1a\u751f\u6210 /out \u6587\u4ef6\u5939\nnpm run watch   # =&gt; \u5982\u679c\u9700\u8981\u5e94\u7528\u70ed\u66f4\u65b0\n# 2 \u8c03\u8bd5: \u4f7f\u7528 F5 \u5373\u53ef\u5728\u65b0\u7a97\u53e3\u4e2d\u8fdb\u884c\u8c03\u8bd5\n</code></pre> <p>\u7531\u4e8e\u6a21\u7248\u5728 <code>src/extension.ts</code> \u4e2d\u5b9a\u4e49\u4e86\u547d\u4ee4\uff1a</p> <pre><code>const disposable = vscode.commands.registerCommand('[plugin].helloWorld', () =&gt; {\n  vscode.window.showInformationMessage('Hello World from [plugin]!');\n});\n</code></pre> <p>\u56e0\u6b64\uff0c\u5728\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9 <code>Hello World</code> \u540e\u5373\u4f1a\u5728\u53f3\u4e0b\u89d2\u51fa\u73b0\u5bf9\u5e94\u5185\u5bb9\u7684\u5f39\u7a97</p> </li> <li> <p>\u547d\u4ee4\u6ce8\u518c</p> <ol> <li> <p>\u6574\u4f53\u6ce8\u518c\uff08\u5df2\u7ecf\u81ea\u52a8\u751f\u6210\u4e86\uff09</p> <p><code>src/extension.ts</code> \u4e2d\u7684 <code>activate()</code> \u4ec5\u5f53\u5b58\u5728\u4ee5\u4e0b\u914d\u7f6e\u65f6\u751f\u6548</p> <pre><code>// @ package.json\n\"activateEvents\": [\n  \"onCommand\": \"[plugin].helloWorld\"\n]\n</code></pre> </li> <li> <p>\u8be6\u7ec6\u547d\u4ee4\u6ce8\u518c</p> <pre><code>\"contributes\": [\n  \"commands\": [\n    {\n      \"command\": \"[plugin].helloWorld\",\n      \"title\": \"Hello World\" // \u8fd9\u4e2a\u662f\u5728\u547d\u4ee4\u9762\u677f\u91cc\u663e\u793a\u7684\u6807\u9898\n    }\n  ]\n]\n</code></pre> <p>\u6539\u914d\u7f6e\u5c06\u89e6\u53d1 <code>extension.ts</code> \u7684 <code>disposable</code> \u4e2d\u6ce8\u518c\u7684\u56de\u8c03\u51fd\u6570\uff1a</p> <pre><code>vscode.commands.registerCommand('del.helloWorld', () =&gt; {\n  vscode.window.showInformationMessage('Hello World from del!');\n});\n</code></pre> </li> </ol> </li> <li> <p>\u5feb\u6377\u952e\u6ce8\u518c</p> pakcage.json<pre><code>{\n  ...,\n  \"contributes\": [\n    ...,\n    \"keybindings\": [\n      \"command\": \"[plugin].helloWorld\", // \u9700\u8981\u548c commands \u91cc\u7684\u5185\u5bb9\u5bf9\u5e94\n      \"key\": \"ctrl+R R\", // \u9ed8\u8ba4\u914d\u7ed9 Win\n      \"mac\": \"cmd+R R\"\n    ]\n  ]\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/VSCodePlugin/#2","title":"2 \u529f\u80fd\u5b9e\u73b0","text":"<p>\u8be5\u63d2\u4ef6\u6d89\u53ca\u7684\u5173\u952e\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u5982\u4f55\u5728 VSCode \u4e2d\u5220\u9664\u6307\u5b9a\u5b57\u7b26</li> <li>\u5982\u4f55\u83b7\u53d6 \u5149\u6807\u6240\u5728\u7684 Function \u8303\u56f4</li> </ul>"},{"location":"Nulling/Front%20End/VSCodePlugin/#21-vscode","title":"2.1 \u5728 VSCode \u4e2d\u5220\u9664\u5b57\u7b26","text":"<p><code>row</code> \u4ece 0 \u5f00\u59cb\uff0c<code>col</code> \u4ece 1 \u5f00\u59cb</p> \u5220\u9664\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6240\u6709\u5b57\u7b26<pre><code>const editor = vscode.window.activeTextEditor;\nif (!editor) return;\n\neditor.edit((editBuilder) =&gt; {\n  // \u5220\u9664\u4e24\u4e2a Range(row, col) \u4e4b\u95f4\u7684\u6240\u6709\u5b57\u7b26\n  editBuilder.delete(\n    new vscode.Range(\n      new vscode.Position(), new vscode.Position()\n    ))\n})\n</code></pre>"},{"location":"Nulling/Front%20End/VSCodePlugin/#22-ast","title":"2.2 \u57fa\u4e8e AST \u83b7\u53d6\u51fd\u6570\u8303\u56f4","text":"<ol> <li> <p>\u57fa\u4e8e Babel \u89e3\u6790 AST</p> \u5b89\u88c5\u4f9d\u8d56<pre><code>npm install @babel/parser @babel/traverse\n</code></pre> <p>\u5355\u72ec\u62ce\u4e00\u4e2a\u6587\u4ef6\u51fa\u6765\uff0c\u65b9\u4fbf\u505a\u5355\u5143\u6d4b\u8bd5</p> src/main.ts<pre><code>import {parse} from \"@babel/parser\";\nimport traverse from \"@babel/traverse\";\n\n// \u63d0\u4f9b\u7c7b\u578b\u63d0\u793a\ninterface FunctionNode {\n  name: string,\n  start: {\n    line:   number,\n    column: number,\n    index:  number\n  },\n  end: {\n    line:   number,\n    column: number,\n    index:  number\n  }\n}\n\nexport function getFunctionNode(\n  code:  string, // \u5f85\u89e3\u6790\u4ee3\u7801\u5b57\u7b26\u4e32\n  index: number  // \u5149\u6807\u4f4d\u7f6e\n): FunctionNode | undefined {\n // \u89e3\u6790\n const ast = parse(code);\n console.log(ast);\n\n // \u904d\u5386 AST\n let functionNode;\n traverse(ast, {\n   // \u9047\u5230 FunctionDeclaration \u7ed3\u70b9\u65f6\uff0c\u89e6\u53d1\u56de\u8c03\n   FunctionDeclaration(path) {\n     console.log(path.node);\n     // \u5224\u65ad\u5149\u6807\u4f4d\u7f6e\uff1astart &amp; end \u76f8\u5f53\u4e8e\u5c06\u4ee3\u7801\u8fde\u6210\u4e00\u884c\u65f6\u7684\u4f4d\u504f\n     let node = path.node;\n     if (index &gt;= node?.start! &amp;&amp; index &lt;= node?.end!) {\n      // \u63d0\u53d6\u90e8\u5206\u9700\u8981\u7684\u4fe1\u606f\n      functionNode = {\n        name:  node?.id?.name,\n        start: node?.loc?.start,\n        end:   node?.loc?.end\n      }\n     }\n   },\n   // \u652f\u6301\u7bad\u5934\u51fd\u6570: \u8fde\u7740\u53d8\u91cf\u4e00\u8d77\u5220\u6389\n   ArrowFunctionExperssion(path) {\n\n    function getName() { // \u53d8\u91cf\u540d\n      return Object.keys(path.parentPath.getBindingIndentifiers())[0];\n    }\n\n    const varDeclarePath = path.parentPath.parentPath; // \u6307\u5411\u53d8\u91cf const xxx = () =&gt; {}\n    if (varDeclarePath?.isVariableDeclaration()) {\n      let node = varDeclarePath.node;\n      if (index &gt;= node?.start! &amp;&amp; index &lt;= node?.end!) {\n        functionNode = {\n          name:  getName(),\n          start: node?.loc?.start,\n          end:   node?.loc?.end\n        }\n      }\n    }\n  },\n  // \u652f\u6301\u51fd\u6570\u8868\u8fbe\u5f0f ... \n})\n\n return functionNode; // \u7ed1\u5b9a\u4e86 babel \u7ed3\u6784\n}\n</code></pre> </li> </ol>"},{"location":"Nulling/Front%20End/VSCodePlugin/#23","title":"2.3 \u81ea\u52a8\u5316\u5355\u5143\u6d4b\u8bd5","text":"<p>\u6bcf\u6b21\u70ed\u66f4\u65b0\u90fd\u9700\u8981\u91cd\u65b0 F5 \u8fd8\u662f\u592a\u75db\u82e6\u9762\u5177\u4e86</p> <ul> <li> <p>\u5b89\u88c5\u6d4b\u8bd5\u6846\u67b6 <code>vitest</code></p> <pre><code>npm install vitest -D\n</code></pre> </li> <li> <p>\u4fee\u6539 <code>package.json</code> \u4e2d\u7684\u6d4b\u8bd5\u547d\u4ee4</p> <pre><code>\"scripts\": [\n  ...,\n  \"test\": \"vitest --run\"  \n  // \u9ed8\u8ba4\u662f watch \u6a21\u5f0f\u3001\u4f46\u4e0d\u592a\u7a33\u5b9a\uff0c\u8fd9\u91cc\u6539\u4e3a\u624b\u52a8\u89e6\u53d1\n]\n</code></pre> </li> <li> <p>\u540c\u65f6\uff0c\u4fee\u6539 <code>tsconfig.json</code> \u5c06\u5176\u7f16\u8bd1\u8303\u56f4\u9650\u5236\u5728 <code>/src</code> \u8def\u5f84\u4e0b</p> <pre><code>{\n  ...,\n  \"include\": [ \"src/**/*\" ]\n}\n</code></pre> </li> <li> <p>\u5728 <code>src/test</code> \u4e0b\u65b0\u5efa\u7528\u4e8e\u68c0\u67e5 AST \u7684\u5355\u5143\u6d4b\u8bd5</p> <p>\u53ea\u6d89\u53ca\u4e1a\u52a1\u903b\u8f91\uff0c\u4e0d\u6d89\u53ca UI \u903b\u8f91</p> main.spec.ts<pre><code>import {test, expect} from \"vitest\";\nimport {getFunctionNode} from \"@/src/main\"; // \u5f85\u6d4b\u51fd\u6570\n\ntest(\"init\". () =&gt; {\n  // expect(true).toBe(true); // \u901a\u8fc7\u65ad\u8a00\u6d4b\u8bd5 vitest \u662f\u5426\u6b63\u786e\u5f15\u5165 \n\n  // \u5f85\u89e3\u6790\u6587\u672c\n  code = `\n  function getName() {\n    return 'name';\n  };\n  // \u7bad\u5934\u51fd\u6570\n  const getNameA = () =&gt; {\n    return 'name_a';\n  };\n  // \u51fd\u6570\u8868\u8fbe\u5f0f\n  const getNameB = function () {\n    return 'name_b';\n  };\n  `; \n  // \u5b9e\u9645\u6d4b\u8bd5\u51fd\u6570\n  const node = getFunctionNode(code);\n  // \u68c0\u67e5 code \u8fd4\u56de\u662f\u5426\u7b26\u5408 babel \u683c\u5f0f\n  expect(node).toEqual({\n    name: \"getName\",\n    start: {\n      line: 2,\n      column: 6,\n      index: 7,\n    },\n    end: {\n      line: 4,\n      column: 7,\n      index: 51,\n    },\n  })\n})\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/VSCodePlugin/#24-ui","title":"2.4 \u96c6\u6210\u5230 UI \u903b\u8f91","text":"<p>\u8fd9\u8fb9\u6d89\u53ca\u5230 UI \u903b\u8f91\uff0c\u5fc5\u987b\u7528 VSCode \u672c\u4f53\u8dd1\u4e86</p> src/extension.ts<pre><code>import * as vscode from \"vscode\";\nimport {getFunctionNode} from \"./main\";\n\nexport function activate(context: vscode.ExtensionContext) {\n  vscode.command.registerCommand(\n    \"[plugin].helloWorld\", () =&gt; {\n      // \u5982\u679c\u6ca1\u6709\u6253\u5f00\u7684\u7a97\u53e3\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u6da6\u4e86\n      const editor = vscode.window.activeTextEditor;\n      if (!editor) { return; }\n\n      // 1 \u83b7\u53d6\u5220\u9664\u8303\u56f4\n      const code  = editor.document.getText();\n      const index = editor.document.offsetAt(\n        editor.selection.active // \u8fd9\u8fb9\u8fd4\u56de\u7684\u662f (row, col)\uff0c\u9700\u8981\u8f6c\u5316\u6210\u6574\u4f53\u4f4d\u504f\n      );\n      const functionNode = getFunctionNode(code, index);\n      // \u5149\u6807\u4e0d\u5728\u4efb\u4f55\u51fd\u6570\u5185\uff0c\u4e5f\u53ef\u4ee5\u8dd1\u8def\u4e86\n      if (!functionNode) { return; }\n\n      // 2 \u5220\u9664\uff08\u6307\u5b9a\u4f4d\u7f6e\u5904\u7684\uff09\u51fd\u6570\n      editor.edit((editBuilder) =&gt; {\n        editBuilder.delete(new vscode.Range(\n          new vscode.Position(functionNode?.start.line, functionNode?.start.column),\n          new vscode.Position(functionNode?.end.line,   functionNode?.end.column)\n        ))\n      })\n    }\n  )\n}\n</code></pre>"},{"location":"Nulling/Front%20End/VSCodePlugin/#3","title":"3 \u63d2\u4ef6\u53d1\u5e03","text":"<pre><code># 1 \u5b89\u88c5\u4f9d\u8d56\nnpm install -g vsce\n\n# 2 \u767b\u5f55\nvsce login [projectName]                    # =&gt; \u9700\u8981\u5728 Azure DevOps \u4e2d\u6ce8\u518c\u8d26\u53f7\nDo you want to overwrite its PAT? [y/N] y   # \u91cd\u5199\nPersonal Access Token for publisher 'USER': # \u8f93\u5165\u5728 Azure DevOps \u4e2d\u751f\u6210\u7684 Token\n                                            # \u81f3\u5c11\u9700\u8981 Marketplace - Manage \u6743\u9650\n\n# 3 \u6253\u5305\uff08Optional\uff09\uff1a\u751f\u6210 .vsix \u6587\u4ef6\u3001\u53ef\u4ee5\u624b\u52a8\u53d1\u5e03\u5728 VSCode MarketPlace\nvsce package # \u7528 npm \u7ba1\u7406\u53ef\u80fd\u4f1a\u62a5\u9519\n## \u53ef\u4ee5\u901a\u8fc7 --yarn \u6307\u5b9a\u5176\u4ed6\u5305\u7ba1\u7406\u5668\uff0c\u4f46\u9700\u8981\u751f\u6210 .lock\nrm -rf node_modules/\nyarn # \u751f\u6210 lock \u6587\u4ef6\n\n# 4 \u76f4\u63a5\u53d1\u5e03\nvsce publish # \u81ea\u52a8\u6253\u5305\u5b8c + \u4e0a\u4f20\n</code></pre>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/","title":"\u5e03\u5c40","text":"<p> \u7ea6 922 \u4e2a\u5b57  20 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#1-flex","title":"1 Flex","text":""},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_1","title":"\u5b50\u5143\u7d20\u5bbd\u5ea6","text":"<ul> <li>\u5f53 flex \u5bb9\u5668\u5bbd\u5ea6\u8db3\u591f\u65f6\uff0c\u5b50\u5143\u7d20\u5bbd\u5ea6\u9ed8\u8ba4\u4e3a <code>max-content</code></li> <li>\u5f53 flex \u5bb9\u5668\u5bbd\u5ea6\u4e0d\u8db3\u65f6\uff0c\u5b50\u5143\u7d20\u5bbd\u5ea6\u9ed8\u8ba4\u4e3a <code>min-content</code> \uff0c\u5373\u6700\u957f\u7684\u5355\u4e2a\u5355\u8bcd\u957f\u5ea6</li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_2","title":"\u5bbd\u5ea6\u81a8\u80c0\u903b\u8f91","text":"<ul> <li><code>flex-basis: 50px</code> \u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u5143\u7d20\u5bbd\u5ea6<ul> <li>\u540c\u65f6\u6307\u5b9a <code>width: npx; flex-basis: auto;</code> \u65f6\uff0c\u4ee5 <code>width</code> \u7684\u503c\u4e3a\u6807\u51c6</li> </ul> </li> <li><code>flex-grow: n</code> \u4e2d <code>n</code> \u5373\u4e3a\u8be5\u5143\u7d20\u5728\u5bcc\u4f59\u5bbd\u5ea6\u4e2d\u5206\u7684\u7684\u4efd\u6570\uff08\u6bd4\u4f8b\uff09<ul> <li><code>flex-grow: 2</code> \u7684\u5b50\u5143\u7d20\u589e\u957f\u4e24\u4efd\u5bbd\u5ea6\uff0c<code>flex-grow: 1</code>\u4ec5\u589e\u957f\u4e00\u4efd</li> <li>\u5355\u7eaf\u60f3\u4e00\u4e2a\u5143\u7d20\u5bbd\u4e3a\u53e6\u4e00\u4e2a\u7684 n \u500d\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 <code>flex-basis: 0 + flex-grow: n/1</code></li> <li>\u5f53\u60f3\u8ba9\u67d0\u4e2a\u5143\u7d20\u7684\u5bbd\u4e3a\u5176\u4ed6\u7684 100\u500d\u65f6\uff0c\u9700\u8981\u8ffd\u52a0\u8bbe\u5b9a <code>width: 0px</code> \u6765\u8986\u76d6 <code>min-content</code></li> </ul> </li> <li>\u7b49\u5206\u7236\u5143\u7d20 - <code>flex-basis: 0px; flex-grow: 1;</code></li> <li>\u6700\u5927\u4e0d\u8d85\u8fc7\u5177\u4f53\u6307\u5b9a\u7684 <code>max-width</code></li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_3","title":"\u5bbd\u5ea6\u7f29\u5c0f\u903b\u8f91","text":"<ul> <li>\u7236\u5143\u7d20\u5bbd\u5ea6\u4e0d\u8db3\u65f6\u751f\u6548<ul> <li><code>flex-shrink: 1</code> \u9ed8\u8ba4\u503c\uff0c\u6bcf\u4e2a\u5b50\u5143\u7d20\u7f29\u5c0f\u540c\u6837\u5bbd\u5ea6\u4ee5\u9002\u5e94</li> <li><code>flex-shrink: 0</code> \u5b50\u5143\u7d20\u4e0d\u6536\u7f29 - \u4f1a\u5bfc\u81f4\u6ea2\u51fa\uff08\u81ea\u9002\u5e94\u7684\u65f6\u5019\u633a\u6709\u7528\u7684\uff09</li> <li>\u540c\u7406\uff0c\u8bbe\u7f6e <code>flex-shrink: n</code>  \u4f1a\u6536\u7f29\u57fa\u7840\u4efd\u989d\u7684 n\u500d</li> </ul> </li> <li>\u6700\u4f4e\u5bbd\u5ea6\u4e0d\u5c0f\u4e8e <code>min-content / min-width</code></li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_4","title":"\u5bf9\u9f50","text":"<ul> <li>\u4ea4\u53c9\u8f74\u5bf9\u9f50<code>align-items</code><ul> <li><code>stretch</code> \u9ed8\u8ba4\u503c\uff0c\u628a\u6240\u6709\u5143\u7d20\u7684\u9ad8\u5ea6\u7edf\u4e00\u4e3a max(\u5b50\u5143\u7d20 height)</li> <li><code>flex-start / flex-end</code> \u5206\u522b\u4f7f\u5f97\u5b50\u5143\u7d20\u5728\u526f\u8f74\u8d77\u59cb/\u7ec8\u6b62\u5904\u5bf9\u9f50\uff08\u6b64\u65f6\u9ad8\u5ea6\u4e3a fit\uff09</li> <li><code>center</code> \u4f7f\u5f97\u5b50\u5143\u7d20\u5173\u4e8e\u526f\u8f74\u4e2d\u5fc3\u5bf9\u9f50</li> <li><code>baseline</code> \u9996\u884c\u6587\u5b57\u57fa\u7ebf\u5bf9\u9f50\uff08\u67d0\u4e00\u4e2a font-size \u7279\u522b\u5927\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bf9\u9f50\u7ebf\u4e0b\u79fb\uff09</li> </ul> </li> <li>\u4e3b\u8f74\u5bf9\u9f50<code>justify-content</code><ul> <li><code>flex-start</code> \u9ed8\u8ba4\u6309\u7167\u4e3b\u8f74\u8d77\u70b9\u5bf9\u9f50</li> <li><code>space-between</code> \u4e24\u7aef\u6ca1\u6709\u7a7a\u683c\uff0c\u4e2d\u95f4\u95f4\u9699\u5747\u5206\u5bcc\u4f59\u7a7a\u95f4</li> <li><code>space-around</code> \u4e2d\u95f4\u95f4\u9694\u4e3a 2 * \u4e24\u7aef</li> <li><code>space-evenly</code> \u4e2d\u95f4\u4e0e\u4e24\u7aef\u95f4\u9694\u5927\u5c0f\u4e00\u81f4</li> </ul> </li> <li>\u591a\u8f74\u5bf9\u9f50\uff08\u591a\u884c\u60c5\u51b5\u4e0b\uff09 <code>align-content</code><ul> <li><code>normal</code> \u9ed8\u8ba4\uff0c\u4e0d\u5bf9\u9f50</li> <li><code>flex-start</code>  \u6309\u526f\u8f74\u5f00\u59cb\u5904\u5bf9\u9f50\uff08\u884c\u9ad8\u9002\u5e94\u6539\u884c\u6700\u9ad8\u5143\u7d20\uff09\uff0c<code>flex-end</code> \u57fa\u672c\u540c\u7406</li> <li><code>space-around</code>  \u540c\u884c\u5143\u7d20\u65e0\u95f4\u9694\uff0c\u884c\u95f4\u8ddd\u4e2d\u95f4\u4e3a 2 * \u9996\u5c3e\uff0c\u5176\u4f59\u540c\u7406</li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_5","title":"\u6362\u884c","text":"<ul> <li><code>flex-wrap</code><ul> <li><code>no-wrap</code> \u9ed8\u8ba4\u4e0d\u6362\u884c</li> <li><code>wrap</code> \u6362\u884c</li> <li><code>wrap-reverse</code> \u628a\u6700\u540e\u4e00\u884c\u5f53\u6210\u7b2c\u4e00\u884c </li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_6","title":"\u6392\u5e8f","text":"<ul> <li><code>order</code><ul> <li><code>0</code> \u9ed8\u8ba4\u503c\uff0c\u6b63\u5e8f\u6392\u5217\uff08html\u4e66\u5199\u987a\u5e8f\uff09</li> <li><code>1-N</code> \u6392\u5217\u4e0b\u6807\uff08\u4ece 1 \u5f00\u59cb\u7f16\u53f7\uff0c\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u6807\u7b7e\u89c6\u89c9\u4e0a\u7684\u6392\u5217\u987a\u5e8f\uff09 </li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#2-grid-","title":"2 Grid - \u7f51\u683c","text":""},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_7","title":"\u5217","text":"<ul> <li><code>display: gird</code> \u9ed8\u8ba4\u4e3a 1 \u5217</li> <li>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>grid-template-columns: 100px 100px 100px; / repeat(12, 50px);</code><ul> <li>\u6b64\u5904\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u4f9d\u6b21\u8f93\u5165\u6bcf\u4e00\u5217\u7684\u5bbd\u5ea6</li> <li>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>repeat(times, width_each)</code> \u8fbe\u5230\u540c\u65f6\u6307\u5b9a\u591a\u5217\u7684\u6548\u679c</li> </ul> </li> <li>\u5e73\u5206\u7236\u5143\u7d20 <code>grid-template-columns: 1fr 1fr 1fr;</code><ul> <li>\u6b64\u5904\u7684 <code>fr = fraction</code> \u5373\u4e3a\u5bbd\u5ea6\u6240\u5360\u603b\u5bbd\u7684\u4efd\u6570</li> <li>\u5b9e\u73b0\u4e00\u4e2a 1:2:1 \u7684\u5e03\u5c40\u53ef\u4ee5\u8fd9\u6837 <code>grid-template-columns: 1fr 2fr 1fr;</code></li> <li><code>fr</code> \u4e2d\u95f4\u4e5f\u53ef\u4ee5\u7a81\u7136\u5d4c\u5165 <code>px</code> \u4f5c\u4e3a\u56fa\u5b9a\u5bbd\u5ea6\u5355\u4f4d</li> </ul> </li> <li>\u81ea\u52a8\u51b3\u5b9a\u5217\u6570 <code>grid-template-columns: repeat(autofill, width_each)</code>      \u4f1a\u6839\u636e\u7236\u5143\u7d20\u7684\u5b9e\u9645\u5bbd\u5ea6\u51b3\u5b9a\u6bcf\u884c\u5177\u4f53\u586b\u5165\u591a\u5c11\u4e2a\u5143\u7d20\uff0c\u662f\u52a8\u6001\u7684<ul> <li>\u6211\u4eec\u4e5f\u53ef\u4ee5\u624b\u52a8\u8bbe\u7f6e\u6700\u5c0f\u6700\u5927\u503c <code>repeat(autofill, minmax(50px, 1fr))</code></li> </ul> </li> <li><code>grid-column-gap</code> \u624b\u52a8\u6307\u5b9a\u5217\u8270\u95f4\u8ddd</li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_8","title":"\u884c","text":"<ul> <li><code>gird-template-rows</code> \u624b\u52a8\u6307\u5b9a\uff0c\u57fa\u672c\u540c\u7406</li> <li><code>grid-auto-rows: auto / 100px</code> \u524d\u8005\u5373\u4e3a\u5143\u7d20\u672c\u8eab\u9ad8\u5ea6\uff0c\u540e\u8005\u4e3a\u5b9a\u9ad8</li> <li><code>gird-template-rows</code>  \u4f18\u5148\u7ea7\u9ad8\u4e8e  <code>grid-auto-rows</code>\uff0c\u672a\u88ab\u524d\u8005\u6307\u5b9a\u7684\u5bbd\u5ea6\u5c06\u4f7f\u7528\u540e\u8005\u7684\u89c4\u5219</li> <li><code>grid-row-gap: 20px</code> \u624b\u52a8\u6307\u5b9a\u884c\u8ddd</li> </ul>"},{"location":"Nulling/Front%20End/%E5%B8%83%E5%B1%80/#_9","title":"\u5408\u5e76\u5355\u5143\u683c","text":"<ol> <li>\u63cf\u8ff0\u6bcf\u4e00\u4e2a\u5355\u5143\u683c\u7684\u4f4d\u7f6e\u4fe1\u606f<ul> <li>\u5728\u6d89\u53ca\u5408\u5e76\u7684\u8868\u683c\u4e2d\u3002\u9700\u8981\u624b\u52a8\u63cf\u8ff0\u6bcf\u4e00\u4e2a\u5355\u5143\u683c\u7684\u8303\u56f4\u4fe1\u606f</li> <li>\u4ee5\u5206\u5272\u7ebf\u4e3a\u5355\u4f4d\u8ba1\u91cf\uff08\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u524d\u95ed\u540e\u5f00\uff1f\uff09</li> <li>\u5217<ul> <li><code>grid-column-start</code></li> <li><code>grid-column-end</code></li> <li>\u7b80\u5199 <code>gird-column: start/end</code>\uff0c\u8de8\u5ea6\u4e3a1\u65f6\u53ef\u4ee5\u53ea\u5199 <code>start</code></li> </ul> </li> <li>\u884c<ul> <li><code>grid-row-start</code></li> <li><code>grid-row-end</code></li> <li>\u7b80\u5199 <code>grid-row: start / end</code>\uff0c\u8de8\u5ea6\u4e3a1\u65f6\u53ef\u4ee5\u53ea\u5199 <code>start</code></li> </ul> </li> </ul> </li> <li>\u5728\u7236\u5143\u7d20\u4e2d\u5212\u5206 <code>grid-area</code>\uff08\u4e00\u4e2a 3*2 \u7684\u4f8b\u5b50\uff09     <pre><code>.container {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    grid-template-areas:\n        \"header header\" - \u5f03\u7528\u53f3\u8fb9\u683c\u5b50\u53ef\u4ee5\u7528 \"header .\" - \u8fd9\u6837\u53f3\u4fa7\u5c06\u95f2\u7f6e\n        \"sidebar content\"\n        \"footer footer\"\n}\nheader {\n    grid-area: header;\n}\n.side-bar {\n    grid-area: sidebar;\n}\n.content {\n    grid-area: content;\n}\nfooter {\n    grid-area: footer;\n}\n</code></pre></li> </ol>"},{"location":"Nulling/Front%20End/%E9%9D%A2%E8%AF%95/","title":"\u9762\u8bd5","text":"<p> \u7ea6 84 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/%E9%9D%A2%E8%AF%95/#1-svg","title":"1 SVG","text":"<p>\u53ef\u7f29\u653e\u77e2\u91cf\u56fe\uff0c\u57fa\u4e8e XML \u8bed\u6cd5\u7684\u56fe\u50cf\u683c\u5f0f</p> <ul> <li>SVG \u57fa\u4e8e\u5bf9\u56fe\u50cf\u5f62\u72b6\u7684\u63cf\u8ff0\uff0c\u672c\u8d28\u4e3a\u6587\u672c\u6587\u4ef6<ul> <li>\u53ef\u76f4\u63a5\u63d2\u5165 HTML \u9875\u9762\uff0c\u6210\u4e3a DOM \u7684\u4e00\u90e8\u5206\uff0c\u53ef\u4f7f\u7528 CSS / JS \u8fdb\u884c\u64cd\u4f5c</li> <li>\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u72ec\u7acb\u6587\u4ef6\uff0c\u901a\u8fc7 <code>&lt;img&gt;</code> \u6807\u7b7e\u5f15\u5165</li> <li>\u8fd8\u80fd\u8f6c\u6210 base64 \u5f15\u5165\u9875\u9762</li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/Animations/GSAP/","title":"GSAP","text":"<p> \u7ea6 387 \u4e2a\u5b57  97 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>GSAP \u662f\u4e00\u4e2a\u5f3a\u52b2\u6709\u529b\u7684\u52a8\u753b\u5de5\u5177\uff0c\u5177\u6709\u8fd0\u884c\u8d85\u5feb\u3001\u8d85\u9c81\u68d2\u3001\u53ef\u517c\u5bb9\u7684\u7279\u70b9</p> <p>\u8fd9\u91cc \u6709\u4e00\u4e9b\u76f8\u5173 Sample</p>"},{"location":"Nulling/Front%20End/Animations/GSAP/#getting-started","title":"Getting Started","text":""},{"location":"Nulling/Front%20End/Animations/GSAP/#installation","title":"Installation","text":"<ul> <li> <p>\u57fa\u4e8e CDN \u5f15\u5165\uff08\u5355\u6587\u4ef6\u6218\u58eb\u53cb\u597d\uff09</p> <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js\"&gt;&lt;/script&gt;\n</code></pre> </li> <li> <p>\u57fa\u4e8e NPM \u5b89\u88c5\uff0c\u5e76\u5728 React \u4e2d\u5f15\u5165</p> <pre><code>npm install gsap @gsap/react\n</code></pre> <pre><code>import { gsap } from \"gsap\";\nimport { useGSAP } from \"@gsap/react\";\n// \u6ce8\u518c\u7ec4\u4ef6\ngsap.registerPlugin(useGSAP); \n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Animations/GSAP/#create-animation","title":"Create Animation","text":"<ul> <li> <p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u5728 HTML \u91cc\u6dfb\u52a0\u9700\u8981\u9a71\u52a8\u7684\u5bf9\u8c61\uff08\u5e9f\u8bdd\uff09</p> <pre><code>&lt;!-- style \u91cc\u80e1\u4e71\u6dfb\u52a0\u4e00\u4e9b\u5c45\u4e2d\u6837\u5f0f\u5c31\u597d\uff0cGSAP \u4e0d\u4f1a\u5e72\u6270 CSS \u8bbe\u7f6e\u7684\u521d\u59cb\u72b6\u6001 --&gt;\n&lt;body&gt;\n    &lt;div class=\"box\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre> </li> <li> <p>OK\uff0c\u90a3\u4e48\u6765\u585e\u52a8\u753b\u7f62\uff01</p> <pre><code>// box \u53ef\u4ee5\u5f80\u53f3\u8fb9\u8dd1\u4e86\u53e3\u7259\ngsap.to(\".box\", { duration: 2, x: 200 })\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Animations/GSAP/#1-timline-animation","title":"1 Timline Animation","text":"<p>\u5173\u952e\u5e27\u52a8\u753b\u554a\uff0c\u5173\u952e\u5e27\u52a8\u753b\u3002\u590d\u6d3b\u7f62\uff0c\u6211\u7684 Flash\uff01</p>"},{"location":"Nulling/Front%20End/Animations/GSAP/#tween","title":"Tween","text":"<ul> <li> <p>\u4e0a\u9762\u7684\u57fa\u7840\u52a8\u753b\u5728 GSAP \u4e2d\u88ab\u79f0\u4e3a \"tween\"\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u56db\u79cd\u65b9\u5f0f\u5b9a\u4e49</p> Method Desc <code>gsap.to</code> \u6307\u5b9a\u4e86\u52a8\u753b\u7684\u201c\u7ec8\u70b9\u201d <code>gsap.from</code> \u6307\u5b9a\u201c\u7ec8\u70b9\u201d\u4fe1\u606f\uff0c\u7136\u540e\u201c\u632a\u56de\u8d77\u70b9\u201d <code>gsap.fromTo</code> \u540c\u65f6\u6307\u5b9a\u52a8\u753b\u7684\u8d77\u6b62\u70b9\u4fe1\u606f <code>gsap.set</code> \u7acb\u5373 \u91cd\u8bbe\u5c5e\u6027 <p><code>fromTo</code> \u5f62\u5f0f\u7684\u5b9a\u4e49\u5982\u4e0b\uff08\u611f\u89c9\u6ca1\u5565\u610f\u4e49\uff0cfrom \u53ef\u4ee5\u5199\u5728 base CSS \u91cc\uff09\uff1a</p> <pre><code>gsap.fromTo(\n    target,\n    {} // from config\n    {} // to config\n)\n</code></pre> </li> <li> <p>Target\uff1a\u9664 <code>QuerySelectorALL</code> \u5f62\u5f0f\u7684\u9009\u62e9\u5668\u5916\uff0cGSAP \u8fd8\u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u9009\u62e9\u65b9\u5f0f</p> <pre><code>let box = document.querySelector(\".box\");\nlet circle = document.querySelector(\".circle\");\n/* \n  - Singe: box\n  - List:  [box, circle]\n*/\n</code></pre> </li> <li> <p>GSAP \u652f\u6301\u9a71\u52a8\u591a\u79cd\u5c5e\u6027\uff0c\u8fd9\u91cc \u6709\u8be6\u7ec6\u7684\u914d\u7f6e\u8bf4\u660e</p> <pre><code>gsap.to(\n    \".box\",\n    {\n        /* play config */\n        yoyo: true,     // running alternative\n        repeat:   3,    // \u53ef\u4ee5\u9650\u5236 yoyo \u6b21\u6570, -1=unlimited\n        repeatDelay: 0, // repeat \u95f4 delay\n        duration: 3,\n        stagger: 0.5,   // list item \u95f4\u7684\u6267\u884c\u95f4\u9694\n\n        /* Ease:\n         * - \u6709 in / out / inOut \u4e09\u79cd\n         * - \u6709\u591a\u79cd\u53ef\u9009\u66f2\u7ebf\uff0c\u8be6\u89c1 https://gsap.com/docs/v3/Eases\n         */ \n        ease: 'power1.out', // \u4e0d\u4f1a\u51fa\u9519\u7684\u9009\u62e9\n\n        /* Animation:\n         * - \u57fa\u672c\u662f\u6539\u53d8 opacity &amp; transform\n         * - \u57fa\u4e8e transform \u7684\u52a8\u753b\u4f1a\u6bd4\u57fa\u4e8e Top-Left \u7684\u65b9\u5f0f\u4e1d\u6ed1\n         */ \n        opacity: 0,\n        x: 200,       // translateX(200px)\n\n        /* Style */\n        borderRadius: '',\n        backgroundColor: '', // \u4f46\u4e0d\u80fd\u7528 hue ...\n\n        /* Callback Function \n         * onStart / onComplete / onReverseComplete / onUpdate / onRepeat\n         */\n        onComplete: () =&gt; {} \n    }\n)\n</code></pre> </li> <li> <p>\u53ef\u52a8\u5bf9\u8c61\u6469\u591a\u6469\u591a</p> <ul> <li> <p>GSAP \u4ee5\u540c\u6837\u7684\u65b9\u5f0f\u64cd\u4f5c SVG \u5143\u7d20\uff0c\u57fa\u4e8e <code>attr</code> \u9879\u751a\u81f3\u80fd\u64cd\u4f5c <code>viewBox</code> \u672c\u8eab</p> </li> <li> <p>GSAP \u540c\u65f6\u652f\u6301\u5bf9\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u7684\u53d8\u6362\u64cd\u4f5c\uff08\u79bb\u8c31\uff09</p> <p>\u610f\u4e49\uff1aCanvas / ThreeJS \u6ca1\u529e\u6cd5\u76f4\u63a5\u632a\u52a8\u5bf9\u8c61\uff0c\u4f1a\u9700\u8981\u4ece\u7ed3\u6784\u4f53 <code>(x,y)</code> \u4e2d\u8bfb\u53d6\u5750\u6807</p> <pre><code>let obj = { num: 10, clr: 'red' };\ngsap.to(\n    obj,\n    {\n        duration: 2,\n        num: 200,\n        clr: 'blue',\n        onUpdate: () =&gt; console.log(obj.num, obj.clr)\n    }\n)\n</code></pre> </li> </ul> </li> <li> <p>\u66f4\u7cbe\u7ec6\u7684\u64ad\u653e\u63a7\u5236</p> <pre><code>let tween = gsap.to();\n\n// \u64ad\u653e\u63a7\u5236\ntween.pause();\ntween.resume();\ntween.reverse(); // \u4ece\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\u8fd4\u56de\ntween.restart(); // \u7acb\u5373\u8fd4\u56de\u521d\u59cb\u4f4d\u7f6e\n\n// \u62c9\u6761\ntween.seek(0.5);          // \u8df3\u5230 0.5s \u5904\ntween.progress(0.25);     // \u8df3\u5230 25% \u5904\ntween.timeScale(0.5 / 2); // 0.5 \u500d\u901f / 2 \u500d\u901f\n\n// \u4e22\u6389\ntween.kill();\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Animations/GSAP/#timeline","title":"Timeline","text":"<ul> <li> <p>\u624b\u52a8\u7ed9 tween \u8bbe\u7f6e delay \u8fd8\u662f\u592a\u75db\u82e6\u9762\u5177\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u7aef\u4e0a\u4e86\uff1a</p> <pre><code>// timeline \u6574\u4f53\u8bbe\u7f6e\nlet tl = gsap.timeline({\n    repeat: -1,\n    repeatDelay: 1,\n    yoyo: true,\n    // tween \u7684\u9ed8\u8ba4\u8bbe\u7f6e\n    defulats: { duration: 1 }\n});\n// \u4f1a\u6309\u6dfb\u52a0\u987a\u5e8f\u4f9d\u6b21\u6267\u884c\ntl.to(\".green\", {});\ntl.to(\".green\", { delay: 1 }); // \u5728\u539f\u6765\u7684\u63a5\u7eed\u4f4d\u7f6e\u4e0a\u5ef6\u540e 1s\uff08\u4f1a\u5bfc\u81f4\u5411\u540e\u91cd\u53e0\uff09\ntl.to(\".yellow\", {});\n</code></pre> </li> <li> <p>\u66f4\u52a0\u4f18\u96c5\u7684\u5199\u6cd5\uff1a\u5982\u4f55\u907f\u514d\u8bbe\u7f6e\u4e2d\u9014 delay \u5bfc\u81f4\u7684\u5411\u540e\u91cd\u53e0\uff1f</p> <pre><code>// \u5f88\u50cf PPT \u554a ...\ntl.to(\".green\", {}, 1);      // \u5728 t=1s \u65f6\u5f00\u59cb\ntl.to(\".green\", {}, \"&lt;\");    // \u548c\u4e0a\u4e00\u4e2a\u52a8\u753b **\u540c\u65f6** \u5f00\u59cb\ntl.to(\".yellow\",{}, \"+=1\");  // \u4e0a\u4e00\u52a8\u753b **\u7ed3\u675f\u540e1s** \u5f00\u59cb\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/Animations/GSAP/#2-plugins-todo","title":"2 Plugins (TODO)","text":""},{"location":"Nulling/Front%20End/Animations/GSAP/#scroll-trigger","title":"Scroll Trigger","text":""},{"location":"Nulling/Front%20End/Animations/GSAP/#draggable","title":"Draggable","text":""},{"location":"Nulling/Front%20End/Animations/GSAP/#motion-path","title":"Motion Path","text":""},{"location":"Nulling/Front%20End/JS/BOM/","title":"5 BOM","text":"<p> \u7ea6 480 \u4e2a\u5b57  6 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0c\u5178\u578b\u7684\u6d4f\u89c8\u5668\u5bf9\u8c61\u6709\uff1a</p> <ul> <li><code>Window</code> - \u4ee3\u8868\u6574\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3</li> <li><code>Navigator</code> - \u6d4f\u89c8\u5668\u4fe1\u606f\uff0c\u7528\u4e8e\u8bc6\u522b\u4e0d\u540c\u6d4f\u89c8\u5668</li> <li><code>Location</code> - \u5730\u5740\u680f\u4fe1\u606f\uff0c\u7528\u4e8e\u83b7\u53d6\u6216\u4fee\u6539 URL</li> <li><code>History</code> - \u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\uff08\u7531\u4e8e\u9690\u79c1\u539f\u56e0\u4e0d\u80fd\u83b7\u53d6\u300c\u5177\u4f53\u300d\u5730\u5740\uff0c\u53ea\u80fd\u524d\u540e\u8df3\uff09</li> <li><code>Screen</code> - \u7528\u6237\u5c4f\u5e55\uff0c\u53ef\u4ee5\u83b7\u53d6\u663e\u793a\u5668\u7684\u76f8\u5173\u4fe1\u606f</li> </ul> <p>\u4ee5\u4e0a BOM \u5bf9\u8c61\u90fd\u662f <code>window</code> \u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff08window \u672c\u8eab\u5957\u5a03\u7528 <code>window.self</code>\uff09</p>"},{"location":"Nulling/Front%20End/JS/BOM/#1-navigator","title":"1 Navigator","text":"<ul> <li>\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0cNavigator \u4e2d\u7684\u5927\u90e8\u5206\u5c5e\u6027\u5df2\u7ecf\u4e0d\u80fd\u5e2e\u52a9\u6211\u4eec\u8bc6\u522b\u6d4f\u89c8\u5668\u4e86</li> <li>\u6211\u4eec\u4e00\u822c\u4f7f\u7528 <code>navigator.userAgent</code> \u5b57\u7b26\u4e32\u6765\u5224\u65ad\u6d4f\u89c8\u5668\u4fe1\u606f</li> </ul>"},{"location":"Nulling/Front%20End/JS/BOM/#2-history","title":"2 History","text":"<ul> <li>\u5c5e\u6027<ul> <li><code>length</code> \u6d4f\u89c8\u5668\u5386\u53f2\u5217\u8868\u4e2d\u7684 URL \u603b\u91cf</li> </ul> </li> <li>\u65b9\u6cd5<ul> <li><code>back()</code> - \u8fd4\u56de\u4e0a\u4e00\u4e2a URL</li> <li><code>forward()</code> - \u524d\u5f80\u4e0b\u4e00\u4e2a URL</li> <li><code>go(n)</code> - \u524d\u5f80\u5386\u53f2\u8bb0\u5f55\u4e2d\u7684\u67d0\u4e00\u4e2a\u5177\u4f53\u9875\u9762\uff0cn &gt; 0 \u65f6\u524d\u8fdb n \u4e2a\u9875\u9762\uff1b\u53cd\u4e4b\u56de\u9000 n \u4e2a\u9875\u9762</li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/JS/BOM/#3-location","title":"3 Location","text":"<ul> <li>\u76f4\u63a5\u6253\u5370 <code>location</code> \u5c06\u83b7\u53d6\u5f53\u524d\u9875\u9762\u7684\u5b8c\u6574 URL</li> <li>\u6211\u4eec\u53ef\u4ee5\u5bf9 <code>location</code> \u8fdb\u884c\u7edd\u5bf9 / \u76f8\u5bf9\u8def\u5f84\u4fee\u6539\uff0c\u5b9e\u73b0\u81ea\u52a8\u8df3\u8f6c\u5e76\u589e\u52a0\u5386\u53f2\u8bb0\u5f55</li> <li> <p>\u5c5e\u6027\uff08\u8bbe\u7f6e\u6216\u8bfb\u53d6\uff09</p> \u5c5e\u6027\u540d \u63cf\u8ff0 <code>hash</code> \u4ece # \u5f00\u59cb\u7684 URL <code>host</code> \u4e3b\u673a\u540d + \u7aef\u53e3\u53f7 <code>hostname</code> \u4ec5\u4e3b\u673a\u540d <code>href</code> \u5b8c\u6574 URL <code>pathname</code> \u4ec5\u8def\u5f84\u90e8\u5206 <code>port</code> \u4ec5\u7aef\u53e3\u53f7 <code>protocol</code> \u534f\u8bae HTTP / HTTPS <code>search</code> \u4ece ? \u5f00\u59cb\u7684 URL </li> <li> <p>\u65b9\u6cd5</p> \u65b9\u6cd5\u540d \u63cf\u8ff0 <code>assign('URL')</code> \u52a0\u8f7d\u65b0\u7684\u6587\u6863\uff0c\u751f\u6210\u5386\u53f2\u8bb0\u5f55 <code>reload(Boolean)</code> \u91cd\u65b0\u52a0\u8f7d\u5f53\u524d\u6587\u6863 \uff0c\u4f20\u5165 <code>true</code> \u5c06\u5f3a\u5236\u6e05\u7a7a\u7f13\u5b58 <code>replace('URL')</code> \u4f7f\u7528\u65b0\u7684\u6587\u6863\u66ff\u6362\u5f53\u524d\u6587\u6863\uff0c\u4e0d\u4f1a\u751f\u6210\u5386\u53f2\u8bb0\u5f55 </li> </ul>"},{"location":"Nulling/Front%20End/JS/BOM/#4-timer","title":"4 Timer","text":""},{"location":"Nulling/Front%20End/JS/BOM/#41","title":"4.1 \u5b9a\u65f6\u8c03\u7528","text":"<ul> <li><code>setInterval(func, interval)</code> interval \u7684\u5355\u4f4d\u4e3a ms\uff0c\u8fd4\u56de Number \u4f5c\u4e3a ID</li> <li><code>clearInterval(id)</code> \u53ef\u4ee5\u5173\u95ed\u6307\u5b9a\u7684 timer\uff08\u4f20\u5165 <code>undefined</code> \u4e5f\u4e0d\u4f1a\u62a5\u9519\uff09</li> </ul> <pre><code>// \u7b80\u5355\u7684 countdown\nvar num = 100;\nvar timer = setInterval(function(){\n    count.innerHTML = num--;\n    if(num == 0) clearInterval(timer);\n}, 1000);\n</code></pre>"},{"location":"Nulling/Front%20End/JS/BOM/#42","title":"4.2 \u5ef6\u65f6\u8c03\u7528","text":"<p>\u53ea\u6267\u884c\u4e00\u6b21</p> <ul> <li><code>setTimeout(func, delay)</code> delay \u7684\u5355\u4f4d\u4e3a ms\uff0c\u8fd4\u56de Number \u4f5c\u4e3a ID</li> <li><code>clearTimour(id)</code> \u5173\u95ed\u5ef6\u65f6\u8c03\u7528</li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/","title":"4 DOM","text":"<p> \u7ea6 1944 \u4e2a\u5b57  259 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/JS/DOM/#0-intro","title":"0 Intro","text":"<p>\u5168\u79f0\u662f Document Object Model\uff0cJS \u4f7f\u7528 DOM \u5bf9 HTML \u8fdb\u884c\u64cd\u4f5c\uff1a</p> <ul> <li>Document - \u6574\u4e2a HTML \u7f51\u9875\u6587\u6863</li> <li>Object - \u7f51\u9875\u4e2d\u7684\u6bcf\u4e00\u4e2a\u90e8\u5206\u90fd\u88ab\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5bf9\u8c61</li> <li>Model - \u4f7f\u7528\u6a21\u578b\uff08DOM Tree\uff09\u8868\u793a\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4fbf\u4e8e\u83b7\u53d6\u5bf9\u8c61</li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#node","title":"\u8282\u70b9 Node","text":"<ul> <li>\u8282\u70b9\u662f\u6784\u6210 HTML \u6587\u6863\u7684\u6700\u57fa\u672c\u5355\u5143\uff0c\u4e0d\u540c\u8282\u70b9\u5177\u6709\u4e0d\u5c3d\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</li> <li> <p>\u4e00\u822c\u5206\u4e3a\u4ee5\u4e0b\u56db\u7c7b</p> <pre><code>&lt;p id=\"pId\"&gt;This is a paragraph&lt;/p&gt;\n\n- \u6574\u4e2a\u662f\u4e00\u4e2a\u201c\u5143\u7d20\u8282\u70b9\u201d\n- id=\"pId\" \u662f\u4e00\u4e2a\u201d\u5c5e\u6027\u8282\u70b9\u2018\n- This is a paragraph \u662f\u4e00\u4e2a\u201d\u6587\u672c\u8282\u70b9\u201c\n</code></pre> <ol> <li> <p>\u6587\u6863\u8282\u70b9\uff1a\u6574\u4e2a HTML \u6587\u6863</p> <p>\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4f5c\u4e3a window \u5c5e\u6027\u7684\u201c\u6587\u6863\u8282\u70b9\u201d <code>document</code>\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528</p> </li> <li> <p>\u5143\u7d20\u8282\u70b9\uff1a\u5404\u79cd HTML \u6807\u7b7e</p> </li> <li>\u5c5e\u6027\u8282\u70b9\uff1a\u5143\u7d20\u5177\u6709\u7684\u5c5e\u6027</li> <li>\u6587\u672c\u8282\u70b9\uff1aHTML \u6807\u7b7e\u4e2d\u7684\u6587\u672c\u5185\u5bb9</li> </ol> </li> <li> <p>\u8282\u70b9\u5c5e\u6027</p> \u8282\u70b9\u7c7b\u578b nodeName nodeType nodeValue \u6587\u6863\u8282\u70b9 <code>#documente</code> 9 null \u5143\u7d20\u8282\u70b9 \u6807\u7b7e\u540d 1 null \u5c5e\u6027\u8282\u70b9 \u5c5e\u6027\u540d 2 \u5c5e\u6027\u503c \u6587\u672c\u8282\u70b9 <code>#text</code> 3 \u6587\u672c\u5185\u5bb9 </li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#1","title":"1 \u4e8b\u4ef6","text":"<ul> <li>\u4e8b\u4ef6\u662f \u6587\u6863/\u6d4f\u89c8\u5668\u7a97\u53e3 \u4e2d\u53d1\u751f\u7279\u5b9a\u4ea4\u4e92\u7684\u77ac\u95f4\uff0cJS \u4e0e HTML \u4e4b\u95f4\u7684\u4ea4\u4e92\u662f\u901a\u8fc7\u4e8b\u4ef6\u5b9e\u73b0\u7684</li> <li>\u6211\u4eec\u53ef\u4ee5\u4e3a\u4e8b\u4ef6\u7ed1\u5b9a\u56de\u8c03\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5c06\u5728\u4e8b\u4ef6\u89e6\u53d1\u65f6\u88ab\u6267\u884c</li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#11","title":"1.1 \u4e8b\u4ef6\u7ed1\u5b9a","text":"<p>\u4ee5\u5355\u51fb\u4e8b\u4ef6\u5904\u7406\u4e3a\u4f8b\uff1a</p> <ol> <li> <p>\u5728\u6807\u7b7e\u4e2d\u7f16\u5199\u5904\u7406\u4ee3\u7801\uff08\u9ad8\u8026\u5408\uff09     <pre><code>&lt;button onClick=\"alert('click');\"&gt;btn&lt;/button&gt;\n</code></pre></p> </li> <li> <p>\u5728\u6807\u7b7e\u4e2d\u7ed1\u5b9a\u51fd\u6570 + \u5728 script \u4e2d\u5b9e\u73b0     <pre><code>&lt;button onClick=\"handleClick()\"&gt;btn&lt;/button&gt;\n</code></pre> <pre><code>function handleClick() { alert(\"click\") }\n</code></pre></p> </li> <li> <p>\u5728 script \u4e2d\u7ed1\u5b9a\u5e76\u7f16\u5199\u4ee3\u7801\uff081to1\uff09     <pre><code>btn.onclick = function() {\n    alert(\"click1\");\n}\nbtn.onclick = function() {\n    alert(\"click2\");\n}\n// \u5b9e\u9645\u70b9\u51fb\u65f6\u53ea\u4f1a\u5f39\u51fa click2 =&gt; \u540e\u9762\u8986\u76d6\u524d\u9762\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 addEventListener\uff081toN\uff09</p> <p>IE8 \u53ca\u4ee5\u4e0b\u9700\u8981\u4f7f\u7528 <code>attachEvent('onEvent', function)</code>\uff0c\u4f1a\u300c\u9006\u5e8f\u300d\u8c03\u7528\u56de\u8c03</p> <pre><code>// \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u662f\u5426\u5728\u300c\u6355\u83b7\u9636\u6bb5\u300d\u89e6\u53d1\u4e8b\u4ef6\uff0c\u4e00\u822c false\uff08\u9ed8\u8ba4\u4e5f\u662f false\uff09\nbtn.addEventListener('click', function(){\n    alert('click1');\n}, false)\nbtn.addEventListener('click', function(){\n    alert('click2');\n}, false)\n// \u6309\u7ed1\u5b9a\u987a\u5e8f\u6267\u884c\u591a\u4e2a\u56de\u8c03\uff1aclick1 -&gt; click2\n\n// \u517c\u5bb9\u5f0f\u5199\u6cd5\nfunction bind(obj, event, callback) {\n    if(obj.addEventListener) {\n        obj.addEventListener(event, callback, false);\n    } else { // \u517c\u5bb9 IE8\n        obj.attachEvent.call('on'+event, function(){\n            // \u6d4f\u89c8\u5668\u8c03\u533f\u540d\u51fd\u6570\uff0c\u533f\u540d\u51fd\u6570\u8c03 callback\uff08\u81ea\u4e3b\u63a7\u5236\uff09\n            callback.call(obj); // \u7edf\u4e00 this \u4e3a\u7ed1\u5b9a\u5bf9\u8c61\n        };\n    }\n}\n</code></pre> </li> </ol>"},{"location":"Nulling/Front%20End/JS/DOM/#12","title":"1.2 \u6587\u6863\u52a0\u8f7d","text":"<p>\u95ee\u9898\uff1a\u628a script \u5199\u5230 body \u4e4b\u524d\u4f1a\u5bfc\u81f4\u83b7\u53d6\u4e0d\u5230\u5143\u7d20\uff08\u8fd8\u6ca1\u52a0\u8f7d\u51fa\u6765\uff09</p> <p>\u89e3\u51b3\uff1a\u628a\u6240\u6709\u4e1c\u897f\u4e22\u5230 <code>window.onload</code> \u7ed1\u5b9a\u7684\u51fd\u6570\u4e2d =&gt; \u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u540e\u518d\u6267\u884c\u4ee3\u7801 </p>"},{"location":"Nulling/Front%20End/JS/DOM/#13","title":"1.3 \u4e8b\u4ef6\u5bf9\u8c61","text":"<ul> <li> <p>Chrome \u5f53\u4e8b\u4ef6\u88ab\u89e6\u53d1\u5f0f\uff0c\u6d4f\u89c8\u5668\u6bcf\u6b21\u90fd\u4f1a\u5c06\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4f5c\u4e3a\u300c\u5b9e\u53c2\u300d\u4f20\u5165\u54cd\u5e94\u51fd\u6570</p> <p>=&gt; \u5fc5\u987b\u7528\u4e00\u4e2a\u5f62\u53c2\u53bb\u63a5</p> </li> <li> <p>IE8 <code>event</code> \u4f5c\u4e3a <code>window</code> \u7684\u5c5e\u6027\u88ab\u4fdd\u5b58</p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#sample-1","title":"SAMPLE 1","text":"<p>\u5f53\u9f20\u6807\u79fb\u5165 <code>areaDiv</code> \u540e\uff0c\u5728 <code>showMsg</code> \u4e2d\u663e\u793a\u5750\u6807\u4fe1\u606f</p> <pre><code>// \u9f20\u6807\u5728\u300c\u5143\u7d20\u5185\u300d\u79fb\u52a8\u65f6\u89e6\u53d1\nareaDiv.onmousemove = function(event) {\n    if(!event) {\n        event = window.event // \u517c\u5bb9 IE8\n    }\n    // \u6216\u8005\u7528 event = event || window.event\n\n    // \u517c\u5bb9 firefox &amp; Chrome\n    showMsg.innerHTML = 'x = ' + event.clientX + ', y = ' + event.clientY;\n}\n</code></pre>"},{"location":"Nulling/Front%20End/JS/DOM/#sample-2","title":"SAMPLE 2","text":"<p><code>div</code> \u8ddf\u968f\u9f20\u6807\u79fb\u52a8</p> <pre><code>// \u7ed9 document \u800c\u975e div \u7ed1\u5b9a onmousemove \u4e8b\u4ef6\ndocument.onmousemove = function(e) {\n    e = e || window.event\n    // div \u8bb0\u5f97\u5f00\u7edd\u5bf9\u5b9a\u4f4d\n    // clientX / clientY \u83b7\u53d6\u7684\u662f\u9f20\u6807\u76f8\u5bf9\u4e8e\u300c\u89c6\u53e3\u300d\u7684\u504f\u79fb\u91cf\n\n    /* pageX / pageY \u83b7\u53d6\u7684\u662f\u9f20\u6807\u76f8\u5bf9\u4e8e\u300c\u5b8c\u6574\u6587\u6863\u300d\u7684\u504f\u79fb\u91cf\uff08\u4e0d\u517c\u5bb9 IE8\uff09\n       \u53ef\u91c7\u7528 clientX + scrollLeft / clientY + scollTop \u66ff\u4ee3\n    */\n\n    /* \u6eda\u52a8\u6761\u9ad8\u5ea6 scrollTop\n       Chrome \u8ba4\u4e3a\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u5c5e\u4e8e body =&gt; document.body.scrollTop\n       Firefox \u8ba4\u4e3a\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u5c5e\u4e8e html =&gt; document.documentElement.scrollTop\n    */\n\n    var st = document.body.scrollTop  || document.documentElement.scrollTop\n    var sl = document.body.scrollLeft || document.documentElement.scrollLeft\n    div.style.left = e.clientX + sl + 'px' // e.pageX\n    div.style.top  = e.clientY + st + 'px'  // e.pageY\n}\n</code></pre>"},{"location":"Nulling/Front%20End/JS/DOM/#14-bubble","title":"1.4 \u4e8b\u4ef6\u5192\u6ce1 Bubble","text":"<ul> <li>\u540e\u4ee3\u5143\u7d20\u89e6\u53d1\u4e8b\u4ef6\u65f6\uff0c\u7956\u5148\u5143\u7d20\u4e0a\u7684\u5bf9\u5e94\u4e8b\u4ef6\u5c06\u88ab\u4f9d\u6b21\u89e6\u53d1</li> <li> <p>\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u624b\u52a8\u53d6\u6d88\u5192\u6ce1</p> <pre><code>btn.onclick = function(event) {\n    event = event || window.event;\n    // \u53d6\u6d88\u5192\u6ce1\n    event.cancelBubble = true;\n}\n</code></pre> </li> </ul> <p>\u53d6\u6d88 <code>onmousemove</code> \u7684\u5192\u6ce1\u53ef\u80fd\u5bfc\u81f4\u9f20\u6807\u8ddf\u968f\u529f\u80fd\u4e0d\u53ef\u7528</p>"},{"location":"Nulling/Front%20End/JS/DOM/#15","title":"1.5 \u4e8b\u4ef6\u59d4\u6d3e","text":"<p>\u5728\u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u904d\u5386\u4e3a\u4e00\u7ec4 tag \u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570 </p> <p>=&gt; \u4f46\u5bf9\u4e8e\u65b0\u589e\u5143\u7d20\uff0c\u6211\u4eec\u9700\u8981\u5355\u72ec\u8fdb\u884c\u624b\u52a8\u7ed1\u5b9a</p> <p>\u4e00\u6b21\u7ed1\u5b9a\u53ef\u4ee5\u81ea\u52a8\u5e94\u7528\u5230\u6240\u6709\u5143\u7d20\uff08\u5305\u62ec\u540e\u589e\uff09\u5417</p> <p>\u6211\u4eec\u5c1d\u8bd5\u5c06\u4e8b\u4ef6\u7ed1\u5b9a\u81f3\u300c\u5171\u540c\u7684\u7956\u5148\u5143\u7d20\u300d\uff0c\u901a\u8fc7\u5192\u6ce1\u8fdb\u884c\u7edf\u4e00\u5904\u7406</p> <ul> <li>\u95ee\u9898\uff1a\u6211\u4eec\u5e0c\u671b\u5904\u7406 <code>&lt;li&gt;</code> \u7684\u70b9\u51fb\u4e8b\u4ef6\uff0c\u4f46\u73b0\u5728\u70b9\u51fb <code>&lt;ul&gt;</code> \u7684\u533a\u57df\u4e5f\u4f1a\u89e6\u53d1\uff0c\u574f\u8036\uff01</li> <li>\u89e3\u51b3\uff1a\u5224\u65ad\u300c\u89e6\u53d1\u4e8b\u4ef6\u300d\u7684\u5bf9\u8c61\u662f\u5426\u7b49\u4e8e\u7956\u5148\u5143\u7d20\u672c\u8eab     <pre><code>ul.onclick = function(e) {\n    e = e || window.event;\n    // \u6b64\u5904\u5c06\u6240\u6709 li \u5143\u7d20\u8bbe\u4e3a link \u7c7b\n    if(e.target.className == 'link') { // \u540e\u4ee3\u5143\u7d20\u89e6\u53d1\n    // \u6211\u8bd5\u4e86\u4e0b e.target !== this \u4e5f\u53ef\u4ee5\n        alert(\"click li!\")\n    }\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#16","title":"1.6 \u4e8b\u4ef6\u4f20\u64ad","text":"<ul> <li>\u5fae\u8f6f\uff1a\u5728\u5192\u6ce1\u9636\u6bb5\u6267\u884c -&gt; \u4ece\u5f53\u524d\u5143\u7d20\u5411\u7956\u5148\u5143\u7d20\u4f20\u9012\uff08\u7531\u5185\u5411\u5916\uff09</li> <li>\u7f51\u666f\uff1a\u5728\u6355\u83b7\u9636\u6bb5\u6267\u884c -&gt; \u4ece\u7956\u5148\u5143\u7d20\u5411\u5f53\u524d\u5143\u7d20\u4f20\u9012\uff08\u7531\u5916\u5411\u5185\uff09</li> <li>\u65e0\u654c\u7684 W3C \u7ed3\u5408\u4e86\u4e24\u4e2a\u516c\u53f8\u7684\u65b9\u6848\uff0c\u5c06\u4e8b\u4ef6\u4f20\u64ad\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a<ol> <li>\u6355\u83b7\u9636\u6bb5\uff08\u7531\u5916\u5411\u5185\u6355\u83b7\uff0c\u9ed8\u8ba4\u4e0d\u89e6\u53d1\uff09</li> <li>\u76ee\u6807\u9636\u6bb5\uff08\u4e8b\u4ef6\u6355\u83b7\u81f3\u76ee\u6807\u5143\u7d20\uff0c\u76ee\u6807\u5143\u7d20\u89e6\u53d1\u4e8b\u4ef6\uff09</li> <li>\u5192\u6ce1\u9636\u6bb5\uff08\u7531\u5185\u5411\u5916\u5192\u6ce1\uff0c\u9ed8\u8ba4\u5728\u8be5\u9636\u6bb5\u89e6\u53d1\u7956\u5148\u5143\u7d20\u4e8b\u4ef6\uff09</li> </ol> </li> </ul> <p>\u5982\u679c\u5e0c\u671b\u5728\u300c\u6355\u83b7\u9636\u6bb5\u300d\u89e6\u53d1\uff0c\u5219\u9700\u8981\u5c06 <code>addEventListener</code> \u7b2c\u4e09\u4e2a\u53c2\u6570\u7f6e\u4e3a <code>true</code></p>"},{"location":"Nulling/Front%20End/JS/DOM/#2-dom","title":"2 DOM \u67e5\u8be2","text":""},{"location":"Nulling/Front%20End/JS/DOM/#21","title":"2.1 \u83b7\u53d6\u5143\u7d20\u8282\u70b9","text":"<ul> <li> <p>\u901a\u8fc7 <code>document</code> \u8c03\u7528</p> <ol> <li><code>getElementById</code> \u300c\u4e00\u4e2a\u300d\u5143\u7d20</li> <li><code>getElementsByTagName</code> \u300c\u4e00\u7ec4\u300d\u5143\u7d20\uff0c\u8fd4\u56de\u7c7b\u6570\u7ec4\u5bf9\u8c61</li> <li><code>getElementsByName</code> \u300c\u4e00\u7ec4\u300d\u5143\u7d20\uff0c\u8fd4\u56de\u7c7b\u6570\u7ec4\u5bf9\u8c61</li> <li><code>getElementsByClassName</code> \u300c\u4e00\u7ec4\u300d\u5143\u7d20\uff0c\u8fd4\u56de\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff08IE9\u4ee5\u4e0a\uff09</li> <li> <p><code>document.querySelector('css\u9009\u62e9\u5668')</code> \u300c\u4e00\u4e2a\u300d\u5143\u7d20\uff08\u5b58\u5728\u591a\u4e2a\u65f6\u8fd4\u56de\u9996\u4e2a\uff09</p> <p><code>document.querySelectAll('css\u9009\u62e9\u5668')</code>\u300c\u4e00\u7ec4\u300d\u5143\u7d20\uff0c\u8fd4\u56de\u7c7b\u6570\u7ec4\u5bf9\u8c61</p> </li> </ol> </li> <li> <p>\u83b7\u53d6\u5b50\u8282\u70b9 - \u901a\u8fc7\u5177\u4f53\u8282\u70b9\u8c03\u7528 </p> <ol> <li> <p><code>getElementsByTagName()</code> \u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u300c\u6307\u5b9a\u6807\u7b7e\u540d\u300d\u540e\u4ee3\u8282\u70b9</p> <pre><code>// \u83b7\u53d6 #city \u4e0b\u7684\u6240\u6709 li \u8282\u70b9\nvar city = document.getElementById('city');\nvar lis = city.getElementsByTagName('li');\n// \u53e6\u4e00\u79cd\u65b9\u6cd5\nvar lis = document.querySelectorAll('#city &gt; li');\n</code></pre> </li> <li> <p><code>childNodes</code> \u5f53\u524d\u8282\u70b9\u7684\u300c\u6240\u6709\u300d\u5b50\u8282\u70b9</p> <p>\u5305\u62ec\u6587\u672c\u8282\u70b9\uff0c\u6807\u7b7e\u95f4\u7684\u7a7a\u767d\u4e5f\u4f1a\u5f53\u6210\u6587\u672c\u8282\u70b9\uff08IE8\u4ee5\u4e0b\u4e0d\u8ba1\u5165\u7a7a\u767d\u6587\u672c\uff09</p> <p>=&gt; <code>children</code> \u53ef\u4ee5\u8fd4\u56de\u4e0d\u5305\u542b\u6587\u672c\u8282\u70b9\u7684\u6240\u6709\u5b50\u5143\u7d20</p> </li> <li> <p><code>firstChlid</code> \u5f53\u524d\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\uff08\u5305\u62ec\u7a7a\u767d\u6587\u672c\u8282\u70b9\uff09</p> <p><code>firstElementChild</code> \u53ef\u4ee5\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\uff08IE8\u4ee5\u4e0a\uff09</p> </li> <li> <p><code>lastChlid</code> \u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9</p> </li> </ol> </li> <li> <p>\u83b7\u53d6 \u7236\u8282\u70b9/\u5144\u5f1f\u8282\u70b9 - \u901a\u8fc7\u5177\u4f53\u8282\u70b9\u8c03\u7528</p> <ol> <li><code>parentNode</code> \u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9</li> <li> <p><code>previousSibling</code> \u524d\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\uff08\u53ef\u80fd\u6709\u7a7a\u767d\u6587\u672c\u8282\u70b9\uff09</p> <p><code>previousElementSibling</code> \u4e0d\u5305\u542b\u7a7a\u767d\u6587\u672c\uff08IE8\u4ee5\u4e0a\uff09</p> </li> <li> <p><code>nextSibling</code> \u540e\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9</p> </li> </ol> </li> <li> <p>\u83b7\u53d6 <code>&lt;body&gt;</code> - <code>document.body</code></p> </li> <li>\u83b7\u53d6 <code>&lt;html</code> - <code>document.documentElement</code></li> <li>\u83b7\u53d6\u6240\u6709\u6240\u6709\u5143\u7d20 - <code>document.all</code> / <code>getElementsByTagName('*')</code></li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#22","title":"2.2 \u83b7\u53d6\u5143\u7d20\u5c5e\u6027","text":"<ul> <li>\u5143\u7d20\u6587\u5b57\u5185\u5bb9<ul> <li><code>tag.innerHTML</code> \uff08\u5bf9\u81ea\u7ed3\u675f\u6807\u7b7e\u4e0d\u8d77\u4f5c\u7528\uff09</li> <li><code>tag.innerText</code> \uff08\u81ea\u52a8\u53bb\u9664 HTML \u6807\u7b7e\uff09</li> </ul> </li> <li> <p>\u5143\u7d20 class \u5c5e\u6027 <code>tag.className</code></p> <p>\u6709\u591a\u4e2a class \u4f1a\u8fd4\u56de\u4e00\u4e2a String\uff08 <code>classList</code> \u4f1a\u8fd4\u56de\u6570\u7ec4\uff09</p> </li> <li> <p>\u5176\u4ed6\u5143\u7d20\u5c5e\u6027 <code>tag.keyName</code>\uff0c\u5982 <code>tag.id / tag.value</code></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#-","title":"\u7ec3\u4e60 - \u8f6e\u64ad\u56fe","text":"<p>\u901a\u8fc7\u4fee\u6539\u5f53\u524d\u56fe\u7247 src \u5b9e\u73b0</p> <pre><code>var imgArr = ['1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg'];\nvar idx = 0;\n\n// \u7528\u4e8e\u81ea\u52a8\u5207\u6362\u7684 timer\nvar timer = setInterval(function(){\n    idx++;\n    if(idx == imgArr.length) idx=0;\n    img.src = imgArr[idx];\n}, 1000);\n\nprev.onclick = function() {\n    // \u5047\u8bbe\u4e00\u5171\u6709 5 \u5f20\u56fe\u7247\n    --idx;\n    if(idx&lt;0) idx=imgArr.length-1;// \u5faa\u73af\n    img.src = imgArr[idx];\n}\nnext.onclick = function() {\n    ++idx;\n    if(idx == imgArr.length) idx=0;\n    img.src = imgArr[++idx]\n}\n</code></pre> \u4f2a \u00b7 \u65e0\u9650\u8f6e\u64ad\u56fe <ul> <li>\u9700\u8981\u5728 maxx \u540e\u9762\u518d\u8ddf\u4e00\u5f20 first\uff08\u8bb0\u5f97\u914d\u5957\u6539 btn\uff09</li> <li>\u8d81\u73b0\u5728\u628a imgList \u7684 left &amp; idx \u91cd\u7f6e\u4e3a 0\uff08\u8fd9\u8fb9\u9700\u8981\u81ea\u5df1\u5199\u79fb\u52a8\u8865\u95f4\uff0c\u4e0d\u80fd\u7528\u81ea\u5e26\u7684 transition\uff09</li> <li>\u8bb0\u5f97\u70b9\u51fb btn \u7684\u65f6\u5019\u5148\u5173\u95ed timer\uff0c\u8fc7\u4e00\u6bb5\u65f6\u95f4\u518d\u91cd\u7f6e</li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#3-dom","title":"3 DOM \u589e\u5220\u6539","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>appendChild()</code> \u4e3a\u6307\u5b9a\u8282\u70b9\u6dfb\u52a0\u65b0\u7684\u5b50\u8282\u70b9 <code>removeChild()</code> \u5220\u9664\u5b50\u8282\u70b9 <code>replaceChild(new, old)</code> \u66ff\u6362\u5b50\u8282\u70b9 <code>insertBefore(new, sth)</code> \u5728\u6307\u5b9a\u5b50\u8282\u70b9\u524d\u63d2\u5165\u65b0\u7684\u5b50\u8282\u70b9 <code>createAttribute()</code> \u521b\u5efa\u5c5e\u6027\u8282\u70b9 <code>createElement('tagName')</code> \u521b\u5efa\u5143\u7d20\u8282\u70b9 <code>createTextNode('text')</code> \u521b\u5efa\u6587\u672c\u8282\u70b9 <p>\u6709\u65f6\u5019\u4e0d\u592a\u6e05\u695a\u7236\u8282\u70b9\u5230\u5e95\u662f\u8c01\uff0c\u5c31\u53ef\u4ee5 <code>sth.parentNode.removeChild(element)</code></p> <p>\u540c\u7406\uff0c\u5b9e\u73b0\u70b9\u51fb <code>button</code> \u5220\u9664\u4e00\u6574\u884c\u6570\u636e\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>this.parentNode.parentNode...</code> \u627e\u5230\u4f5c\u4e3a\u6574\u884c\u7236\u8282\u70b9\u7684 <code>&lt;tr&gt;</code> \u8fdb\u884c\u5220\u9664</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\uff1a</p> <pre><code>// \u4e3a #city \u6dfb\u52a0 \u201c\u5e7f\u5dde\u201d \u5b50\u8282\u70b9\uff08\u53ea\u5237\u65b0\u65b0\u589e\u7684 li \u8282\u70b9\uff09\nbtn.onclick = function() {\n        // \u521b\u5efa li \u5143\u7d20\u8282\u70b9\n        var li = document.createElement(\"li\")\n        // \u521b\u5efa\u6587\u672c\u8282\u70b9\n        var txt = document.createTextNode(\"\u5e7f\u5dde\")\n        // \u6253\u5305 &lt;li&gt; \u6807\u7b7e\n        li.appendChild(txt);\n        // \u628a &lt;li&gt; \u585e\u7ed9 #city\n        document.getElementById(\"city\").appendChild(li);\n}\n// \u4e5f\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u7236\u5143\u7d20\u7684 innerHTML \u5b9e\u73b0\uff08\u5237\u65b0\u6574\u4e2aul\uff0c\u4f1a\u5bfc\u81f4\u5176\u4ed6li\u7ed1\u5b9a\u7684\u4e8b\u4ef6\u5931\u6548\uff09\nbtn.onclick = function() {\n    document.getElementById('city').innerHTML += '&lt;li&gt;\u5e7f\u5dde&lt;/li&gt;'\n}\n// \u4e00\u4e2a\u7ed3\u5408\u7684\u65b9\u6cd5\nbtn.onclick = function() {\n    var li = document.createElement('li')\n    li.innerHTML = '\u5e7f\u5dde' // \u53ea\u5237\u65b0\u5185\u5b58\u4e2d\u7684\u8fd9\u4e2a\u8282\u70b9\n    document.getElementById('city').appendChild(li) // \u5c40\u90e8\u5237\u65b0\n}\n</code></pre> <p>\u53ef\u4ee5\u5728 <code>onclick</code> \u51fd\u6570\u672b\u5c3e <code>return false</code> / \u8bbe\u7f6e <code>href='javascript:;</code> \u963b\u6b62\u8d85\u94fe\u63a5\u7684\u9ed8\u8ba4\u8df3\u8f6c\u884c\u4e3a</p> <p><code>confirm('\u63d0\u793a\u8bcd')</code>  \u53ef\u7528\u4e8e\u5f39\u51fa\u517c\u5177 \u786e\u8ba4/\u53d6\u6d88 \u6309\u94ae\u7684\u5f39\u7a97\uff0c\u8fd4\u56de Boolean</p>"},{"location":"Nulling/Front%20End/JS/DOM/#4","title":"4 \u64cd\u4f5c\u5185\u8054\u6837\u5f0f","text":"<p>JS \u64cd\u4f5c\u7684\u662f\u5185\u8054\u6837\u5f0f\uff0c\u4f18\u5148\u7ea7\u4ec5\u6b21\u4e8e <code>!important</code></p> <ul> <li> <p>\u4fee\u6539\u6837\u5f0f </p> <p>\u56fa\u5b9a\u8bed\u6cd5\uff1a<code>element.style.\u6837\u5f0f\u540d = value</code></p> <p>\u82e5\u6837\u5f0f\u540d\u4e2d\u5305\u542b <code>-</code> \uff0c\u9700\u8981\u4fee\u6539\u4e3a\u5c0f\u9a7c\u5cf0\uff0c\u5982\uff1a<code>backgroud-color -&gt; backgroundColor</code></p> </li> <li> <p>\u8bfb\u53d6\u6837\u5f0f</p> <p>\u53ea\u80fd\u8bfb\u53d6\u5185\u8054\u6837\u5f0f\uff0c\u4e0d\u80fd\u8bfb\u53d6\u6837\u5f0f\u8868\u4e2d\u7684\u6837\u5f0f</p> <p>\u56fa\u5b9a\u8bed\u6cd5\uff1a <code>element.style.\u6837\u5f0f\u540d</code></p> <p>\u5bbd\u5ea6\u4e4b\u7c7b\u7684\u5c5e\u6027\u5e26\u6709 <code>px</code>\uff0c\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c\u52a0\u51cf\u8ba1\u7b97</p> </li> <li> <p>\u8bfb\u53d6\u5143\u7d20\u300c\u5f53\u524d\u300d\u6837\u5f0f</p> <p>\u7efc\u5408\u6837\u5f0f\u8868\u4e0e\u5185\u8054\u6837\u5f0f\u7ed3\u679c\uff0c\u300c\u53ea\u8bfb\u300d</p> <ul> <li> <p>IE\uff1a<code>element.currentStyle.\u6837\u5f0f\u540d</code> </p> </li> <li> <p>Chrome\uff1a<code>window.getComputedStyle(element, null)['\u6837\u5f0f\u540d']</code></p> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4f2a\u5143\u7d20\uff0c\u4e00\u822c\u4f20 <code>null</code>\uff08\u8981\u67e5 <code>before/after</code> \u7684\u65f6\u5019\u4f20\u5bf9\u5e94\u5b57\u7b26\u4e32\uff09</p> </li> </ul> <p>IE \u4e2d <code>auto</code> \u8fd4\u56de <code>auto</code>\uff0cChrome \u4e2d\u8fd4\u56de\u300c\u5b9e\u9645\u503c\u300d</p> <pre><code>// \u867d\u7136 IE \u5bc4\u4e86\u4f46\u8fd8\u662f\u5199\u4e00\u4e2a\u517c\u5bb9\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u65b9\u6cd5\u5427\n/* getStyle(obj, name)\n * obj - \u5f85\u5904\u7406\u5143\u7d20\uff0cname - \u5f85\u83b7\u53d6\u5c5e\u6027\u540d */\nfunction getStyle(obj, name) {\n    // \u5fc5\u987b\u52a0 window\uff1a\u53d8\u91cf\u627e\u4e0d\u5230\u4f1a\u62a5\u9519\uff0c\u5c5e\u6027\u627e\u4e0d\u5230\u53ea\u4f1a\u8fd4\u56de undefined\n    if(window.getComputedStyle) {\n        return getComputedStyle(obj ,null)[name]\n    } else { // IE8 \u7279\u4f9b\n        return obj.currentStyle[name]\n    }\n    // =&gt; \u4e5f\u53ef\u4ee5\u7f29\u6210\u4e00\u884c\u4e09\u76ee\u8fd0\u7b97\u7b26\n}\n</code></pre> </li> <li> <p>\u5176\u4ed6\u4e00\u4e9b\u76f8\u5173\u5c5e\u6027</p> <p>\u8fd4\u56de\u4e0d\u5e26\u5355\u4f4d\u7684\u6570\u5b57\uff0c\u300c\u53ea\u8bfb\u300d</p> \u5c5e\u6027 \u63cf\u8ff0 <code>clientHeight/Width</code> \u5143\u7d20\u53ef\u89c1\u9ad8\u5ea6/\u5bbd\u5ea6\uff08content + padding\uff09 <code>offsetHeight/Wifth</code> \u5143\u7d20\u7684\u9ad8\u5ea6/\u5bbd\u5ea6\uff08content + padding + border\uff09 <code>offsetParent</code> \u83b7\u53d6\u5b9a\u4f4d\u7236\u5143\u7d20 <code>offsetLeft/Top</code> \u76f8\u5bf9\u5b9a\u4f4d\u7236\u5143\u7d20\u7684\u504f\u79fb\u91cf <code>scrollHeight/Width</code> \u5143\u7d20\u6eda\u52a8\u533a\u9ad8\u5ea6/\u5bbd\u5ea6 <code>scrollTop/Left</code> \u5143\u7d20\u6eda\u52a8\u8ddd\u79bb </li> </ul> <p>\u6eda\u52a8\u4e8b\u4ef6\u901a\u8fc7 onscroll \u4e8b\u4ef6\u8fdb\u884c\u76d1\u542c</p> <p>\u6ee1\u8db3 <code>scrollHeight - scrollTop == clientHeight</code> \u65f6\uff0c\u6eda\u52a8\u6761\u300c\u89e6\u5e95\u300d</p> <p>\u6bcf\u6b21\u4fee\u6539\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u300c\u6574\u4e2a\u9875\u9762\u300d\uff0c\u5982\u4f55\u63d0\u9ad8\u6548\u7387</p> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u51c6\u5907\u4e24\u4e2a class \u7684\u6837\u5f0f\uff0c\u901a\u8fc7\u4fee\u6539\u6807\u7b7e\u7684 className \u4e00\u6b21\u6027\u91cd\u7f6e\u591a\u4e2a\u6837\u5f0f\uff0c\u51cf\u5c11\u91cd\u65b0\u6e32\u67d3\u7684\u6b21\u6570</li> <li>\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u6dfb\u52a0\u76f8\u540c\u7c7b\u540d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c01\u88c5\u4ee5\u4e0b\u51fd\u6570     <pre><code>function hasClass(obj, className) {\n    var reg = new RegExp(\"\\\\b\" + className + \"\\\\b\"); // \u8981\u6c42 className \u4e3a\u72ec\u7acb\u5355\u8bcd\n    return reg.test(obj.className);\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Front%20End/JS/DOM/#5","title":"5 \u62d6\u62fd","text":"<p>\u76f4\u63a5\u8fdb\u884c\u4e00\u4e2a Sample \u7684\u5199\uff1adiv \u8ddf\u968f\u9f20\u6807\u62d6\u62fd\u884c\u4e3a</p> <pre><code>// \u9f20\u6807\u6309\u4e0b\uff0c\u5f00\u59cb\u62d6\u62fd\uff08\u628amove\u653e\u5916\u9762\u4f1a\u8131\u79bb\u63a7\u5236\uff09\ndiv.onmousedown = function(e) {\n    if(div.setCapture) { // \u9632\u6b62 Chrome \u5bc4\u4e86\n        div.setCapture(); // \u5f3a\u5236\u6355\u83b7\u4e0b\u300c\u4e00\u6b21\u300d\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6(IE8)\n    }\n    // \u6216\u8005\u7528 div.setCapture &amp;&amp; div.setCapture() \u9996\u4e2a\u6761\u4ef6 true \u624d\u770b\u4e0b\u4e00\u4e2a\n\n    /* \u5c1d\u8bd5\u8ba9\u9f20\u6807\u6307\u9488\u4fdd\u6301\u70b9\u51fb\u65f6\u7684\u504f\u79fb\uff0c\u76f8\u5bf9\u504f\u79fb\u91cf\n       x\u5411 = clientX - offsetLeft\n       y\u5411 = clientY - offsetTop\n    */\n    e = e || window.event\n    var ol = e.clientX - div.offsetLeft;\n    var ot = e.clientY - div.offsetTop;\n    // \u9f20\u6807\u79fb\u52a8\uff0c\u4fee\u6539 div \u4f4d\u7f6e\n    document.onmouse = function(e) {\n        e = e || window.event;\n        // \u4fee\u6539\u4f4d\u7f6e\n        div.style.left = e.clientX-ol + 'px';\n        div.style.top  = e.clientY-ot + 'px';\n    }\n    // \u9f20\u6807\u677e\u5f00\uff0c\u505c\u6b62\u79fb\u52a8\uff08\u653e\u5916\u9762\u4e5f\u4f1a\u5bfc\u81f4\u60e8\u6848\uff09\n    // PlanA: \u5728 div \u4e0a\u76d1\u542c mouseup =&gt; \u88ab\u5144\u5f1f\u5143\u7d20\u76d6\u4f4f\u5c31\u505c\u4e0d\u4e0b\u6765\u4e86\n    div.onmouseup = function() {\n        document.onmousemove = null;\n    }\n    // PlanB: \u5728 document \u4e0a\u76d1\u542c mouseup =&gt; \u5728\u54ea\u91cc\u90fd\u80fd\u505c\n    document.onmouseup = function() {\n        document.onmousemove = null;\n        // \u987a\u4fbf\u53d6\u6d88\u672c\u8eab\uff08\u4e00\u6b21\u6027\u4e8b\u4ef6\uff09\n        document.onmouseup = null;\n        if(div.releaseCapture) {\n            div.releaseCapture(); // \u53d6\u6d88\u5bf9\u4e8b\u4ef6\u7684\u5f3a\u5236\u6355\u83b7(IE8)\n        }\n    }\n\n    // \u6d4f\u89c8\u5668\u4f1a\u9ed8\u8ba4\u641c\u7d22\u62d6\u62fd\u5185\u5bb9 =&gt; \u8fd9\u53ef\u80fd\u4f1a\u5f71\u54cd\u62d6\u62fd\u529f\u80fd\uff08\u963b\u6b62\u4e00\u4e0b\uff09\n    return false;\n}\n</code></pre>"},{"location":"Nulling/Front%20End/JS/DOM/#6","title":"6 \u6eda\u8f6e","text":"<p>\u6eda\u8f6e\u5411\u4e0b\u6eda\u52a8\uff0cdiv \u53d8\u957f\uff1b\u5411\u4e0a\u6eda\u52a8\u65f6\u53d8\u77ed</p> <pre><code>// \u53e4\u65e9\u7248\u672c\uff1aonmousewheel \u4e0d\u517c\u5bb9\u706b\u72d0\uff08addEventLietener + DomMouseScroll\uff09\n// \u5982\u4eca onwheel \u4e00\u7edf\u5929\u4e0b\ndiv.onwheel = function(event) {\n    event = event || window.event\n    // event.wheelData \u5224\u65ad\u6eda\u52a8\u65b9\u5411\uff08\u6b63\u503c\u5411\u4e0a\uff0c\u8d1f\u503c\u5411\u4e0b\uff09- \u4e0d\u652f\u6301 firefox\n    // firefox: event.detail = +-3 \u6b63\u503c\u5411\u4e0b\uff0c\u8d1f\u503c\u5411\u4e0a\n    // \u73b0\u5728\u8c8c\u4f3c\u7528 deltaY \u4e00\u7edf\u5929\u4e0b\uff08\u4e0a\u6b63\u4e0b\u8d1f\uff09\n    if(event.deltaY &gt; 0) {\n        div.style.height = div.clientHeight - 10 + 'px;'\n    }\n    else {\n        div.style.height = div.clientHeight + 10 + 'px;'\n    }\n    // \u9632\u6b62 body &gt; 100vh \u65f6\u6574\u4f53\u9875\u9762\u6eda\u52a8\n    return false;\n}\n</code></pre> <p>\u4f7f\u7528 <code>addEventListener</code> \u7ed1\u5b9a\u7684\u4e8b\u4ef6\u9700\u8981\u4f7f\u7528 <code>event.preventDefault()</code> \u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a</p>"},{"location":"Nulling/Front%20End/JS/DOM/#7","title":"7 \u952e\u76d8","text":"<p>\u952e\u76d8\u4e8b\u4ef6\u4e00\u822c\u7ed1\u5b9a\u7ed9\u53ef\u4ee5\u83b7\u53d6\u7126\u70b9\u7684\u5bf9\u8c61\u6216 <code>document</code>\uff08\u6bd4\u5982 <code>&lt;input&gt;</code>\uff09</p> \u4e8b\u4ef6 \u63cf\u8ff0 <code>onkeydown</code> \u4efb\u610f\u6309\u952e\u88ab\u6309\u4e0b\uff08\u6309\u7740\u4e0d\u653e\u4f1a\u4e00\u76f4\u89e6\u53d1\uff09 <code>onkeyup</code> \u4efb\u610f\u6309\u952e\u88ab\u677e\u5f00 <pre><code>document.onkeydown = function(event) {\n    // \u901a\u8fc7 event.keyCode \u5224\u65ad\u5177\u4f53\u54ea\u4e2a\u952e\uff08\u5355\u4e2a\uff09\u88ab\u6309\u4e0b\n    // \u7ec4\u5408\u952e\u9700\u8981\u901a\u8fc7 altKey, ctrlKey, shiftKey(Boolean) \u7ec4\u5408\u5224\u65ad\n    if(event.ctrlKey &amp;&amp; event.keyCode === 83) {\n        alert('\u4fdd\u5b58\uff01') // \u5224\u65ad\u7ec4\u5408\u952e ctrl + S\n    }\n}\n// \u963b\u6b62 keydown \u7684\u9ed8\u8ba4\u4e8b\u4ef6\u4f1a\u5bfc\u81f4\u300c\u65e0\u6cd5\u8f93\u5165\u300d\ninput.onkeydown = function(event) { // \u4e0d\u5141\u8bb8\u8f93\u5165\u6570\u5b57\n    if(event.keyCode &gt;= 48 &amp;&amp; event.keyCode &lt;= 57) return false\n}\n</code></pre> <p>Sample\uff1adiv \u8ddf\u968f\u65b9\u5411\u952e\u79fb\u52a8 <pre><code>// \u652f\u6301\u8fde\u7eed\u79fb\u52a8 -&gt; \u9009\u7528 keydown\uff08\u4f46\u662f\u7b2c\u4e00\u6b21\u4f1a\u5361\u987f\uff09\ndocument.onkeydown = function(e) {\n    // \u751a\u81f3\u53ef\u4ee5\u8bbe\u7f6e speed \u53d8\u91cf\uff0c\u7136\u540e\u901a\u8fc7 ctrl +- \u63a7\u5236\u901f\u5ea6\n    switch(e.keyCode) {\n        case 37: // left\n            div.style.left = div.offsetLeft - 10 + 'px';\n            break;\n        case 39: // right\n            div.style.left = div.offsetLeft + 10 + 'px';\n            break;\n        case 38: // up\n            div.style.top  = div.offsetTop  - 10 + 'px';\n            break;\n        case 40: // down\n            div.style.top  = div.offsetTop  + 10 + 'px';\n            break\n    }\n    return false; // \u9632\u6b62\u6eda\u52a8\n}\n</code></pre></p> <p>\u6539\u8fdb\uff1a\u4f7f\u7528 timer \u6539\u7248\u9996\u6b21\u5361\u987f\u7684\u95ee\u9898</p> <pre><code>var speed = 10;\nvar direct = 0;\n\n// \u6211\u4eec\u901a\u8fc7\u4fee\u6539 direct \u6765\u4fee\u6539\u65b9\u5411\nsetInterval(function(){\n    switch(direct) {\n        case 37: // left\n            div.style.left = div.offsetLeft - speed + 'px';\n            break;\n        case 39: // right\n            div.style.left = div.offsetLeft + speed + 'px';\n            break;\n        case 38: // up\n            div.style.top  = div.offsetTop  - speed + 'px';\n            break;\n        case 40: // down\n            div.style.top  = div.offsetTop  + speed + 'px';\n            break\n    }\n}, 30)\n\ndocument.onkeydown = function(e) {\n    // \u70b9\u51fb ctrl \u4f1a\u4f7f\u901f\u5ea6\u52a0\u5feb\n    if(e.ctrlKey) speed += 10;\n    // \u4fee\u6539\u79fb\u52a8\u65b9\u5411\n    direct = e.keyCode;\n}\n// \u677e\u5f00\u65f6\u53d6\u6d88\u79fb\u52a8\ndocument.onkeyup = function(){\n    direct = 0;\n}\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/","title":"3 \u5185\u7f6e\u5bf9\u8c61\u4e0e\u6b63\u5219","text":"<p> \u7ea6 1130 \u4e2a\u5b57  125 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#1-array","title":"1 Array","text":"<p>\u4e0d\u540c\u4e8e\u666e\u901a\u5bf9\u8c61\u4f7f\u7528 String \u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u6570\u7ec4\u4f7f\u7528 Number \u4f5c\u4e3a\u7d22\u5f15\u5bf9\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c</p> <ul> <li>Index \u4ece 0 \u5f00\u59cb</li> <li>\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff08 String / Object\uff09\uff0c\u4e14\u5141\u8bb8\u540c\u65f6\u5b58\u5728\u591a\u79cd\u6570\u636e\u7c7b\u578b     <pre><code>arr = [\"hello\", 1, {}, null, undefined, function(){}, [1,2,3]];\n</code></pre></li> <li>\u6570\u7ec4\u7684\u5b58\u50a8\u6027\u80fd\u6bd4\u666e\u901a\u5bf9\u8c61\u597d\uff0c\u6240\u4ee5\u4e00\u822c\u7528\u6765\u5b58\u6570\u636e</li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#11","title":"1.1 \u57fa\u672c\u64cd\u4f5c","text":"<ul> <li> <p>\u521b\u5efa\u6570\u7ec4     <pre><code>var arr1 = new Array(10, 20, 30); // typeof arr \u5c06\u8fd4\u56de Object\uff08\u987a\u4fbf\u521d\u59cb\u5316\uff09\nvar arr2 = [1,2,3,4];             // \u4f7f\u7528\u5b57\u9762\u91cf\u5f62\u5f0f\u521b\u5efa\uff08\u987a\u4fbf\u521d\u59cb\u5316\uff09\n\n// \u5c0f\u5c0f\u7684\u533a\u522b\nvar arr3 = [10];          // \u53ea\u6709\u4e00\u4e2a\u5143\u7d20 10 \u7684\u6570\u7ec4\nvar arr4 = new Array(10); // \u957f\u5ea6\u4e3a 10 \u7684\u7a7a\u6570\u7ec4\n</code></pre></p> </li> <li> <p>\u5411\u6570\u7ec4\u4e2d\u6dfb\u52a0\u5143\u7d20     <pre><code>arr[0] = 10;             // \u5c06\u9996\u4f4d\u7f6e\u4e3a 10\narr[arr.length] = value; // \u59cb\u7ec8\u5411\u672b\u5c3e\u63d2\u5165\u5143\u7d20\n</code></pre></p> </li> <li> <p>\u8bfb\u53d6\u6570\u7ec4\u4e2d\u7684\u5143\u7d20     <pre><code>console.log(arr[1]);\n// \u8bfb\u53d6\u4e0d\u5b58\u5728\u7684\u7d22\u5f15\u4f1a\u8fd4\u56de undefined\uff08\u4e0d\u62a5\u9519\uff09\n</code></pre></p> </li> <li> <p>\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6     <pre><code>console.log(arr.length); // \u9002\u7528\u4e8e\u300c\u8fde\u7eed\u6570\u7ec4\u300d\n// \u8df3\u7740\u63d2\u5165\u4f1a\u8fd4\u56de max(index) + 1\n</code></pre></p> </li> <li> <p>\u4fee\u6539\u6570\u7ec4\u957f\u5ea6     <pre><code>arr.length = newLength;\n// newLen &gt; oldLen \u591a\u51fa\u6765\u7684\u90e8\u5206\u4f1a\u63d2\u5165\u7a7a\u503c\uff08\u6253\u5370\u4e00\u5806 ,\uff09\n// newLen &lt; oldLen \u591a\u4f59\u90e8\u5206\u88ab\u622a\u65ad\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#12","title":"1.2 \u57fa\u672c\u65b9\u6cd5","text":"<ol> <li> <p><code>push</code> </p> <p>\u5411\u6570\u7ec4\u300c\u672b\u5c3e\u300d\u6dfb\u52a0 &gt;= 1 \u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u65b0\u7684\u6570\u7ec4\u957f\u5ea6</p> <pre><code> arr.push(\"hello\", 1, null); // \u591a\u4e2a\u5143\u7d20\u4e4b\u95f4\u4f7f\u7528 , \u8fdb\u884c\u5206\u9694\n</code></pre> </li> <li> <p><code>pop</code> </p> <p>\u5220\u9664\u6570\u7ec4\u7684\u300c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u300d\uff0c\u8fd4\u56de\u300c\u88ab\u5220\u9664\u7684\u5143\u7d20\u300d</p> <pre><code>arr.pop();\n</code></pre> </li> <li> <p><code>unshift</code></p> <p>\u5411\u6570\u7ec4\u300c\u5f00\u5934\u300d\u6dfb\u52a0 &gt;= 1 \u4e2a\u5143\u7d20\uff08\u5176\u4f59\u5143\u7d20\u4f9d\u6b21\u540e\u79fb\uff09\uff0c\u8fd4\u56de\u65b0\u7684\u6570\u7ec4\u957f\u5ea6</p> <pre><code> arr.unshift(\"hello\", 1, null); // \u591a\u4e2a\u5143\u7d20\u4e4b\u95f4\u4f7f\u7528 , \u8fdb\u884c\u5206\u9694\n</code></pre> </li> <li> <p><code>shift</code></p> <p>\u5220\u9664\u6570\u7ec4\u7684\u300c\u9996\u4e2a\u5143\u7d20\u300d\uff0c\u8fd4\u56de\u300c\u88ab\u5220\u9664\u7684\u5143\u7d20\u300d</p> <pre><code>arr.shift();\n</code></pre> </li> <li> <p><code>slice</code></p> <p>\u4ece\u5df2\u6709\u6570\u7ec4\u622a\u53d6\u5b50\u4e32\uff0c\u8fd4\u56de\u622a\u53d6\u7ed3\u679c\u5f62\u6210\u7684\u6570\u7ec4\uff08\u4e0d\u6539\u53d8\u539f\u6570\u7ec4\uff09</p> <ul> <li><code>arrObj.slice(start, [end])</code> \u5b9e\u9645\u622a\u53d6 <code>[start, end)</code>\u533a\u95f4</li> <li>\u7701\u7565 end \u65f6\uff0c\u622a\u53d6\u4ece start \u5f00\u59cb\u7684\u6240\u6709\u5143\u7d20</li> <li>start / end \u53ef\u4ee5\u4f20\u9012\u8d1f\u503c\uff08\u81ea\u540e\u5411\u524d\u4ee5 <code>-1 ~ -len</code> \u8fdb\u884c\u7f16\u53f7\uff09</li> </ul> <pre><code>var arr = [0, 1, 2, 3, 4, 5];\narr.slice(1,3);    // =&gt; [1,2]\narr.slice(4);      // =&gt; [4,5]\narr.slice(3, -1);  // =&gt; [3,4]\narr.slice(-3, -1); // =&gt; [3,4]\n// \u4f46 slice(-1, -3) \u4f1a\u8fd4\u56de\u7a7a\u6570\u7ec4 []\n</code></pre> </li> <li> <p><code>splice</code></p> <p>\u5220\u9664\u5e76\u6dfb\u52a0\u65b0\u5143\u7d20\uff0c\u8fd4\u56de\u5220\u9664\u5143\u7d20\u6784\u6210\u7684\u6570\u7ec4\uff08\u4f1a\u5f71\u54cd\u539f\u6570\u7ec4\uff09</p> <ul> <li><code>arrObj.splice(start, len, [newVal1, new Val2, ...])</code> \uff0c\u5220\u9664\u4ece start \u4f4d\u7f6e\u5f00\u59cb\u7684 len \u4e2a\u5143\u7d20</li> <li>\u53ef\u4ee5\u8ba4\u4e3a\u662f\u7528 <code>[newVal1, new Val2, ...]</code> \u66ff\u6362\u4e86 <code>arr[start, start+len]</code> \u7684\u6570\u7ec4\u5143\u7d20</li> </ul> <pre><code>var arr = [0, 1, 2, 3, 4, 5];\narr.splice(1, 2); // =&gt; [1,2] \narr.splice(1, 1, \"hello\", \"world\"); \n// =&gt; arr = [0, 'hello', 'world', 2, 3, 4, 5]\n</code></pre> </li> <li> <p><code>concat</code></p> <p>\u8fde\u63a5 &gt;= 2 \u4e2a\u6570\u7ec4\uff0c\u5e76\u8fd4\u56de\u5408\u5e76\u7ed3\u679c\uff08\u4e0d\u4fee\u6539\u539f\u6570\u7ec4\uff09</p> <pre><code>var arr1 = [1,2];\nvar arr2 = [3,4];\nvar arr3 = [5,6];\nvar arr = arr1.concat(arr2, arr3); // =&gt; arr1 \u672c\u8eab\u4e0d\u53d1\u53d8\u6362\n// arr = [1,2,3,4,5,6]\n\narr1.concat(arr2, \"hello\", \"world\"); // \u8fd9\u6837\u4e5f\u884c\n</code></pre> </li> <li> <p><code>join</code></p> <p>\u8fd4\u56de\u6570\u7ec4\u8f6c\u6362\u4e3a String \u7684\u7ed3\u679c\uff08\u4e0d\u4fee\u6539\u539f\u6570\u7ec4\uff09</p> <pre><code>var arr = [1,2,3,4,5,6];\nconsole.log(arr.join()); // =&gt; 1,2,3,4,5,6 (type = String)\n\n// \u6211\u4eec\u53ef\u4ee5\u6307\u5b9a String \u4f5c\u4e3a\u5143\u7d20\u95f4\u7684\u8fde\u63a5\u7b26\uff08\u9ed8\u8ba4\u662f ,\uff09\narr.join(\"--\"); // =&gt; 1--2--3--4--5--6\n</code></pre> </li> <li> <p><code>reverse</code></p> <p>\u8fd4\u56de\u53cd\u8f6c\u6570\u7ec4\uff08\u5f71\u54cd\u539f\u6570\u7ec4\uff09</p> <pre><code>var arr = [1,2,3];\narr.reverse(); // \u73b0\u5728 arr = [3,2,1]\n</code></pre> </li> <li> <p><code>sort</code></p> <p>\u5bf9\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\uff08\u5f71\u54cd\u539f\u6570\u7ec4\uff09</p> <ul> <li>\u9ed8\u8ba4\u6309\u7167 Unicode \u5347\u5e8f\u6392\u5e8f\uff08\u5bf9 Number \u7684\u652f\u6301\u6709\u95ee\u9898\uff1a11 &lt; 2\uff09</li> <li>\u5e0c\u671b\u83b7\u5f97\u964d\u5e8f\u6570\u7ec4\u53ef\u4ee5\u5148 <code>arr.sort()</code> \uff0c\u518d <code>arr.reverse()</code></li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u89c4\u5219\uff08\u4e0b\u9762\u662f\u4e00\u4e2a\u5bf9 Number \u6392\u5e8f\u89c4\u5219\u8986\u5199\u7684\u4f8b\u5b50\uff09</li> </ul> <pre><code>var arr = [\"a\", \"d\", \"e\", \"b\", \"c\"];\narr.sort(); // arr = [\"a\", \"b\", \"c\", \"d\", \"e\"]\n\nvar arrNum = [5, 11, 2, 34, 24];\narrNum.sort(function(a, b) {\n    // \u8fd4\u56de &gt;0 \u7684\u503c\uff0c\u5219\u4ea4\u6362 (a,b) \u7684\u4f4d\u7f6e\n    // \u8fd4\u56de &lt;=0 \u7684\u503c\uff0c\u4fdd\u6301\u5143\u7d20\u4f4d\u7f6e\u4e0d\u53d8\n    return a-b; // \u5347\u5e8f\n    return b-a; // \u964d\u5e8f\n})\n</code></pre> </li> </ol>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#13","title":"1.3 \u904d\u5386\u6570\u7ec4","text":"<ul> <li> <p>\u4f7f\u7528 For \u5faa\u73af     <pre><code>for(let i=0; i&lt;arr.length; i++) {\n    console.log(arr[i]);\n}\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 forEach \u65b9\u6cd5     <pre><code>arr.forEach(item =&gt; { // \u4ec5\u652f\u6301 IE8 \u4ee5\u4e0a\u7684\u6d4f\u89c8\u5668\uff0citem \u662f\u5f53\u6b21\u904d\u5386\u5f97\u5230\u7684\u5143\u7d20\n    console.log(item);// \u56de\u8c03\u51fd\u6570\u4f53\uff08\u6709\u51e0\u4e2a\u5143\u7d20\u5c31\u6267\u884c\u51e0\u6b21\uff09\n})\n// \u5b8c\u6574\u60c5\u51b5\u4e0b\u4f1a\u4f20\u9012\u4e09\u4e2a\u53c2\u6570\narr.forEach(function(item, index, arrObj) {\n    // \u5f53\u524d\u5143\u7d20\uff0c\u5f53\u524d\u4e0b\u6807\uff0c\u6b63\u5728\u904d\u5386\u7684\u6570\u7ec4\n})\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#14-","title":"1.4 \u7ec3\u4e60 - \u6570\u7ec4\u53bb\u91cd","text":"<pre><code>var arr = [1,2,3,2,1,4,5,4];\n// \u83b7\u53d6\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\nfor(let i=0; i&lt;arr.length; i++) {\n    // \u68c0\u67e5 i \u4ee5\u540e\u662f\u5426\u5b58\u5728\u4e0e\u5f53\u524d\u5143\u7d20\u91cd\u590d\u7684\u5185\u5bb9\n    for(let j=i+1; j&lt;arr.length; j++) {\n        if(arr[i]==arr[j]) { // \u5220\u540e\u9762\u7684\n            arr.splice(j,1);\n            // \uff08\u8fde\u7eed\u4e24\u4e2a\u91cd\u590d\u4f1a\u6f0f\u5220 -&gt; \u524d\u79fb\u4e86\uff09\n            j--; // \u91cd\u590d check \u5f53\u524d\u4f4d\u7f6e\n        }\n    }\n}\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#2-date","title":"2 Date","text":"<ul> <li> <p>\u521b\u5efa\u4e00\u4e2a Date \u5bf9\u8c61</p> <ul> <li>\u5141\u8bb8\u4ee5 <code>mm/dd/yyyy</code> / <code>mm/dd/yyyy hh:mm:ss</code> \u8fdb\u884c\u521d\u59cb\u5316</li> </ul> <pre><code>var d1 = new Date();            // \u76f4\u63a5\u8c03\u7528 -&gt; \u5c01\u88c5\u4ee3\u7801\u6267\u884c\u65f6\u95f4\uff08\u5f53\u524d\u65f6\u95f4\uff09\nvar d2 = new Date(\"12/03/2010\");// \u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u65f6\u95f4\n</code></pre> </li> <li> <p>\u83b7\u53d6\u57fa\u672c\u4fe1\u606f     <pre><code>d.getDate();     // \u8fd4\u56de\u65e5\u671f   1-31\nd.getDay();      // \u8fd4\u56de\u661f\u671f\u51e0 0-6\nd.getMonth();    // \u8fd4\u56de\u6708\u4efd   0-11\nd.getFullYear(); // \u8fd4\u56de YYYY\n---\nd.getHours();       // \u5c0f\u65f6 0-23\nd.getMinutes();     // \u5206\u949f 0-59\nd.getSeconds();     // \u79d2   0-59\nd.getMiliseconds(); // \u6beb\u79d2 0-999\n---\nd.getTime(); // \u83b7\u53d6\u65f6\u95f4\u6233\uff1a\u4ece1970/01/01 00:00:00 \u7ecf\u8fc7\u7684\u300c\u6beb\u79d2\u300d\u6570\uff08\u6709\u8d1f\u6570\uff09\ntime = Date.now(); // \u83b7\u53d6\u300c\u6539\u884c\u4ee3\u7801\u6267\u884c\u65f6\u300d\u7684\u65f6\u95f4\u6233\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#3-math","title":"3 Math","text":"<p>\u4e0d\u540c\u4e8e\u5176\u4ed6\u5bf9\u8c61\uff0cMath \u4e0d\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff08\u4e0d\u80fd <code>new</code>\uff09\uff0c\u800c\u662f\u4e00\u4e2a\u300c\u5de5\u5177\u7c7b\u300d</p>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#31-","title":"3.1 \u5c5e\u6027 - \u4e00\u4e9b\u5e38\u91cf","text":"\u5c5e\u6027 \u63cf\u8ff0 E \u5e38\u91cf \\(e = 2.718\\) LN2 \\(ln(2) = 0.693\\) LN10 \\(ln(10)=2.302\\) LOG2E \\(log_2(e) = 1.414\\) LOG10E \\(log_{10}(e) = 0.434\\) PI \\(3.14159\\) SQRT1_2 \\(\\frac{1}{\\sqrt{2}} =0.707\\) SQRT2 \\(\\sqrt{2}=1.414\\)"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#32","title":"3.2 \u65b9\u6cd5","text":"<ul> <li><code>Math.abs(x)</code> \u7edd\u5bf9\u503c</li> <li><code>Math.exp(x)</code> \u8fd4\u56de \\(e^x\\)</li> <li><code>Math.pow(x, y)</code> \u8fd4\u56de \\(x^y\\)</li> <li><code>Math.floor() / Math.ceil()</code> \u5411\u4e0b/\u5411\u4e0a \u53d6\u6574</li> <li><code>Math.max(x,y, ...) / Math.min(x,y, ...)</code> \u591a\u4e2a\u6570\u4e2d\u7684 \u6700\u5927 /\u6700\u5c0f \u503c</li> <li><code>Math.random()</code> 0-1 \u7684\u968f\u673a\u6570     <pre><code>// \u751f\u6210 [n-m] \u7684\u6574\u6570\nfunction rand(n, m) {\n    return Math.random() * (m-n) + n;\n}\n</code></pre></li> <li><code>Math.round()</code> \u56db\u820d\u4e94\u5165</li> <li><code>Math.sqrt()</code> \u5f00\u65b9</li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#4","title":"4 \u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u68c0\u67e5 String \u662f\u5426\u7b26\u5408\u7279\u5b9a\u89c4\u5219 / \u63d0\u53d6\u7b26\u5408\u89c4\u5219\u7684\u5b50\u4e32</p> <p>\u5b66\u5b8c\u7f16\u8bd1\u539f\u7406\u56de\u6765\u611f\u89c9\u795e\u6e05\u6c14\u723d \ud83e\udd21</p> <ul> <li> <p>\u521b\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61</p> <ul> <li>\u5339\u914d\u6a21\u5f0f\u9009\u9879<ul> <li><code>i</code> - \u5ffd\u7565\u5927\u5c0f\u5199</li> <li><code>g</code> - \u5168\u5c40\u5339\u914d</li> </ul> </li> </ul> <pre><code>var reg1 = new RegExp(\"Regular Expression\", \"\u5339\u914d\u6a21\u5f0f\");// \u53ef\u4ee5\u4f20\u5165\u53d8\u91cf\nvar reg2 = /RegularExpression/\u5339\u914d\u6a21\u5f0f;                 // \u4f7f\u7528\u5b57\u9762\u91cf\u5f62\u5f0f\u521b\u5efa\n</code></pre> </li> <li> <p>\u68c0\u6d4b String \u662f\u5426\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u5219\uff08\u8fd4\u56de Boolean\uff09     <pre><code>// \u4f7f\u7528 test() \u65b9\u6cd5\nconsole.log(reg.test(\"Str to be tested\"))\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_1","title":"\u6b63\u5219\u8bed\u6cd5","text":"<ul> <li> <p>OR</p> <ul> <li><code>str1 | str2</code> \u5305\u542b str1 \u6216 str2</li> <li><code>[ab]</code> \u5305\u542b 'a' \u6216 'b'</li> <li><code>[a-z]</code> \u5305\u542b\u5c0f\u5199\u5b57\u6bcd</li> <li><code>[A-z]</code> \u5305\u542b\u4efb\u610f\u5b57\u6bcd\uff08\u6ce8\u610f\u5927\u5c0f\u5199\u548c\u987a\u5e8f\uff09</li> </ul> <p>\u4f8b\u5b50\uff1a\u662f\u5426\u5305\u542b 'abc' / 'adc' / 'aec'\uff0c <code>/ abc | adc | aec /</code> \u4e0d\u591f\u4f18\u96c5 =&gt; <code>/ a[bde]c /</code></p> </li> <li> <p>NOT</p> <p><code>[^ab]</code> \u8868\u793a\u9664 'a', 'b' \u4ee5\u5916\u7684\u6240\u6709\u5b57\u7b26</p> </li> <li> <p>\u91cf\u8bcd\uff1a\u6307\u5b9a\u5185\u5bb9\u91cd\u590d\u51fa\u73b0\u6b21\u6570</p> \u8bed\u6cd5 \u63cf\u8ff0 \u793a\u4f8b <code>x{n}</code> \u5b57\u7b26 x \u6b63\u597d\u51fa\u73b0 n \u6b21 <code>/a{3}/ === /aaa/</code> <code>x{m,n}</code> \u5b57\u7b26 x \u51fa\u73b0 <code>[m,n]</code> \u6b21 <code>/a[1-3]/ === / a | aa | aaa /</code> <code>x{m,}</code> \u5b57\u7b26 x \u51fa\u73b0 <code>&gt;= m</code> \u6b21 <code>(str){n}</code> \u5b57\u4e32 str \u6b63\u597d\u51fa\u73b0 n \u6b21 <code>/(ab){2}/ === abab</code> <code>x+</code> \u51fa\u73b0 <code>&gt;=1</code> \u6b21 <code>x*</code> \u51fa\u73b0 <code>&gt;=0</code> \u6b21 <code>x?</code> \u51fa\u73b0 <code>0 / 1</code> \u6b21 </li> <li> <p>\u4ee5\u6307\u5b9a\u4e32\u5f00\u5934\uff1a<code>/^a/ === a****...;</code></p> </li> <li>\u4ee5\u6307\u5b9a\u4e32\u7ed3\u675f\uff1a<code>/a$/ === ****...a;</code></li> </ul> <ul> <li> <p>\u540c\u65f6\u4f7f\u7528\u4e24\u8005\u8fdb\u884c\u5168\u7b49\u5339\u914d  <code>/^a$/ === \"a\"</code></p> </li> <li> <p>\u5339\u914d\u4ee5 <code>a</code> \u5f00\u5934\u6216\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32 <code>/^a | a$/</code></p> </li> </ul> <ul> <li> <p>\u8f6c\u4e49\u5b57\u7b26</p> \u7279\u6b8a\u5b57\u7b26 \u63cf\u8ff0 <code>\\w</code> \u4efb\u610f\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf <code>\\W</code> \u9664 <code>\\w</code>  \u4ee5\u5916\u7684\u6240\u6709\u5b57\u7b26 <code>\\s</code> \u7a7a\u683c <code>\\S</code> \u9664\u7a7a\u683c\u4ee5\u5916\u7684\u5185\u5bb9 <code>\\b</code> \u5355\u8bcd\u8fb9\u754c\uff1a <code>/\\bchildern\\b/</code> \u5339\u914d <code>child</code>\uff0c\u4e0d\u5339\u914d <code>children</code> <code>\\B</code> \u9664\u5355\u8bcd\u8fb9\u754c\u4ee5\u5916\u7684\u90e8\u5206 <code>\\d</code> <code>[0-9]</code> <code>\\D</code> <code>[^0-9]</code> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#string","title":"String \u4e2d\u7684\u76f8\u5173\u65b9\u6cd5","text":"<ul> <li> <p><code>split()</code> - \u6839\u636e\u201c\u4efb\u610f\u5b57\u6bcd\u201d\u62c6\u5206\u5b57\u7b26\u4e32</p> <pre><code>// \u4f20\u9012 String \u53ea\u80fd\u6839\u636e\u56fa\u5b9a\u5185\u5bb9\u8fdb\u884c\u62c6\u5206\uff0c\u6b64\u5904\u6211\u4eec\u4f20\u9012\u6b63\u5219\u8868\u8fbe\u5f0f\nvar str = \"1j2d3k456j7\";\nvar res = str.split(/[A-z]/); // \u4e0d\u6307\u5b9a\u5168\u5c40\u4e5f\u4f1a\u5168\u62c6\u5f00\n// res = [1,2,3,456,7]\n</code></pre> </li> <li> <p><code>search()</code> - \u641c\u7d22\u5b57\u7b26\u4e32\u4e2d\u662f\u5426\u5305\u542b\u6307\u5b9a\u5185\u5bb9\uff0c\u8fd4\u56de\u9996\u6b21\u51fa\u73b0\u7684\u8d77\u59cb\u4e0b\u6807\uff08\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de-1\uff09</p> <pre><code>var str = \"helloabctype\";\nconsole.log(str.search(\"abc\")); // \u8fd4\u56de 5\n// \u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff08\u65e0\u8bba\u662f\u5426\u8bbe\u7f6e\u5168\u5c40\u5339\u914d\uff09\nstr.search(/a[bef]c/); // \u662f\u5426\u5b58\u5728 abc/aec/afc\n</code></pre> </li> <li> <p><code>match()</code> - \u8fd4\u56de\u6240\u6709\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b50\u4e32\u6784\u6210\u7684\u6570\u7ec4</p> <pre><code>var str = \"1j2d3k456j7\";\nvar res = str.match(/[A-z]/); // \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53ea\u627e\u7b2c\u4e00\u4e2a\uff0c\u6b64\u65f6 res = [\"j\"]\n// \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u201c\u5168\u5c40\u5339\u914d\u201d\u6a21\u5f0f\u67e5\u627e\u6240\u6709\u5185\u5bb9\nvar res = str.match(/[A-z]/g); // res = [\"j\",\"d\",\"k\",\"j\"]\n// \u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6e \u5168\u5c40+\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff08\u987a\u5e8f\u65e0\u6240\u8c13\uff09\nvar res = str.match(/[a-z]/gi); // \u4e5f\u662f\u5339\u914d\u6240\u6709\u5927\u5c0f\u5199\u5b57\u6bcd\uff08\u5355\u4e2a\uff09\n</code></pre> </li> <li> <p><code>replace(old, new)</code> - \u8fd4\u56de\u5c06\u7b26\u5408\u89c4\u5219\u7684\u5b50\u4e32\u66ff\u6362\u4e3a\u65b0\u7684\u5185\u5bb9\u7684\u7ed3\u679c\uff08\u4e0d\u5f71\u54cd\u539f\u4e32\uff09</p> <pre><code>var ini = \"aba\";\nvar res = ini.replace(\"a\", \"@_@\"); // =&gt; @_@ba\uff08\u53ea\u66ff\u6362\u7b2c\u4e00\u4e2a\uff09\n\n// \u4f7f\u7528\u6b63\u5219\u8fdb\u884c\u5168\u5c40\u66ff\u6362\nvar res = ini.replace(/a/g, \"@_@\"); // =&gt; @_@b@_@\uff08\u66ff\u6362\u6240\u6709\uff09\n</code></pre> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_2","title":"\u7ec3\u4e60","text":""},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_3","title":"\u68c0\u9a8c\u5408\u6cd5\u624b\u673a\u53f7","text":"<p>\u4ee5 <code>1</code> \u5f00\u5934\uff0c\u7b2c\u4e8c\u4f4d\u4e0d\u4e3a <code>0,1,2</code> \u7684 11 \u4f4d\u7eaf\u6570\u5b57</p> <pre><code>var phoneReg = /^1[^012][0-9]{9}$/; // \u7528[3-9]\u6821\u9a8c\u7b2c\u4e8c\u4f4d\u4e5f\u884c\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_4","title":"\u68c0\u9a8c\u662f\u5426\u5305\u542b <code>.</code>","text":"<p>\u56e0\u4e3a <code>.</code> \u672c\u8eab\u5339\u914d\u4efb\u610f\u300c\u5355\u4e2a\u300d\u5b57\u7b26\uff08\u9664 <code>\\n</code>\uff09\uff0c\u6240\u4ee5\u9700\u8981\u8f6c\u4e49</p> <pre><code>var reg = /\\./; // \u8f6c\u4e49\u4e3a\u666e\u901a\u5b57\u7b26 '.'\nvar reg = new RegExp(\"\\\\.\"); // \u4f7f\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u9700\u8981\u7528 \\\\ \u8fdb\u884c\u8f6c\u4e49\n// \u4e0b\u9762\u5c1d\u8bd5\u5339\u914d\u5355\u4e2a \\\nvar reg = /\\\\/;\nvar reg = new RegExp(\"\\\\\\\\\"); // \u4e24\u4e2a\u8f6c\u6210\u4e00\u4e2a*2\u6b21\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_5","title":"\u53bb\u9664\u7528\u6237\u8f93\u5165\u4e2d\u7684\u300c\u9996\u5c3e\u300d\u8fde\u7eed\u7a7a\u683c","text":"<p>\u5c31\u4f7f\u7528\u7a7a\u4e32\u53bb\u66ff\u6362</p> <pre><code>str = str.replace(/^\\s* | \\s*$/g, \"\");\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%AD%A3%E5%88%99/#_6","title":"\u7535\u5b50\u90ae\u4ef6","text":"<p><code>\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf.\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf@\u5b57\u6bcd\u6570\u5b57.2-5\u4e2a\u5b57\u6bcd.2-5\u4e2a\u5b57\u6bcd</code></p> <pre><code>var EmailReg = /^\\w{3,}(\\.\\w+)*@[A-z0-9]+(\\.[A-z]{2,5}){1,2}$/;\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/","title":"1 \u57fa\u7840","text":"<p> \u7ea6 2010 \u4e2a\u5b57  102 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#intro","title":"Intro","text":"JavaScript &amp; ECMAScript <p>\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u8ba4\u4e3a\u4e24\u8005\u7b49\u4ef7</p> <ul> <li><code>ECMAScript</code> \u662f\u4e00\u4e2a\u6807\u51c6\uff0c\u9700\u8981\u5404\u4e2a\u6d4f\u89c8\u5668\u5382\u5546\u8fdb\u884c\u5b9e\u73b0</li> <li><code>JavaScript</code> &gt; <code>ECMAScript</code>\uff0c\u5176\u5b8c\u6574\u5b9e\u73b0\u56ca\u62ec\u4e86 <code>ECMAScript</code>, <code>DOM</code> and <code>BOM</code>.</li> </ul> <ul> <li>JavaScript \u7684\u7279\u70b9<ul> <li>\u89e3\u91ca\u578b\u8bed\u8a00</li> <li>\u7c7b\u4f3c\u4e8e C &amp; Java \u7684\u8bed\u6cd5\u7ed3\u6784</li> <li>\u52a8\u6001\u8bed\u8a00</li> <li>\u57fa\u4e8e\u539f\u578b\u7684\u9762\u5411\u5bf9\u8c61</li> </ul> </li> <li>JavaScript \u7684\u7f16\u5199\u4f4d\u7f6e<ul> <li>HTML \u6587\u4ef6\u7684 <code>&lt;script&gt;</code> \u6807\u7b7e\u4e2d</li> <li>\u5916\u90e8\u6587\u4ef6\u4e2d\uff0c\u5e76\u901a\u8fc7 <code>&lt;script&gt;</code> \u6807\u7b7e\u5f15\u5165<ul> <li>\u53ef\u4ee5\u88ab\u4e0d\u540c\u6587\u4ef6\u5f15\u7528\uff0c\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u673a\u5236\u52a0\u5feb\u52a0\u8f7d\u8fc7\u7a0b</li> <li>\u7528\u4e8e\u5f15\u5165\u5916\u90e8\u6587\u4ef6\u7684 <code>&lt;script&gt;</code> \u6807\u7b7e\u5185\u4e66\u5199\u7684\u5185\u5bb9\u4f1a\u88ab\u5ffd\u7565\uff08\u7981\u6b62\u5403\u91cc\u6252\u5916\uff09</li> </ul> </li> </ul> </li> <li>\u57fa\u672c\u89c4\u5219<ul> <li>\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199</li> <li>\u6bcf\u4e00\u6761\u8bed\u53e5\u4ee5 <code>;</code> \u7ed3\u5c3e\uff0c\u4e0d\u624b\u5199\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u6dfb\u52a0\uff08\u4e5f\u53ef\u80fd\u52a0\u9519\uff09</li> <li>\u5ffd\u7565\u591a\u4e2a\u7a7a\u683c\u548c\u6362\u884c</li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#1","title":"1 \u5b57\u9762\u91cf &amp; \u53d8\u91cf","text":"<ul> <li> <p>\u5b57\u9762\u91cf</p> <p>\u4e00\u4e9b\u4e0d\u53ef\u6539\u53d8\u7684\u503c\uff08\u5982 <code>1</code> / <code>1000</code>\uff09\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff08\u4f46\u4e00\u822c\u4e0d\u76f4\u63a5\u7528\uff09</p> </li> <li> <p>\u53d8\u91cf</p> <p>\u53ef\u4ee5\u7528\u4e8e\u4fdd\u5b58\u5b57\u9762\u91cf\uff0c\u5176\u503c\u53ef\u4ee5\u4efb\u610f\u6539\u53d8\uff1b</p> <p>\u7b80\u5355\u7684\u53d8\u91cf\u58f0\u660e\uff1a<code>var a</code>\uff0c\u6b64\u65f6\u6211\u4eec\u5c1a\u672a\u8d4b\u503c\uff0c<code>a = undefined</code></p> </li> </ul> \u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219 <p>\u5728 JS \u4e2d\uff0c\u6240\u6709\u652f\u6301\u81ea\u4e3b\u547d\u540d\u7684\u90fd\u79f0\u4e3a\u201c\u6807\u8bc6\u7b26\u201d\uff08\u5982 \u53d8\u91cf\u540d / \u51fd\u6570\u540d / \u5c5e\u6027\u540d\uff09\uff0c\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u89c4\u5219\uff1a</p> <ul> <li>\u53ef\u4ee5\u5305\u542b\uff1a\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u3001$</li> <li>\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934</li> <li>\u4e0d\u80fd\u662f ES \u4e2d\u7684 \u5173\u952e\u5b57 / \u4fdd\u7559\u5b57</li> <li>\u5efa\u8bae\u4f7f\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5</li> </ul> <p>JS \u5e95\u5c42\u4f7f\u7528 <code>Unicode</code> \u7f16\u7801\u4fdd\u5b58\u6807\u8bc6\u7b26\uff0c\u7406\u8bba\u4e0a\u652f\u6301 utf-8  \u4e2d\u7684\u6240\u6709\u5185\u5bb9\uff08\u6bd4\u5982\u4e2d\u6587\uff09</p> <p>\u4f7f\u7528 <code>XXXX</code> \u8868\u793a <code>Unicode</code> \u5b57\u7b26\u7684\u5341\u8fdb\u5236\u7f16\u53f7\uff1a</p> <ul> <li> <p>JS \u4e2d\u4f7f\u7528 <code>\\uXXXX</code> \u8f93\u51fa</p> </li> <li> <p>HTML \u4e2d\u4f7f\u7528 <code>&amp;#XXXX</code> \u8f93\u51fa</p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#11","title":"1.1 \u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>JS \u4e2d\u5171\u5305\u542b\u516d\u79cd\u6570\u636e\u7c7b\u578b\uff1a</p> <ul> <li>\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff1a<code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>Null</code>, <code>Undefined</code></li> <li>\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff1a<code>Object</code></li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>typeof varName</code> \u7b80\u5355\u68c0\u67e5\u53d8\u91cf\u7684\u7c7b\u578b\u3002</p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#string","title":"String","text":"<ul> <li>\u9700\u8981\u4f7f\u7528\u5f15\u53f7\u5305\u88f9\uff08\u5355\u53cc\u90fd\u884c\uff0c\u4f46\u4e0d\u8981\u6df7\u7528\uff09</li> <li>\u5f15\u53f7\u4e0d\u80fd\u5d4c\u5957\uff08\u53ef\u4ee5\u5927\u80a0\u5305\u5c0f\u80a0\uff0c\u4f46\u662f\u81ea\u4ea7\u81ea\u9500\u65f6\u9700\u8981\u7528 <code>\\</code> \u8fdb\u884c\u8f6c\u4e49\uff09</li> <li>\u7279\u6b8a\u7b26\u53f7\u4e5f\u9700\u8981\u4f7f\u7528 <code>\\</code> \u8fdb\u884c\u8f6c\u4e49</li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#number","title":"Number","text":"<p>\u6574\u6570\u8ba1\u7b97\u7cbe\u5ea6\u6709\u4fdd\u969c\uff0c\u4f46\u662f\u6d6e\u70b9\u6570\u5c31 emmm ...</p> <ul> <li>JS \u4e2d\u7684\u6240\u6709\u6570\u503c\u90fd\u5c5e\u4e8e Number \u578b\uff08\u6574\u6570 &amp; \u6d6e\u70b9\u6570\uff09</li> <li> <p>\u6700\u503c\u4e0e\u65e0\u7a77</p> <ul> <li>\u6700\u5927\u503c <code>Number.MAX_VALUE</code> = \\(1.7976931348623157*10^{308}\\)\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u503c\u5c06\u8fd4\u56de <code>Infinity</code></li> <li>\u6700\u5c0f\u503c\u662f\u6700\u5927\u503c\u7684\u76f8\u53cd\u6570\uff0c\u8d85\u8fc7\u5219\u8fd4\u56de <code>-Infinity</code></li> <li><code>Number.MIN_VALUE</code> = \\(0.5*10^{323}\\) \u8868\u793a\u652f\u6301\u7684\u6700\u5c0f\u6b63\u503c</li> </ul> <p><code>Infinity</code> \u662f\u4e00\u4e2a\u7c7b\u578b\u4e3a Number \u7684\u5b57\u9762\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>var a = Infinity</code> \u8fdb\u884c\u8d4b\u503c</p> </li> <li> <p><code>NaN</code> \u8868\u793a Not a Number\uff0c\u662f\u4e00\u4e2a Number \u578b\u7684\u5b57\u9762\u91cf</p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#boolean","title":"Boolean","text":"<p><code>true</code> or <code>false</code></p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#null","title":"Null","text":"<p>\u53ea\u6709 <code>null</code> \u503c\uff0c\u8868\u793a \u7a7a\u5bf9\u8c61\uff0c\u4f7f\u7528 <code>typeof</code> \u8fd4\u56de <code>Object</code></p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#undefined","title":"Undefined","text":"<p>\u53ea\u6709 <code>undefined</code> \u503c\uff0c\u8868\u793a \u672a\u5b9a\u4e49\uff08\u58f0\u660e\u4f46\u6ca1\u8d4b\u503c\uff09</p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#12","title":"1.2 \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#string_1","title":"\u8f6c String","text":"\u5173\u4e8e <code>toString</code>  \u65b9\u6cd5 <ul> <li><code>toString</code> \u65b9\u6cd5\u4e0d\u4f1a\u6539\u53d8\u539f\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a String \u578b\u7684\u6267\u884c\u7ed3\u679c</li> <li><code>Null</code> &amp; <code>Undefined</code> \u7c7b\u578b\u6ca1\u6709 <code>toString</code> \u65b9\u6cd5\uff0c\u8c03\u7528\u65f6\u4f1a\u62a5\u9519</li> </ul> <ol> <li>\u8c03\u7528\u88ab\u8f6c\u6362\u6570\u636e\u7c7b\u578b\u7684 <code>toString</code> \u65b9\u6cd5      <pre><code>var a = 123;\nvar b = a.toString();\nconsole.log(typeof a, typeof b); // =&gt; number, string\n\n// \u5176\u5b9e\u4e5f\u53ef\u4ee5\na = a.toString();\n</code></pre></li> <li>\u8c03\u7528 <code>String</code> \u51fd\u6570<ul> <li>\u5bf9\u4e8e Number / Boolean \u7c7b\u578b\uff0c\u76f4\u63a5\u8c03\u7528 <code>toString</code> \u65b9\u6cd5</li> <li>\u5bf9\u4e8e Null / Undefined \u7c7b\u578b\uff0c\u76f4\u63a5\u8f6c\u4e3a\u5b57\u7b26\u4e32 <pre><code>var a = 123;\na = String(a); // =&gt; a = \"123\"\n\n// \u517c\u5bb9 null &amp; undefined\nvar b = null;\nvar c = undefined;\nconsole.log(String(b), String(c)); \n// =&gt; \"null\" &amp; \"undefined\"\n</code></pre></li> </ul> </li> </ol>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#number_1","title":"\u8f6c Number","text":"<ol> <li> <p>\u4f7f\u7528 <code>Number</code> \u51fd\u6570</p> Type Result \u5b58\u5728\u975e\u6570\u5b57\u5185\u5bb9 <code>NaN</code> \u7a7a\u4e32 / \u7eaf\u7a7a\u683c 0 <code>true</code> 1 <code>false</code> 0 <code>null</code> 0 <code>undefined</code> <code>NaN</code> </li> <li> <p>\u4f7f\u7528 <code>parseInt / parseFloat</code> \u51fd\u6570\uff08String \u7c7b\u578b\u4e13\u7528\uff09</p> <ul> <li> <p>\u63d0\u53d6\u4ece\u5934\u5f00\u59cb\u5339\u914d\u7684\u6700\u957f\u8fde\u7eed\u5b57\u4e32</p> <ul> <li><code>parseInt(\"123px456\") =&gt; 123</code></li> <li><code>parseFloat(\"123.456.789\") =&gt; 123.456</code></li> </ul> </li> <li> <p>\u5bf9\u300c\u975e String \u7c7b\u578b\u300d\u8c03\u7528\u4f1a\u5148\u8f6c\u6362\u4e3a String\uff0c\u518d\u8fdb\u884c\u5bf9\u5e94\u8f6c\u6362\u3002</p> <ul> <li><code>parseInt(true) =&gt; parseInt(\"true\") =&gt; NaN</code></li> <li>\u751a\u81f3\u53ef\u4ee5\u6084\u6084\u53d6\u6574 <code>parseInt(198.23) =&gt; parseInt(\"198.23\") =&gt; 198</code></li> </ul> </li> </ul> </li> </ol>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#_1","title":"\u8fdb\u5236\u8f6c\u6362","text":"<ul> <li> <p>\u975e\u5341\u8fdb\u5236\u7684\u8868\u793a</p> \u8fdb\u5236 \u524d\u7f00 \u793a\u4f8b 16 <code>0x</code> <code>0x12f</code> 8 <code>0</code> <code>070</code> 2 <code>0b</code> <code>0b1010</code> <ul> <li><code>console.log()</code> \u5747\u4ee5\u5341\u8fdb\u5236\u8f93\u51fa\u7ed3\u679c</li> <li>\u4e0d\u662f\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u4ee5 <code>0bxxx</code> \u8868\u793a\u4e8c\u8fdb\u5236\u6570</li> </ul> </li> <li> <p>\u6307\u5b9a\u8fdb\u5236\u89e3\u6790</p> <ul> <li>\u573a\u666f\uff1a<code>parseInt(\"070\")</code> \u89c6\u6d4f\u89c8\u5668\u53ef\u80fd\u88ab\u89e3\u6790\u4e3a \\(56_o\\) \u6216 \\(70_d\\)</li> <li>\u89e3\u51b3\uff1a\u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u8fdb\u5236 <code>parseInt(\"070\", 8) === 56</code></li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#boolean_1","title":"\u8f6c Boolean","text":"<p>\u4f7f\u7528 <code>Boolean</code> \u51fd\u6570\uff0c\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\uff1a</p> Input Result \u4e00\u822c\u6570\u5b57 <code>true</code> 0 <code>false</code> <code>NaN</code> <code>false</code> \u4e00\u822c\u5b57\u7b26\u4e32 / \u7eaf\u7a7a\u683c <code>true</code> \u7a7a\u4e32 <code>false</code> <code>null</code> <code>false</code> <code>undefined</code> <code>false</code> <code>Object</code> <code>true</code>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#13","title":"1.3 \u5305\u88c5\u7c7b","text":"<p>\u7528\u4e8e\u5c06\u300c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u300d\u8f6c\u6362\u4e3a\u300c\u5bf9\u8c61\u300d</p> <ul> <li> <p>JS \u4e2d\u5b58\u5728\u4e09\u4e2a\u5305\u88c5\u7c7b <code>String()</code>, <code>Number()</code>, <code>Boolean()</code> <pre><code>var num = new Number(3); // typeof num \u8fd4\u56de Object\uff08\u800c\u975e Number\uff09\n\n// \u6ce8\u610f\uff1a\u5b9e\u9645\u5f00\u53d1\u65f6\u4e0d\u4f1a\u4f7f\u7528\uff08\u6bd4\u8f83\u7ed3\u679c\u4e0d\u7b26\u5408\u9884\u671f\uff09\nvar n1 = 3; var n2 = 3;\nn1 == n2; // =&gt; true\nvar n3 = Number(3); var n4 = Number(3);\nn3 == n4; // =&gt; false \u5bf9\u8c61\u5730\u5740\u4e0d\u540c\n// \u4ee5\u53ca Boolean \u5bf9\u8c61\u4f5c\u4e3a\u6761\u4ef6\nvar b = new Boolean(false);\nif(b) console.log(\"ok\"); // \u4f1a\u8f93\u51fa ok\uff08Object \u8f6c Boolean \u4e3a true\uff09\n</code></pre></p> </li> <li> <p>\u6211\u4eec\u53ef\u4ee5\u4e3a\u5305\u88c5\u7c7b\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027     <pre><code>num.hello = \"dfghjk\"; // \u82e5\u662f var num = 3; \u5c31\u4f1a\u62a5\u9519\u54e9\nconsole.log(num.hello);\n</code></pre></p> </li> <li> <p>\u5f53\u6211\u4eec\u8bd5\u56fe\u8c03\u7528\u300c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u300d\u7684 \u5c5e\u6027/\u65b9\u6cd5 \u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u4e34\u65f6\u4f7f\u7528\u5305\u88c5\u7c7b\u5c06\u5176\u8f6c\u6362\u4e3a\u5bf9\u8c61     <pre><code>var a = 123; // \u663e\u7136\u6b64\u65f6 a \u662f\u4e00\u4e2a Number\na = a.toStirng(); // a \u88ab\u4e34\u65f6\u8f6c\u6362\u4e3a Number \u5bf9\u8c61\uff0c\u8c03\u7528\u5bf9\u8c61\u7684 toString\nconsole.log(typeof a); // =&gt; string\n\na.hello = \"hello\"; // \u4e0d\u62a5\u9519 -&gt; \u4e34\u65f6\u8f6c\u6362\u4e3a\u5bf9\u8c61\uff0c\u9a6c\u4e0a\u9500\u6bc1\nconsole.log(a.hello); // =&gt; undefined \u53c8\u88ab\u4e34\u65f6\u8f6c\u6362\u4e3a\u5bf9\u8c61\uff08\u4f46\u4e0d\u662f\u540c\u4e00\u4e2a\uff09\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#14-string","title":"1.4 String \u5bf9\u8c61\u65b9\u6cd5","text":"<p>\u5305\u88c5\u7c7b\u7684\u5b58\u5728\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 String \u5bf9\u8c61\u7684\u65b9\u6cd5</p> <ul> <li> <p>String \u5728\u5e95\u5c42\u662f\u4ee5\u300c\u5b57\u7b26\u6570\u7ec4\u300d\u7684\u5f62\u5f0f\u4fdd\u5b58\u7684</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7 <code>str.length</code> \u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>str[idx]</code> \u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u4e0a\u7684 char</li> </ul> </li> <li> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u65b9\u6cd5</p> \u65b9\u6cd5 \u63cf\u8ff0 <code>charAt(idx)</code> \u8fd4\u56de <code>str[idx]</code> <code>charCodeAt(idx)</code> \u8fd4\u56de <code>str[idx]</code> \u7684 Unicode \u7f16\u7801 <code>fromCharCode(charCode)</code> \u4ece\u5b57\u7b26\u7f16\u7801\u521b\u5efa\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>concat(str1, str2, ...)</code> \u62fc\u63a5\u591a\u4e2a\u5b57\u7b26\u4e32 <code>indexOf(\"str\", start)</code> \u8fd4\u56de\u4ece <code>start</code> \u5f00\u59cb\u9996\u6b21\u51fa\u73b0\u8be5\u5b50\u4e32\u7684\u8d77\u59cb\u4e0b\u6807\uff0c\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de -1 <code>lastIndexOf(\"str\")</code> \u8fd4\u56de\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u8be5\u5b50\u4e32\u7684\u8d77\u59cb\u4e0b\u6807\uff0c\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de -1 <code>slice(start, end)</code> \u8fd4\u56de <code>str[start, end)</code> \u5b50\u4e32\uff0c\u4e0d\u5f71\u54cd\u539f\u4e32\uff08\u5141\u8bb8\u4f20\u5165\u8d1f\u6570\uff09 <code>subString(start, end)</code> \u548c slice \u7c7b\u4f3c\uff08\u4e0d\u5141\u8bb8\u4f20\u5165\u8d1f\u6570\uff0c\u4e14 p2&lt;p1 \u65f6\u81ea\u52a8\u4ea4\u6362\uff09 <code>subStr(start, len)</code> \u4e0d\u592a\u5efa\u8bae\u4f7f\u7528 <code>split(\"\u6307\u5b9a\u5206\u9694\u7b26\")</code> \u5c06 String \u62c6\u5206\u4e3a Array \uff08\u4e0d\u6307\u5b9a/\u6307\u5b9a\u7a7a\u4e32\u4f1a\u9010\u4e2a\u62c6\u5f00\uff09 <code>toLowerCase()/toUpperCase()</code> \u5927\u5c0f\u5199\u8f6c\u6362 </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#2","title":"2 \u57fa\u672c\u8fd0\u7b97","text":""},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#21","title":"2.1 \u8fd0\u7b97\u7b26","text":"<ul> <li> <p>\u7c7b\u578b\u8fd0\u7b97\u7b26 <code>typeof</code> </p> <p>\u5c06\u503c\u7684\u7c7b\u578b\u4ee5 String \u5f62\u5f0f\u8fd4\u56de</p> </li> <li> <p>\u7b97\u6570\u8fd0\u7b97\u7b26\uff08\u4e8c\u5143\uff09</p> <ul> <li> <p><code>+</code>  (\u5de6\u7ed3\u5408)</p> <ul> <li> <p>String + \u4efb\u610f\u7c7b\u578b\uff0c\u5c06\u201c\u4efb\u610f\u7c7b\u578b\u503c\u201d\u8f6c\u6362\u4e3a String\uff0c\u968f\u540e\u8fdb\u884c <code>concat</code> </p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>var + ''</code> \u5c06\u4efb\u610f\u6570\u636e\u7c7b\u578b\u8f6c\u4e3a String\uff08\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u7531\u6d4f\u89c8\u5668\u81ea\u52a8\u8c03\u7528 <code>toString</code> \u51fd\u6570\uff09</p> </li> <li> <p>Number + \u4efb\u610f\u975eString\u7c7b\u578b\uff0c\u4f1a\u5bf9\u975e Number \u7684\u503c\u8fdb\u884c\u8f6c\u6362\u540e\u8fd0\u7b97</p> </li> <li>\u4efb\u4f55\u503c\u4e0e <code>NaN</code> \u8fd0\u7b97\u5747\u8fd4\u56de <code>NaN</code><ul> <li><code>-</code> <code>*</code> <code>/</code> \u4f1a\u628a\u4e24\u4fa7\u7684\u6570\u636e\u5747\u8f6c\u6362\u4e3a Number</li> </ul> </li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528 <code>var -0 / *1 / /1</code> \u5c06\u4efb\u610f\u6570\u636e\u7c7b\u578b\u4e13\u4e3a Number</p> </li> <li> <p><code>%</code> \u6734\u7d20\u7684\u53d6\u6a21</p> </li> </ul> </li> <li> <p>\u4e00\u5143\u8fd0\u7b97\u7b26</p> <ul> <li><code>+</code> <code>-</code> \u6b63\u8d1f\u53f7\uff0c\u4f1a\u5c06\u975e Number \u8f6c\u4e3a Number</li> <li><code>++</code> <code>--</code> \u81ea\u589e\u81ea\u51cf<ul> <li><code>++a</code> \u5148\u9012\u589e\u518d\u8fd4\u56de\u7ed3\u679c</li> <li><code>a++</code> \u5148\u8fd4\u56de\u7ed3\u679c\u518d\u9012\u589e</li> </ul> </li> </ul> </li> <li> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a \u975e Boolean \u7c7b\u578b\u4f1a\u5148\u8fdb\u884c\u8f6c\u6362</p> <ul> <li> <p><code>!</code> \u975e</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>!!var</code> \u5feb\u901f\u5c06\u53d8\u91cf\u8f6c\u4e3a Boolean</p> </li> <li> <p><code>&amp;&amp;</code> \u4e0e</p> <ul> <li>\u7b2c\u4e00\u4e2a\u6761\u4ef6\u5931\u8d25\u540e\uff0c\u4e0d\u4f1a\u6267\u884c\u7b2c\u4e8c\u4e2a\u6761\u4ef6</li> <li><code>True &amp;&amp; Ture</code>\uff0c\u8fd4\u56de\u540e\u9762\u7684 True \u7ed3\u679c</li> <li>\u5b58\u5728 False \u65f6\uff0c\u8fd4\u56de\u9996\u4e2a False \u7ed3\u679c</li> </ul> </li> <li><code>||</code> \u6216<ul> <li>\u7b2c\u4e00\u4e2a\u6761\u4ef6\u6210\u529f\u540e\uff0c\u4e0d\u4f1a\u6267\u884c\u7b2c\u4e8c\u4e2a\u6761\u4ef6</li> <li><code>Ture  || ?</code>\uff0c\u8fd4\u56de\u9996\u4e2a Ture \u7ed3\u679c</li> <li><code>False || ?</code>\uff0c\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u7ed3\u679c</li> </ul> </li> </ul> </li> <li> <p>\u8d4b\u503c\u8fd0\u7b97\u7b26 <code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code></p> </li> <li> <p>\u5173\u7cfb\u8fd0\u7b97\u7b26 <code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code></p> <ul> <li>\u4f1a\u5c06\u975e Number \u8f6c\u6362\u4e3a Number\uff0c\u8fd4\u56de Boolean</li> <li>\u7b26\u53f7\u4e24\u4fa7\u5747\u4e3a String \u65f6\uff0c\u76f4\u63a5\u9010\u4f4d\u6bd4\u8f83 Unicode \u7f16\u7801</li> <li>\u4efb\u4f55\u503c\u4e0e<code>NaN</code>\u6bd4\u8f83\u5747\u8fd4\u56de <code>false</code></li> </ul> </li> <li> <p>\u76f8\u7b49\u8fd0\u7b97\u7b26</p> <ul> <li> <p><code>==</code> \u4f1a\u81ea\u52a8\u5c06\u4e24\u4fa7\u8f6c\u4e3a\u76f8\u540c\u7c7b\u578b\u8fdb\u884c\u6bd4\u8f83\uff08\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8f6c Number\uff09</p> <ul> <li> <p><code>undefined == null -&gt; true</code></p> </li> <li> <p><code>NaN == Anything -&gt; false</code> \uff08\u5305\u62ec <code>NaN == NaN</code>\uff0c\u9700\u8981\u7528 <code>isNaN</code> \u51fd\u6570\u5224\u65ad\uff09</p> </li> </ul> </li> <li> <p><code>===</code> \u5168\u7b49\uff08\u4e0d\u4f1a\u505a\u7c7b\u578b\u8f6c\u6362\uff0c\u7c7b\u578b\u4e0d\u540c\u76f4\u63a5 <code>false</code>\uff09</p> </li> <li><code>!=</code> \u4e0d\u7b49\uff0c<code>!==</code> \u4e0d\u5168\u7b49</li> </ul> </li> <li> <p>\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08\u4e09\u5143\uff09<code>condition?case1:case2</code></p> <p>\u5f53 condition \u7684\u7ed3\u679c\u975e Boolean \u7c7b\u578b\u65f6\u4f1a\u8fdb\u884c\u8f6c\u6362</p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#22","title":"2.2 \u4f18\u5148\u7ea7","text":"<p>\u5e8f\u53f7\u8d8a\u5927\u4f18\u5148\u7ea7\u8d8a\u4f4e\uff0c\u5e73\u7ea7\u65f6\u5de6\u7ed3\u5408</p> <ol> <li><code>.</code> <code>[]</code> <code>new</code></li> <li><code>()</code></li> <li><code>++</code> <code>--</code></li> <li><code>!</code> <code>~</code> <code>+/- \u7b26\u53f7</code> <code>typeof</code> <code>void</code> <code>delete</code></li> <li><code>%</code> <code>*</code> <code>/</code></li> <li><code>+/- \u52a0\u51cf\u6cd5</code></li> <li><code>&lt;&lt;</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code></li> <li><code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code></li> <li><code>==</code> <code>!=</code> <code>===</code> <code>!==</code></li> <li><code>&amp;</code></li> <li><code>^</code></li> <li><code>|</code></li> <li><code>&amp;&amp;</code></li> <li><code>||</code></li> <li><code>?:</code></li> <li><code>=</code> <code>+=</code> <code>-=</code> <code>/=</code> <code>*=</code> <code>%=</code> <code>&lt;&lt;=</code> <code>&gt;&gt;=</code> <code>&gt;&gt;&gt;=</code> <code>&amp;=</code> <code>^=</code> <code>|=</code></li> </ol>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#3","title":"3 \u8bed\u53e5","text":"\u83b7\u53d6\u7528\u6237\u8f93\u5165 <p>\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>prompt(\"\u63d0\u793a\u8bed\u53e5\")</code> \u5f39\u51fa\u5f39\u7a97\u4ee5\u83b7\u5f97\u7528\u6237\u8f93\u5165\uff1a <pre><code>document.write(\"\u60a8\u7684\u8f93\u5165\u662f\uff1a\",prompt(\"say sth:\"));// \u5c06\u4f1a\u5728 body \u4e2d\u663e\u793a\u60a8\u7684\u8f93\u5165\n</code></pre></p> <ul> <li> <p>IF \u591a\u5206\u652f\u6a21\u7248     <pre><code>// First Match\nif(condition1) {\n    case1;\n} else if(condition2) {\n    case2;\n} else {\n    case3;\n}\n</code></pre></p> </li> <li> <p>Switch \u6a21\u7248     <pre><code>switch(variable) {\n    // \u4f1a\u5bf9\u4f9d\u6b21\u5bf9 case \u8fdb\u884c === \u6bd4\u8f83\uff0c\u5e76\u5c06\u5339\u914d\u4f4d\u7f6e\u4f5c\u4e3a entry\n    // \u6ca1\u6709 break \u5c31\u4f1a\u6309\u7167\u4e66\u5199\u987a\u5e8f\u4e00\u76f4\u5411\u4e0b\u6267\u884c\n    case case1: // case1 = 60 / score&gt;=60\n        break;\n    case case2:\n        break;\n    default:\n        break;\n}\n</code></pre></p> </li> <li> <p>While \u6a21\u7248     <pre><code>// while \u5faa\u73af -&gt; \u53ef\u80fd\u4e00\u6b21\u4e5f\u4e0d\u6267\u884c\nwhile(condition) {\n    sth;\n};\n\n// do-while \u81f3\u5c11\u6267\u884c\u4e00\u8f6e\ndo {\n    sth;\n} while (condition)\n</code></pre></p> </li> <li> <p>For \u6a21\u7248</p> <ul> <li>\u6267\u884c\u987a\u5e8f\uff1a\u521d\u59cb\u5316 -&gt; \u5224\u65ad\u6761\u4ef6 -&gt; \u5faa\u73af\u4f53 -&gt; \u66f4\u65b0</li> <li>\u521d\u59cb\u5316/\u6761\u4ef6/\u66f4\u65b0\u90fd\u53ef\u4ee5 \u7701\u7565 or \u5199\u5728\u5916\u9762\uff08\u8981\u7559 <code>;</code>\uff09</li> </ul> <pre><code>for(var i=initVal; i&lt;endVal; i++) {\n    sth;\n}\n</code></pre> </li> <li> <p>break &amp; continue</p> <ul> <li>break \u53ef\u7528\u4e8e\u9000\u51fa\u6700\u8fd1\u7684\u4e00\u5c42 switch / \u5faa\u73af\u8bed\u53e5\uff08\u4e0d\u80fd\u7528\u4e8e IF\uff09</li> <li>continue \u53ef\u4ee5\u7528\u4e8e\u9003\u8fc7\u5f53\u6b21\u5faa\u73af\u7684\u4f59\u4e0b\u90e8\u5206\uff08\u4f5c\u7528\u4e8e\u6700\u8fd1\u7684\u5faa\u73af\uff09</li> </ul> </li> </ul> \u4f7f\u7528 <code>Label</code> \u6807\u8bc6\u5faa\u73af\u8bed\u53e5 <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>labelName:\u5faa\u73af\u8bed\u53e5</code> \u7684\u5f62\u5f0f\u8fdb\u884c\u6807\u8bc6 <pre><code>hello:for(var i=0; i&lt;10; i++) {\n    for(var j=0; j&lt;5; j++) {\n        // \u53ef\u4ee5\u901a\u8fc7 break label \u6307\u5b9a\u9700\u8981\u7ec8\u6b62\u7684\u5faa\u73af\n        break hello;\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#4-scope","title":"4 \u4f5c\u7528\u57df Scope","text":"<p>\u53d8\u91cf\u4f5c\u7528\u7684\u8303\u56f4</p> <ul> <li> <p>JS \u5171\u6709\u4e24\u79cd\u4f5c\u7528\u57df</p> <ul> <li> <p>\u5168\u5c40\u4f5c\u7528\u57df</p> <ul> <li>\u9875\u9762\u6253\u5f00\u65f6\u521b\u5efa\uff0c\u5173\u95ed\u65f6\u9500\u6bc1</li> <li>\u4e0d\u88ab\u51fd\u6570\u5305\u88f9\u7684\u4ee3\u7801\u5747\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d</li> <li> <p>\u5177\u6709\u4ee3\u8868\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5168\u5c40\u5bf9\u8c61 <code>window</code> \uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528</p> <p>\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u521b\u5efa\u7684\u53d8\u91cf\u90fd\u4f1a\u4f5c\u4e3a\u300cwindow \u7684\u5c5e\u6027\u300d\u4fdd\u5b58\uff0c\u53ef\u4ee5\u5728\u4efb\u610f\u4f4d\u7f6e\u8bbf\u95ee <pre><code>var a = 10;\n// \u76f4\u63a5 a = 10 \u4e5f\u884c\nconsole.log(window.a);\n</code></pre></p> <p>\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u521b\u5efa\u7684\u51fd\u6570\u90fd\u4f1a\u4f5c\u4e3a\u300cwindow \u7684\u65b9\u6cd5\u300d\u4fdd\u5b58 <pre><code>function fun() {console.log(\"hello\")};\nwindow.fun(); // =&gt; \u63a7\u5236\u53f0\u8f93\u51fa hello\n</code></pre></p> </li> <li> <p>\u53d8\u91cf\u7684\u58f0\u660e\u63d0\u524d</p> <p>\u4f7f\u7528 <code>var</code> \u58f0\u660e\u7684\u53d8\u91cf\u5c06\u5728\u300c\u6240\u6709\u4ee3\u7801\u6267\u884c\u524d\u300d\u88ab\u5b9a\u4e49\uff08\u4f46\u6ca1\u6709\u8d4b\u503c\uff01\uff09</p> <pre><code>console.log(a); // \u8f93\u51fa undefined \u4f46\u4e0d\u62a5\u9519\nvar a = 123;    // \u5148\u4f7f\u7528\u540e\u58f0\u660e\uff0c\u6b64\u5904\u624d\u8fdb\u884c\u8d4b\u503c\na = 123;        // \u8fd9\u6837\u4f1a\u62a5\u9519\n</code></pre> </li> <li> <p>\u51fd\u6570\u7684\u58f0\u660e\u63d0\u524d</p> <p>\u4ee5\u300c\u58f0\u660e\u300d\u5f62\u5f0f\u521b\u5efa\u7684\u51fd\u6570\u4f1a\u5728\u6240\u6709\u4ee3\u7801\u6267\u884c\u524d\u88ab\u521b\u9020\uff08\u53ef\u4ee5\u5728\u58f0\u660e\u524d\u8c03\u7528\uff09</p> <pre><code>f1();\nfunction f1() {console.log(\"F1\")}; // \u58f0\u660e\u5f62\u5f0f\u521b\u5efa\n\nf2(); // \u62a5\u9519 -&gt; \u6b64\u65f6 f2 = undefined\nvar f2 = function() {console.log(\"f2\")}; // \u6b64\u5904\u624d\u4e3a f2 \u8d4b\u503c\n</code></pre> </li> </ul> </li> <li> <p>\u51fd\u6570\u4f5c\u7528\u57df</p> <ul> <li>\u8c03\u7528\u51fd\u6570\u65f6\u521b\u5efa\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u9500\u6bc1\uff08\u6bcf\u8c03\u7528\u4e00\u6b21\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684\u4f5c\u7528\u57df\uff09</li> <li>\u53ef\u4ee5\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u662f\u5168\u5c40\u4f5c\u7528\u57df\u4e0d\u80fd\u8bbf\u95ee\u51fd\u6570\u4f5c\u7528\u57df\u4e2d\u53d8\u91cf\uff08<code>var</code>\u5b9a\u4e49\uff09</li> <li> <p>\u5c40\u90e8\u53d8\u91cf\u4e0e\u5168\u5c40\u53d8\u91cf\u540c\u540d\u65f6\uff0c\u4f18\u5148\u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\uff08\u53ef\u4ee5\u7528 <code>window.name</code> \u5f3a\u884c\u6307\u5b9a\uff09</p> <p>\u672c\u5730\u4e0d\u5b58\u5728\u65f6\uff0c\u9010\u5c42\u5411\u4e0a\u4e00\u7ea7\u67e5\u627e\uff08\u76f4\u81f3\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u8fd8\u662f\u6ca1\u6709\u62a5 <code>ReferenceError</code>\uff09</p> </li> <li> <p>\u4e5f\u5b58\u5728\u300c\u58f0\u660e\u63d0\u524d\u300d     <pre><code>var a = 123;\nfunction f() {\n    console.log(a); // \u8f93\u51fa undefined -&gt; \u5c40\u90e8\u58f0\u660e\u63d0\u524d\n    var a = 234;\n    a = 345; // \u5c31\u662f\u5168\u5c40\u53d8\u91cf\uff08\u6ca1\u6709\u63d0\u5347\uff09\uff0c\u4e0a\u9762\u8f93\u51fa 123\uff08\u5168\u5c40\u503c\uff09\n    b = 567; // \u6ca1\u6709\u4f7f\u7528 var \u5173\u952e\u5b57 =&gt; \u5b9a\u4e49\u4e86\u53d8\u91cf b\n\n    subF(); // \u51fd\u6570\u58f0\u660e\u63d0\u524d\uff0c\u6b63\u5e38\u8c03\u7528\n    function subF() {console.log(\"subF\")};\n}\n\nconsole.log(a); // \u82e5\u6ca1\u6709 var =&gt; c \u5c31\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u8f93\u51fa 345\nconsole.log(b); // \u6b63\u5e38\u8f93\u51fa 567\uff08\u5728\u51fd\u6570\u4e2d\u5b9a\u4e49\u4e86\u5168\u5c40\u53d8\u91cf\uff09\n\n// \u53c2\u6570\u5217\u8868\u76f8\u5f53\u4e8e var params;\nvar e = 111;\nfunction f2(e) {    // \u7b49\u540c\u4e8e var e\n    console.log(e); // =&gt; undefined\n    e = 222;        // =&gt; \u4fee\u6539\u7684\u662f\u5c40\u90e8\u53d8\u91cf\n}\n</code></pre></p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%9F%BA%E7%A1%80/#5-gc","title":"5 \u5783\u573e\u56de\u6536 GC","text":"<ul> <li>\u300c\u5783\u573e\u300d<ul> <li>\u5f53\u4e00\u4e2a\u5bf9\u8c61\u6ca1\u6709\u4efb\u4f55\u53d8\u91cf\u6216\u5c5e\u6027\u5bf9\u5176\u8fdb\u884c\u5f15\u7528\u65f6\uff0c\u6211\u4eec\u5c06\u6c38\u8fdc\u65e0\u6cd5\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c</li> <li>\u300c\u5783\u573e\u300d\u4f1a\u5360\u7528\u5927\u91cf\u5185\u5b58\u7a7a\u95f4\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u8fd0\u884c\u901f\u5ea6\u53d8\u6162</li> </ul> </li> <li> <p>JS \u7684\u300c\u5783\u573e\u56de\u6536\u673a\u5236\u300d</p> <p>JS \u4f1a\u300c\u81ea\u52a8\u300d\u5c06\u5783\u573e\u4ece\u5185\u5b58\u4e2d\u9500\u6bc1\uff08\u4e0d\u5141\u8bb8\u8fdb\u884c\u624b\u52a8\u64cd\u4f5c\uff09</p> <p>\u4f46\u662f\u6211\u4eec\u4e0d\u624b\u52a8\u5c06\u4e0d\u518d\u4f7f\u7528\u7684\u53d8\u91cf\u6307\u5411 <code>null</code> \uff0cJS \u5c06\u65e0\u6cd5\u8fdb\u884c\u8bc6\u522b</p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/","title":"2 \u5bf9\u8c61\u4e0e\u51fd\u6570","text":"<p> \u7ea6 1145 \u4e2a\u5b57  194 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#1","title":"1 \u5bf9\u8c61","text":"<ul> <li>JS \u4e2d\u7684\u300c\u53d8\u91cf\u300d\u88ab\u4fdd\u5b58\u5728 Stack \u4e2d\uff0c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u503c\u76f4\u63a5\u5728\u6808\u5185\u5b58\u4e2d\u8fdb\u884c\u5b58\u50a8</li> <li> <p>JS \u4e2d\u7684\u300c\u5bf9\u8c61\u300d\u88ab\u4fdd\u5b58\u5728 Heap \u4e2d\uff0c\u901a\u8fc7\u4fdd\u5b58\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u5efa\u7acb\u5bf9\u8c61\u540d\u4e0e\u6570\u636e\u7684\u8054\u7cfb</p> <p>\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>obj = null</code> \u65ad\u5f00\u5bf9\u8c61\u540d\u4e0e\u6570\u636e\u7684\u8054\u7cfb</p> <p>\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u65f6\uff0c\u6bd4\u8f83\u7684\u662f\u4e24\u4e2a\u5bf9\u8c61\u7684\u300c\u5185\u5b58\u5730\u5740\u300d\uff08\u4e0e\u6570\u636e\u662f\u5426\u4e00\u81f4\u65e0\u5173\uff09</p> </li> </ul> <ul> <li> <p>\u5bf9\u8c61\u7684\u5206\u7c7b</p> <ol> <li> <p>\u5185\u5efa\u5bf9\u8c61\uff08<code>Math</code>,  <code>Function</code> , <code>Number</code>, ...\uff09</p> <p>\u7531 ES \u6807\u51c6\u5b9a\u4e49\u7684\u5bf9\u8c61\uff0c\u5728\u4efb\u4f55 ES \u5b9e\u73b0\u4e2d\u5747\u53ef\u4ee5\u4f7f\u7528</p> </li> <li> <p>\u5bbf\u4e3b\u5bf9\u8c61\uff08<code>DOM</code>, <code>BOM</code>\uff09</p> <p>\u7531 JS \u8fd0\u884c\u73af\u5883\uff08\u4e3b\u8981\u662f\u6d4f\u89c8\u5668\uff09\u63d0\u4f9b\u7684\u5bf9\u8c61</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u5bf9\u8c61</p> <p>\u5f00\u53d1\u4eba\u5458\u81ea\u884c\u521b\u5efa\u7684\u5bf9\u8c61</p> </li> </ol> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#11","title":"1.1 \u57fa\u672c\u64cd\u4f5c","text":"\u5c5e\u6027\u540d <ul> <li> <p>\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u300c\u4e0d\u5f3a\u5236\u8981\u6c42\u300d\u9075\u5b88\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u8303</p> <p>\u6bd4\u5982\u5c5e\u6027 <code>obj.var</code> \u5c31\u53ef\u4ee5\u6b63\u5e38\u8bfb\u5199</p> </li> <li> <p>\u82e5\u547d\u540d\u7279\u6b8a\u5c5e\u6027\u540d\uff08\u6bd4\u5982\u7eaf\u6570\u5b57\uff09\uff0c\u5c31\u9700\u8981\u7528\u4ee5\u4e0b\u65b9\u5f0f\uff1a     <pre><code>obj[\"keyName\"] = keyValue;\n// \u8bfb\u53d6\u65f6\u540c\u7406\nconsole.log(obj[\"keyName\"]);\n\n// \u4e2d\u62ec\u53f7\u4e5f\u53ef\u4ee5\u6839\u636e\u53d8\u91cf\u503c\u83b7\u53d6\u5bf9\u5e94\u5c5e\u6027\nvar key = \"hello\";\nobj[key] = \"\u4f60\u597d\";\n</code></pre></p> </li> <li> <p>\u53ef\u4ee5\u4f7f\u7528 <code>in</code> \u8fd0\u7b97\u7b26\u68c0\u9a8c\u5bf9\u8c61\u662f\u5426\u542b\u6709\u6307\u5b9a\u5c5e\u6027     <pre><code>console.log(\"keyName\" in obj); // \u8fd4\u56de Boolean\n</code></pre></p> </li> </ul> <p>\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u503c\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\uff0c\u5305\u62ec Object\u3002</p> <ul> <li> <p>\u521b\u5efa\u5bf9\u8c61     <pre><code>// 1. \u4f7f\u7528 new \u8c03\u7528\u6784\u9020\u51fd\u6570\nvar obj = new Object(); \n// 2. \u4f7f\u7528\u5bf9\u8c61\u5b57\u9762\u91cf\u521b\u5efa\uff08\u53ef\u4ee5\u987a\u4fbf\u521d\u59cb\u5316\uff09\nvar obj1 = {\n    name: \"Tom\",\n    age: 18,\n    // \u5c5e\u6027\u540d\u52a0\u4e0d\u52a0\u5f15\u53f7\u90fd\u884c\uff0c\u6bd4\u8f83\u8be1\u5f02\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u52a0\n    \"$%^&amp;*(*\": \"nothing\",\n    // \u4e5f\u53ef\u4ee5\u5957\u5a03\n    children: {\n        name: \"hello\",\n        age: \"world\"\n    }\n};\n</code></pre></p> </li> <li> <p>\u4e3a\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027     <pre><code>obj.keyName = keyValue;\n</code></pre></p> </li> <li> <p>\u8bfb\u53d6\u6307\u5b9a\u5c5e\u6027     <pre><code>console.log(obj.keyName);\n// \u8bfb\u53d6\u672a\u5b9a\u4e49\u7684\u5c5e\u6027\u5c06\u8fd4\u56de undefined\n</code></pre></p> </li> <li> <p>\u4fee\u6539\u6307\u5b9a\u5c5e\u6027     <pre><code>obj.keyName = newKeyValue;\n</code></pre></p> </li> <li> <p>\u5220\u9664\u6307\u5b9a\u5c5e\u6027      <code>js      delete obj.keyName;</code></p> </li> <li> <p>\u679a\u4e3e\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027     <pre><code>for (var k in obj) { // k \u62ff\u5230\u7684\u662f\u5c5e\u6027\u540d\uff0c\u6309\u521d\u59cb\u5316\u4e66\u5199\u987a\u5e8f\u6392\u5217\n    console.log(\"key = \" + k);\n    console.log(\"value = \", obj[k]) // \u53d8\u91cf\u9700\u8981\u4f7f\u7528\u4e2d\u62ec\u53f7\u8bbf\u95ee\n}\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#12","title":"1.2 \u65b9\u6cd5","text":"<p>\u4f7f\u7528 Function \u4f5c\u4e3a\u5c5e\u6027\u503c</p> <pre><code>var obj = {\n    sayName = function() {\n        document.write(\"My name is\")\n    };\n};\n// \u8c03\u7528\nobj.sayName();\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#13","title":"1.3 \u4f7f\u7528\u300c\u5de5\u5382\u65b9\u6cd5\u300d\u521b\u5efa\u5bf9\u8c61","text":"<p>\u8fd4\u56de\u7684\u90fd\u662f Object\uff08\u6ca1\u6709\u7c7b\u578b\uff09</p> <pre><code>// \u6279\u91cf\u521b\u5efa\u7ed3\u6784\u76f8\u4f3c\u7684 object\nfunction createPerson(name, age) {\n    var obj = new Object();\n    obj.name = name;\n    obj.age = age;\n    return obj;\n}\nvar p1 = createPerson(\"Tom\", 17);\nvar p2 = createPerson(\"Tim\", 22);\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#14","title":"1.4 \u6784\u9020\u51fd\u6570","text":"<ul> <li>\u9996\u5b57\u6bcd\u5927\u5199\uff08\u4e0d\u5f3a\u5236\uff09</li> <li> <p>\u53ea\u80fd\u901a\u8fc7 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\uff08\u4e0d\u52a0\u4f1a\u88ab\u5f53\u6210\u666e\u901a\u51fd\u6570\uff09</p> <p>=&gt; \u7acb\u523b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Object\uff0c\u5e76\u8bbe\u4e3a\u51fd\u6570\u7684 <code>this</code>\uff0c\u6700\u540e\u8fd4\u56de</p> </li> <li> <p>\u4f7f\u7528\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u88ab\u8ba4\u4e3a\u5c5e\u4e8e\u201d\u540c\u4e00\u7c7b\u201c =&gt; \u8be5\u7c7b\u7684\u5b9e\u4f8b</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>obj instanceof className</code> \u5224\u65ad\u5b9e\u4f8b\u662f\u5426\u5c5e\u4e8e\u67d0\u4e00\u7c7b\uff08\u8fd4\u56de Boolean\uff09</p> <p>=&gt; <code>obj instanceof Object === true</code>\uff08\u6240\u6709\u7c7b\u90fd\u662f Object \u7684\u540e\u4ee3\uff09</p> </li> </ul> <pre><code>function Person(name, age) { // \u53ef\u4ee5\u8ba4\u4e3a\u5b9a\u4e49\u4e86\u4e00\u4e2a class\n    // this \u662f\u65b0\u5efa\u7684\u5bf9\u8c61\n    this.name = name;\n    this.age = age;\n    // \u6bcf\u6267\u884c\u4e00\u6b21\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u300c\u65b0\u7684\u00b7\u552f\u4e00\u7684\u300dsayName \u65b9\u6cd5 =&gt; \u6700\u597d\u5c01\u88c5\u4e00\u4e0b\n    this.sayName = function() {\n        console.log(\"Hello, I'm \" + this.name);\n    }\n    // \u6539\u826f\u540e\u7684\u8868\u8fbe =&gt; \u6240\u6709\u8be5\u7c7b\u5b9e\u4f8b\u5171\u7528\u4e00\u4e2a\u51fd\u6570\n    this.sayName = fun;\n}\n// \u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u5b9a\u4e49\u65b9\u6cd5 =&gt; \u6c61\u67d3\u4e86\u5168\u5c40\u4f5c\u7528\u57df\u7684\u547d\u540d\u7a7a\u95f4\nfunction fun() {\n    console.log(\"Hello, I'm \" + this.name);\n}\n\nvar p = new Person(\"Tom\", 19);\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#15","title":"1.5 \u539f\u578b\u5bf9\u8c61","text":"<p>\u540c\u4e00\u7c7b\u7684\u5b9e\u4f8b\u5747\u80fd\u8bbf\u95ee\u539f\u578b\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e9b\u5171\u6709\u5c5e\u6027\u548c\u65b9\u6cd5</p> <p>\u89e3\u6790\u5668\u4f1a\u4e3a\u6bcf\u4e00\u4e2a\u51fd\u6570\u6dfb\u52a0\u5c5e\u6027 <code>prototype</code>\uff0c\u4fdd\u5b58\u539f\u578b\u5bf9\u8c61\u5730\u5740\uff1a</p> <ul> <li>\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u65e0\u610f\u4e49</li> <li>\u4f5c\u4e3a\u300c\u6784\u9020\u51fd\u6570\u300d\u8c03\u7528\u65f6\uff0c\u6240\u521b\u5efa\u5b9e\u4f8b\u4e2d\u5747\u5b58\u5728\u6307\u5411\u8be5\u539f\u578b\u5bf9\u8c61\u7684\u9690\u542b\u5c5e\u6027 <code>__proto__</code></li> </ul> <pre><code>// \u5411\u539f\u578b\u5bf9\u8c61\u6dfb\u52a0\u5171\u6709\u5c5e\u6027 a\nMyClass.prototype.a = 1;\n\nvar mc = new MyClass(); // mc \u81ea\u8eab\u6ca1\u6709 a \u5c5e\u6027\nconsole.log(mc.a);      // -&gt; \u53bb\u539f\u578b\u5bf9\u8c61\u4e2d\u627e\u5230\u4e86 a\uff08mc\u6709a\u65f6\u88ab\u5b9e\u4f8b\u5c5e\u6027\u8986\u76d6\uff09\nconsole.log(\"a\" in mc); // -&gt; true \u539f\u578b\u4e2d\u6709\u4e5f\u4f1a\u8fd4\u56de true\nconsole.log(ms.hasOwnProperty(\"a\")); // -&gt; false \u5bf9\u8c61\u81ea\u8eab\u4e0d\u542b a \u5c5e\u6027\n\n// \u5411\u539f\u578b\u5bf9\u8c61\u6dfb\u52a0\u5171\u6709\u65b9\u6cd5 sayHello\nMyclass.prototypr.sayHello = function() {alert(\"hello\")};\nmc.sayHello(); // \u8c03\u7528\u539f\u578b\u4e2d\u7684 sayHello \u65b9\u6cd5\uff08\u53ea\u67091\u4e2a\u4e14\u4e0d\u4f1a\u6c61\u67d3\u5168\u5c40\u4f5c\u7528\u57df\uff09\n</code></pre> <p>\u5bfb\u627e\u5c5e\u6027/\u65b9\u6cd5\u7684\u987a\u5e8f\uff1a</p> <ol> <li>\u81ea\u8eab</li> <li>\u539f\u578b\u5bf9\u8c61</li> <li>\u539f\u578b\u7684\u539f\u578b\u5bf9\u8c61</li> <li>\u6301\u7eed\u6027\u5957\u5a03\u81f3 Object \u7684\u539f\u578b</li> <li>\u8fd4\u56de undefined</li> </ol> <p>\u8fd4\u56de <code>null</code> \u662f\u56e0\u4e3a\u5f53\u524d\u5c5e\u6027\u672c\u8eab\u503c\u4e3a <code>null</code> \uff08\u4e0d\u662f\u4e0d\u5b58\u5728\uff09</p>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#16-tostring","title":"1.6 \u81ea\u5b9a\u4e49 toString","text":"<p>\u5f53\u6211\u4eec\u5c1d\u8bd5\u6253\u5370\u5bf9\u8c61\u65f6\uff0c\u5b9e\u9645\u4e0a\u663e\u793a\u7684\u662f\u5bf9\u8c61 <code>toString</code> \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c</p> <p>\u9ed8\u8ba4\u8c03\u7528\u7684\u662f Object \u539f\u578b\u4e0a\u7684 <code>toString</code> \uff0c\u4f46\u662f\u5f88\u96be\u770b\u634f =&gt; \u81ea\u5b9a\u4e49\u4e00\u4e0b\u5427\uff01</p> <pre><code>className.prototype.toString = function() {\n    // \u4e00\u5b9a\u8981 return \u4e00\u4e2a String \u7c7b\u578b\u7684\u7ed3\u679c\u634f\n    return \"Person[name=\"+this.name+\",age=\"+this.age+\"]\";\n}\n// \u4f3c\u4e4e console.log \u4f1a\u6253\u51fa Object \u7ed3\u6784\n// \u4f46 document.write \u4f1a\u663e\u793a toString \u7ed3\u679c\n</code></pre>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#2","title":"2 \u51fd\u6570","text":"<p>\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61</p>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#21","title":"2.1 \u521b\u5efa\u51fd\u6570","text":"<ol> <li> <p>\u8c03\u7528\u6784\u9020\u51fd\u6570     <pre><code>var f = new Function();\n\n// \u53ef\u4ee5\u901a\u8fc7 String \u5f62\u5f0f\u521d\u59cb\u5316\u4ee3\u7801\nvar f2 = new Function(\"console.log('Hello World!')\");\n// =&gt; \u5c01\u88c5\u7684\u51fd\u6570\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\uff08\u9700\u8981\u624b\u52a8\u8c03\u7528\uff09\nf2(); // \u6267\u884c f2 \u4e2d\u5c01\u88c5\u7684\u4ee3\u7801\n</code></pre></p> </li> <li> <p>\u4f7f\u7528\u51fd\u6570\u58f0\u660e     <pre><code>// function \u51fd\u6570\u540d([\u53c2\u6570\u5217\u8868]) {\u51fd\u6570\u4f53}\nfunction myFunc() {\n    console.log(\"hello!\");\n}\n// \u624b\u52a8\u8c03\u7528\u4e00\u4e0b\uff1a\nmyFunc();\n</code></pre></p> </li> <li> <p>\u4f7f\u7528\u51fd\u6570\u8868\u8fbe\u5f0f\uff08\u533f\u540d\u51fd\u6570\uff09     <pre><code>// var \u51fd\u6570\u540d = function([\u53c2\u6570\u5217\u8868]) {}\nvar func = function() {\n    console.log(\"\u8fd9\u662f\u4e2a\u533f\u540d\u51fd\u6570\")\n}\n// \u4e5f\u8c03\u7528\u4e00\u4e0b\uff1a\nfunc();\n</code></pre></p> </li> </ol> \u7acb\u5373\u6267\u884c\u51fd\u6570 <p>\u4ec5\u6267\u884c\u4e00\u6b21\u7684\u533f\u540d\u51fd\u6570\uff08\u5c0f\u62ec\u53f7\u5305\u88f9\uff0c\u5e76\u5728\u672b\u5c3e\u52a0<code>()</code>\uff09 <pre><code>(function(){alert(\"only once\")})();\n\n// \u4e5f\u53ef\u4ee5\u5e26\u53c2\u6570\n(function(a, b) {\n    console.log(a+b);\n})(1, 2);\n</code></pre></p>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#22","title":"2.2 \u53c2\u6570\u4e0e\u8fd4\u56de\u503c","text":"<ul> <li>\u5f62\u53c2<ul> <li>\u591a\u4e2a\u5f62\u53c2\u4e4b\u95f4\u4f7f\u7528 <code>,</code> \u9694\u5f00</li> <li>\u5f62\u53c2\u5c06\u5728\u8c03\u7528\u65f6\u88ab\u8d4b\u503c\uff08\u4f20\u5c11\u4e86\u5c31\u662f <code>undefined</code>\uff09</li> <li>\u89e3\u6790\u5668\u300c\u4e0d\u4f1a\u300d\u68c0\u67e5\u5b9e\u53c2\u7c7b\u578b\u4e0e\u6570\u91cf\uff08\u591a\u7684\u88ab\u4e22\u5f03\uff09</li> </ul> </li> <li>\u5b9e\u53c2<ul> <li>\u53ef\u4ee5\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b<ul> <li>\u5b9e\u53c2\u4e3a Object     <pre><code>// \u53c2\u6570\u8fc7\u591a\u65f6\u901a\u8fc7 Object \u4f20\u9012\u53c2\u6570\nvar person = {\n    name: \"Tom\",\n    age: 18\n}\nfunction sayHello(p) {\n    // \u901a\u8fc7 p.keyName \u83b7\u53d6\u5bf9\u5e94\u5c5e\u6027\u503c\n    console.log(\"Hello, \" + p.name);\n}\nsayHello(person);\n</code></pre></li> <li>\u5b9e\u53c2\u4e3a Function     <pre><code>function sayHello(info) {\n    console.log(\"You say: \" + info);\n}\nfunction action(func) {\n    func(\"hello\");\n}\n// \u5f00\u59cb\u5957\u5a03 - \u5176\u5b9e\u4f20\u7684\u662f\u51fd\u6570\u6307\u9488(?)\naction(sayHello);\n// \u4e00\u4e2a\u53cd\u9762\u4f8b\u5b50 - \u52a0\u62ec\u53f7\u4f20\u7684\u662f\u8fd4\u56de\u503c...\naction(sayHello());\n\n// \u4e5f\u53ef\u4ee5\u4f20\u533f\u540d\u51fd\u6570\naction(function(){alert(\"\u4f60\u88ab\u9a97\u54e9\uff01\")});\n</code></pre></li> </ul> </li> </ul> </li> <li>\u8fd4\u56de\u503c<ul> <li>\u9700\u8981\u624b\u52a8 <code>return \u8fd4\u56de\u503c</code>\uff08\u53ef\u4ee5\u4e22\u4e2a\u8868\u8fbe\u5f0f\u8fd4\u56de\u6267\u884c\u7ed3\u679c\uff09\uff0c\u7f3a\u7701\u65f6\u8fd4\u56de <code>undefined</code></li> <li><code>return</code> \u4e4b\u540e\u7684\u8bed\u53e5\u4f1a\u88ab\u8df3\u8fc7</li> <li>\u8fd4\u56de\u503c\u53ef\u4ee5\u4e3a\u4efb\u610f\u7c7b\u578b\uff08\u53ef\u4ee5\u662f\u51fd\u6570\u6216\u5bf9\u8c61\u634f\uff09     <pre><code>// \u8fd4\u56de\u51fd\u6570\u7684\u62bd\u8c61\u4f8b\u5b50\nfunction f1() { console.log(\"\u6267\u884c f1\"); }\nfunction f2() { return f1; }\n\nvar a = f2(); // \u73b0\u5728 a \u62ff\u5230\u4e86 f1 \u7684\u51fd\u6570\u6307\u9488\na(); // \u8c03\u7528\u4e00\u4e0b\uff0c\u8f93\u51fa \u201c\u6267\u884c f1\u201d\n\n// \u4e24\u90e8\u5e76\u4e00\u6b65\u5c31\u662f: f2()();\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#23-this","title":"2.3 this \u6307\u9488","text":"<p>\u89e3\u6790\u5668\u5728\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u65f6\u90fd\u4f1a\u4f20\u5165\u9690\u542b\u53c2\u6570 <code>this</code>\uff0c\u6307\u5411\u51fd\u6570\u6267\u884c\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61</p> <p>\u89c6\u300c\u8c03\u7528\u65b9\u5f0f\u300d\u4e0d\u540c\uff0c<code>this</code> \u5c06\u4f1a\u6307\u5411\u4e0d\u540c\u7684\u5bf9\u8c61\uff1a</p> <ol> <li>\u76f4\u63a5\u901a\u8fc7\u51fd\u6570\u540d\u8c03\u7528\uff1a\u8fd4\u56de <code>window</code> </li> <li> <p>\u4ee5\u300c\u65b9\u6cd5\u300d\u5f62\u5f0f\u8c03\u7528\uff1a\u8fd4\u56de\u5bf9\u5e94\u7684 <code>Object</code></p> <pre><code>function f() { console.log(this); }\nf(); // \u8f93\u51fa window\n\nvar obj = {\n    func: f\n};\nobj.func(); // \u8f93\u51fa obj\n\n// \u4e0d\u592a\u5999\u7684\u4f8b\u5b50\nvar name = \"global\";\nfunction sayName() {\n    console.log(name);      // \u6b64\u5904\u4e00\u76f4\u7528\u5168\u5c40\u7684 name\n    console.log(this.name); // \u6b63\u5e38\u4e86\u634f\n}\nvar obj = {\n    sayName: sayName\n};\nsayName();     // =&gt; global\nobj.sayName(); // =&gt; global\n</code></pre> </li> <li> <p>\u901a\u8fc7\u300c\u51fd\u6570\u5bf9\u8c61\u8c03\u7528 <code>call / reply</code>\u300d\uff1a\u8fd4\u56de\u6307\u5b9a\u5bf9\u8c61</p> <ul> <li><code>call(neoThisObj, param1, param2, ...)</code>  \u53ef\u4ee5\u5728\u5bf9\u8c61\u540e\u4f9d\u6b21\u4f20\u9012\u5b9e\u53c2</li> <li><code>apply(neoThisObj, [param1, param2, ...])</code> \u9700\u8981\u5c06\u5b9e\u53c2\u653e\u8fdb\u6570\u7ec4\u7edf\u4e00\u4f20\u9012</li> </ul> <pre><code>function fun() {\n    console.log(this);\n}\n// \u4e0d\u6307\u5b9a\u53c2\u6570\uff0cthis = window\nfun.call(), fun.apply();\n// \u6307\u5b9a\u53c2\u6570\uff0cthis = \u4f20\u5165\u5bf9\u8c61\nvar obj = {};\nfun.call(obj), fun.apply(obj);\n\n// \u4e00\u4e2a NTR \u7684\u4f8b\u5b50\nvar p1 = {\n    name: 'p1',\n    sayName: function(a, b) {\n        console.log(this.name + a + b);\n    }\n}\nvar p2 = { name: 'p2' }\np1.sayName(\"h1\", \"h2\");            // =&gt; p1,h1,h2\n// call &amp; apply \u7684\u4e0d\u540c\u5b9e\u53c2\u4f20\u9012\u65b9\u5f0f\np1.sayName.call(p2, \"h1\", \"h2\");   // =&gt; p2,h1,h2\np1.sayName.apply(p2,[\"h1\", \"h2\"]); // =&gt; p2,h1,h2\n</code></pre> </li> <li> <p>\u4ee5\u300c\u6784\u9020\u51fd\u6570\u300d\u5f62\u5f0f\u8c03\u7528\uff1a\u8fd4\u56de\u65b0\u5efa\u5bf9\u8c61</p> </li> <li>\u4ee5\u300c\u4e8b\u4ef6\u54cd\u5e94\u51fd\u6570\u300d\u5f62\u5f0f\u8c03\u7528\uff1a\u8fd4\u56de\u88ab\u7ed1\u5b9a\u5bf9\u8c61\uff08\u89e6\u53d1\u5bf9\u8c61\uff09</li> <li>\u5728\u300c\u4e8b\u4ef6\u7ed1\u5b9a\u300d\u4e2d<ul> <li><code>addEventListener</code> \u7684\u56de\u8c03\uff1a\u8fd4\u56de\u7ed1\u5b9a\u5bf9\u8c61</li> <li><code>attachEvent</code> \u7684\u56de\u8c03\uff1a\u8fd4\u56de <code>window</code></li> </ul> </li> </ol>"},{"location":"Nulling/Front%20End/JS/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0/#24-arguments","title":"2.4 \u5b9e\u53c2 arguments","text":"<p>\u5728\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u4f20\u5165\u4e24\u4e2a\u9690\u542b\u53c2\u6570\uff1a</p> <ol> <li>\u4e0a\u4e0b\u6587\u5bf9\u8c61 <code>this</code></li> <li> <p>\u5b9e\u53c2\u5c01\u88c5\u7684\u7c7b\u6570\u7ec4\u5bf9\u8c61 <code>arguments</code></p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u64cd\u4f5c\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u83b7\u53d6\u957f\u5ea6\uff08\u4f46\u4e0d\u662f\u6570\u7ec4\u5b9e\u4f8b\uff09</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>callee</code> \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u51fd\u6570\u5bf9\u8c61</li> </ul> </li> </ol> <pre><code>function fun(a,b,c) { // \u4e09\u4e2a\u300c\u5f62\u53c2\u300d\n    console.log(arguments.length);\n}\n// arguments.length \u548c\u5b9a\u4e49\u300c\u5f62\u53c2\u300d\u7684\u6570\u91cf\u65e0\u5173\nfun(1,2);       // =&gt; \u8f93\u51fa 2\nfun(1,2,3,4,5); // =&gt; \u8f93\u51fa 5\n\n// \u901a\u8fc7\u4e0b\u6807\u83b7\u53d6\u5b9e\u53c2 arguments[idx] -&gt; \u4e0d\u5b9a\u4e49\u5f62\u53c2\u4e5f\u80fd\u7528\nfunction f() {\n    console.log(arguments[0])\n}\nf(1); // \u8f93\u51fa 1\n\n// \u68c0\u67e5 callee \u662f\u5426\u4e3a\u5f53\u524d\u51fd\u6570\u5bf9\u8c61\nfunction check() {\n    console.log(arguments.callee == check);\n}\ncheck(); // =&gt; \u8f93\u51fa true\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/","title":"1 Basic","text":"Features of Go <p>Go \u65e2\u80fd\u8fbe\u5230\u9759\u6001\u7f16\u8bd1\u8bed\u8a00\u5b89\u5168\u548c\u6027\u80fd\uff0c\u53c8\u80fd\u8fbe\u5230\u52a8\u6001\u8bed\u8a00\u5f00\u53d1\u7ef4\u62a4\u7684\u9ad8\u6548\u7387\uff1a</p> <ol> <li> <p>\u4ece C \u8bed\u8a00\u4e2d\u7ee7\u627f\u4e86\u5305\u62ec\u8868\u8fbe\u5f0f\u8bed\u6cd5\u3001\u6307\u9488\u7b49\u7406\u5ff5\uff0c\u4e5f\u4fdd\u7559\u4e86\u548c C \u4e00\u6837\u7684\u7f16\u8bd1\u6267\u884c\u65b9\u5f0f\u4e0e\u5f31\u5316\u7684\u6307\u9488</p> </li> <li> <p>\u5f15\u5165\u4e86 \u201c\u5305\u201d \u7684\u6982\u5ff5\uff08\u7528\u4e8e\u7ec4\u7ec7\u7a0b\u5e8f\u7ed3\u6784\uff09\u2014\u2014 Go \u7684\u6bcf\u4e00\u4e2a\u6587\u4ef6\u5fc5\u987b\u5f52\u5c5e\u4e8e\u4e00\u4e2a\u5305\uff0c\u4e0d\u5141\u8bb8\u5355\u72ec\u5b58\u5728</p> </li> <li> <p>\u5177\u5907\u5783\u573e\u56de\u6536\u673a\u5236\uff1a\u5185\u5b58\u81ea\u52a8\u56de\u6536\uff0c\u65e0\u9700\u5f00\u53d1\u4eba\u5458\u7ba1\u7406</p> </li> <li> <p>\u4ece\u8bed\u8a00\u5c42\u9762\u652f\u6301\u5e76\u53d1</p> <ul> <li> <p><code>goroutine</code> \u63d0\u4f9b\u4e86\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\uff0c\u652f\u6301\u5b9e\u73b0\u9ad8\u5e76\u53d1</p> </li> <li> <p>\u57fa\u4e8e Communicating Sequential Process (CPS) \u5e76\u53d1\u6a21\u578b\u5b9e\u73b0</p> </li> </ul> </li> <li> <p>\u652f\u6301 \u201d\u7ba1\u9053\u901a\u4fe1\u673a\u5236\u201c\uff0c\u5f62\u6210\u4e86\u7279\u6709\u7684 <code>channel</code> \u4ee5\u5b9e\u73b0\u4e0d\u540c <code>goroute</code> \u4e4b\u95f4\u7684\u901a\u4fe1</p> </li> <li> <p>\u652f\u6301\u5355\u4e2a\u51fd\u6570 \u540c\u65f6\u8fd4\u56de\u591a\u4e2a\u503c</p> </li> <li> <p>Neo\uff1a\u652f\u6301 \u5207\u7247 <code>slice</code> \u3001\u5ef6\u65f6\u6267\u884c <code>defer</code> ... </p> </li> </ol> <p>\u50cf C\uff0c\u50cf Python\uff0c\u8fd8\u50cf JS =&gt; \u603b\u4e4b\u975e\u5e38\u795e\u5947\uff1f</p>"},{"location":"Nulling/Go/1%20Basic/#1-set-up-for-mac","title":"1 Set Up ( for Mac )","text":"<p>\u8dd1 Wiki Freeze \u7684\u65f6\u5019\u914d\u7684\uff0c\u6709\u70b9\u6574\u5fd8\u4e86</p> <p>\u6b64\u5904\u4f7f\u7528 <code>homebrew</code> \u8fdb\u884c\u5b89\u88c5</p> <ol> <li> <p>\u5b89\u88c5 <code>golang</code></p> <p>```bash brew install golang</p> </li> </ol> <p> \u7ea6 2753 \u4e2a\u5b57  579 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p> <pre><code>```\n</code></pre> <ol> <li> <p>\u914d\u7f6e\u73af\u5883\u53d8\u91cf</p> <pre><code># \u4fee\u6539 GOROOT &amp; GOPATH \u4e3a\u5bf9\u5e94\u8def\u5f84\n# \u4f7f\u7528 go env \u9a8c\u8bc1\u4fee\u6539\u7ed3\u679c\n</code></pre> </li> <li> <p>Hello World</p> <pre><code>// @ hello.go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"Hello World!\")\n}\n</code></pre> <pre><code>go build hello.go # \u7f16\u8bd1\uff08\u53ef\u4ee5\u901a\u8fc7 -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d\u79f0\uff09\n./hello           # \u8fd0\u884c\uff08\u53ef\u6267\u884c\u6587\u4ef6\uff09\n\ngo run hello.go   # \u76f4\u63a5\u8fd0\u884c\uff08\u5fc5\u987b\u5177\u5907 Go \u73af\u5883\uff09\n</code></pre> </li> </ol>"},{"location":"Nulling/Go/1%20Basic/#go-version","title":"\u968f\u540e\u901a\u8fc7 go version \u68c0\u9a8c\u662f\u5426\u5b89\u88c5\u6210\u529f","text":""},{"location":"Nulling/Go/1%20Basic/#2","title":"2 \u57fa\u672c\u8bed\u6cd5","text":"<p>\u6807\u51c6\u5e93 API \u6587\u6863</p> <ul> <li><code>main()</code> \u662f Go \u7a0b\u5e8f\u6267\u884c\u7684\u5165\u53e3</li> <li>\u8bed\u53e5\u540e\u65e0\u5206\u53f7\uff08\u4e0d\u80fd\u5728\u540c\u4e00\u884c\u91cc\u585e\u591a\u6761\u8bed\u53e5\uff09</li> <li>\u5b9a\u4e49\u7684\u53d8\u91cf / \u5bfc\u5165\u7684\u5305 \u672a\u4f7f\u7528 \u65f6\uff0c\u7f16\u8bd1\u5931\u8d25</li> <li>\u8f6c\u4e49\u5b57\u7b26 <code>\\r</code> \u4f1a\u4f7f\u5f97\u65b0\u8f93\u51fa\u9010\u4e2a\u8986\u76d6\u65e7\u8f93\u51fa</li> <li>\u652f\u6301 <code>//</code> \u7684\u5355\u884c\u6ce8\u91ca &amp; <code>/**/</code> \u5305\u88f9\u7684\u591a\u884c\u6ce8\u91ca</li> </ul>"},{"location":"Nulling/Go/1%20Basic/#_1","title":"\u8f93\u5165\u8f93\u51fa","text":"<ul> <li> <p>\u6807\u51c6\u8f93\u5165</p> <p>\u963b\u585e\u5e76\u7b49\u5f85\u7528\u6237\u8f93\u5165</p> <pre><code>// \u975e\u5e38 C \uff01\nfunc main() {\n    var a int\n    fmt.Scanf(\"%d\", &amp;a)           // \u522b\u5fd8\u4e86\u53d6\u5730\u5740\n    // \u4e8b\u5b9e\u4e0a\u4e0d\u6307\u5b9a\u683c\u5f0f\u4e5f\u53ef\u4ee5 fmt.Scan(&amp;a)\n    fmt.Println(\"Input a = \", a)  // feedback\n}\n</code></pre> </li> <li> <p>\u683c\u5f0f\u5316\u8f93\u51fa</p> \u8f93\u5165 \u8f93\u51fa <code>%%</code> \u8f93\u51fa <code>%</code> \u672c\u8eab <code>%b</code> \u4e8c\u8fdb\u5236\u6574\u6570 / \u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u7684\u6307\u6570\u4e3a 2 \u7684\u6d6e\u70b9\u6570 <code>%d</code> \u5341\u8fdb\u5236\u6574\u6570 <code>%c</code> ASCII \u5b57\u7b26 <code>%e</code> \u79d1\u5b66\u8ba1\u6570\u6cd5 e \u8868\u793a\u7684 \u6d6e\u70b9\u6570 / \u590d\u6570 <code>%E</code> \u79d1\u5b66\u8ba1\u6570\u6cd5 E \u8868\u793a\u7684 \u6d6e\u70b9\u6570 / \u590d\u6570 <code>%f</code> \u6807\u51c6\u8ba1\u6570\u6cd5\u8868\u793a\u7684 \u6d6e\u70b9\u6570 / \u590d\u6570 <code>%g</code> \u7d27\u51d1\u683c\u5f0f\u8f93\u51fa <code>%e / %f</code> \u683c\u5f0f\u7684 \u6d6e\u70b9\u6570 / \u590d\u6570 <code>%G</code> \u7d27\u51d1\u683c\u5f0f\u8f93\u51fa <code>%E / %f</code> \u683c\u5f0f\u7684 \u6d6e\u70b9\u6570 / \u590d\u6570 <code>%o</code> \u516b\u8fdb\u5236\u6574\u6570 <code>%p</code> \u5341\u516d\u8fdb\u5236\u5730\u5740 <code>%s</code> \u5b57\u7b26\u4e32 <code>%t</code> \u5e03\u5c14\u503c ( true / false ) <code>%T</code> \u8f93\u51fa\u7c7b\u578b Type <code>%v</code> \u4e07\u80fd\u683c\u5f0f\uff08\u8f93\u51fa\u5185\u7f6e / \u81ea\u5b9a\u4e49\u7c7b\u578b\u503c\uff09 <code>%x</code> \u5341\u516d\u8fdb\u5236\u6574\u6570 </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#_2","title":"\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570","text":"<pre><code>import \"os\"\nfunc main() {\n    list := os.Args // \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a string \u6570\u7ec4\n    n := len(list)  // \u83b7\u53d6\u4e2a\u6570\uff08arg[0] \u662f\u547d\u4ee4\u672c\u8eab\uff09\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#21","title":"2.1 \u53d8\u91cf &amp; \u5e38\u91cf","text":"\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u8303 <ul> <li>\u4ee5 Unicode \u5b57\u6bcd / \u4e0b\u5212\u7ebf\u5f00\u5934</li> <li>\u5305\u542b\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf</li> <li>\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199</li> </ul>"},{"location":"Nulling/Go/1%20Basic/#211","title":"2.1.1 \u53d8\u91cf\u58f0\u660e","text":"<p>\u57fa\u672c\u8bed\u6cd5\u4e3a <code>var id type</code>\uff0c\u9ed8\u8ba4\u521d\u59cb\u5316\u4e3a 0 / <code>false</code></p> <ol> <li> <p>\u58f0\u660e\u5355\u4e2a\u53d8\u91cf <code>var a int</code></p> </li> <li> <p>\u58f0\u660e\u591a\u4e2a\u53d8\u91cf</p> <ul> <li> <p>\u540c\u7c7b\u578b  <code>var a, b, c int</code></p> </li> <li> <p>\u4e0d\u540c\u7c7b\u578b</p> <pre><code>var (\n    a int\n    b float64 = 2.0 // \u521d\u59cb\u5316\n    c := 3.14       // \u81ea\u52a8\u63a8\u5bfc\n)\n</code></pre> </li> </ul> </li> <li> <p>\u58f0\u660e\u5e76\u521d\u59cb\u5316 <code>var b int = 10</code></p> </li> <li> <p>\u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\uff08\u5fc5\u987b\u521d\u59cb\u5316\uff09<code>c := 30</code></p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7 <code>fmt.Printf(%T, c)</code> \u8fdb\u884c\u9a8c\u8bc1</li> <li>\u81ea\u52a8\u7c7b\u578b\u63a8\u5bfc\u4f1a\u5148\u58f0\u660e\u540e\u8d4b\u503c\uff08\u4e0d\u80fd\u5bf9\u540c\u4e00\u6807\u8bc6\u7b26\u7528\u4e24\u6b21\uff09</li> </ul> </li> </ol>"},{"location":"Nulling/Go/1%20Basic/#212","title":"2.1.2 \u53d8\u91cf\u8d4b\u503c","text":"<pre><code>// 1. \u540c\u65f6\u5bf9\u591a\u4e2a\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\na, b := 10, 20\n\n// 2. \u4ea4\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\uff08\u4e3b\u6253\u4e00\u4e2a\u62bd\u8c61\uff09\ni, j = j, i\n\n// 3. \u533f\u540d\u53d8\u91cf `_`\uff08\u4e22\u5f03\u6570\u636e\uff0c\u4e0d\u8fdb\u884c\u5904\u7406\uff09\ntmp, _ = i, j // =&gt; \u5728\u89e3\u6790\u51fd\u6570\u8fd4\u56de\u503c\u65f6\u6bd4\u8f83\u5b9e\u7528\uff08\u5360\u4f4d\uff09\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#213","title":"2.1.3 \u53d8\u91cf\u4f5c\u7528\u57df","text":"<ul> <li> <p>\u5c40\u90e8\u53d8\u91cf\u5b9a\u4e49\u5728\u4e00\u5bf9 <code>{}</code> \u4e4b\u95f4\uff0c\u53ea\u5728\u8fd9\u4e00\u5bf9\u5927\u62ec\u53f7\u4e4b\u95f4\u751f\u6548</p> <p>\u5728\u5b9a\u4e49\u8bed\u53e5\u5904\u5206\u914d\u7a7a\u95f4\uff0c\u79bb\u5f00\u4f5c\u7528\u57df\u81ea\u52a8\u91ca\u653e</p> </li> <li> <p>\u5168\u5c40\u53d8\u91cf\u5b9a\u4e49\u5728\u51fd\u6570\u5916</p> </li> <li> <p>\u4e0d\u540c\u4f5c\u7528\u57df\u5141\u8bb8\u5305\u542b\u540c\u540d\u53d8\u91cf\uff0c\u4f7f\u7528\u65f6\u5728\u9759\u6001\u5d4c\u5957\u4e2d\u7531\u5185\u5411\u5916\u67e5\u627e\uff08\u5c31\u8fd1\u539f\u5219\uff09</p> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#214","title":"2.1.4 \u5e38\u91cf","text":"<p>\u5e38\u91cf\u4f7f\u7528 \u8d4b\u503c\u7b26\u53f7 <code>=</code> \u8fdb\u884c\u81ea\u52a8\u63a8\u5bfc</p> <ul> <li> <p>\u5e38\u91cf\u58f0\u660e</p> <pre><code>const a int = 10\n\nconst b = 20     // \u81ea\u52a8\u63a8\u5bfc\n\nconst (\n    i int = 10\n    j float64 = 3.14\n    k = 2.0     // \u81ea\u52a8\u63a8\u5bfc\n)\n</code></pre> <ul> <li>\u53ea\u80fd\u7acb\u5373\u521d\u59cb\u5316\uff0c\u4e0d\u5141\u8bb8\u8d4b\u503c\uff08\u4fee\u6539\uff09</li> </ul> </li> <li> <p><code>iota</code> \u679a\u4e3e</p> <p><code>iota</code> \u662f\u4e00\u4e2a\u81ea\u52a8\u5e38\u91cf\u81ea\u52a8\u751f\u6210\u5668\uff08 Auto Increase\uff09\uff0c\u7528\u4e8e\u7ed9\u5e38\u91cf\u8d4b\u503c</p> <pre><code>// iota \u6bcf\u4e00\u884c\u90fd\u4f1a ++\nconst (\n    a = iota // 0\n    b = iota // 1\n    c = iota // 2\n)\n// \u4ee5\u4e0b\u5199\u6cd5\u7b49\u4ef7\nconst (\n    a1 = iota // 0\n    a2        // 1\n    a3        // 2\n)\n\n// \u5728\u540c\u4e00\u884c\u4e2d\uff0ciota \u7684\u503c\u76f8\u7b49\nconst (\n    a = iota // 0\n    b1, b2, b3 = iota, iota, iota // 1, 1, 1\n    c = iota // 2\n)\n\n// \u9047\u5230 const \u4f1a\u91cd\u7f6e\u4e3a 0\uff08\u5728\u5355\u4e2a const() \u4e2d\u7d2f\u52a0\uff09\nconst b = iota // \u6b64\u65f6 b = 0\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#22","title":"2.2 \u6570\u636e\u7c7b\u578b","text":""},{"location":"Nulling/Go/1%20Basic/#221","title":"2.2.1 \u5e38\u7528\u57fa\u7840\u7c7b\u578b","text":"<ul> <li> <p>\u5e03\u5c14</p> <pre><code>// \u5b9a\u4e49\u5e76\u8d4b\u503c\nvar b bool // \u6b64\u65f6\u81ea\u52a8\u521d\u59cb\u5316\u4e3a false\nb = true\n\n// \u4e24\u79cd\u81ea\u52a8\u63a8\u5bfc\nvar b = false\nb := false\n</code></pre> </li> <li> <p>\u6d6e\u70b9</p> <p>\u6709 <code>float32</code> \u548c <code>float64</code>\uff0c\u81ea\u52a8\u521d\u59cb\u5316\u4e3a <code>0.0</code></p> <p>\u81ea\u52a8\u63a8\u5bfc\u9ed8\u8ba4\u4e3a <code>float64</code></p> </li> <li> <p>\u5b57\u7b26</p> <p>\u7528\u4e00\u5bf9\u5355\u5f15\u53f7\u5305\u88f9\uff0c\u7528 <code>%c</code> \u8f93\u51fa</p> <ul> <li> <p><code>byte</code>\uff1a\u662f <code>uint8</code> \u7684\u522b\u540d\uff0c\u5b58\u7684\u5176\u5b9e\u662f ASCII \u7f16\u7801</p> <p>\u53ef\u4ee5\u7528\u5b57\u7b26 <code>'a'</code> \u6216 ASCII <code>97</code> \u8d4b\u503c</p> </li> <li> <p><code>rune</code>\uff1a\u662f <code>uint32</code> \u7684\u522b\u540d\uff0c\u7528\u4e8e\u5b58\u50a8 Unicode \u7f16\u7801</p> </li> </ul> </li> <li> <p>\u5b57\u7b26\u4e32</p> <p>\u7528\u4e00\u5bf9\u53cc\u5f15\u53f7\u5305\u88f9\uff0c\u7528 <code>%s</code> \u8f93\u51fa</p> <ul> <li> <p>\u53ef\u4ee5\u7528 <code>len(str)</code> \u8f93\u51fa\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u5e76\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee\u5355\u4e2a\u5b57\u7b26 <code>str[0]</code></p> </li> <li> <p>\u9ed8\u8ba4\u5305\u542b\u7ed3\u675f\u7b26\u53f7 <code>\\0</code></p> </li> </ul> </li> <li> <p>\u590d\u6570</p> <p>\u611f\u89c9\u7528\u4e0d\u4e0a\uff1f</p> <pre><code>var t complex128\nt = 3.14 + 2i       // \u9ed8\u8ba4\u8f93\u51fa (3.14+2i) \n\n// \u901a\u8fc7\u5185\u5efa\u51fd\u6570\u5206\u522b\u63d0\u53d6\u5b9e\u90e8\u548c\u865a\u90e8\nr = real(t)         // 3.14\ni = imag(t)         // 2\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#222","title":"2.2.2 \u7c7b\u578b\u8f6c\u6362","text":"<p>Go \u4e0d\u5141\u8bb8\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u6240\u6709\u7c7b\u578b\u8f6c\u6362\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\uff0c\u4e14\u53ea\u80fd\u5728\u4e24\u79cd\u517c\u5bb9\u7c7b\u578b\u4e4b\u95f4\u8fdb\u884c\uff1a</p> <pre><code>var i int\nvar c char = 'c'\n\ni = c       // \u8fd9\u662f\u4e0d\u5141\u8bb8\u7684\uff08\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff09\ni = int(c)  // \u663e\u793a\u7c7b\u578b\u8f6c\u6362\uff08\u62ff ASCII \u503c\uff09\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#223","title":"2.2.3 \u7c7b\u578b\u522b\u540d","text":"<p>\u7c7b\u4f3c\u4e8e C \u7684 <code>typedef</code></p> <pre><code>type bigint int64 // \u8d4b\u4e88 bigint \u7684\u522b\u540d\n\ntype (            // \u6279\u91cf\u6539\u540d\n    myint int\n    mystr string\n)\n\nvar x bigint      // \u7528\u4e8e\u53d8\u91cf\u5b9a\u4e49\uff0c\u4f7f\u7528 %T \u4f1a\u8f93\u51fa\u522b\u540d\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#23","title":"2.3 \u8fd0\u7b97\u7b26","text":"<ul> <li> <p>\u7b97\u6570\u8fd0\u7b97\u7b26\uff1a<code>+-*/%</code> , <code>x++ x--</code></p> </li> <li> <p>\u5173\u7cfb\u8fd0\u7b97\u7b26\uff1a<code>== != &gt; &lt; &gt;= &lt;=</code></p> </li> <li> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a<code>! &amp;&amp; ||</code></p> </li> <li> <p>\u4f4d\u8fd0\u7b97\u7b26\uff1a<code>&amp; | ^(XOR) &lt;&lt; &gt;&gt;</code></p> </li> <li> <p>\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a<code>= += -= *= /= %= &lt;&lt;= &gt;&gt;= &amp;= |= ^=</code></p> </li> <li> <p>\u53d6\u5730\u5740 / \u53d6\u503c\u8fd0\u7b97\u7b26\uff1a<code>&amp;</code> , <code>*</code>\uff08\u7528\u4e8e\u6307\u9488\uff09</p> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#24","title":"2.4 \u57fa\u672c\u7ed3\u6784","text":""},{"location":"Nulling/Go/1%20Basic/#241","title":"2.4.1 \u5206\u652f","text":"<pre><code>// \u57fa\u7840 IF\uff08\u6761\u4ef6\u6ca1\u6709\u62ec\u53f7\uff09\nif a == 3 {}\n\n// \u652f\u6301\u201c\u4e00\u4e2a\u521d\u59cb\u5316\u6761\u4ef6\u201d\uff0c\u7528\u5206\u53f7\u5206\u9694\nif b := 3; b == 3 {}\n\n// \u591a\u5206\u652f\nif a &lt; 10 {\n    // branch1\n} else if a &gt; 10 {\n    // branch2\n} else {\n    // branch3\n}\n</code></pre> <pre><code>// SWITCH \u634f\n// - \u53ef\u4ee5\u4e0d\u5199 break\uff08\u5199\u4e86\u4e5f\u884c\uff09\n// - \u53ef\u4ee5\u4f7f\u7528 fallthrough \u5173\u952e\u5b57\u65e0\u6761\u4ef6\u6267\u884c\u4e0b\u4e00\u4e2a case\nswitch x { // \u53d8\u91cf\u6ca1\u6709\u62ec\u53f7\uff08\u96be\u53d7\uff09\n    case 1:\n        // branch1\n    case 2, 3, 4, 5: // \u652f\u6301\u591a\u4e2a\u503c\n        // branch2\n    default:\n        // branch3\n}\n\n// \u652f\u6301\u201c\u4e00\u4e2a\u521d\u59cb\u5316\u6761\u4ef6\u201d\uff0c\u7528\u5206\u53f7\u5206\u9694\nswitch x:=1; x {}\n\n// \u53ef\u4ee5\u6ca1\u6709\u6761\u4ef6\nscore := 85\nswitch {\n    case score &gt; 90: // \u4f18\u79c0\n    case score &gt; 80: // \u826f\u597d\n    case score &gt; 60: // \u53ca\u683c\n    default:         // \u4e0d\u53ca\u683c\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#242","title":"2.4.2 \u5faa\u73af","text":"<pre><code>// FOR\uff08\u6ca1\u6709 WHILE\uff0c\u6de6\uff01\uff09\nsum := 0\nfor i := 1; i &lt;= 100; i++ {\n    sum += i\n    // \u652f\u6301 break &amp; continue\n}\n\n// \u53ef\u4ee5\u642d\u914d range \u98df\u7528\uff1a\u8fd4\u56de (index, value)\nstr := \"abc\"\nfor idx, ch := range str { // \u53ef\u4ee5\u7528\u533f\u540d\u53d8\u91cf\u9009\u62e9\u63a5 idx / val\n    fmt.Println(\"s[%d] = %c\", idx, ch)\n}\n\n// \u652f\u6301\u5565\u4e5f\u4e0d\u5199\uff08\u6b7b\u5faa\u73af\uff09\nfor {\n    if condition {\n        break\n    }\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#243-goto","title":"2.4.3 goto","text":"<p>\u8df3\u8f6c\u5230\u6307\u5b9a\u6807\u7b7e\uff0c\u53ef\u4ee5\u7528\u5728\u4efb\u4f55\u4f4d\u7f6e\uff08\u4e0d\u80fd\u8de8\u51fd\u6570\uff09</p> <pre><code>func main() {\n    if condition {\n        goto L1\n    }\n    // false branch\nL1:                  // \u5b9a\u4e49\u6807\u7b7e\n    // true branch\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#25","title":"2.5 \u51fd\u6570","text":"<ul> <li>\u7531 <code>func</code> \u5173\u952e\u5b57\u5b9a\u4e49\uff0c\u9996\u5b57\u6bcd\u5c0f\u5199\u4e3a private\uff0c\u5927\u5199\u4e3a public</li> <li>\u652f\u6301 &gt;= 0 \u4e2a <code>var type</code> \u53c2\u6570\uff0c\u4e0d\u652f\u6301\u9ed8\u8ba4\u503c</li> <li>\u652f\u6301\u8fd4\u56de &gt;= 0 \u4e2a\u503c</li> </ul>"},{"location":"Nulling/Go/1%20Basic/#251","title":"2.5.1 \u65e0\u8fd4\u56de\u503c","text":"<pre><code>// \u5b9a\u4e49\u5728 main() \u524d\u540e\u90fd\u53ef\u4ee5\u76f4\u63a5\u7528\n\n// \u65e0\u53c2\nfunc NoRet() {\n    fmt.Println(\"sth\")\n    // \u53ef\u4ee5\u7701\u7565 return\n}\n\n// \u56fa\u5b9a\u53c2\u6570\u5217\u8868\nfunc NoRet(a int, b int) {} \nfunc NoRet(a, b int) {}\nfunc NoRet(a, b string, c float64) {} // a \u548c b \u90fd\u662f string\n\n// \u4e0d\u5b9a\u53c2\u6570\u5217\u8868 =&gt; \u4f20\u9012 &gt;= 0 \u4e2a\u53c2\u6570 (ES6\u65e2\u89c6\u611f)\nfunc VarList(args ...int) {\n    // \u83b7\u53d6\u603b\u6570\n    tot := len(args)\n    // \u904d\u5386\n    for _, arg := range args {}\n    for i:=0 ; i&lt;len(args); i++ {}\n    // \u83b7\u53d6\u5355\u4e2a\n    cur = args[idx]\n}\n// \u53ea\u80fd\u4f5c\u4e3a\u5f62\u53c2\u7684\u6700\u540e\u4e00\u4e2a(\u56fa\u5b9a\u53c2\u6570\u5fc5\u987b\u4f20\uff0c\u4e0d\u5b9a\u53c2\u6570\u9009\u4f20)\nfunc VarList(a string, args ...int) {}\n// \u53ef\u4ee5\u628a\u4e0d\u5b9a\u53c2\u6570\u5217\u8868\u4e22\u7ed9\u522b\u4eba\nfunc Next(tmp ...int) {}\nfunc VarList(args ...int) {\n    Next(args...)     // \u5168\u4e22\u8fc7\u53bb\n    Next(args[2:]...) // args[2]~x\n    Next(args[:2]...) // args[0]~args[1]\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#252","title":"2.5.2 \u6709\u8fd4\u56de\u503c","text":"<pre><code>// \u8fd4\u56de\u5355\u4e2a\u503c\u7684\u591a\u79cd\u5199\u6cd5\n\n// \u8fd4\u56de\u56fa\u5b9a\u503c\nfunc retConst() {\n    return 6 \n}\n\n// \u7ed9\u8fd4\u56de\u503c\u8d77\u540d\uff08\u63a8\u8350\uff09\nfunc retOne() (res int) {\n    return 6 // \u53ef\u4ee5\n\n    res = 6\n    return   // \u4e0d\u80fd\u7701\u7565\uff08\u79bb\u8c31\uff09\n    // return res =&gt; \u4e5f\u884c\n}\n</code></pre> <pre><code>// \u591a\u4e2a\u8fd4\u56de\u503c\n\n// \u4e0d\u7ed9\u8d77\u540d\u5b57\nfunc retThree() (int, int, int) {\n    return 1, 2, 3\n}\n\n// \u8d77\u540d\u5b57\nfunc retThree() (a, b, c int) {\n    a, b, c = 1, 2, 3\n    return // \u4e0d\u80fd\u7701\n}\n\n// \u63a5\u8fd4\u56de\u503c\uff08\u53ef\u4ee5\u7528\u533f\u540d\u53d8\u91cf\u4e22\u6389\u4e0d\u7528\u7684\uff09\na, _, c := retThree()\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#253","title":"2.5.3 \u51fd\u6570\u7c7b\u578b &amp; \u56de\u8c03","text":"<p>Go \u8bed\u8a00\u652f\u6301\u901a\u8fc7 <code>type</code> \u5b9a\u4e49\u5177\u6709 \u76f8\u540c\u53c2\u6570 &amp; \u8fd4\u56de\u503c\u7c7b\u578b \u7684 \u201c\u51fd\u6570\u7c7b\u578b\u201d</p> <p>\u4e0b\u9762\u4f7f\u7528 \u201c\u51fd\u6570\u7c7b\u578b\u201d \u4f5c\u4e3a\u53c2\u6570\u6765\u5b9e\u73b0\u56de\u8c03\uff1a</p> <pre><code>type calcFunc func(int, int) int\n// \u4e24\u4e2a\u7b26\u5408 calcFunc \u7c7b\u578b\u7684\u51fd\u6570\nfunc Add(a int, b int) int {\n    return a+b\n}\nfunc Sub(a int, b int) int {\n    return a-b\n}\n// \u5c06\u5177\u4f53\u53c2\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\nfunc Calc(a, b int, calc calcFunc) int {\n    return calc(a, b)\n}\n\n// \u8c03\u7528\u6848\u4f8b\nres := Calc(1, 5, Sub) // \u6ca1\u6709\u5c0f\u62ec\u53f7\uff08\u4f20\u672c\u4f53\uff0c\u4e0d\u662f\u7ed3\u679c\uff09\n// \u4e5f\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u6307\u9488\nvar f calcFunc = Add\nres := f(1, 5)\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#254","title":"2.5.4 \u533f\u540d\u51fd\u6570 &amp; \u95ed\u5305","text":"<p>\u6251\u9762\u800c\u6765\u7684 JS \u5373\u89c6\u611f</p> <ul> <li> <p>\u533f\u540d\u51fd\u6570\u6848\u4f8b</p> <pre><code>func main() {\n    a := 10\n    str := \"hello\"\n\n    // \u5b9a\u4e49\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff08\u53ef\u4ee5\u4f7f\u7528\u5916\u90e8\u4f5c\u7528\u57df\u53d8\u91cf\uff09\n    f := func() {                   // \u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\n        fmt.Println(\"str = \", str)\n    }\n    f()                             // \u8c03\u7528\n\n    // \u5b9a\u4e49\u540c\u65f6\u8c03\u7528\n    func() {\n        fmt.Println(\"a = \", a)\n    }()                             // \u7cbe\u9ad3\u5c0f\u62ec\u53f7\n\n    // \u6709\u53c2\u6709\u8fd4\u56de\u533f\u540d\u51fd\u6570\n    x, y := func(a, b int)(max, min int) {\n        if a &gt; b {\n            max = a\n            min = b\n        } else {\n            max = b\n            min = a\n        }\n         return                     // \u4e0d\u80fd\u6f0f return\n    }(10, 20)\n\n    // \u5b9a\u4e49\u65e0\u53c2\u65e0\u8fd4\u56de\u7684\u51fd\u6570\u7c7b\u578b\n    type NNfunc func()\n    var f2 NNfunc                   // \u58f0\u660e\u53d8\u91cf\n    f2 = f                          // \u8d4b\u503c\n    f2()                            // \u8c03\u7528\uff08\u540c\u4e00\u4e2a\u51fd\u6570\uff09\n}\n</code></pre> </li> <li> <p>\u95ed\u5305\u6355\u83b7\u5916\u90e8\u53d8\u91cf / \u5e38\u91cf</p> <ul> <li> <p>\u4ee5 \u5f15\u7528\u65b9\u5f0f \u6355\u83b7\uff08\u540c\u6b65\u4fee\u6539\u5916\u90e8\u53d8\u91cf\uff09</p> <pre><code>func main() {\n    a := 10\n    func() { a = 20 }()\n    fmt.Print(a) // \u8f93\u51fa 20\n}\n</code></pre> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7 \u8fd4\u56de\u533f\u540d\u51fd\u6570 \u5f62\u6210\u95ed\u5305\uff08\u7c7b\u4f3c\u4e8e <code>static</code> \u7684\u6548\u679c\uff09</p> <p>\u95ed\u5305 \u5e76\u4e0d\u5173\u5fc3\u6355\u83b7\u7684 \u53d8\u91cf / \u5e38\u91cf \u662f\u5426\u8d85\u51fa\u4f5c\u7528\u57df\uff0c\u53ea\u8981\u8be5\u95ed\u5305\u8fd8\u5728\u4f7f\u7528\uff0c\u6355\u83b7\u7684\u53d8\u91cf\u4fbf\u4f1a\u6301\u7eed\u5b58\u5728</p> <pre><code>func Closure() func() int { // \u8fd4\u56de\u503c\u662f func() int \u51fd\u6570\n    var x int               // \u81ea\u52a8\u521d\u59cb\u5316\u4e3a 0\n    return func() int {     // \u8fd4\u56de\u533f\u540d\u51fd\u6570\n        x++\n        return x * x\n    }\n}\nfunc main() {\n    f := Closure()          // \u7528 f \u6765\u63a5\u6536\u8fd4\u56de\u7684\u51fd\u6570\uff08\u95ed\u5305\u6301\u7eed\u5b58\u5728\uff09\n    for i:=0 ; i &lt; 5 ; i++ {\n        // \u524d\u8005\u5168\u662f 1\uff0c\u540e\u8005\u662f 1,4,9,...\n        // \u901a\u8fc7 Closure()() \u8c03\u7528\u4f1a\u6bcf\u6b21\u751f\u6210\u65b0\u7684\u95ed\u5305 -&gt; \u4e00\u76f4\u8f93\u51fa 1\n        fmt.Println(Closure()(), f())\n    }\n}\n</code></pre> </li> </ul> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#255","title":"2.5.5 \u5ef6\u8fdf\u8c03\u7528","text":"<ul> <li> <p>\u5173\u952e\u8bcd <code>defer</code> \u7528\u4e8e\u5ef6\u8fdf\u51fd\u6570\u7684\u6267\u884c\uff08\u5f53\u524d\u51fd\u6570\u7ed3\u675f\u524d\u8c03\u7528\uff09\uff0c\u53ea\u80fd\u51fa\u73b0\u5728\u51fd\u6570\u5185\u90e8</p> </li> <li> <p>\u5e38\u7528\u4e8e\u5904\u7406\u6210\u5bf9\u64cd\u4f5c\uff08\u4e0a\u9501 - \u91ca\u653e\uff0c\u8fde\u63a5 - \u65ad\u5f00\uff09\uff0c\u7528\u4e8e\u91ca\u653e\u8d44\u6e90\u7684 <code>defer</code> \u5e94\u8be5\u7d27\u8ddf\u5728\u8bf7\u6c42\u8d44\u6e90\u7684\u8bed\u53e5\u4e4b\u540e</p> </li> <li> <p>\u591a\u4e2a <code>defer</code> \u8bed\u53e5\u5c06\u4ee5 LIFO\uff08\u540e\u8fdb\u5148\u51fa\uff09\u7684\u987a\u5e8f\u6267\u884c\uff0c\u5373\u4fbf\u53d1\u751f\u9519\u8bef\uff08\u5305\u62ec\u67d0\u4e2a <code>defer</code> \u51fd\u6570\u51fa\u73b0\u9519\u8bef\uff09\uff0c\u5176\u4f59\u51fd\u6570\u4f9d\u7136\u4f1a\u88ab\u6267\u884c</p> </li> </ul> <pre><code>// \u7ed3\u5408\u533f\u540d\u51fd\u6570\u4f7f\u7528\nfunc main() {\n    a := 10\n    b := 20\n    // 2 - \u518d\u6267\u884c\u8fd9\u4e00\u5757\uff1a\u8f93\u51fa 111, 222\n    defer func() {\n        fmt.Println(a, b)\n    }()\n    // 1 - \u5148\u6267\u884c\u8fd9\u4e00\u5757\uff1a\u4fee\u6539 a,b \u8f93\u51fa 111, 222\n    a = 111\n    b = 222\n    fmt.Println(a, b)\n}\n\nfunc main() {\n    a := 10\n    b := 20\n    // 2 - \u518d\u6267\u884c\u8fd9\u4e00\u5757\uff1a\u8f93\u51fa\u4e4b\u524d\u4f20\u9012\u7684 10, 20\n    defer func(a, b int) {\n        fmt.Println(a, b)\n    }(a, b) // \u5df2\u7ecf\u4f20\u53c2\uff0c\u8fd8\u672a\u8c03\u7528\n    // 1 - \u5148\u6267\u884c\u8fd9\u4e00\u5757\uff1a\u4fee\u6539 a,b \u8f93\u51fa 111, 222\n    a = 111\n    b = 222\n    fmt.Println(a, b)\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#26","title":"2.6 \u6307\u9488","text":"<ul> <li>\u9ed8\u8ba4\u503c\u662f <code>nil</code>\uff08 <code>ptr = nil</code> \u662f\u5408\u6cd5\u7684\uff09</li> <li> <p>\u4e0d\u652f\u6301\u6307\u9488\u8fd0\u7b97 <code>ptr-&gt;member</code>\uff0c\u53ea\u80fd\u7528 <code>*ptr.member</code></p> </li> <li> <p>\u8f93\u51fa\u53d6\u5730\u5740\u7684\u7ed3\u679c</p> <pre><code>var a = 10\nPrintf(\"Addr(a) = %p\", &amp;a) // \u53c2\u6570\u662f\u53d6\u5730\u5740\u7684\u7ed3\u679c\n</code></pre> </li> <li> <p>\u57fa\u672c\u64cd\u4f5c</p> <pre><code>var a int = 10\n\nvar p *int  // \u6307\u9488\u7c7b\u578b\u662f *type\np = &amp;a      // \u7528 p \u4fdd\u5b58 var a \u7684\u5730\u5740\n\n*p = 123    // \u901a\u8fc7\u6307\u9488\u64cd\u4f5c var a\nPrint(*p, a)    // \u8f93\u51fa \"123 123\"\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#261-new","title":"2.6.1 New \u51fd\u6570","text":"<p>\u7533\u8bf7\u4e00\u5757\u6307\u5b9a\u5927\u5c0f\u7684 \u533f\u540d\u5185\u5b58\u7a7a\u95f4\uff08\u7528\u6307\u9488\u63a5\uff09</p> <pre><code>var p *int   // \u6b64\u5904\u786e\u5b9a\u4e86\u6307\u5411 int\np = new(int) // \u7533\u8bf7\u4e00\u5757 int \u5927\u5c0f\u7684\u7a7a\u95f4\n\n// \u4e8b\u5b9e\u4e0a\u8fd9\u6837\u4e5f\u884c\nptr := new(int)\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#262","title":"2.6.2 \u4f20\u503c &amp; \u4f20\u5740","text":"<pre><code>func main() {\n    a, b := 10, 20\n    // \u7ecf\u5178 swap\n    swap(&amp;a, &amp;b)\n}\n\nfunc swap(p1 *int, p2 *int) {\n    *p1, *p2 = *p2, *p1\n}\n\n// \u9ed8\u8ba4\u662f \u201c\u4f20\u503c\u201d -&gt; \u884c\u4e0d\u901a\u634f\uff01\nfunc Fswap(a int, b int) {\n    a, b = b, a // \u672c\u4f53\u5e76\u6ca1\u6709\u52a8\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#27","title":"2.7 \u53ef\u89c1\u6027","text":"<ul> <li> <p>\u6240\u6709 Public \u7684 \u51fd\u6570 / \u7ed3\u6784\u4f53\uff08\u6210\u5458\uff09\uff0c\u9996\u5b57\u6bcd\u5927\u5199</p> <ul> <li> <p>\u53ef\u4ee5\u901a\u8fc7 <code>package.structName</code> / <code>package.varName</code> \u8bbf\u95ee</p> <ul> <li>\u5305\u5916\u65b0\u5efa\u7684\u7ed3\u6784\u4f53\u53ea\u5141\u8bb8\u8bbf\u95ee\u4fee\u6539 Public \u5206\u91cf</li> </ul> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7 <code>package.func()</code> \u8c03\u7528</p> </li> </ul> </li> <li> <p>\u6240\u6709 Private \u51fd\u6570\u53ea\u4f9b\u5305\u5185\u8bbf\u95ee\uff08\u53ef\u8de8\u6587\u4ef6\uff09\uff0c\u9996\u5b57\u6bcd\u5c0f\u5199</p> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#3-array","title":"3 \u6570\u7ec4 Array","text":"<p>\u53ea\u80fd\u653e\u76f8\u540c\u7c7b\u578b\u7684\u6570\u636e -&gt; \u6bd4\u8f83\u63a5\u8fd1 C \u7684 Array\uff0c\u800c\u4e0d\u662f Python \u5565\u90fd\u80fd\u585e\u7684 List</p> \u968f\u673a\u6570\u751f\u6210 <pre><code>import \"math/rand\"\nimport \"time\"\n\nfunc main() {\n    // \u8bbe\u7f6e\u79cd\u5b50\uff08once\uff09\n    rand.Seed(time.Now().UnixNano()) // \u586b const \u4e5f\u884c\n\n    // \u4ea7\u751f\u968f\u673a\u6570\n    rand.Int()       // \u6bd4\u8f83\u5927\u7684\u6570\u5b57\n    rand.Intn(100)   // &lt; 100\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#31","title":"3.1 \u5b9a\u4e49","text":"<pre><code>// \u62bd\u8c61\u7684\u5b9a\u4e49\u65b9\u5f0f -&gt; len \u4e0d\u80fd\u662f\u53d8\u91cf\uff01\nvar arr [50]int\n// \u4f46\u8fd9\u6837\u53ef\u4ee5\u634f  -&gt; \u5e38\u91cf len \u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\nconst len = 20\nvar arr [len]int\n// \u4ece\u521d\u59cb\u5316\u6570\u636e\u63a8\u65ad\u957f\u5ea6\narr := [...]int{1, 2, 5: 34} // \u6700\u5927\u4e0b\u6807\u4e3a5 =&gt; \u521d\u59cb\u5316\u4e00\u4e2a [6]int\n\n// \u4e00\u4e9b\u4e2a\u904d\u5386\u521d\u59cb\u5316\nfor i := 0 ; i &lt; len(arr) ; i++ {\n    arr[i] = i+1\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#32","title":"3.2 \u521d\u59cb\u5316","text":"<pre><code>// \u90e8\u5206\u521d\u59cb\u5316\uff08\u540e\u4e24\u4e2a\u8d4b0\uff09\nvar arr [5]int{1,2,3} \n\n// \u6307\u5b9a\u4e0b\u6807\u521d\u59cb\u5316 -&gt; [0,0,10,0,20]\nd := [5]int{2:10, 4:20} \n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#33","title":"3.3 \u4e8c\u7ef4\u6570\u7ec4","text":"<pre><code>var arr2D [3][4]int // 3 * 4\n\nk := 0\n// \u4e24\u5c42\u5faa\u73af\u904d\u5386\nfor i:=0 ; i&lt;3 ; i++ {\n    for j:=0 ; i&lt;4 ; j++ {\n        k++\n        arr2D[i][j] = k\n    }\n}\n\n// \u4e00\u4e9b\u4e2a\u521d\u59cb\u5316 -&gt; \u672c\u8d28\u4e0a\u5c31\u662f 3 * \u4e00\u7ef4\u6570\u7ec4\narr := [3][4] int {\n    {1,2,3},    // \u672a\u521d\u59cb\u5316\u7684\u90e8\u5206\u4e3a 0\n    2:{5,6,7,8} // \u6307\u5b9a\u4e3a\u67d0\u4e00\u884c\u521d\u59cb\u5316\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#34","title":"3.4 \u6bd4\u8f83 &amp; \u8d4b\u503c","text":"<pre><code>// \u4ec5\u652f\u6301 == / != \u6bd4\u8f83\na := [5]int {1,2,3,4,5}\nb := [5]int {1,2,3,4,5}\nc := [5]int {1,2,3}\n\na == b // true\na != c // true\n\n// \u540c\u7c7b\u578b\u6570\u7ec4\u652f\u6301\u8d4b\u503c\nvar d [5]int\nd = c  // \u5408\u6cd5\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#35","title":"3.5 \u6570\u7ec4\u505a\u53c2\u6570","text":"<ul> <li> <p>\u6570\u7ec4\u672c\u8eab\u505a\u53c2\u6570\u662f \u4f20\u503c</p> <pre><code>func modify(a [5]int) {\n    a[2] = 123\n    Print(a)   // \u8fd9\u91cc\u8f93\u51fa [1,2,123,4,5]\n}\nfunc main() {\n    arr := [5]int{1,2,3,4,5}\n    modify(arr)\n    Print(arr) // \u8fd8\u662f [1,2,3,4,5]\n}\n</code></pre> </li> <li> <p>\u6570\u7ec4\u6307\u9488\u505a\u53c2\u6570\u662f \u4f20\u5740</p> <pre><code>// \u6b63\u786e\u505a\u6cd5\nfunc modify(p *[5]int) {\n    (*p)[2] = 123\n    Print(p)\n}\n// \u4f20\u53c2\u9700\u8981\u53d6\u5730\u5740\nmodify(&amp;arr)\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#4-slice","title":"4 \u5207\u7247 Slice","text":"<ul> <li> <p>Slice \u7ed3\u6784\u4f53\u5982\u4e0b\uff1a</p> 1 2 3 \u6307\u5411\u8d77\u59cb\u4f4d\u7f6e\u7684 <code>ptr</code> \u5e94\u7528\u957f\u5ea6 <code>len</code> \u5207\u7247\u5bb9\u91cf <code>cap</code> </li> <li> <p>\u5207\u7247\u4e0d\u662f\u6570\u7ec4\u6307\u9488\uff0c\u4e5f\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u52a8\u6001\u6570\u7ec4\uff0c\u800c\u662f\u4e00\u4e2a \u5f15\u7528\u7c7b\u578b\uff0c\u603b\u662f\u6307\u5411\u4e00\u4e2a\u5e95\u5c42 Array\uff08\u4e0d\u80fd\u72ec\u7acb\u4f7f\u7528\uff09</p> <ul> <li> <p>\u4fee\u6539 Slice \u540c\u65f6\u4f1a\u5f71\u54cd\u6e90\u6570\u636e</p> </li> <li> <p>\u901a\u8fc7\u5185\u90e8\u6307\u9488\u548c\u76f8\u5173\u5c5e\u6027\u5f15\u7528\u6570\u7ec4\u7247\u6bb5\u4ee5\u5b9e\u73b0\u53d8\u957f\u65b9\u6848</p> </li> <li> <p>\u5207\u7247\u672c\u8eab\u53ef\u4ee5\u7ee7\u7eed\u5207\u7247\uff08\u5957\u5a03\u597d\u8036\uff09</p> </li> <li> <p>\u4f5c\u4e3a\u53c2\u6570\u65f6 \u4f20\u503c\uff0c\u4f46\u56e0\u4e3a\u6307\u5411\u5730\u5740\u4e0e\u539f\u6765\u4e00\u81f4\uff0c\u4fee\u6539\u4f1a\u5f71\u54cd\u539f\u6570\u7ec4</p> </li> </ul> </li> </ul> \u6570\u7ec4 vs \u5207\u7247 <ul> <li>\u6570\u7ec4\u7684\u957f\u5ea6\u5728\u5b9a\u4e49\u540e\u5c31 \u65e0\u6cd5\u4fee\u6539</li> <li>\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff0c\u6bcf\u6b21\u4f20\u53c2\u90fd\u4f1a\u4ea7\u751f\u4e00\u4efd\u65b0\u7684\u526f\u672c</li> </ul>"},{"location":"Nulling/Go/1%20Basic/#41","title":"4.1 \u5b9a\u4e49","text":"<ul> <li> <p>\u53ef\u4ee5\u901a\u8fc7 <code>len() / cap()</code> \u5206\u522b\u8f93\u51fa\u5207\u7247\u7684 \u957f\u5ea6 / \u5bb9\u91cf</p> </li> <li> <p><code>make</code> \u4f1a\u5728\u5e95\u5c42\u7ef4\u62a4\u4e00\u4e2a\u4e0d\u53ef\u89c1\uff08\u533f\u540d\uff09 Array\uff0c<code>ptr</code> \u6307\u5411\u8be5\u6570\u7ec4\u8d77\u59cb\u4f4d\u7f6e</p> </li> </ul> <pre><code>// 1. \u4f7f\u7528\u5207\u7247\u5f15\u7528\u5df2\u521b\u5efa\u7684\u6570\u7ec4\nvar array 5[int] = [...]int{10,20,30,0,0}\nvar slice = arr[1:3]                 \n// \u5305\u542b [low, high)\uff0c\u53ef\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\u6307\u5b9a cap\n// \u53ef\u4ee5\u7528 [:end] [start:] [:] \u5bf9\u53d6\u5230\u4e24\u7aef\u7684\u5207\u7247\u8fdb\u884c\u7b80\u5199\n\n// 2. \u901a\u8fc7\u5185\u7f6e\u51fd\u6570 make \u521b\u5efa\u5207\u7247\uff1amake([]type, len, [cap])\nvar slice []int = make([]int, 4, 10) // len*0 -&gt; \u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee\u4fee\u6539\n\n// 3. \u76f4\u63a5\u521d\u59cb\u5316\nvar slice []stirng = []string{\"tom\",\"jack\", \"mary\"} // len = cap = 3\n</code></pre> <p>\u867d\u7136\u5207\u7247\u957f\u5ea6\u53ef\u4ee5\u52a8\u6001\u589e\u957f\uff0c\u4f46\u521d\u59cb\u5316\u65f6\u4ecd\u4e0d\u5141\u8bb8\u8d8a\u754c <code>[0, len(s))</code></p> <pre><code>// \u904d\u5386\u548c\u6570\u7ec4\u6ca1\u6709\u533a\u522b\nvar array 5[int] = [...]int{10,20,30,40,50}\nslice := arr[1:4]\n\n// For \u904d\u5386\nfor i:=0 ; i&lt;len(slice) ; i++ {}\n\n// For-Range \u904d\u5386\nfor idx, val := range slice {}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#42","title":"4.2 \u52a8\u6001\u8ffd\u52a0","text":"<p>\u5fc5\u987b\u5b58\u50a8\u8ffd\u52a0\u7ed3\u679c</p> <p><code>append()</code> \u5c06\u5143\u7d20\u8ffd\u52a0\u81f3\u5207\u7247\u672b\u5c3e\uff0c\u5e76\u8fd4\u56de\u66f4\u65b0\u540e\u7684\u5207\u7247</p> <ul> <li> <p>\u82e5\u5bb9\u91cf\u8db3\u591f\uff0c\u5219 \u91cd\u65b0\u5207\u7247 \u4ee5\u5bb9\u7eb3\u65b0\u7684\u5143\u7d20</p> </li> <li> <p>\u82e5\u5bb9\u91cf\u4e0d\u8db3\uff0c\u5219 \u91cd\u65b0\u5206\u914d \u65b0\u7684\u57fa\u672c\u6570\u7ec4\uff08\u5bb9\u91cf\u500d\u589e\uff09</p> </li> </ul> <pre><code>var slice3 []int = []int{10,20,30}\n\n// 1. \u8ffd\u52a0\u6307\u5b9a\u5143\u7d20\nslice5 := append(slice3, 400, 500)\n// slice3 = {10,20,30}\uff0cslice4 = {10,20,30,400,500}\n\n// 2. \u8ffd\u52a0\u5207\u7247\uff08\u9700\u8981\u6790\u6784\uff09\nsliceD := append(slice3, slice3...)\n// sliceD = {10,20,30,10,20,30}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#43","title":"4.3 \u62f7\u8d1d","text":"<p>\u5728 <code>target</code> \u5904\u539f\u5730\u66f4\u65b0\uff08\u8986\u76d6\u91cd\u5408\u524d\u7f00\uff09</p> <p><code>cap(dst) &lt; len(src)</code> \u65f6 \u4e0d\u62a5\u9519 \u2014&gt; \u53ea\u62f7\u8d1d\u5bb9\u91cf\u8303\u56f4\u5185\u7684\u5143\u7d20</p> <pre><code>var dst = make([]int, 6)\nvar src []int = []int{1,2,3}\n\ncopy(dst, src) // dst = {1,2,3,0,0,0}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#44","title":"4.4 \u64cd\u4f5c\u5b57\u7b26\u4e32","text":"<p><code>string</code> \u7684\u5e95\u5c42\u662f <code>[]byte</code>\uff0c\u4f46\u672c\u8eab \u4e0d\u53ef\u53d8 \uff08 <code>str[1] = 'a'</code> \u975e\u6cd5\uff09=&gt; \u4f7f\u7528\u5207\u7247\u5904\u7406</p> <pre><code>// \u4fee\u6539\u5b57\u7b26\u4e32\nstr := \"hello@world\"\n// 1. \u8f6c byte \u6570\u7ec4\narr := []byte(str)\n// 2. \u4fee\u6539\narr[0] = '$'\n// 3. \u8f6c\u56de string\nstr = string(arr)\n</code></pre> <p>\u82e5\u9700\u8981\u5904\u7406\u4e2d\u6587\uff0c\u5219\u5e94\u8f6c\u4e3a <code>[]rune</code> \u8fdb\u884c\u517c\u5bb9</p>"},{"location":"Nulling/Go/1%20Basic/#5-map","title":"5 \u5b57\u5178 Map","text":"<p>\u505a\u51fd\u6570\u53c2\u6570\u65f6\u4e3a \u5f15\u7528\u4f20\u9012</p> <ul> <li> <p>Key</p> <p>Map \u4e2d\u7684 Key \u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u56e0\u800c\u5fc5\u987b\u652f\u6301 <code>== !=</code> \u6bd4\u8f83</p> <p>\u51fd\u6570 / \u5207\u7247\u3001\u5305\u542b\u5207\u7247\u7684\u7ed3\u6784\u4e0d\u80fd\u4f5c\u4e3a Key</p> </li> <li> <p>Value</p> <p>Value \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b</p> </li> <li> <p>\u5728 Map \u4e2d\uff0c\u6240\u6709 Key \u7684\u7c7b\u578b\u4e00\u81f4\uff0c\u6240\u6709 Value \u7684\u7c7b\u578b\u4e00\u81f4</p> </li> </ul> <pre><code>// \u7c7b\u578b\u683c\u5f0f\u4e3a map[keyType]valType\nvar m map[int]string\nm[1] = \"hello\"                // \u4e3a\u6307\u5b9a\u952e\u8d4b\u503c\uff0c\u952e\u5df2\u5b58\u5728\u65f6\u8fdb\u884c\u8986\u76d6\n\n// map \u5177\u6709 len\nPrint(len(map))\n\n// \u901a\u8fc7 make \u521b\u5efa\nm ;= make(map[int]string, 10) // \u6307\u5b9a\u7684\u662f cap \u4e0d\u662f len\uff08\u4f46\u662f\u4f1a\u81ea\u52a8\u6269\u5145\uff09\n\n// \u521b\u5efa\u5e76\u521d\u59cb\u5316\nm := map[int]string{\n    1:\"mike\",\n    2:\"marry\",               // \u672b\u5c3e\u8fd8\u5f97\u6709\u4e2a\u9017\u53f7\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#_3","title":"\u57fa\u672c\u64cd\u4f5c","text":"<pre><code>var m map[int]string\n\n// \u904d\u5386\uff08\u65e0\u5e8f\uff09\nfor key, val := range m {}\n\n// \u5224\u65ad key \u662f\u5426\u5b58\u5728\nval, flag := m[key]\nif flag == true {}\nelse {}\n\n// \u5220\u9664\ndelete(m, key)\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#6-struct","title":"6 \u7ed3\u6784\u4f53 Struct","text":"<p>\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u662f \u4f20\u503c</p>"},{"location":"Nulling/Go/1%20Basic/#61","title":"6.1 \u5b9a\u4e49","text":"<ul> <li> <p>\u683c\u5f0f\u4e3a <code>type tName struct</code></p> </li> <li> <p>\u53ef\u4ee5\u5728 \u51fd\u6570\u5185 / \u51fd\u6570\u5916 \u5b9a\u4e49\u7ed3\u6784\u4f53\uff08\u82e5\u5728\u51fd\u6570\u5185\u5b9a\u4e49\u5219\u4e3a private\uff09</p> </li> </ul> <pre><code>type Student struct {\n    id   int\n    name string\n    sex  byte\n    age  int\n}\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#62","title":"6.2 \u521d\u59cb\u5316","text":"<pre><code>// \u987a\u5e8f\u521d\u59cb\u5316 -&gt; \u5fc5\u987b\u521d\u59cb\u5316 \u6240\u6709 \u5206\u91cf\nvar s Student = Student {\n    1,\n    \"mike\",\n    'm',\n    28\n}\n\n// \u90e8\u5206\u521d\u59cb\u5316 -&gt; \u5176\u4f59\u8d4b\u503c\u4e3a default\ns := Student {\n    name: \"jerry\",\n    age: 32\n}\n\n// \u7ed3\u6784\u4f53\u6307\u9488\nvar ptr *Student\nptr = &amp;Student {  // \u53d6\u5730\u5740\n    name: \"jerry\",\n    age: 32\n}\nPrint(*ptr)      // \u6253\u5370\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#63","title":"6.3 \u6210\u5458\u64cd\u4f5c","text":"<pre><code>var s Student\ns.name = \"Jake\"\nPrint(s.name)\n\n// \u901a\u8fc7\u7ed3\u6784\u6307\u9488\u64cd\u4f5c\u6210\u5458\uff08\u4e24\u79cd\u64cd\u4f5c\u7b49\u4ef7\uff09\nvar ptr *Student = &amp;s\n(*ptr).id = 1\nptr.id = 2\n\n// \u901a\u8fc7 new \u7533\u8bf7\u7684\u4e5f\u662f\u6307\u9488\uff08\u6307\u5411\u7a7a\u5bf9\u8c61\uff09\nptr := new(Student)\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#64","title":"6.4 \u6bd4\u8f83 &amp; \u8d4b\u503c","text":"<pre><code>s1 := Student{ id: 1, name: \"tot\"}\ns2 := Student{ id: 2, name: \"tod\"}\n\n// \u652f\u6301 == / !=\uff0c\u6bd4\u8f83\u6bcf\u4e00\u4e2a\u5206\u91cf\u662f\u5426\u76f8\u7b49\ns1 == s2  // false\n\n// \u540c\u7c7b\u7ed3\u6784\u4f53\u652f\u6301\u8d4b\u503c\nvar tmp Student\ntmp = s1\ntmp == s1 // true\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#65","title":"6.5 \u53c2\u6570\u4f20\u503c","text":"<pre><code>// \u58f0\u660e\u6307\u9488\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\nfunc change(p *Student) {\n    p.id = 1\n}\n\n// \u53d6\u5730\u5740\u8c03\u7528\nchange(&amp;s)\n</code></pre>"},{"location":"Nulling/Go/1%20Basic/#7","title":"7 \u5de5\u7a0b\u7ba1\u7406","text":""},{"location":"Nulling/Go/1%20Basic/#71","title":"7.1 \u5de5\u4f5c\u533a","text":"<p>Go \u5de5\u7a0b\u4e00\u822c\u5305\u542b\u4ee5\u4e0b\u4e09\u4e2a\u5b50\u76ee\u5f55\uff1a</p> <ul> <li><code>/src</code>\uff1a\u4ee5\u4ee3\u7801\u5305\u5f62\u5f0f\u7ec4\u7ec7\u5e76\u4fdd\u5b58 Go \u6e90\u4ee3\u7801\uff08<code>.go / .c / .h / .s</code>\uff09</li> </ul> <p><code>/pkg</code> &amp; <code>/bin</code> \u7531 Go \u547d\u4ee4\u884c\u5de5\u5177\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u521b\u5efa</p> <ul> <li> <p><code>/pkg</code>\uff1a\u5b58\u50a8\u7531 <code>go install</code> \u6784\u5efa\u4ea7\u751f\u7684\u5f52\u6863\u6587\u4ef6 <code>.a</code></p> </li> <li> <p><code>/bin</code>\uff1a\u4fdd\u5b58\u7531 <code>go install</code> \u6784\u5efa\u4ea7\u751f\u7684\u53ef\u6267\u884c\u6587\u4ef6</p> </li> </ul> <ul> <li> <p>\u53ea\u6709\u5f53 <code>GOPATH</code> \u4e2d\u4ec5\u5305\u542b\u4e00\u4e2a\u5de5\u4f5c\u76ee\u5f55\u8def\u5f84\u65f6\uff0c<code>go install</code> \u547d\u4ee4\u624d\u4f1a\u5c06\u6e90\u7801\u6784\u5efa\u81f3\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684 <code>/bin</code> \u8def\u5f84\u4e0b</p> </li> <li> <p>\u4e00\u822c\u9700\u8981\u5c06 <code>GOPATH</code> \u8bbe\u7f6e\u4e3a\u5de5\u7a0b\u6839\u8def\u5f84\uff08 <code>/src</code> \u7684\u7236\u8def\u5f84\uff09</p> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#72","title":"7.2 \u5305","text":"<ul> <li> <p>\u540c\u4e00\u4e2a\u5b50\u76ee\u5f55\u4e0b\u7684 <code>.go</code> \u5fc5\u987b\u5904\u4e8e\u540c\u4e00\u4e2a <code>package</code> \u5185\uff08\u5b50\u76ee\u5f55\u540d\uff09</p> <p>\u540c\u4e00\u5b50\u76ee\u5f55\u4e0b\uff08\u540c <code>package</code>\uff09\u4e0b\u7684\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u65b9\u6cd5\uff08\u65e0\u9700\u5305\u540d\uff0c\u4e0d\u7ba1 Private / Public \uff09</p> </li> <li> <p>\u5bfc\u5165\u7684\u5305\u5fc5\u987b\u4f7f\u7528\uff0c\u5426\u5219\u7f16\u8bd1\u62a5\u9519</p> <p>\u4ec5 Public \u51fd\u6570\u5141\u8bb8\u8de8\u5305\u8c03\u7528\uff08\u9996\u5b57\u6bcd\u5927\u5199\uff09</p> <pre><code>// \u4e00\u4e2a\u4e00\u4e2a\u5bfc\nimport \"os\"\n// \u5bfc\u4e00\u7ec4\nimport (\n    \"fmt\"\n    \"os\"\n)\n\n// using namespace '.'\nimport . \"fmt\"            // \u8c03\u7528\u65f6\u65e0\u9700\u5305\u540d\uff08\u4f46\u53ef\u80fd\u649e\u540d\u5b57\uff09\nPrintln(\"hello world\")    // \u76f4\u63a5\u7528\u634f\n\n// \u8d77\u522b\u540d\nimport io \"fmt\"\nio.Println(\"hello world\") // \u522b\u540d\u8c03\u7528\n\n// \u5ffd\u7565\u6b64\u5305\uff08\u4e0d\u7528\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u5f88\u8ff7\u60d1\uff09\nimport _ \"os\"\n// \u5b9e\u9645\u4e0a\u662f\u4ee5 _ \u91cd\u547d\u540d\u8be5\u5305 -&gt; \u5f15\u5165\uff0c\u4f46\u53ea\u7528\u4e86\u8be5\u5305\u7684 init()\n</code></pre> </li> <li> <p>\u4fdd\u7559\u51fd\u6570\uff1a\u65e0\u53c2\u65e0\u8fd4\u56de\u503c\uff0c\u7531\u7a0b\u5e8f\u81ea\u884c\u8c03\u7528</p> <ul> <li> <p><code>main()</code>\uff1a\u4ec5\u7528\u4e8e <code>package main</code></p> <ul> <li> <p>\u82e5 <code>package main</code> \u4e2d\u5bfc\u5165\u4e86\u5176\u4ed6\u5305\uff0c\u5219\u6309\u4e66\u5199\u987a\u5e8f\u4f9d\u6b21\u5bfc\u5165\uff08\u5148\u9012\u5f52\u5bfc\u5165\u5404\u5305\u7684\u4f9d\u8d56\uff09</p> </li> <li> <p>\u540c\u4e00\u4e2a\u5305\u88ab\u591a\u4e2a\u5305\u5bfc\u5165\u65f6\uff0c\u5b9e\u8d28\u4e0a\u4ec5\u5bfc\u5165\u4e00\u6b21</p> </li> </ul> </li> <li> <p><code>init()</code>\uff1a\u53ef\u9009\uff0c\u9002\u7528\u4e8e\u6240\u6709\u5305</p> <p>\u7c7b\u4f3c\u4e8e\u5305\u7684\u6784\u9020\u51fd\u6570</p> <ul> <li> <p>\u53ef\u4ee5\u5199\u82e5\u5e72\u4e2a\uff08\u5efa\u8bae\u53ea\u5199\u4e00\u4e2a\uff09\uff0c\u90fd\u4f1a\u5728\u7a0b\u5e8f\u5f00\u59cb\u6267\u884c\u65f6\uff08<code>main()</code> \u4e4b\u524d\uff09\u8c03\u7528</p> </li> <li> <p>\u7528\u4e8e\u8fdb\u884c\u521d\u59cb\u5316\u53d8\u91cf\u7b49\u5f15\u5bfc\u64cd\u4f5c</p> </li> </ul> </li> <li> <p>\u6267\u884c\u987a\u5e8f</p> <ol> <li>\u9012\u5f52\u6267\u884c\u6240\u6709\u4f9d\u8d56\u7684 <code>init()</code></li> <li>\u6267\u884c <code>package main.init()</code></li> <li>\u6267\u884c <code>package main.main()</code></li> </ol> </li> </ul> </li> </ul>"},{"location":"Nulling/Go/1%20Basic/#73-go-mod","title":"7.3 Go Mod \u4f9d\u8d56\u7ba1\u7406","text":"<p><code>Go.mod</code> \u662f\u4e00\u4e2a\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\uff1a\u4e0d\u540c\u4e8e\u4f20\u7edf\u7684 <code>GOPATH</code> \u9700\u8981\u5305\u542b <code>/src</code> / <code>/bin</code>\uff0c\u4efb\u4f55\u5305\u542b <code>go.mod</code> \u7684\u76ee\u5f55\u90fd\u53ef\u4ee5\u4f5c\u4e3a Module</p> <ul> <li> <p>\u5f00\u542f\u529f\u80fd</p> <pre><code>go env -w GO111MODULE=on\n</code></pre> </li> <li> <p>\u65b0\u5efa Module</p> <p>\u5728\u6839\u8def\u5f84\u4e0b\u6267\u884c <code>go mod init [module-name]</code> \u5373\u53ef\u81ea\u52a8\u521d\u59cb\u5316\uff0c\u5e76\u751f\u6210 <code>go.mod</code> \u6587\u4ef6</p> </li> <li> <p>\u5b89\u88c5\u4f9d\u8d56</p> <p>\u76f4\u63a5\u6267\u884c <code>go run [file].go</code>\uff0cGo \u5c06\u81ea\u52a8\u67e5\u627e\u6240\u6709\u4f9d\u8d56\u5e76\u5c06\u5176\u7248\u672c\u5199\u5165 <code>go.mod</code></p> <p>\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5c06\u88ab\u4e0b\u8f7d\u81f3 <code>$GOPATH/pkg/mod</code> \u4e0b</p> </li> <li> <p>\u57fa\u672c\u7ed3\u6784</p> <pre><code>.\n\u251c\u2500\u2500 go.mod         // \u4f9d\u8d56\u4fe1\u606f\n\u251c\u2500\u2500 main.go        // \u9879\u76ee\u5165\u53e3\n\u2514\u2500\u2500 calc           // \u81ea\u5b9a\u4e49\u5305\n    \u2514\u2500\u2500 calc.go\n</code></pre> </li> <li> <p>\u5f15\u5165\u672c\u5730\u4f9d\u8d56</p> <p>\u4f7f\u7528 <code>go run main.go</code> \u5373\u53ef\u6b63\u5e38\u8fd0\u884c</p> <pre><code>// @ main.go\npackage main\n\nimport (\n    \"[module-name]/[package-name]\" // \u6b64\u5904\u662f mymodule/calc\n)\n\nfunc main() {\n    calc.Calc() // \u4f7f\u7528 package calc \u4e2d\u7684 public Calc()\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/2%20OOP/","title":"2 \u9762\u5411\u5bf9\u8c61","text":"<p> \u7ea6 255 \u4e2a\u5b57  58 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u4e8b\u5b9e\u4e0a Go \u4e0d\u652f\u6301 \u7ee7\u627f\u3001\u865a\u51fd\u6570\u3001\u6784\u9020/\u6790\u6784\u51fd\u6570\uff0c\u9690\u85cf\u7684 <code>this</code> \u6307\u9488 \u7b49 OOP \u4e2d\u7684\u5e38\u89c1\u6982\u5ff5\uff0c\u4f46\u4ecd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u65b9\u6cd5\u5b9e\u73b0\u8fd9\u4e9b\u7279\u6027\uff1a</p> <ul> <li> <p>\u5c01\u88c5\uff1a\u901a\u8fc7 \u65b9\u6cd5 \u5b9e\u73b0</p> </li> <li> <p>\u7ee7\u627f\uff1a\u901a\u8fc7 \u533f\u540d\u5b57\u6bb5 \u5b9e\u73b0</p> </li> <li> <p>\u591a\u6001\uff1a\u901a\u8fc7 \u63a5\u53e3 \u5b9e\u73b0</p> </li> </ul>"},{"location":"Nulling/Go/2%20OOP/#1","title":"1 \u533f\u540d\u5b57\u6bb5","text":"<ul> <li> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\u5b57\u6bb5\u540d\u4e0e\u5b57\u6bb5\u7c7b\u578b\u4e00\u4e00\u5bf9\u5e94\uff0c\u800c \u533f\u540d\u5b57\u6bb5 \u652f\u6301 \u53ea\u5199\u7c7b\u578b\u4e0d\u5199\u5b57\u6bb5\u540d</p> </li> <li> <p>\u5f53\u533f\u540d\u5bf9\u8c61\u672c\u8eab\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u65f6\uff0c\u5176\u6240\u62e5\u6709\u7684\u6240\u6709\u5206\u91cf\u90fd\u88ab \u9690\u5f0f\u5f15\u5165 \u5f53\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53</p> <pre><code>type Preson struct {\n    name string\n    sex  byte\n    age  int\n}\n\ntype Student struct {\n    Person // \u533f\u540d\u5b57\u6bb5\n    int    // \u57fa\u7840\u7c7b\u578b\u533f\u540d\u5b57\u6bb5 -&gt; \u901a\u8fc7 s.int \u64cd\u4f5c\n    id   int\n    addr string\n}\n</code></pre> </li> <li> <p>\u5bf9\u5305\u542b\u533f\u540d\u5b57\u6bb5\u7684\u7ed3\u6784\u4f53\u8fdb\u884c\u521d\u59cb\u5316</p> <pre><code>// \u987a\u5e8f\u521d\u59cb\u5316\nvar s Student = Student{\n    Person{\"mike\", 'm', 18},\n    1, \"Hangzhou\"\n}\n\n// \u90e8\u5206\u521d\u59cb\u5316\uff1a\u533f\u540d\u5b57\u6bb5\u5185\u672a\u6307\u5b9a\u5206\u91cf\u4e5f\u521d\u59cb\u5316\u4e3a default\ns2 := Student{ Person{ name:\"jake\" }, id: 2 }\n\n// \u5bf9\u533f\u540d\u5b57\u6bb5\u8fdb\u884c\u6574\u4f53\u8d4b\u503c\ns2.Person = Person{\"jake\", 'm', 29}\n// \u5bf9\u533f\u540d\u5b57\u6bb5\u5206\u91cf\u5355\u72ec\u8d4b\u503c\ns2.Person.name = \"jake\"\n</code></pre> </li> <li> <p>\u6307\u9488\u7c7b\u578b\u533f\u540d\u5b57\u6bb5</p> <pre><code>type Student struct {\n    *Person,\n    id int\n}\n\n// \u521d\u59cb\u5316\uff0c\u53d6\u5730\u5740\ns := Student{ &amp;(Person{ name:\"jake\" }), 2 }\n\n// \u5148\u5b9a\u4e49\uff0c\u7136\u540e\u4f7f\u7528 new \u5206\u914d\u7a7a\u95f4\nvar s Student\ns.Person = new(Person)\n</code></pre> </li> </ul>"},{"location":"Nulling/Go/2%20OOP/#2","title":"2 \u65b9\u6cd5","text":"<ul> <li> <p>Go \u652f\u6301\u4e3a \u4efb\u610f\u7c7b\u578b\uff08\u5305\u62ec\u5185\u7f6e\u7c7b\u578b\uff0c\u4f46\u4e0d\u5305\u62ec \u6307\u9488\u7c7b\u578b / \u63a5\u53e3\uff09\u6dfb\u52a0\u65b9\u6cd5</p> <pre><code>// \u5408\u6cd5\nfunc (this *long) test() {}\n\n// \u975e\u6cd5 -&gt; type \u672c\u8eab\u662f\u6307\u9488\ntype lptr *long\nfunc (this lptr) test() {}\n</code></pre> </li> <li> <p>\u65b9\u6cd5\u5fc5\u987b\u5177\u6709 Receiver\uff0c\u82e5\u5728\u51fd\u6570\u4e2d\u672a\u4f7f\u7528\uff0c\u5219\u53ef\u4ee5\u7701\u7565\u53c2\u6570\u540d</p> </li> <li> <p>\u4e0d\u652f\u6301\u91cd\u8f7d\uff1a\u4e0d\u80fd\u5305\u542b\u540c\u540d\u4e0d\u540c\u53c2\u7684\u65b9\u6cd5\uff08\u4e0d\u540c Receiver \u53ef\u4ee5\u5177\u6709\u540c\u540d\u65b9\u6cd5\uff09</p> </li> </ul> <pre><code>// \u5b9a\u4e49\nfunc (self Person) PrintInfo() {\n    fmt.Println(\"cur Person: \", self)\n}\n\n// \u64cd\u4f5c\u6210\u5458\uff08\u63a5\u53d7\u8005\u662f\u6307\u9488\uff09\nfunc (this *Person) Construct(n string, s byte, a int) {\n    this.name = n\n    this.sex = s\n    this.age = a\n}\n\n// \u8c03\u7528\nvar p Person\n(&amp;p).Construct(\"jake\", 'm', 18)\np.PrintInfo()\n</code></pre>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/","title":"Chap 2 Bit, \u6570\u636e\u7c7b\u578b\u4e0e\u8fd0\u7b97","text":"<p> \u7ea6 1332 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u4e0a\u5b8c\u4e13\u4e1a\u8bfe\u56de\u6765\u6709\u4e00\u79cd\u878d\u4f1a\u8d2f\u901a\u7684\u9519\u89c9\uff08\u5e76\u4e0d\uff09</p>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#0","title":"0 \u4ece\u95ee\u9898\u63cf\u8ff0\u5230\u7535\u5b50\u8fd0\u8f6c","text":"\u5e8f\u53f7 \u63cf\u8ff0 1 \u95ee\u9898 2 \u7b97\u6cd5 3 \u8bed\u8a00 4 \u673a\u5668\uff08ISA\uff09\u7ed3\u6784 5 \u5fae\u7ed3\u6784 6 \u7535\u8def 7 \u5668\u4ef6 \u6c47\u7f16\u8bed\u8a00 \u548c ISA \u7684\u5173\u7cfb <p>\u6c47\u7f16\u8bed\u8a00\u901a\u5e38\u4e0e ISA \u5177\u6709 1to1 \u5173\u7cfb\uff0c\u4f46\u524d\u8005\u6709\u65f6\u652f\u6301\u66f4\u52a0\u590d\u6742\u7684\u64cd\u4f5c\uff08\u5982\u7ed3\u6784\u5316\u7f16\u7a0b\u5757\uff09</p> <ul> <li> <p>\u6c47\u7f16\u8bed\u8a00\u662f ISA \u64cd\u4f5c\u7801\u3001\u903b\u8f91\u548c\u6307\u4ee4\u7684\u62bd\u8c61\u96c6\u5408\uff0c\u662f\u6307\u4ee4\u7684\u6587\u672c\u5f62\u5f0f\uff08\u4e0d\u6d89\u53ca\u6307\u4ee4\u7f16\u7801\uff09</p> </li> <li> <p>ISA \u66f4\u50cf\u662f\u6307\u5b9a\u4e86\u6307\u4ee4\u53ca\u5176\u4e8c\u8fdb\u5236\u7f16\u7801\u7684\u6807\u51c6\u6587\u6863</p> </li> </ul> <ul> <li> <p>\u6b65\u9aa4 3-4 \u7406\u8bba\u4e0a\u5c31\u662f\u7f16\u8bd1\u539f\u7406\u8986\u76d6\u7684\u5185\u5bb9\uff08\u9ad8\u7ea7\u8bed\u8a00\u81f3 ISA\uff09</p> <ul> <li> <p>\u9ad8\u7ea7\u8bed\u8a00 -&gt; ISA \u7531 \u7f16\u8bd1\u5668 <code>compiler</code> \u5b8c\u6210</p> </li> <li> <p>\u6c47\u7f16\u8bed\u8a00 -&gt; \u5bf9\u5e94 ISA \u7531 \u6c47\u7f16\u5668 <code>assembly</code></p> </li> </ul> </li> <li> <p>\u6307\u4ee4\u96c6\u7ed3\u6784 <code>ISA (Instruction Set Architecture)</code> \u662f\u7a0b\u5e8f\u548c\u8ba1\u7b97\u673a\u786c\u4ef6\u63a5\u53e3\u4e4b\u95f4\u7684\u4e00\u4e2a\u5b8c\u6574\u5b9a\u4e49\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u8ba1\u7b97\u673a\u53ef\u4ee5\u6267\u884c\u7684\u6307\u4ee4\u96c6\u5408</li> <li>\u6bcf\u4e2a\u64cd\u4f5c\u6240\u9700\u8981\u7684\u6570\u636e\uff08\u64cd\u4f5c\u6570 <code>operand</code>\uff09\u662f\u4ec0\u4e48</li> <li>\u53ef\u63a5\u53d7\u7684\u64cd\u4f5c\u6570\u8868\u8fbe\u65b9\u5f0f\uff08\u6570\u636e\u7c7b\u578b <code>data type</code>\uff09</li> <li>\u5b9a\u4f4d\u64cd\u4f5c\u6570\u7684\u65b9\u6cd5\uff08\u5bfb\u5740\u6a21\u5f0f <code>addressing mode</code>\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#1-bit","title":"1 Bit &amp; \u6570\u636e\u7c7b\u578b","text":""},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#11-bit","title":"1.1 Bit","text":"\\[     bit = 0 \\ or\\ 1 \\] <ul> <li>\u7535\u8def\u53ea\u6709\u4e24\u4e2a\u72b6\u6001\uff0c\u4e3a\u4e86\u8868\u8fbe\u66f4\u591a\u7684\u6570\u503c\u72b6\u6001\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u6761\u7ebf\u8def\u5408\u5e76\u4f7f\u7528\uff08\u5f62\u6210 <code>k-bit</code> \u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u5171\u6709 2<sup>k</sup>\u79cd\u4e0d\u540c\u72b6\u6001\uff09</li> </ul>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#12","title":"1.2  \u6574\u6570","text":"<p>\u672c\u8bfe\u7a0b\u4f7f\u7528\u8865\u7801\uff08 2's Complement \uff09\u8868\u793a\u6b63\u8d1f\u6574\u6570\uff0c\u4f7f\u7528 ASCII \u8868\u793a\u5b57\u7b26</p> <ul> <li> <p>\u65e0\u7b26\u53f7\u6574\u6570 Unsigned Integer</p> <p>\u7528 <code>k-bit</code> \u53ef\u4ee5\u8868\u793a 0 ~ 2<sup>k</sup>-1 \u7684 2<sup>k</sup> \u4e2a\u65e0\u7b26\u53f7\u6574\u6570</p> </li> <li> <p>\u6709\u7b26\u53f7\u6574\u6570</p> <p>\u6211\u4eec\u5c06 2<sup>k</sup> \u4e2a\u4f4d\u7f6e\u4e00\u5206\u4e3a\u4e8c\uff0c\u4e00\u534a\u8868\u793a\u6b63\u6570\uff0c\u53e6\u4e00\u534a\u8868\u793a\u8d1f\u6570\u3002\u4ee5 5-bit \u5b57\u4e32\u4e3a\u4f8b\uff1a</p> <ol> <li> <p>\u7b26\u53f7\u4f4d\u8868\u793a\u6cd5 Signed Magnitude</p> <ul> <li> <p>\u6700\u9ad8\u4f4d\u8868\u793a\u7b26\u53f7\uff0c\u540e k \u4f4d\u8868\u793a\u6570\u503c\uff08\u7edd\u5bf9\u503c\u4e8c\u8fdb\u5236\u4e32\uff09</p> <p>\u5176\u4e2d <code>00000</code> \u4e0e <code>10000</code> \u5206\u522b\u8868\u793a <code>+0</code>\uff0c<code>-0</code></p> </li> <li> <p>\u8303\u56f4\u4e3a <code>[+0, (2^k-1)] + [-0, -(2^k-1)]</code> </p> </li> </ul> <p>+5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>00101</code>\uff0c\u5219 -5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>10101</code></p> </li> <li> <p>\u53cd\u7801 1's Complement</p> <ul> <li> <p>\u5c06\u6b63\u6570\u7684\u6240\u6709 bit\uff08\u5305\u62ec\u7b26\u53f7\u4f4d\uff09 \u76f4\u63a5\u53d6\u53cd\uff0c\u5373\u53ef\u5f97\u5230\u5176\u76f8\u53cd\u6570\u7684\u4e8c\u8fdb\u5236\u7f16\u7801</p> </li> <li> <p>\u8303\u56f4\u4e3a <code>[+0, (2^k-1)] + [-(2^k-1), -0]</code> </p> </li> </ul> <p>+5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>00101</code>\uff0c\u5219 -5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>11010</code></p> </li> <li> <p>\u8865\u7801 2's Complement</p> <ul> <li> <p>\u8d1f\u6574\u6570\u8865\u7801 = \u6b63\u6574\u6570\u53cd\u7801 + 1 </p> </li> <li> <p>\u8303\u56f4\u4e3a <code>[+0, (2^k-1)] + [-(2^k), -1]</code> \uff0c\u8d1f\u6570\u591a\u4e00\u4e2a</p> </li> </ul> <ul> <li>+5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>00101</code>\uff0c\u5219 -5 \u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3a <code>11011</code></li> <li>\u4f7f\u7528\u8865\u7801\u7684\u597d\u5904\u662f\u8ba1\u7b97\u65f6\u53ef\u4ee5\u76f4\u63a5\u5c06\u4e8c\u8fdb\u5236 \u9010\u4f4d\u76f8\u52a0\uff08\u76f8\u53cd\u6570\u76f8\u52a0\u540e\u4e3a <code>000...0</code>\uff0c\u5ffd\u7565\u7b26\u53f7\u4f4d\u4ea7\u751f\u7684\u8fdb\u4f4d\uff09\uff0c\u65b9\u4fbf ALU \u8fdb\u884c\u8ba1\u7b97</li> </ul> </li> </ol> </li> </ul> \u4e09\u79cd\u7f16\u7801\u65b9\u5f0f\u5bf9\u8d1f\u6570\u8868\u793a\u65b9\u5f0f\u7684\u5bf9\u6bd4 <ul> <li>\u5bf9\u4e8e\u7b26\u53f7\u4f4d\u8868\u793a\u6cd5\uff0c\u7b26\u53f7\u4f4d\u53d6\u53cd</li> <li>\u5bf9\u4e8e\u53cd\u7801\uff0c\u6240\u6709\u4f4d\u53d6\u53cd</li> <li>\u5bf9\u4e8e\u8865\u7801\uff0c\u6570\u503c\u4e32 = <code>2^k - |n|</code> \u7684\u539f\u7801\uff08 <code>|n|</code> \u539f\u7801\u53d6\u53cd + 1\uff09</li> </ul> \u7f16\u7801\u8303\u56f4 \u7b26\u53f7\u4f4d \u53cd\u7801 \u8865\u7801 <code>00000 ~ 01111</code> <code>[0, 15]</code> <code>[0, 15]</code> <code>[0, 15]</code> <code>10000 ~ 11111</code> <code>[-0, -15]</code> <code>[-15, -0]</code> <code>[-16, -1]</code> <p>\u8865\u7801\u4e2d\u8d1f\u6570\u4f1a\u6bd4\u6b63\u6570\u591a\u4e00\u4e2a -2<sup>k</sup></p>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#13-bit-vector","title":"1.3 \u4f4d\u77e2 Bit Vector","text":"<p>\u7c7b\u4f3c\u4e8e bitmap</p> <p>\u4f7f\u7528\u4e00\u4e2a <code>1*N</code> \u7684\u77e2\u91cf\u8868\u793a N \u53f0\u673a\u5668\u7684\u95f2\u5fd9\uff1a<code>a[i] = 1</code> \u8868\u793a\u7b2c i \u53f0\u673a\u5668\u7e41\u5fd9\uff0c\u53cd\u4e4b\u8868\u793a\u5176\u7a7a\u95f2</p>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#14-float-point","title":"1.4 \u6d6e\u70b9\u6570 Float-Point","text":"<p>\u7c7b\u4f3c\u4e8e\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u9664\u7b26\u53f7\u4f4d\u4ee5\u5916\u7684 bit \u4e00\u90e8\u5206\u8868\u793a\u6307\u6570\uff0c\u53e6\u4e00\u90e8\u5206\u8868\u793a\u7cbe\u5ea6</p> <p>32 bit \u7684 IEEE \u6807\u51c6\u6d6e\u70b9\u6570\u7ec4\u6210\u5982\u4e0b\uff1a</p> \u5e8f\u53f7 \u542b\u4e49 \u8bf4\u660e 0 (1 bit) \u7b26\u53f7 Sign 0 \u6b63 1 \u8d1f 1-8 (8 bit) \u6307\u6570 Exponent \u6b63\u5219\u5316\uff08 normalized \uff09\u7ed3\u679c\uff0c\u5b9e\u9645\u7684\u4e3a\u5c3e\u6570\u90e8\u5206\u4e3a <code>1(23-bit of Frac)</code> 9-31 (23 bit) \u5c3e\u6570 Fraction \u4ec5\u4f7f\u7528\u4e86 <code>00000001 ~ 11111110</code> \u5171\u8ba1 254 \u4e2a\u6570\u5b57 \\[     N = (-1)^{Sign} * (1.Frac) * 2^ {Exp - 127}, \\ 1 \\leq Exp \\leq 254 \\] <ul> <li>Exp \u5168 0 \u8868\u793a\uff1a $$     N = (-1)^{Sign} * (0.Frac) * 2^{-126} $$</li> </ul>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#samples","title":"Samples","text":"<ul> <li>\u7528 IEEE \u6807\u51c6\u8868\u793a\u6d6e\u70b9\u6570 -6(5/8)</li> </ul> \\[ \\begin{align*} -6\\frac{5}{8} &amp;= -(1*2^2 + 1*2^1 + 0*2^0 + 1*2^{-1}+0*2^{-2}+1*2^{-3}) \\\\ &amp;= -110.101 \\\\ &amp;\\Rightarrow Normalized = -1.10101 * 2^2 \\\\ &amp;\\Rightarrow Sign = 1 \\tag{1} \\\\ &amp;\\Rightarrow Exp = 127 + 2 = 129 = 10000001 \\tag{2} \\\\ &amp;\\Rightarrow Frac = 10101 + 18*0 \\tag{3} \\\\ &amp;\\therefore -6\\frac{5}{8} = 1 \\ 10000001 \\ 10101 + 18*0 \\end{align*} \\] <ul> <li>\u6c42 <code>001111011 + 0*22</code> \u8868\u793a\u7684\u6d6e\u70b9\u6570</li> </ul> \\[ \\begin{align*} &amp;\\Rightarrow Sign = 0 \\rightarrow Positive \\\\ &amp;\\Rightarrow Exp = 01111011 = 123 = 127 + (-4) = -4 \\\\ &amp;\\Rightarrow Frac = 23*0 = 1.0 \\\\ &amp;\\therefore N = 1.0 * 2 ^{-4} = \\frac{1}{16} \\end{align*} \\]"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#2","title":"2 \u8fdb\u5236\u8f6c\u6362\uff08\u8865\u7801\uff09","text":""},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#21-btod","title":"2.1 BtoD","text":"<ol> <li> <p>\u68c0\u67e5\u7b26\u53f7\u4f4d</p> <ul> <li>\u9996\u4f4d\u4e3a <code>0</code>\uff1a\u6b63\u6570\uff0c\u8fdb\u5165 Step 2</li> <li>\u9996\u4f4d\u4e3a <code>1</code>\uff1a\u8d1f\u6570\uff0c\u8f6c\u6210\u76f8\u53cd\u6570\u7684\u8865\u7801\uff08\u51cf\u4e00\u53d6\u53cd\uff09</li> </ul> </li> <li> <p>\u8ba1\u7b97\u8865\u7801\u7684\u5341\u8fdb\u5236</p> </li> <li> <p>\u82e5 Step 1 \u4e2d\u4e3a\u8d1f\u6570\uff0c\u5219\u4e3a Step 2 \u7684\u7ed3\u679c\u52a0\u4e0a\u8d1f\u53f7</p> </li> </ol>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#22-dtob","title":"2.2 DtoB","text":"<ol> <li> <p>\u7528\u77ed\u9664\u6cd5\u6c42\u5f97 <code>|N|</code> \u7684 k-1 bit \u4e8c\u8fdb\u5236\u4e32</p> </li> <li> <p>\u6700\u9ad8\u4f4d\u8865 0 \u7684\u5230 k bit \u4e8c\u8fdb\u5236\u4e32\uff0c\u8d1f\u6570\u8fdb\u5165\u4e0b\u4e00\u6b65</p> </li> <li> <p>\u5bf9 Step 2 \u4e2d\u5f97\u5230\u7684\u4e8c\u8fdb\u5236\u4e32\u6309\u4f4d\u53d6\u53cd\u540e\u52a0\u4e00</p> </li> </ol>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#3","title":"3 \u8fd0\u7b97","text":""},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#31","title":"3.1 \u52a0\u51cf\u6cd5","text":"<ul> <li>\u52a0\u6cd5\uff1a\u6309\u4f4d\u5bf9\u5176\uff0c\u81ea\u53f3\u5411\u5de6\u8ba1\u7b97\uff08\u8fdb\u4f4d\uff09</li> <li>\u51cf\u6cd5\uff1a\u5c06 A-B \u89c6\u4e3a A+(-B)\uff0c\u5373\u5148\u6c42 -B \u7684\u8865\u7801\uff0c\u968f\u540e\u76f8\u52a0</li> </ul> <p>\u8865\u7801\u7684\u7b26\u53f7\u6269\u5c55\uff1a\u6b63\u6570\u9ad8\u4f4d\u8865 <code>0</code>\uff0c\u8d1f\u6570\u9ad8\u4f4d\u8865 <code>1</code></p> \u6ea2\u51fa <ul> <li>\u6ea2\u51fa\u53ea\u4f1a\u53d1\u751f\u5728\u540c\u7b26\u53f7\u6570\u76f8\u52a0\u7684\u60c5\u51b5\u4e0b\uff0c\u6b63\u8d1f\u6570\u76f8\u52a0\u6c38\u8fdc\u4e0d\u4f1a\u6ea2\u51fa</li> <li> <p>\u6ea2\u51fa\u68c0\u6d4b\uff1a\u5728\u5ffd\u7565\u6700\u9ad8\u8fdb\u4f4d\u7684\u6761\u4ef6\u4e0b\uff0c\u6bd4\u8f83\u8fd0\u7b97\u7ed3\u679c\u4e0e\u4e24\u4e2a\u8fd0\u7b97\u6570\u7684\u7b26\u53f7\uff0c\u4e0d\u4e00\u81f4\u65f6\u4fbf\u4ea7\u751f\u6ea2\u51fa</p> <p>\u4e24\u6b63\u6570\u76f8\u52a0\u5f97\u8d1f / \u4e24\u8d1f\u6570\u76f8\u52a0\u5f97\u6b63</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%202%20Bit%2C%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/#32","title":"3.2 \u903b\u8f91\u8fd0\u7b97","text":"\u7c7b\u578b \u63cf\u8ff0 AND \u5168 1 \u51fa 1 OR \u6709 1 \u51fa 1 NOT \u53d6\u53cd XOR \u76f8\u540c\u51fa 0\uff0c\u76f8\u5f02\u51fa 1"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/","title":"Chap 3 \u6570\u5b57\u903b\u8f91","text":"<p> \u7ea6 1682 \u4e2a\u5b57  7 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#1-mos","title":"1 MOS \u6676\u4f53\u7ba1","text":"<p>\u5168\u79f0\u662f \u201d\u91d1\u5c5e\u6c27\u5316\u7269\u534a\u5bfc\u4f53\u201c Metal-Oxide Semiconductor</p> <p>\u6b7b\u53bb\u7684 NPN \u548c PNP \u4e09\u6781\u7ba1\u7a81\u7136\u5f00\u59cb\u653b\u51fb\u6211</p> <ul> <li> <p>\u6211\u4eec\u8ba4\u4e3a MOS \u7ba1\u7531\u4e09\u90e8\u5206\u6784\u6210\uff1a</p> Gate \u6805\u6781 Drain \u6f0f\u6781 Source \u6e90\u7ea7 \u57fa\u6781 \u96c6\u7535\u6781 \u53d1\u5c04\u6781 </li> <li> <p>MOS \u7ba1\u5206\u4e3a n-MOS \u7ba1\uff08\u9ad8\u538b\u5bfc\u901a\uff09 &amp; p-MOS\u7ba1\uff08\u4f4e\u538b\u5bfc\u901a\uff09\u4e24\u79cd\uff1a       </p> <p>\u540c\u65f6\u5305\u542b\u4e24\u79cd\u6676\u4f53\u7ba1\u7684\u7535\u8def\u79f0\u4e3a CMOS\uff08 Complementary Metal-Oxide Semiconductor\uff09\u7535\u8def</p> </li> <li> <p>\u6b64\u5904\u4ec5\u8003\u8651\u6676\u4f53\u7ba1\u7684\u4e24\u79cd\u72b6\u6001\uff1a\u5bfc\u901a &amp; \u5f00\u8def</p> <p>\u6211\u8fd9\u4e48\u5927\u4e00\u4e2a \u201c\u653e\u5927\u201d \u8dd1\u54ea\u513f\u53bb\u4e86\uff01</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#2","title":"2 \u903b\u8f91\u95e8","text":"<p>\u57fa\u672c\u903b\u8f91\u95e8\u56fe\u4f8b\uff1a</p> <p></p>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#21-not","title":"2.1 \u975e\u95e8 NOT","text":""},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#22-nor","title":"2.2 \u6216\u975e\u95e8 NOR","text":"<ul> <li>\u5168 0 \u51fa 1\uff0c\u6709 1 \u51fa 0</li> <li>\u4e24\u4e2a NPN \u4e32\u8054\u63a5\u7535\u6e90\uff0c\u4e24\u4e2a PNP \u5e76\u8054\u63a5\u5730</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#23-or","title":"2.3 \u6216\u95e8 OR","text":"<ul> <li>\u6216\u975e\u95e8\u53d6\u53cd</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#24-nand","title":"2.4 \u4e0e\u975e\u95e8 NAND","text":"<ul> <li>\u5168 1 \u51fa 0\uff0c\u6709 0 \u51fa 1</li> <li>\u4e24\u4e2a NPN \u5e76\u8054\u63a5\u7535\u6e90\uff0c\u4e24\u4e2a PNP \u4e32\u8054\u63a5\u5730</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#25-and","title":"2.5 \u4e0e\u95e8 AND","text":"<ul> <li>\u4e0e\u975e\u95e8\u53d6\u53cd</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#26-de-morgans-law","title":"2.6 \u6469\u6839\u5b9a\u5f8b De Morgan's Law","text":"\\[     \\overline{A \\cdot B} = \\overline{A} + \\overline{B} \\] \u4e3a\u5565\u4e0d\u76f4\u63a5 NPN \u63a5\u7535\u6e90 + PNP \u63a5\u5730\uff1f <ul> <li>\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7528 PNP \u63a5\u7535\u6e90 &amp; NPN \u63a5\u5730\uff0c\u6700\u540e\u53d6\u53cd\uff08\u8fd9\u4f3c\u4e4e\u589e\u52a0\u4e86\u975e\u95e8\u7684\u5f00\u9500\uff09</li> <li>\u4f46\u7531\u4e8e\u6676\u4f53\u7ba1\u7684\u7535\u5b66\u7279\u6027\uff0c\u53cd\u8fc7\u6765\u63a5\u4f1a\u4f7f\u8f93\u51fa != 0\uff0c\u56e0\u6b64\u4e0d\u80fd\u5077\u5de5\u51cf\u6599\u3002</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#3","title":"3 \u7ec4\u5408\u903b\u8f91","text":"<p>\u4e0b\u5217\u903b\u8f91\u7535\u8def\u5747 \u65e0\u6cd5\u5b58\u50a8\u4fe1\u606f</p>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#31-decoder","title":"3.1 \u8bd1\u7801\u5668 Decoder","text":"<ul> <li> <p>\u53ea\u6709\u4e00\u4e2a\u8f93\u51fa\u7aef\u53e3\u4e3a 1\uff0c\u5176\u4f59\u5747\u4e3a 0</p> <p>\u6bcf\u4e2a\u7aef\u53e3\u4ec5\u5728 1 \u79cd\u8f93\u5165\u6a21\u5f0f\u4e0b\u8f93\u51fa 1</p> </li> <li> <p>\u5bf9\u4e8e k \u4e2a\u8f93\u5165\uff0c\u6709 2<sup>k</sup> \u79cd\u53ef\u80fd\u7684\u8f93\u5165\u6a21\u5f0f\uff08input pattern\uff09\uff0c\u5bf9\u5e94 2<sup>k</sup> \u4e2a\u8f93\u51fa\u7aef\u53e3</p> </li> <li> <p>\u4e3b\u8981\u7528\u4e8e\u89e3\u91ca\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c\u6bd4\u5982\u6307\u4ee4\u4e2d\u7684\u64cd\u4f5c\u7801\uff08opcode\uff09</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#32-mux","title":"3.2 \u591a\u8def\u590d\u7528\u5668 MUX","text":"<ul> <li>\u4ece\u591a\u4e2a\u8f93\u5165\u4e2d\u9009\u62e9\u4e00\u8def\u8fdb\u884c\u8f93\u51fa\uff0c\u901a\u5e38\u7531 2<sup>k</sup> \u6761\u8f93\u5165 + k \u4e2a\u9009\u62e9\u4fe1\u53f7 + 1 \u4e2a\u8f93\u51fa\u7ec4\u6210</li> <li> <p>\u7531\u9009\u62e9\u4fe1\u53f7 S \u51b3\u5b9a\u5177\u4f53\u9009\u62e9\u54ea\u4e00\u4e2a\u8f93\u5165\uff1a</p> <p>\u6bcf\u4e00\u8def\u90fd\u662f\u4e2a\u6216\u95e8\uff0c\u8be5\u8def\u4e0a\u7684\u9009\u62e9\u4fe1\u53f7\u5168 1 \u65f6\uff0c\u8be5\u8def\u8f93\u5165 == \u6700\u7ec8\u8f93\u51fa</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#33-full-adder","title":"3.3 \u5168\u52a0\u5668 Full Adder","text":"<ul> <li>\u7528\u4e8e\u8ba1\u7b97\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4e32 <code>A[], B[]</code> \u9010\u4f4d\u76f8\u52a0\u7684\u7ed3\u679c</li> <li>\u8ba1\u7b97\u7531\u4f4e\u4f4d\u81f3\u9ad8\u4f4d\u8fdb\u884c\uff0c\u9664\u6700\u4f4e\u4f4d\u5916\uff0c\u6bcf\u4e00\u4f4d\uff1a<ul> <li>\u6709\u4e09\u4e2a\u8f93\u5165\uff1a<code>A[i], B[i]</code> \u4ee5\u53ca\u4f4e\u4f4d\u4ea7\u751f\u7684\u8fdb\u4f4d <code>carry[i-1]</code></li> <li>\u6709\u4e24\u4e2a\u8f93\u51fa\uff1a<ul> <li>\u672c\u4f4d\u4ea7\u751f\u7684\u8fdb\u4f4d\uff1a<code>carry[i]</code>\uff0c\u5b58\u5728\u5927\u4e8e\u7b49\u4e8e\u4e24\u4e2a 1 \u8f93\u5165\u65f6\u51fa 1</li> <li>\u672c\u4f4d\u6700\u540e\u7684\u7ed3\u679c\uff1a<code>s[i]</code>\uff0c\u5947\u6570\u4e2a 1 \u51fa 1\uff0c\u5076\u6570\u4e2a\u51fa 0</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#34-pla","title":"3.4 \u53ef\u7f16\u7a0b\u903b\u8f91\u9635\u5217 PLA","text":"<p>\u5168\u79f0\u4e3a Programmable Logic Array\uff0c\u4e5f\u53eb \u201c\u53ef\u6784\u5efa\u6a21\u5757\u201d Building Block</p> <p>\u5bf9\u4e8e \u8bc6\u522b X*\u8f93\u5165\uff0c\u5e76\u4ea7\u751f Y*\u8f93\u51fa \u7684 \u903b\u8f91\u51fd\u6570\uff1a</p> <ul> <li>\u9700\u8981 2<sup>x</sup> \u4e2a AND\uff08\u642d\u914d <code>[0, X]</code> \u4e2a NOT\uff09\u8bc6\u522b <code>00...0 ~ 11...1</code> \u7684\u6240\u6709\u53ef\u80fd\u8f93\u5165</li> <li>\u9700\u8981 Y \u4e2a OR \u5b9e\u73b0\u6240\u6709\u53ef\u80fd\u7684\u8f93\u51fa</li> <li>\u901a\u8fc7\u5c06\u5bf9\u5e94 AND \u7684\u8f93\u51fa\u4f5c\u4e3a OR \u7684\u8f93\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0 \u4efb\u610f\u903b\u8f91\u51fd\u6570</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#35-logical-completeness","title":"3.5 \u903b\u8f91\u5b8c\u5907\u6027 Logical Completeness","text":"<p>\u6211\u4eec\u5df2\u7ecf\u8bc1\u660e\u4e86\u4ec5\u7528 AND\uff0cOR\uff0cNOT \u6784\u6210\u7684 PLA \u53ef\u4ee5\u5b9e\u73b0\u4efb\u610f\u903b\u8f91\u51fd\u6570\uff0c\u8fd9\u8868\u660e <code>[AND, OR, NOT]</code> \u8fd9\u4e00\u96c6\u5408\u662f \u201c\u903b\u8f91\u5b8c\u5907\u7684\u201d\uff1a</p> <p>\u5373\uff0c\u901a\u8fc7\u5bf9\u4e0d\u540c\u6570\u91cf\u7684 AND\uff0cOR\uff0cNOT \u8fdb\u884c\u7ec4\u5408\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0 \u4efb\u4f55\u771f\u503c\u8868</p>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#4","title":"4 \u5b58\u50a8\u5355\u5143","text":"<p>\u4e0b\u5217\u903b\u8f91\u7535\u8def \u53ef\u4ee5\u5b58\u50a8\u4fe1\u606f</p>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#41-r-s-r-s-latch","title":"4.1 R-S \u9501\u5b58\u5668 R-S Latch","text":"<p>\u5c31\u662f \u201c\u4fdd\u6301\u5668\u201d \u634f\uff0c\u53ef\u4ee5\u5b58\u50a8 1 bit \u4fe1\u606f</p> A B \u72b6\u6001 a b 1 1 \u4fdd\u6301 \u7ef4\u6301\u524d\u6001 \u7ef4\u6301\u524d\u6001 1 0 clear 0 1 0 1 clear 1 0 0 0 \u9519\u8bef \u4e0d\u786e\u5b9a \u4e0d\u786e\u5b9a"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#42-d","title":"4.2 \u95e8\u9501 D \u9501\u5b58\u5668","text":"<p>\u7531 R-S \u9501\u5b58\u5668 + \u4e24\u4e2a NOR \u7ec4\u6210\uff0c\u652f\u6301\u7528\u8f93\u5165 WE \u63a7\u5236 \u9501\u5b58\u5668\u72b6\u6001\uff1a</p> <p>WE = Write Enable \u201c\u53ef\u5199\u201d</p> <ul> <li>WE = 0\uff0c\u5219 S == R = 1\uff0c\u9501\u5b58\u5668\u4e3a \u4fdd\u6301\u6001</li> <li>WE = 1\uff0c\u5219 S = not(R) = not(D)\uff0c\u8f93\u51fa\u4e0e D \u76f8\u540c</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#43-register","title":"4.3 \u5bc4\u5b58\u5668 Register","text":"<ul> <li> <p>\u5bc4\u5b58\u5668\u7531\u591a\u4e2a bit \u7ec4\u5408\u800c\u6210\uff0c\u5927\u5c0f\u4e3a <code>[1, n] bit</code></p> </li> <li> <p>\u7531\u4e8e\u5177\u5907\u5b58\u50a8\u529f\u80fd\uff0c\u5bc4\u5b58\u5668\u5b9e\u9645\u7531 n \u4e2a\u95e8\u9501\u9501\u5b58\u5668\u6784\u6210\uff0c\u5f53 WE = 1 \u65f6\u5141\u8bb8\u4fee\u6539</p> </li> <li> <p>\u5b57\u6bb5\uff08field\uff09\uff1a     \u6211\u4eec\u5c06\u957f n \u7684\u5bc4\u5b58\u5668\u8bb0\u4e3a <code>A[n-1 : 0]</code> \uff0c\u5e76\u4f7f\u7528 <code>A[m : n]</code> \u622a\u53d6\u7684\u90e8\u5206\u79f0\u4e3a \u201c\u5b57\u6bb5\u201d\uff08\u95ed\u533a\u95f4\uff09</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#5","title":"5 \u5185\u5b58","text":"\\[     \u5185\u5b58 = N(address) * k(bit) \\] <ul> <li> <p>\u62e5\u6709 16 MB \u5185\u5b58\u7684\u673a\u5668 = 16M \u4e2a address + \u6bcf\u4e2a\u5730\u5740\u5b58\u50a8 1B \u4fe1\u606f</p> </li> <li> <p>2<sup>2</sup> * 3 \u5185\u5b58 = 4 \u4e2a\u5730\u5740 + \u6bcf\u4e2a\u5730\u5740\u5b58 3 bit</p> <ul> <li> <p>\u9700\u8981 4 * output \u7684\u8bd1\u7801\u5668\uff08\u62e5\u6709 4 \u6839 \u201c\u5b57\u7ebf\u201d word line\uff09</p> </li> <li> <p>\u6bcf\u6839\u5b57\u7ebf\u5305\u542b 1 \u4e2a\u5b57\uff08\u5373 3 bit\uff09</p> </li> <li> <p>\u5bf9\u4e8e\u6bcf\u79cd\u8f93\u5165</p> <ul> <li> <p>\u8bfb\uff1aWE = 0\uff0c\u4ece\u5bf9\u5e94\u7684\u5b57\u7ebf\u4e2d\u53d6\u51fa\u8be5\u4f4d\u7f6e\u9501\u5b58\u5668\u5b58\u50a8\u7684\u4e00\u4e2a\u5b57\uff083 bit\uff09</p> </li> <li> <p>\u5199\uff1aWE = 1\uff0c\u4fee\u6539\u5bf9\u5e94\u5b57\u7ebf\u9501\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u6570\u636e</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#51-address-space","title":"5.1 \u5bfb\u5740\u7a7a\u95f4 Address Space","text":"<ul> <li>\u5185\u5b58\u4e2d\u53ef\u72ec\u7acb\u8bc6\u522b\u7684\u4f4d\u7f6e\u603b\u6570\uff1a16MB \u5185\u5b58 = \u6709 16M \u4e2a\u5185\u5b58\u4f4d\u7f6e</li> <li>\u5bf9\u4e8e\u7528 n bit \u8868\u793a\u7684\u5730\u5740\uff0c\u4e00\u822c\u6709 2<sup>n</sup> \u4e2a\u72ec\u7acb\u5730\u5740</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#52","title":"5.2 \u5bfb\u5740\u80fd\u529b","text":"<ul> <li> <p>\u6bcf\u4e2a\u4f4d\u7f6e\u4e2d\u5b58\u50a8\u4fe1\u606f\u7684 bit \u6570\u76ee\uff1a16 MB \u5185\u5b58 = \u6bcf\u4e2a\u4f4d\u7f6e\u5b58 1 B = 8 bit \u4fe1\u606f</p> </li> <li> <p>\u5927\u591a\u6570\u5185\u5b58\u90fd\u662f \u201c\u5b57\u8282\u5bfb\u5740\u201d Byte-Addressable</p> <p>\u8fd9\u5b9e\u9645\u662f\u4e2a\u5386\u53f2\u9057\u7559\u95ee\u9898\uff1a\u8f93\u5165\u8f93\u51fa\u4f1a\u8f6c\u6210 ASCII\uff088 bit\uff09\uff0c\u6070\u597d\u5360\u4e00\u4e2a\u72ec\u7acb\u4f4d\u7f6e\u6bd4\u8f83\u65b9\u4fbf\u8bfb\u5199</p> <p>\u7528\u4e8e\u79d1\u5b66\u8ba1\u7b97\u7684\u673a\u5668\u53ef\u80fd\u91c7\u7528 64 bit \u5bfb\u5740 -&gt; \u56e0\u4e3a\u4e00\u4e2a\u6d6e\u70b9\u6570\u5360 64 bit</p> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#6-sequential-logic-circuit","title":"6 \u65f6\u5e8f\u903b\u8f91\u7535\u8def Sequential Logic Circuit","text":"<ul> <li> <p>\u7535\u8def\u8f93\u51fa\u65e2\u4e0e\u5f53\u524d\u8f93\u5165\u6709\u5173\uff0c\u53c8\u4e0e\u5386\u53f2\u8f93\u5165\uff08\u5f53\u524d\u4fdd\u5b58\u7684\u72b6\u6001\uff09\u6709\u5173</p> </li> <li> <p>\u7531 \u7ec4\u5408\u903b\u8f91\u7535\u8def + \u5b58\u50a8\u5355\u5143\uff08\u4ec5\u8bb0\u5f55 \u4e0a\u4e00\u4e2a\u72b6\u6001\uff09\u6784\u6210</p> </li> <li> <p>\u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0\u6709\u9650\u72b6\u6001\u673a</p> </li> <li> <p>\u533a\u5206 \u201c\u65f6\u5e8f\u201d \u4e0e \u201c\u7ec4\u5408\u201d</p> <ul> <li> <p>\u65f6\u5e8f\uff1a\u4f9d\u6b21\u8f93\u5165 2 -&gt; 1 -&gt; 3 \u65b9\u53ef\u901a\u8fc7</p> </li> <li> <p>\u7ec4\u5408\uff1a\u4ee5\u4efb\u610f\u987a\u5e8f\u8f93\u5165 <code>{1, 2, 3}</code> \u5747\u53ef\u901a\u8fc7</p> </li> </ul> </li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#61-fsm","title":"6.1 \u6709\u9650\u72b6\u6001\u673a FSM","text":""},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#62","title":"6.2 \u65f6\u949f\u4fe1\u53f7","text":"<ul> <li>\u4e00\u4e2a\u9ad8\u4f4e\u7535\u5e73\u5468\u671f\u6027\u4ea4\u6362\u7684\u65b9\u6ce2</li> <li>\u65f6\u949f\u5468\u671f clock cycle = \u53d8\u6362\u5468\u671f</li> <li>\u6709\u9650\u72b6\u6001\u673a\u7684\u72b6\u6001\u8f6c\u79fb\u53d1\u751f\u5728\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u7684 \u8d77\u59cb\u4f4d\u7f6e\uff08\u6bcf\u9694 T \u68c0\u67e5\u4e00\u904d\u8f93\u5165\uff09</li> </ul>"},{"location":"Nulling/ICS/Chap%203%20%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/#63-master-slave-flip-flop","title":"6.3 \u4e3b\u4ece\u9501\u5b58\u5668 Master-Slave Flip-Flop","text":"<p>\u5728\u5f53\u524d\u65f6\u949f\u5468\u671f\u5185\uff1a</p> <ul> <li>\u5b58\u50a8\u5668\u8f93\u51fa\u662f\u7ec4\u5408\u903b\u8f91\u7535\u8def\u7684\u4e00\u4e2a\u8f93\u5165\uff08\u6709\u4e24\u4e2a\u8f93\u5165\uff09</li> <li>\u7ec4\u5408\u903b\u8f91\u7535\u8def\u7684\u8f93\u51fa\u662f\u5b58\u50a8\u5668\u7684\u8f93\u5165\uff08\u53ea\u6709\u4e00\u4e2a\u8f93\u5165\uff09</li> </ul> <ul> <li> <p>\u5982\u679c\u4f7f\u7528 D\u9501\u5b58\u5668\uff0c\u5219\u672c\u5468\u671f\u8f93\u51fa\u5c06 \u7acb\u5373 \u8986\u76d6\u5b58\u50a8\u5668\u3002</p> </li> <li> <p>\u4e3a\u4f7f\u672c\u5468\u671f\u8f93\u51fa\u5728 \u4e0b\u4e00\u5468\u671f\u5f00\u59cb\u65f6 \u8986\u76d6\u5b58\u50a8\u5668\uff0c\u6b64\u5904\u4f7f\u7528 \u201d\u4e3b\u4ece\u9501\u5b58\u5668\u201c \u5b9e\u73b0 \u5b58\u50a8\u5668\u529f\u80fd\uff1a</p> <p>\u5176\u5b9e\u5c31\u662f\u4e32\u4e86\u4e24\u4e2a D \u9501\u5b58\u5668 A + B\uff0cWE \u7531\u65f6\u949f\u4fe1\u53f7\u63a7\u5236</p> <ul> <li>\u524d\u534a\u4e2a\u5468\u671f<ul> <li>WE<sub>A</sub> = 0\uff0c A \u4fdd\u6301\u4e0a\u4e00\u5468\u671f\u8f93\u5165</li> <li>WE<sub>B</sub> = 1\uff0cB \u8f93\u51fa\u6765\u81ea A \u7684\u8f93\u5165\uff08\u4fdd\u6301\u4e0a\u4e00\u5468\u671f\uff09</li> </ul> </li> <li>\u540e\u534a\u4e2a\u5468\u671f<ul> <li>WE<sub>A</sub> = 1\uff0cA \u63a5\u53d7\u7ec4\u5408\u903b\u8f91\u7535\u8def\u8f93\u5165\uff08\u50a8\u5b58\u672c\u5468\u671f\u72b6\u6001\uff09</li> <li>WE<sub>B</sub> = 0\uff0cB \u4fdd\u6301\u524d\u534a\u5468\u671f\u7684\u8f93\u51fa\uff08\u4fdd\u6301\u4e0a\u4e00\u5468\u671f\uff09</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Python/1%20Basic/","title":"1 Basic","text":"<p>Python Crash Course (2nd Edition) A Hands-On, Project-Based Introduction to Programming</p> <pre><code>print('Hello Python!')\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#1","title":"1 \u53d8\u91cf\u4e0e\u6570\u636e\u7c7b\u578b","text":""},{"location":"Nulling/Python/1%20Basic/#11","title":"1.1 \u53d8\u91cf","text":"<p>\u5168\u5927\u5199 \u8868\u793a\u300c\u5e38\u91cf\u300d\uff0c\u5176\u503c\u59cb\u7ec8\u4e0d\u53d8</p> <ul> <li>\u547d\u540d\u89c4\u5219<ul> <li>\u53ea\u80fd\u4ee5 \u5b57\u6bcd / \u4e0b\u5212\u7ebf \u5f00\u5934</li> <li>\u53ea\u80fd \u5305\u542b \u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf</li> <li>\u4e0d\u80fd \u5305\u542b\u7a7a\u683c</li> </ul> </li> <li>\u540c\u65f6\u4e3a\u591a\u4e2a\u53d8\u91cf\u8d4b\u503c <code>a, b, c = 0, 0, 0</code></li> </ul>"},{"location":"Nulling/Python/1%20Basic/#12","title":"1.2 \u5b57\u7b26\u4e32","text":"<ol> <li>Basic<ul> <li>\u53ef\u4ee5\u4f7f\u7528 \u5355\u5f15\u53f7/\u53cc\u5f15\u53f7 \u5305\u88f9\uff0c\u652f\u6301\u4e92\u76f8\u5d4c\u5957</li> <li>\u7279\u6b8a\u5b57\u7b26<ul> <li><code>\\t</code> \u5236\u8868\u7b26\uff08\u7f29\u8fdb\uff09</li> <li><code>\\n</code> \u6362\u884c\u7b26</li> </ul> </li> </ul> </li> <li>\u65b9\u6cd5<ul> <li>\u5220\u9664\u7a7a\u767d<ul> <li>\u5220\u9664\u7ed3\u5c3e\u7a7a\u767d <code>str.rstrip()</code> \u8fd4\u56de\u4fee\u6539\u7ed3\u679c\uff08\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\uff09</li> <li>\u5220\u9664\u5f00\u5934\u7a7a\u767d <code>str.lstrip()</code></li> <li>\u5220\u9664\u4e24\u4fa7\u7a7a\u767d <code>str.strip()</code></li> </ul> </li> <li>\u4fee\u6539\u5927\u5c0f\u5199<ul> <li><code>str.title()</code> \u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5176\u4f59\u5b57\u7b26\u5c0f\u5199</li> <li><code>str.upper() / str.lower()</code> \u5168\u5927\u5199 / \u5168\u5c0f\u5199</li> </ul> </li> <li> <p>\u5728\u5b57\u7b26\u4e32\u4e2d\u4f7f\u7528\u53d8\u91cf</p> <p>=&gt; \u5728\u5f15\u53f7\u524d\u6807\u6ce8 <code>f</code> \u5e76\u4f7f\u7528 <code>{}</code> \u5305\u62ec\u53d8\u91cf/\u8868\u8fbe\u5f0f</p> <p>\u7c7b\u4f3c\u4e8e JS \u6a21\u7248\u5b57\u7b26\u4e32</p> <pre><code>firstName = 'ada'\nlastName = 'wang'\nfullName = f'{firstName} {lastName.title()}' # 'ada wang'\n</code></pre> <p><code>f</code> \u8bed\u6cd5\u662f\u5728 Python 3.6 \u5f15\u5165\u7684\uff0c\u4e4b\u524d\u7684\u7248\u672c\u9700\u8981\u4f7f\u7528 <code>format()</code>\uff08\u7c7b C \u5199\u6cd5\uff09</p> <pre><code>firstName = 'ada'\nlastName = 'wang'\nfullName = \"{} {}\".format(firstName, lastName.title())\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Nulling/Python/1%20Basic/#13","title":"1.3 \u6570","text":"<ol> <li>Type<ul> <li>\u6574\u6570\uff1a\u652f\u6301\u52a0\u51cf\u4e58\u9664\uff0c\u4e58\u65b9\uff08<code>a**b</code>\uff09\uff0c\u53d6\u6a21\uff08<code>a%b</code>\uff09</li> <li>\u6d6e\u70b9\u6570\uff1a\u7ed3\u679c\u53ef\u80fd\u662f\u4e0d\u7cbe\u786e\u7684</li> </ul> </li> <li> <p>Basic</p> <ul> <li>\u4efb\u610f\u4e24\u6570\u76f8\u9664\uff0c\u7ed3\u679c\u5747\u4e3a\u6d6e\u70b9\u6570\uff08\u5373\u4fbf\u662f\u53ef\u4ee5\u6574\u9664\u7684\u6574\u6570\uff09</li> <li>\u53ea\u8981\u64cd\u4f5c\u6570\u4e2d \u5b58\u5728 \u6d6e\u70b9\u6570\uff0c\u5219\u8fd4\u56de\u7ed3\u679c\u4e3a\u6d6e\u70b9\u6570</li> <li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>_</code> \u4f5c\u4e3a\u6570\u5b57\u5206\u9694\u7b26\uff08\u4e0d\u4e00\u5b9a\u662f\u5343\u4f4d\u5206\u9694\uff09 <p>\u4ec5 3.6 \u53ca\u4ee5\u4e0a\u7248\u672c\u652f\u6301</p> </li> </ul> </li> <li> <p>\u7c7b\u578b\u8f6c\u6362      \u53ef\u4ee5\u4f7f\u7528 <code>int(str)</code> \u5c06\u5b57\u7b26\u4e32\u8f6c\u6210\u6570\u5b57\uff08\u9ed8\u8ba4\u5341\u8fdb\u5236\uff0c\u51fa\u73b0\u975e\u6570\u5b57\u5b57\u7b26\u4f1a\u62a5\u9519\uff09</p> </li> </ol>"},{"location":"Nulling/Python/1%20Basic/#14","title":"1.4 \u5217\u8868","text":"<p>\u4f60\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u80fd\u540c\u65f6\u5305\u542b \u4efb\u610f\u7c7b\u578b\u5143\u7d20 \u7684 Array</p> <ol> <li> <p>Basic</p> <ul> <li> <p>\u8bbf\u95ee\u5217\u8868\u5143\u7d20</p> <p>\u4f7f\u7528\u4ece 0 \u5f00\u59cb\u7684\u4e0b\u6807</p> <ul> <li>\u53ef\u4ee5\u4f7f\u7528 <code>list[-1]</code> \u8bbf\u95ee\u6700\u540e\u4e00\u4e2a\u5143\u7d20 =&gt; \u5728\u5217\u8868\u4e3a\u7a7a\u65f6\u62a5\u9519</li> </ul> </li> <li> <p>\u67e5\u770b\u5217\u8868\u957f\u5ea6</p> <p><code>len(list)</code> \u8fd4\u56de\u5217\u8868\u5b9e\u9645\u957f\u5ea6</p> </li> <li> <p>\u6570\u503c\u5217\u8868</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>range(a,b)</code> \u751f\u6210\u4ece a \u5230 b-1 \u7684\u6570\u5217\uff08\u7c7b\u578b\u4e0d\u662f List\uff09</p> <p>```python l1 = list(range(1,11)) # 1-10 \u7684\u6709\u5e8f\u6570\u5b57\u5217\u8868</p> </li> </ul> </li> </ol> <p> \u7ea6 2329 \u4e2a\u5b57  402 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <pre><code>    l2 = list(range(2,101,2)) # 2-100 \u7684\u5076\u6570\n\n    # \u7ed3\u5408 for \u5faa\u73af\n    square = [] # \u521d\u59cb\u5316\u4e00\u4e2a list\n    for i in range(1,11):\n        square.append(i**2) # \u7531 1^2 - 10^2 \u6784\u6210\u7684\u5217\u8868\n    ```\n\n    - \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 `min/max/sum(numList)` \u5bf9\u6570\u503c\u5217\u8868\u8fdb\u884c\u7b80\u5355\u7684\u7edf\u8ba1\u8ba1\u7b97\n    - \u5217\u8868\u89e3\u6790\uff08\u6d53\u7f29\uff09\n        ```python\n        square = [i**2 for i in range(1,11)]\n        # \u6709\u70b9\u50cf\u6d41\u5f0f\u8ba1\u7b97? \u53f3\u4fa7\u63d0\u4f9b item\uff0c\u5de6\u4fa7\u4ea7\u751f return Val\n        ```\n\n- \u5143\u7ec4\n\n     &gt; \u4e0d\u53ef\u53d8\u7684\u5217\u8868\uff0c\u5c1d\u8bd5\u4fee\u6539\u5c06\u62a5\u9519\uff08\u4f46\u662f\u53ef\u4ee5\u7ed9\u53d8\u91cf\u8d4b\u5176\u4ed6\u503c\uff09\n\n    ```python\n    # \u5b9a\u4e49\u5143\u7ec4\uff08\u4f7f\u7528\u5706\u62ec\u53f7\uff09\n    dimensions = (200, 50)\n    # \u5373\u4fbf\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u4e5f\u8981\u5728\u672b\u5c3e\u52a0\u9017\u53f7 =&gt; \u5143\u7ec4\u5b9e\u9645\u77f3\u6cb9\u9017\u53f7\u6807\u8bc6\u7684\n    dim = (200,)\n\n    # \u540c\u6837\u53ef\u4ee5\u901a\u8fc7 for \u5faa\u73af\u904d\u5386\n    for d in dimensions:\n        print(d)\n    ```\n</code></pre> <ol> <li> <p>Methods</p> <ul> <li>\u64cd\u4f5c\u5143\u7d20<ul> <li>\u4fee\u6539\u5217\u8868\u5143\u7d20\uff1a<code>list[idx] = newVal</code></li> <li>\u6dfb\u52a0\u5143\u7d20<ul> <li>\u5728\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20 <code>list.append(newVal)</code></li> <li>\u5728\u4e2d\u95f4\u63d2\u5165\u5143\u7d20 <code>list.insert(idx, val)</code>\uff0c\u5176\u4f59\u5143\u7d20\u4f9d\u6b21\u540e\u79fb</li> </ul> </li> <li>\u5220\u9664\u5143\u7d20<ul> <li>\u4f7f\u7528 <code>del list[idx]</code> \u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u4e0a\u7684\u5143\u7d20\uff0c\u5176\u4f59\u5143\u7d20\u4f9d\u6b21\u524d\u79fb</li> <li>\u4f7f\u7528 <code>list.pop()</code> \u5220\u9664\u672b\u5c3e\u7684\u5143\u7d20</li> </ul> </li> </ul> </li> <li> <p>\u5217\u8868\u6392\u5e8f</p> <ul> <li> <p>\u6c38\u4e45\u6392\u5e8f</p> <p><code>list.sort(reverse=true/false), reverseDefault = false</code> \u5c06\u4fee\u6539\u5143\u7d20\u7684\u5b9e\u9645\u987a\u5e8f</p> </li> <li> <p>\u4e34\u65f6\u6392\u5e8f</p> <p><code>sorted(list)</code> \u8fd4\u56de\u6307\u5b9a\u5217\u8868\u7684\u6392\u5e8f\u7ed3\u679c\uff08\u4e0d\u4fee\u6539\u5217\u8868\u4e2d\u7684\u4e16\u7eaa\u5143\u7d20\u987a\u5e8f\uff09</p> </li> </ul> </li> <li> <p>\u53cd\u8f6c\u5217\u8868</p> <p>\u76f4\u63a5\u8c03\u7528 <code>list.reverse()</code> \u5373\u53ef\u53cd\u8f6c\u5217\u8868\u4e2d\u5143\u7d20\u7684\u5b9e\u9645\u4f4d\u7f6e</p> </li> <li> <p>\u904d\u5386\u5217\u8868     <pre><code>for item in list:\n    # do sth for each item\n</code></pre></p> </li> <li> <p>\u5207\u7247</p> <p>\u5207\u7247\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a For \u5faa\u73af\u7684\u904d\u5386\u5bf9\u8c61</p> <pre><code>list[a:b] # \u8fd4\u56de\u4e00\u4e2a\u524d\u95ed\u5408\u540e\u5f00\u7684\u5b50\u5e8f\u5217\uff0c\u652f\u6301\u7f3a\u7701\uff0c\u652f\u6301 step\nlist[:4]  # \u8fd4\u56de 0-3\nlist[2:]  # \u8fd4\u56de 3-last\nlist[-3:] # \u8fd4\u56de\u6700\u540e\u4e09\u4e2a\u5143\u7d20\n</code></pre> </li> <li> <p>\u590d\u5236\u5217\u8868</p> <pre><code># \u6b63\u786e\u7684\u65b9\u5f0f\nl1 = [1,2,3]\nl2 = l1[:]\n\n# \u9519\u8bef\u7684\u65b9\u5f0f\nl2 = l1 # \u53ea\u662f\u590d\u5236\u4e86\u5730\u5740\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Nulling/Python/1%20Basic/#step","title":"\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\u6307\u5b9a step","text":""},{"location":"Nulling/Python/1%20Basic/#15","title":"1.5 \u5b57\u5178","text":"<p>\u53ef\u4ee5\u8ba4\u4e3a\u662f\u7c7b JSON \u7684\u7ed3\u6784\uff1f</p> <ol> <li> <p>Basic</p> <ul> <li>\u5b57\u5178\u7531\u4e00\u7cfb\u5217\u7684\u952e\u503c\u5bf9\u6784\u6210\uff0c\u503c\u7684\u7c7b\u578b\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u5217\u8868\u4e43\u81f3\u53e6\u4e00\u4e2a\u5b57\u5178     <pre><code># \u4e00\u4e2a\u5957\u5a03\u5c55\u793a\ndict = {\n    'name': 'Tom',\n    'age': 40,\n    'major': ['Software', 'CS'],\n    'studentInfo': {\n        'sName': 'stu',\n        'sAge': 17\n    }\n}\n</code></pre></li> <li>\u5b9a\u4e49\u5b57\u5178     <pre><code>dict = { # \u5b57\u6bb5\u540d\u5fc5\u987b\u7528\u5f15\u53f7\u5305\u88f9\uff0c\u574f\u8036\uff01\n    'name': 'shen',\n    'age': 18\n}\n</code></pre></li> <li>\u8bbf\u95ee\u5b57\u5178\u4e2d\u7684\u503c <ol> <li><code>dict['keyName']</code>\uff0c\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u4f1a\u62a5\u9519</li> <li><code>dict.get('keyName', returnValIfNotExist)</code> \u7b2c\u4e8c\u4e2a\u503c\u53ef\u9009\uff08\u4e0d\u5b58\u5728\u4e0d\u4f1a\u62a5\u9519\uff09</li> </ol> </li> </ul> </li> <li> <p>Methods</p> <ul> <li> <p>\u6dfb\u52a0\u952e\u503c\u5bf9\uff08\u540c\u540d\u65f6\u5c31\u53d8\u6210\u8986\u5199\u54e9\uff09</p> <p><code>dict['neoKeyName'] = neoVal</code></p> </li> <li> <p>\u5220\u9664\u952e\u503c\u5bf9\uff08\u5220\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u4f1a\u62a5\u9519\uff09</p> <p><code>del dict['keyName']</code></p> </li> <li> <p>\u904d\u5386</p> <ul> <li>\u904d\u5386\u952e\u503c\u5bf9\uff08\u8fd9\u6b21\u9700\u8981\u4e24\u4e2a\u53c2\u6570\u5566\uff09     <pre><code>for key,value in dict:\n    print(key, value)\n</code></pre></li> <li>\u904d\u5386 Key\uff08\u4f7f\u7528 <code>keys()</code> \u65b9\u6cd5\uff09     <pre><code>fot key in dict.keys():\n# keys() \u8fd4\u56de\u4e86\u4e00\u4e2a\u5305\u542b\u6240\u6709 keyName \u7684 List\n# \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 sorted(dict.keys()) \u6309\u5b57\u5178\u5347\u5e8f\u8bbf\u95ee\u6240\u6709 key\n    print(key)\n# \u4e8b\u5b9e\u4e0a for key in dict \u4e5f\u884c\n</code></pre></li> <li>\u904d\u5386 Value     <pre><code>for val in dict.values():\n    print(val)\n# dict.values() \u7684\u8fd4\u56de\u503c\u4e2d\u5141\u8bb8\u5b58\u5728\u91cd\u590d\u9879\n# \u53ef\u4ee5\u901a\u8fc7 set(dict.value()) \u5b9e\u73b0\u53bb\u91cd\n</code></pre></li> </ul> </li> </ul> </li> </ol> \u6ce8\u610f\u533a\u5206\u300c\u5b57\u5178\u300d\u4e0e\u300c\u96c6\u5408\u300d <p>\u300c\u5b57\u5178\u300d\u4e0e\u300c\u96c6\u5408\u300d\u90fd\u662f\u901a\u8fc7\u4e00\u5bf9\u82b1\u62ec\u53f7\u5b9a\u4e49\u7684\uff0c\u5177\u4f53\u7c7b\u578b\u770b\u91cc\u9762\u7684\u5185\u5bb9\uff1a <pre><code># \u8fd9\u662f\u5b57\u5178\uff08\u6709\u952e\u503c\u5bf9\u634f\uff09\ndict = {\n    'name': 'N',\n    'age': 20\n}\n# \u8fd9\u662f\u96c6\u5408\uff08\u53ea\u6709\u5185\u5bb9\uff09\nset = {'name', 'age'}\n</code></pre></p>"},{"location":"Nulling/Python/1%20Basic/#2","title":"2 \u51fd\u6570","text":""},{"location":"Nulling/Python/1%20Basic/#21","title":"2.1 \u5b9a\u4e49\u51fd\u6570","text":"<p>\u4f7f\u7528 <code>def</code> \u5173\u952e\u5b57</p> <pre><code>def funcName(paramList):\n    #function body\n    return sth # \u4e5f\u53ef\u4ee5\u5565\u90fd\u4e0d return\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#22","title":"2.2 \u53c2\u6570\u4f20\u9012","text":""},{"location":"Nulling/Python/1%20Basic/#221","title":"2.2.1 \u4f4d\u7f6e\u4f20\u53c2","text":"<p>\u5b9e\u53c2\u987a\u5e8f\u4e0e\u5f62\u53c2\u4e00\u81f4</p> <ul> <li>\u5b9e\u53c2 \u987a\u5e8f \u6709\u610f\u4e49</li> <li>\u53c2\u6570\u4e2a\u6570\u5bf9\u4e0d\u4e0a\uff08\u591a\u4e86/\u5c11\u4e86\uff09\u90fd\u4f1a\u62a5\u9519</li> </ul> <pre><code># \u5b9a\u4e49\ndef printPet(petType, name):\n    print(f\"{name.title()} it's a {petType.lower()}.\")\n\n# \u8c03\u7528 - \u6309\u987a\u5e8f\u585e\u8fdb\u53bb\u5c31\u884c\nprintPet('Godzilla', 'harry')\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#222","title":"2.2.2 \u5173\u952e\u5b57\u4f20\u53c2","text":"<p>\u6bcf\u4e2a\u5b9e\u53c2 = \u952e\u503c\u5bf9</p> <ul> <li>\u987a\u5e8f \u4e0d\u91cd\u8981</li> <li>\u4e2a\u6570 \u5f88\u91cd\u8981</li> </ul> <pre><code># \u8fd8\u662f\u4e0a\u9762\u7684\u4f8b\u5b50\nprintPet(name='harry', petType='Godzilla')\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#223","title":"2.2.3 \u9ed8\u8ba4\u503c","text":"<p>\u5728 \u5b9a\u4e49\u51fd\u6570 \u65f6\u4e3a\u5236\u5b9a\u53c2\u6570\u6307\u5b9a\u9ed8\u8ba4\u503c\uff08\u4e0d\u4f20\u8be5\u53c2\u6570\u4e0d\u4f1a\u62a5\u9519\uff09</p> <ul> <li>\u65e0\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\u4e00\u5b9a\u5728\u6709\u9ed8\u8ba4\u503c\u7684 \u4e4b\u524d</li> <li>\u53ef\u4ee5\u8ba9\u4e00\u90e8\u5206\u53c2\u6570\u53d8\u5f97 \u53ef\u9009\uff08\u6bd4\u5982\u628a\u9ed8\u8ba4\u503c\u8bbe\u4e3a\u7a7a\u4e32\uff09</li> </ul> <pre><code>def printPet(name, petType='dog'):\n    print(f\"{name.title()} it's a {petType.lower()}.\")\n\n# \u4e0d\u4f20 petType \u662f\u5408\u6cd5\u7684\nprintPet(name='Willie')\n# \u4e0d\u663e\u793a\u6307\u5b9a name \u4e5f\u662f\u5408\u6cd5\u7684\nprintPet('Willie')\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#224","title":"2.2.4 \u5217\u8868\u4f20\u53c2","text":"<p>\u4e00\u822c\u5185\u90e8\u7528 for \u5faa\u73af\u5904\u7406\u540c\u8d28\u5316\u4fe1\u606f</p> <ul> <li>\u5728\u51fd\u6570\u4e2d\u5bf9\u5b9e\u53c2\u8fdb\u884c\u7684\u4e00\u5207\u4fee\u6539\u90fd\u662f \u6301\u4e45\u6027\u7684 \uff01</li> <li>\u53ef\u4ee5\u5728\u4f20\u9012\u5b9e\u53c2\u65f6\uff0c\u4f7f\u7528\u5207\u7247\u4f20\u5165 \u526f\u672c</li> </ul> <pre><code>names = ['n1', 'n2', 'n3']\n\n# \u4f20\u5740\uff08\u4fee\u6539\u4f1a\u5e94\u7528\u5230\u672c\u4f53\uff09\ndef printNames(names):\n    for n in names:\n        print(n)\n    names[-1] = 'last' # \u5b9e\u53c2\u7684\u6700\u540e\u4e00\u4e2a\u4e5f\u4f1a\u88ab\u4fee\u6539\u4e3a last\n\nprintNames(names)    # \u4f20\u672c\u4f53\nprintNames(names[:]) # \u4f20\u526f\u672c =&gt; \u89c4\u6a21\u5927\u7684\u65f6\u5019\u6548\u7387\u6bd4\u8f83\u4f4e\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#225","title":"2.2.5 \u4f20\u9012\u4efb\u610f\u6570\u91cf\u7684\u5b9e\u53c2","text":"<ul> <li> <p><code>*toppings</code> \u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a <code>topping</code> \u7684\u5143\u7ec4</p> <ul> <li>Python \u4f1a\u89c1\u4f20\u5165\u7684\u6240\u6709\u5b9e\u53c2\u90fd\u5c01\u88c5\u5230\u8fd9\u4e2a\u5143\u7ec4\u4e2d</li> <li>\u53ef\u4ee5\u901a\u8fc7 \u4e0b\u6807 / \u5faa\u73af \u5bf9\u5143\u7ec4\u6210\u5458\u8fdb\u884c\u8bbf\u95ee\u548c\u904d\u5386</li> </ul> <pre><code># \u9700\u8981\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b9a\u4e49\u53c2\u6570\u5217\u8868\ndef makePizza(*toppings):\n    print(toppings)\n    for t in toppings:\n        print(t)\n\nmakePizza('tomato')           # ('tomato',)\nmakePizza('tomato', 'potato') # ('tomato', 'potato')\n\n# \u7ed3\u5408 \u4f4d\u7f6e\u4f20\u53c2 + \u4efb\u610f\u6570\u91cf\u4f20\u53c2\uff08 size \u5fc5\u586b\uff0ctopping \u9009\u586b\uff09\ndef orderPizza(size, *toppings):\n    print(size)\n    print(toppings)\n</code></pre> </li> <li> <p>\u82e5\u9700\u4f20\u9012\u4efb\u610f\u6570\u91cf\u7684 \u5173\u952e\u5b57\u5b9e\u53c2\uff0c\u5219\u9700\u8981\u7528\u4fe9 <code>*</code></p> <ul> <li><code>**userInfo</code> \u65b0\u5efa\u4e86\u4e00\u4e2a \u5b57\u5178\uff0c\u5b58\u50a8\u4e86\u6240\u6709\u6536\u5230\u7684\u952e\u503c\u5bf9</li> </ul> <pre><code>def buildProfile(first, last, **userInfo):\n    userInfo['first'] = first\n    userInfo['last'] = last\n    return userInfo\n\n# \u4e0b\u8fb9\u662f\u4e00\u4e2a\u8c03\u7528\u5b9e\u4f8b\ninfo = buildProfile('see', 'bee', age=28, field='physics')\n</code></pre> </li> </ul>"},{"location":"Nulling/Python/1%20Basic/#23","title":"2.3 \u8fd4\u56de\u503c","text":"<ul> <li>Python \u652f\u6301\u8fd4\u56de \u4efb\u610f\u7c7b\u578b \u7684\u6570\u636e\uff08\u5305\u62ec\u5b57\u5178\u548c\u5217\u8868\uff09</li> </ul> <pre><code># \u4e00\u4e2a\u652f\u6301\u53ef\u9009\u5f62\u53c2\u7684\u4f8b\u5b50\uff08\u7528 None \u4f5c\u4e3a\u5360\u4f4d\u7b26\uff09\ndef buildPerson(first_name, last_name, age=None):\n    person = {'fullName': f'{first_name} {last_name}'}\n    # \u52a8\u6001\u8ffd\u52a0 age \u5b57\u6bb5\n    if age:\n        person['age'] = age\n    return person\n\n# \u4e0b\u9762\u4e24\u79cd\u8f93\u5165\u90fd\u662f\u5408\u6cd5\u7684\uff08p2 \u6ca1\u6709 age \u5b57\u6bb5\uff09\np1 = buildPerson('Sea', 'Bee')\np2 = buildPerson('Sea', 'Bee', 28)\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#24","title":"2.4 \u6a21\u5757","text":"<p>\u901a\u8fc7\u5212\u5206\u6a21\u5757\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4ee3\u7801\u5206\u5e03\u5230\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u901a\u8fc7\u5bfc\u5165\u6309\u9700\u4f7f\u7528</p>"},{"location":"Nulling/Python/1%20Basic/#241","title":"2.4.1 \u521b\u5efa\u6a21\u5757","text":"<ul> <li>\u6240\u8c13\u6a21\u5757\u5c31\u662f\u4e00\u4e2a\u5355\u72ec\u7684 <code>.py</code> \u6587\u4ef6</li> </ul> <pre><code># @ pizza.py\ndef makePizza():\n    print('making')\ndef cookPizza():\n    print('cooked!')\n# \u73b0\u5728 pizza \u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\u4e86\uff01\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#242","title":"2.4.2 \u5bfc\u5165\u6a21\u5757","text":"<ul> <li>\u6a21\u5757\u95f4\u51fd\u6570\u91cd\u540d\u4f1a\u5bfc\u81f4 \u76f8\u4e92\u8986\u76d6</li> </ul> <pre><code># \u5bfc\u5165\u6574\u4e2a\u6a21\u5757\nimport pizza\npizza.makePizza() # \u9700\u8981\u5e26\u7740\u6a21\u5757\u540d\u4f7f\u7528\npizza.cookPizza()\n\n# \u5bfc\u5165\u6307\u5b9a\u51fd\u6570 from moduleName import funcName1, funcName2, ...\nfrom pizza import makePizza\nmakePizza() # \u76f4\u63a5\u4f7f\u7528\n# cookPizza \u6ca1\u6709\u5bfc\u5165\uff0c\u4e0d\u80fd\u4f7f\u7528\n\n# \u5bfc\u5165\u6240\u6709\u51fd\u6570\nfrom pizza import * # \u4e0d\u5efa\u8bae\u4f7f\u7528\n\n# \u4f7f\u7528 as \u6307\u5b9a\u522b\u540d\n# 1. \u7ed9\u51fd\u6570\u6307\u5b9a\u522b\u540d\nfrom pizza import makePizza as mkPiz\nmkPiz() # \u4f7f\u7528\u522b\u540d\u8c03\u7528\n# 2. \u7ed9\u6a21\u5757\u6307\u5b9a\u522b\u540d\nimport pizza as p\np.makePizza()\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#3","title":"3 \u7c7b","text":""},{"location":"Nulling/Python/1%20Basic/#31","title":"3.1 \u521b\u5efa\u5e76\u4f7f\u7528\u7c7b","text":""},{"location":"Nulling/Python/1%20Basic/#311","title":"3.1.1 \u521b\u5efa\u7c7b","text":"<ul> <li>\u6784\u9020\u65b9\u6cd5 <code>__init__()</code> \u7684\u9996\u4e2a\u5f62\u53c2\u5fc5\u987b\u662f <code>self</code>\uff0c\u529f\u80fd\u7c7b\u4f3c\u4e8e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684 <code>this</code><ul> <li>\u521b\u5efa\u5b9e\u4f8b\u65f6\uff0cPython \u5c06\u81ea\u52a8\u5c06\u65b0\u5b9e\u4f8b\u7684\u5f15\u7528\u4f20\u9012\u7ed9 <code>self</code></li> <li>\u4ee5 <code>self</code> \u5f00\u5934\u7684\u6210\u5458\u53d8\u91cf\u53ef\u4ee5\u4f9b \u672c\u7c7b\u4e2d\u6240\u6709\u65b9\u6cd5 \u8bbf\u95ee</li> </ul> </li> </ul> <pre><code>class Dog:\n    # \u6784\u9020\u65b9\u6cd5\uff0c\u4f1a\u5728\u521b\u5efa\u5b9e\u4f8b\u81ea\u52a8\u8c03\u7528\uff08\u53ef\u4ee5\u6307\u5b9a\u9ed8\u8ba4\u503c\u634f\uff08\n    def __init__(self, name, age=0):\n        self.name = name\n        self.age = age\n\n    # \u4e00\u4e9b\u7b80\u5355\u65b9\u6cd5\u793a\u4f8b\n    def sit():\n        print(f'{self.name.title()} is now sitting.')\n\n    def roll_over():\n        print(f'{self.name.title()} rolled over!')\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#312","title":"3.1.2 \u521b\u5efa\u5b9e\u4f8b","text":"<pre><code># \u76f4\u63a5\u7528 className(params) \u5c31\u884c\u4e86\nmyDog = Dog('Willie', 6)\n\n# \u8bbf\u95ee\u5c5e\u6027 \u5b9e\u4f8b.\u53d8\u91cf\u540d \u5373\u53ef\nprint(f\"My dog is called {myDog.name.title()}\")\n# \u8c03\u7528\u65b9\u6cd5 \u5b9e\u4f8b.\u65b9\u6cd5\u540d \u5373\u53ef\nmyDog.sit()\nmyDog.roll_over()\n\n# \u4fee\u6539\u5c5e\u6027 \u5b9e\u4f8b.\u53d8\u91cf\u540d = \u65b0\u503c\nmyDog.age = 3\n# =&gt; \u4e5f\u53ef\u4ee5\u5355\u72ec\u5199\u4e00\u4e2a setter \u65b9\u6cd5\u5e76\u8c03\u7528\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#32","title":"3.2 \u7ee7\u627f","text":"<ul> <li>\u7236\u7c7b\u5e94\u8be5\u5904\u4e8e \u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\u3001\u5b50\u7c7b\u4e4b\u524d\u7684\u4f4d\u7f6e</li> <li>\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684 \u6240\u6709 \u65b9\u6cd5\u548c\u5c5e\u6027<ul> <li>\u5177\u6709 \u540c\u540d\u65b9\u6cd5 \u65f6\uff0c\u8ba4\u4e3a\u662f \u91cd\u5199 \uff08\u5b50\u7c7b\u8986\u76d6\u7236\u7c7b\uff09</li> </ul> </li> <li>\u6784\u9020\u51fd\u6570\u4e2d\u9700\u8981\u8c03\u7528 <code>super.__init__(params)</code></li> </ul> <pre><code>class Car:\n    def __init__(self, model, year):\n        self.model = model\n        self.year = year\n\n    def get_model()\n        return self.model\n\n# \u62ec\u53f7\u5185\u5199\uff08\u4e00\u4e2a\uff09\u7236\u7c7b\u7c7b\u540d\nclass EletricCar(Car):\n    def __init__(self, model, year):\n        # \u521d\u59cb\u5316\u7236\u7c7b\n        super.__init__(model, year)\n        # \u521d\u59cb\u5316\u672c\u7c7b\n        self.battery_size = 75\n\n    def desc_battery():\n        print(f'Battery size of this car is {self.battery_size} kW.')\n\neCar = ElectricCar('Honda', 2002)\nprint(eCar.get_model()) # \u8c03\u7528\u7236\u7c7b\u65b9\u6cd5\neCar.desc_battery()     # \u8c03\u7528\u5b50\u7c7b\u65b9\u6cd5\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#_1","title":"\u5c06\u5b9e\u4f8b\u4f5c\u4e3a\u5c5e\u6027","text":"<pre><code># \u6211\u4eec\u53ef\u4ee5\u5c06 battery \u4f5c\u4e3a\u72ec\u7acb\u7684\u7c7b\nclass Battery:\n    def __init__(self, brand, size):\n        self.brand = brand\n        self.size = size\n\n    def get_range():\n        print(f'This car can run {self.size*1.5} km.')\n\n# \u4fee\u6539 ElectricCar\uff0c\u8ba9 b \u4f5c\u4e3a\u5176\u5c5e\u6027\nclass EletricCar(Car):\n    def __init__(self, model, year, battery):\n        # \u521d\u59cb\u5316\u7236\u7c7b\n        super.__init__(model, year)\n        # \u521d\u59cb\u5316\u672c\u7c7b\n        self.battery = battery\n\n# \u5b9e\u4f8b\u5316\u7535\u6c60\nb = Battery('Nanfu', 25)\neCar = ElectricCar('Honda', 2002, b)\n# \u4f7f\u7528 battery \u7684\u65b9\u6cd5\neCar.battery.get_range()\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#33","title":"3.3 \u5bfc\u5165\u7c7b","text":"<pre><code># @ car.py\nclass Car:\n    def __init__(self):\n        self.type = 'car'\n    def prtin_type():\n        print(self.type)\n\nclass Battery:\n    def __init__(slef):\n        self.size = 75\n\n# \u5bfc\u5165\u5355\u4e2a\u7c7b @ main.py\nfrom car import Car\nc = Car()\nc.print_type()\n# \u5bfc\u5165\u591a\u4e2a\u7c7b\u7528\u9017\u53f7\u5206\u9694\n# \u5bfc\u5165\u6240\u6709\u7d2f\u7528 from module import *\n# \u4ee5\u4e0a\u4e09\u79cd\u5747\u53ef\u4ee5\u4e0d\u5e26\u6a21\u5757\u540d\u76f4\u63a5\u4f7f\u7528\n\n# \u5bfc\u5165\u6574\u4e2a\u6a21\u5757\nimport car\nmy_car = car.Car() # \u9700\u8981\u5e26\u7740\u6a21\u5757\u540d\u4f7f\u7528\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#4","title":"4 \u57fa\u672c\u7ed3\u6784","text":""},{"location":"Nulling/Python/1%20Basic/#41","title":"4.1 \u6761\u4ef6\u68c0\u67e5","text":"<ul> <li>\u4f7f\u7528 <code>==</code> <code>!=</code> \u8fdb\u884c \u76f8\u7b49/\u4e0d\u7b49 \u68c0\u67e5<ul> <li>\u76f8\u7b49\u68c0\u67e5 \u533a\u5206\u5927\u5c0f\u5199 =&gt; \u53ef\u4ee5\u5168\u8f6c\u5c0f\u5199\u6bd4\u8f83</li> <li>\u6b64\u5916\u652f\u6301 <code>&lt;=</code> <code>&gt;=</code> \u7b49\u64cd\u4f5c</li> </ul> </li> <li>\u4f7f\u7528 <code>and</code> <code>or</code> \u5173\u952e\u5b57\u8fde\u63a5\u591a\u4e2a\u5e76\u5217\u6761\u4ef6</li> <li>\u4f7f\u7528 <code>in</code> <code>not in</code> \u68c0\u67e5\u7279\u5b9a\u503c\u662f\u5426\u5305\u542b\u5728\u6307\u5b9a\u5217\u8868\u4e2d</li> </ul>"},{"location":"Nulling/Python/1%20Basic/#42-if","title":"4.2 IF","text":"<pre><code># \u57fa\u672c\u7684\u591a\u5206\u679d\u793a\u4f8b\nif condition1:\n    do sth\nelif condition2:\n    do sth\nelse:\n    do sth\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#43-while","title":"43 While","text":"<ul> <li>\u652f\u6301 <code>break</code> / <code>continue</code></li> </ul> <pre><code>flag = initVal\nwhile condition or flag:\n    if  (subCondition1) break\n    else(subCondition2) continue\n    do sth or change flag```\n\n## 5 \u6807\u51c6\u5e93\n\n### 5.1 \u83b7\u53d6\u7528\u6237\u8f93\u5165\n\n1. \u6587\u672c\u8f93\u5165\n    - `input()` \u5c06\u4f7f\u7a0b\u5e8f\u6682\u505c\u8fd0\u884c\uff0c\u5f53\u7528\u6237\u5b8c\u6210\u8f93\u5165\u5e76\u6309\u4e0b\u56de\u8f66\u540e\uff0c\u8fd4\u56de\u9664 `\\n` \u5916\u7684\u5185\u5bb9\n    - \u540c\u65f6\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8f93\u5165\u63d0\u793a\uff0c\u5982 `input('please input:')`\n\n    ```python\n    msg = input('Tell me something, and I will repeat it back to you: ')\n    print(msg)\n    ```\n\n### 5.2 \u968f\u673a\u6570\u751f\u6210\n\n```python\nfrom random import randint, choice\n\nrandint(a,b) # \u751f\u6210\u4e00\u4e2a [a,b] \u7684\u968f\u673a\u6574\u6570\n\nchoiceList = ['choiceA', 'choiceB', 'choiceC']\nchoice(choiceList) # \u968f\u673a\u8fd4\u56de List \u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#6","title":"6 \u6587\u4ef6\u4e0e\u5f02\u5e38","text":""},{"location":"Nulling/Python/1%20Basic/#61","title":"6.1 \u8bfb\u53d6\u6587\u4ef6","text":"<ul> <li> <p><code>open('path/to/target')</code> \u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u8fdb\u884c\u76ee\u6807\u6587\u4ef6\u7684\u6307\u5b9a\uff0c\u5e76\u8fd4\u56de\u6587\u4ef6\u5bf9\u8c61     &gt; Windows \u4e2d\u5e94\u5f53\u4f7f\u7528 <code>\\\\</code> \u5212\u5206\u8def\u5f84\uff08\u8f6c\u4e49\u634f\uff01\uff09</p> </li> <li> <p>\u5173\u952e\u8bcd <code>with</code> \u81ea\u52a8\u5728\u4e0d\u9700\u8981\u6587\u4ef6\u540e\u5c06\u5176\u5173\u95ed\uff08\u663e\u7136\u6b64\u5904\u6211\u4eec\u6ca1\u6709\u624b\u52a8\u8c03\u7528 <code>close()</code>\uff09     &gt; \u4e8b\u5b9e\u4e0a\u624b\u52a8\u8c03\u7528 <code>close()</code> \u66f4\u4e0d\u4fdd\u9669 =&gt; \u4e00\u4e9b\u5f02\u5e38\u53ef\u80fd\u5bfc\u81f4\u6587\u4ef6\u4e0d\u88ab\u5173\u95ed</p> </li> <li> <p><code>read()</code> \u7528\u4e8e\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u5e76\u8fd4\u56de\u5b57\u7b26\u4e32\uff08\u672b\u5c3e\u4f1a\u591a\u8fd4\u56de\u4e00\u4e2a <code>\\n</code>\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>rstrip()</code> \u5220\u9664\uff09</p> </li> </ul> <pre><code># \u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a\u7f16\u7801\u5f62\u5f0f\ntry:\n    with oepn('target.txt', encoding='utf-8') as file_object:\n        contents = file_object.read()\nexcept:\n    # \u53ea\u8bfb\u6a21\u5f0f\u7684 open() \u4e0d\u80fd\u6253\u5f00\u300c\u4e0d\u5b58\u5728\u300d\u7684\u6587\u4ef6\n    print(f'File {filename} does NOT exist')\n\nprint(content)\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#_2","title":"\u9010\u884c\u8bfb\u53d6","text":"<pre><code>filename = 'target.txt'\n\nwith open(filename) as file_object:\n    for line in file_object:\n        print(line)\n\n# \u76f4\u63a5\u8f93\u51fa\u4f1a\u5bfc\u81f4\u6bcf\u884c\u90fd\u591a\u4e00\u4e2a `\\n` =&gt; \u53ef\u4ee5\u4f7f\u7528 line.rstrip()\n\n# \u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7 readlines() \u521b\u5efa\u5305\u542b\u6587\u4ef6\u5404\u884c\u7684\u5217\u8868\nwith open(filename) as file_object:\n    lines = file_object.readlines()\n\nfor line in lines:\n    print(line.rstrip())\n</code></pre> <p>Python \u5bf9\u4e8e\u5904\u7406\u7684\u6570\u636e\u91cf\u6ca1\u6709\u4efb\u4f55\u9650\u5236\uff0c\u53ea\u8981\u7cfb\u7edf\u5185\u5b58\u8db3\u591f\u591a\uff0c\u4f60\u5c31\u53ef\u4ee5\u76f4\u63a5\u5904\u7406\u4e00\u4e2a\u8d85\u7ea7\u5927\u7684\u6587\u4ef6</p>"},{"location":"Nulling/Python/1%20Basic/#62","title":"6.2 \u5199\u5165\u6587\u4ef6","text":"<ul> <li> <p>\u9700\u8981\u4e3a <code>open()</code> \u6307\u5b9a\u7b2c\u4e8c\u4e2a\u5b9e\u53c2 <code>'w'</code> \u544a\u8bc9 Python \u4f60\u8981\u5bf9\u8fd9\u4e2a\u6587\u4ef6\u8fdb\u884c\u5199\u64cd\u4f5c     &gt; \u5b9e\u9645\u4e0a <code>open()</code> \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5171\u6709\u56db\u79cd\u53ef\u80fd\uff1a     &gt; 1. <code>r</code> \u53ea\u8bfb\uff08\u9ed8\u8ba4\uff09     &gt; 2. <code>w</code> \u5199\u5165     &gt; 3. <code>a</code> \u9644\u52a0     &gt; 4. <code>r+</code> \u8bfb\u5199</p> <ul> <li>\u82e5\u6307\u5b9a\u7684\u5199\u5165\u6587\u4ef6 \u4e0d\u5b58\u5728\uff0c<code>open()</code> \u51fd\u6570\u5c06 \u81ea\u52a8\u521b\u5efa</li> <li>\u82e5\u6307\u5b9a\u7684\u6587\u4ef6 \u5df2\u5b58\u5728\uff0c<code>w</code> \u6a21\u5f0f\u5c06\u6e05\u9664\u539f\u672c\u6587\u4ef6\uff0c\u5e76\u7528\u65b0\u7684\u5185\u5bb9\u8fdb\u884c \u8986\u76d6</li> </ul> </li> <li> <p><code>write(str)</code> \u53ea\u80fd\u63a5\u53d7 \u5b57\u7b26\u4e32 \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u5199\u6570\u503c\u5219\u5fc5\u987b\u7528 <code>str()</code> \u8f6c\u6210\u5b57\u7b26\u4e32</p> </li> </ul> <pre><code>filename = 'program.txt'\n\nwitho open(filename) as file_object:\n    file_object.write('I luv Python!')\n    # \u5199\u5165\u591a\u884c\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u8c03\u7528 write() \u5b9e\u73b0\uff0c\u8bb0\u5f97\u81ea\u5df1\u5728\u884c\u672b\u52a0 \\n \u6362\u884c\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#_3","title":"\u9644\u52a0\u6a21\u5f0f","text":"<ul> <li>\u4e0a\u9762\u63d0\u5230 <code>w</code> \u6a21\u5f0f\u5c06\u5bf9\u65e7\u6587\u4ef6\u8fdb\u884c \u8986\u76d6     =&gt; \u82e5\u5e0c\u671b\u4ec5 \u8ffd\u52a0\uff0c\u53ef\u4ee5\u7528 <code>a</code> \u6a21\u5f0f\u6253\u5f00\uff08\u5199\u5230\u672b\u5c3e\uff09<ul> <li>\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u540c\u6837\u4f1a\u88ab <code>open</code> \u81ea\u52a8\u521b\u5efa</li> </ul> </li> </ul>"},{"location":"Nulling/Python/1%20Basic/#63","title":"6.3 \u5f02\u5e38\u5904\u7406","text":"<pre><code>try:\n    print(5/0) # \u53ef\u80fd\u51fa\u73b0\u9519\u8bef\u7684\u4ee3\u7801\u5757\uff08ZeroDivisionError\uff09\nexcept ZeroDivisionError:\n    print('divide by zero!') # \u4ec5\u6307\u5b9a\u5bf9 ZeroDivision \u7684\u5904\u7406\u624b\u6bb5\nelse:\n    print('success') # \u672a\u629b\u51fa\u5f02\u5e38\u5219\u540c\u610f\u6267\u884c else \u4e2d\u7684\u4ee3\u7801\n\n# \u4f7f\u7528 pass \u53ef\u4ee5\u771f\u6b63\u7684\u300c\u5047\u88c5\u65e0\u4e8b\u53d1\u751f\u300d\nexcept someError:\n    pass # \u54c8\u54c8\uff0c\u4e0d\u7ba1\u5566\uff01\n</code></pre> <p>\u6267\u884c\u5b8c <code>except</code> \u4ee3\u7801\u5757\u7684\u5185\u5bb9\u540e\uff0cPython \u5c06 \u7ee7\u7eed\u6267\u884c \u540e\u7eed\u5185\u5bb9\uff08\u5047\u88c5\u65e0\u4e8b\u53d1\u751f\uff09</p>"},{"location":"Nulling/Python/1%20Basic/#64","title":"6.4 \u6570\u636e\u5b58\u50a8","text":"<p>JSON \u6211\u7684\u597d\u5927\u513f\uff01</p> <ul> <li>\u522b\u5fd8\u4e86 <code>import json</code> <ul> <li><code>json.dump()</code> \u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u5f85\u5b58\u50a8\u6570\u636e\u3001\u76ee\u6807\u6587\u4ef6\u5bf9\u8c61\uff0c\u7528\u4e8e\u6570\u636e\u5b58\u50a8</li> <li><code>json.load()</code>  \u63a5\u53d7\u53c2\u6570\u4f5c\u4e3a\u6253\u5f00\u5bf9\u8c61\uff0c\u7528\u4e8e\u8bfb\u53d6\u6570\u636e</li> </ul> </li> </ul> <pre><code># write\nimport json\n\ndata = [2, 3, 5, 7, 13]\nfile_name = `daat.json` # \u6269\u5c55\u540d\u7528\u4e8e\u8bf4\u660e\u6570\u636e\u683c\u5f0f\u4e3a JSON\n# \u5199\u5165\uff08\u6ce8\u610f\u6a21\u5f0f\uff09\nwith open(file_name, `w`) as f:\n    json.dump(data, f)\n\n# read \u6a21\u5f0f\u4e3a\u53ea\u8bfb\uff08\u4e0d\u7136\u8bfb\u7684\u662f\u7a7a\u767d\uff09\nwith open(file_name) as f:\n    data = json.load(f)\n\nprint(data)\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#sample","title":"SAMPLE \u83b7\u53d6\u5386\u53f2\u7528\u6237\u540d","text":"<pre><code>import json\n\ndef get stored_username():\n    file_name = 'username.json' # \u5982\u679c\u4ee5\u524d\u6ce8\u518c\u8fc7\u5c31\u4f1a\u5b58\u5728\n    try:\n        with open(filename) as f:\n            username = json.load(f)\n        except FileNotFoundError:\n            # \u6587\u4ef6\u4e0d\u5b58\u5728 =&gt; \u521d\u6b21\u767b\u9646\n            return None # \u8ba9 greet_user \u8fdb\u884c\u540e\u7eed\u5904\u7406\n        else:\n            return username\n\ndef greet_user(): # \u95ee\u5019\u7528\u6237\uff0c\u6307\u51fa\u5176\u7528\u6237\u540d\n    username = get_stored_username()\n    if username:\n        print(f'Welcome back, {username} !')\n    else:\n        username = input('Please imput your name: ')\n        file_name = 'username.json'\n        with open(filename, 'w') as f:\n            json.dump(username, f)\n            print(f\"We'll remember you when you come back, {username}!\")\n\n# \u8c03\u7528 greet_user \uff08\u6ca1\u6709 main \u597d\u4e0d\u4e60\u60ef\u554a\uff01\uff09\ngreet_user()\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#7","title":"7 \u6d4b\u8bd5","text":"<p>\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\uff0c\u4e0d\u4f1a\u8fd8\u6709\u4eba \u624b\u52a8\u6d4b\u8bd5\u5427 \uff01</p>"},{"location":"Nulling/Python/1%20Basic/#71","title":"7.1 \u6d4b\u8bd5\u51fd\u6570","text":"<ul> <li><code>unittest</code> \u6a21\u5757\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4ee3\u7801\u6d4b\u8bd5\u5de5\u5177<ul> <li>\u300c\u5355\u5143\u6d4b\u8bd5\u300d\u7528\u4e8e\u6838\u5b9e\u51fd\u6570\u7684 \u67d0\u4e2a\u65b9\u9762 \u6ca1\u6709\u95ee\u9898</li> <li>\u300c\u6d4b\u8bd5\u7528\u4f8b\u300d\u662f \u4e00\u7ec4\u5355\u5143\u6d4b\u8bd5</li> </ul> </li> <li>\u6211\u4eec\u9700\u8981\u521b\u5efa\u7ee7\u627f\u81ea <code>unittest.TestCase</code>\u7684\u7c7b\uff0c\u8fdb\u800c\u7f16\u5199\u4e00\u7cfb\u5217\u65b9\u6cd5\u5bf9\u51fd\u6570\u7684\u4e0d\u540c\u65b9\u9762\u8fdb\u884c\u6d4b\u8bd5<ul> <li>\u6240\u6709\u4ee5 <code>test_</code> \u5f00\u5934\u7684\u51fd\u6570\u8c46\u6d46\u676f\u81ea\u52a8\u6267\u884c</li> </ul> </li> </ul> <pre><code>import unittest\nfrom func import get_formatted_name # \u5f85\u6d4b\u8bd5\u51fd\u6570\n\n# \u6d4b\u8bd5\u7528\u4f8b\nclass NameTestCase(unittest.TestCase):\n    def test_first_last_name(self):\n        # \u672a\u8f93\u5165\u4e2d\u95f4\u540d\u7684\u6837\u4f8b\n        formatted_name = get_formatted_name('janis', 'joplin')\n        # \u4f7f\u7528\u65ad\u8a00\u5224\u65ad\u5bf9\u9519\n        self.assertEqual(formatted_name, 'Janis Joplin')\n    def test_first_last_middle_name(self):\n        formatted_name = get_formatted_name('wolfgang', 'mozart', 'amadeus')\n        self.assertEqual(formatted_name, 'Wolfgang Amadeus Mozart')\n\n# \u662f\u5426\u4f5c\u4e3a\u4e3b\u7a0b\u5e8f\u6267\u884c\nif __name__ == '__main__':\n    unitest.main()\n</code></pre>"},{"location":"Nulling/Python/1%20Basic/#72","title":"7.2 \u6d4b\u8bd5\u7c7b","text":""},{"location":"Nulling/Python/1%20Basic/#721","title":"7.2.1 \u5e38\u7528\u65ad\u8a00\u65b9\u6cd5","text":"\u65b9\u6cd5 \u7528\u9014 <code>assertEqual(a,b)</code> \u9a8c\u8bc1 a == b <code>assertNotEqual(a,b)</code> \u9a8c\u8bc1 a != b <code>assertTrue(x)</code> \u9a8c\u8bc1 x == True <code>assertFalse(x)</code> \u9a8c\u8bc1 x == False <code>assertIn(item, list)</code> \u9a8c\u8bc1 item \u5728 list \u4e2d <code>assertNotIn(item, list)</code> \u9a8c\u8bc1 item \u4e0d\u5728 list \u4e2d"},{"location":"Nulling/Python/1%20Basic/#722","title":"7.2.2 \u7f16\u5199\u6d4b\u8bd5","text":"<pre><code>import unittest\nfrom survey import AnonymousSurvey\n\nclass TestAnonymousSurvey(unittest.TestCase):\n    def test_store_single_response(self):\n        # \u6d4b\u8bd5\u5b58\u50a8\u5355\u4e2a\u7b54\u6848\n        question = 'What language is the best?'\n        my_survey = AnonymousSurvey(question)\n        my_survey.store_response('Python')\n        self.assertIn('Python', my_survey.responses)\n\n    def test_store_triple_responses(self):\n        question = 'What language is the best?'\n        my_survey = AnonymousSurvey(question)\n        responses = ['Python', 'Java', 'PHP']\n        for r in responses:\n            my_survey.store_response(r)\n\n        for r in responses:\n            self.assertIn(r, my_survey.responses)\n\nif __name__ == '__init__':\n    unittest.main()\n</code></pre> <p>\u4e3a\u6bcf\u4e00\u4e2a\u6d4b\u8bd5\u51fd\u6570\u5355\u72ec\u624b\u6253\u6d4b\u8bd5\u7528\u4f8b\u975e\u5e38\u7684\u96be\u53d7 =&gt; \u4f7f\u7528 <code>setUp()</code> \u5427\uff01</p> <ul> <li>\u5728 <code>setUp()</code> \u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u53ef\u4ee5\u88ab \u6240\u6709\u6d4b\u8bd5\u51fd\u6570 \u4f7f\u7528</li> </ul> <pre><code>import unittest\nfrom survey import AnonymousSurvey\n\nclass TestAnonymousSurvey(unittest.TestCase):\n    def setUp(self):\n        question = 'What language is the best?'\n        my_survey = AnonymousSurvey(question)\n        responses = ['Python', 'Java', 'PHP']\n    def test_store_single_response(self):\n        # \u901a\u8fc7 self \u8bbf\u95ee setUp \u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\n        self.my_survey .store_response(self.responses[0])\n        self.assertIn(self.responses[0], self.my_survey.responses)\n    def test_store_triple_responses(self):\n        for r in self.responses:\n            self.my_survey.store_response(r)\n        for r in self.responses:\n            self.assertIn(r, self.my_survey.responses)\n\nif __name__ == \"__init__\":\n    unittest.main()\n</code></pre>"},{"location":"Nulling/Python/2-1%20Project/","title":"2-1 Project","text":""},{"location":"Nulling/Python/2-1%20Project/#1","title":"1 \u5916\u661f\u4eba\u5165\u4fb5\uff08\u6e38\u620f\uff09","text":"<p>\u4f7f\u7528 Pygame \u5f00\u53d1\u7684 2D \u6e38\u620f</p> <p>\u6e38\u620f\u90e8\u5206\u9e3d\u6389\u4e86\uff0c\u5927\u5bb6\u81ea\u5df1\u53bb\u770b\u5427orz</p> <p>\u5b89\u88c5 Pygame <pre><code>python3 -m pip install --user pygame\n</code></pre></p>"},{"location":"Nulling/Python/2-1%20Project/#11-init","title":"1.1 Init","text":""},{"location":"Nulling/Python/2-1%20Project/#_1","title":"\u521b\u5efa\u8bbe\u7f6e\u7c7b","text":"<pre><code># @ setting.py\n&lt;div markdown=\"1\" style=\"margin-top: -30px; font-size: 0.75em; opacity: 0.7;\"&gt;\n:material-circle-edit-outline: \u7ea6 897 \u4e2a\u5b57 :fontawesome-solid-code: 419 \u884c\u4ee3\u7801 :material-clock-time-two-outline: \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f\n&lt;/div&gt;\nclass Settings:\n    def __init__(self):\n        # \u521d\u59cb\u5316\u6e38\u620f\u8bbe\u7f6e\n        self.screen_width = 1200\n        self.screen_height = 800\n        # \u7a97\u4f53\u80cc\u666f\u8272\n        self.bg_color = (230,230,230)\n</code></pre>"},{"location":"Nulling/Python/2-1%20Project/#_2","title":"\u521b\u5efa\u7a97\u53e3\u5e76\u54cd\u5e94\u7528\u6237\u8f93\u5165","text":"<pre><code># @ alien_invasion.py\nimport sys\nimport pygame\nfrom setting import Settings\n\n# \u7ba1\u7406\u6e38\u620f\u8d44\u6e90\u4e0e\u884c\u4e3a\u7684\u7c7b\nclass AlienInvasion:\n    def __init__(self):\n        # \u521d\u59cb\u5316\u6e38\u620f\u5e76\u521b\u5efa\u6e38\u620f\u8d44\u6e90\n        pygame.init()\n        # \u4f7f\u7528 settings \u5b9e\u4f8b\u4fdd\u5b58\u914d\u7f6e\u4fe1\u606f\n        self.settings = Settings()\n\n        # \u8bbe\u7f6e 1200px * 800px \u7684\u7a97\u53e3\uff08\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Surface\uff09\u6bcf\u6b21\u5faa\u73af\u540e\u5c06\u81ea\u52a8\u91cd\u7ed8\n        self.screen = pygame.display.set_mode(\n            (self.settings.screen_width, self.settings.screen_height))\n        # \u8bbe\u7f6e\u6807\u9898\n        pygame.display.set_capytion('Alien Invasion')\n\n    def run_game(self):\n        # \u5f00\u59cb\u4e3b\u5faa\u73af\n        while True:\n            # \u76d1\u542c\u9f20\u6807\u53ca\u952e\u76d8\u4e8b\u4ef6\n            for event in pygame.event.get():\n                if event.type == pygame.QUIT:\n                    sys.exit()\n            # \u7ed8\u5236\u6307\u5b9a\u80cc\u666f\u8272\uff08\u9ed8\u8ba4\u4e3a\u9ed1\u8272\uff09\n            self.screen.fill(self.settings.bg_color)\n            # \u91cd\u65b0\u7ed8\u5236\n            pygame.display.flip()\n\nif __name__ == '__main__':\n    # \u521b\u5efa\u5b9e\u4f8b\u5e76\u8fd0\u884c\u6e38\u620f\n    g = AlienInvation()\n    g.run_game()\n</code></pre>"},{"location":"Nulling/Python/2-1%20Project/#12-ship","title":"1.2 Ship \u7c7b","text":"<p>\u56fe\u50cf\u8bf7\u653e\u5728\u6839\u76ee\u5f55\u7684 <code>images</code> \u6587\u4ef6\u5939\u4e0b</p> <p><code>pygame</code> \u5c06\u6240\u6709\u5143\u7d20\u90fd\u89c6\u4e3a\u300c\u77e9\u5f62\u300d\u4ee5\u8fdb\u884c\u5b9a\u4f4d / \u78b0\u649e\u8ba1\u7b97</p> <pre><code>import pygame\n\nclass Ship:\n    def __init__(self, game):\n        # \u8bbe\u7f6e\u521d\u59cb\u4f4d\u7f6e\n        self.screen = game.screen\n        self.screen.rect = game.screen.get_rect()\n        # \u52a0\u8f7d\u56fe\u7247\u5e76\u83b7\u53d6\u5916\u63a5\u77e9\u5f62\n        self.image = pygame.image.load('images/ship.bmp')\n        self.rect = self.image.get_rect()\n        # \u7f6e\u4e8e\u5e95\u8fb9\u4e2d\u592e\n        self.rect.midbottom = self.screen_rect.midbottom\n\n    def blitme(self):\n        # \u5728\u6307\u5b9a\u4f4d\u7f6e\u7ed8\u5236 ship\n        self.screen.blit(self.image, self,rect)\n</code></pre>"},{"location":"Nulling/Python/2-1%20Project/#2","title":"2 \u6570\u636e\u53ef\u89c6\u5316","text":""},{"location":"Nulling/Python/2-1%20Project/#21-matplotlib","title":"2.1 Matplotlib \u4f7f\u7528","text":""},{"location":"Nulling/Python/2-1%20Project/#211","title":"2.1.1 \u57fa\u672c\u4f7f\u7528","text":"<ul> <li>\u6211\u4eec\u4f7f\u7528 Matplotlib \u6570\u5b66\u7ed8\u56fe\u5e93\u8fdb\u884c\u7b80\u5355\u7684\u56fe\u8868\u7ed8\u5236</li> <li>\u540c\u65f6\u4f7f\u7528 Plotly \u5305\u751f\u6210\u81ea\u52a8\u9002\u5e94\u8bbe\u5907\u5927\u5c0f\u7684\u56fe\u8868</li> </ul> <ol> <li>\u5b89\u88c5 Matplotlib      <pre><code>python -m pip install --user matplotlib\n</code></pre></li> <li>\u7ed8\u5236\u7b80\u5355\u7684\u6298\u7ebf\u56fe     <pre><code>import matplotlib.pyplot as plt\n\nsquares = [1, 4, 9, 16, 25]\nfig, ax = plt.subplots() # fig \u8868\u793a\u6574\u5f20\u56fe\uff0cax \u8868\u793a\u5404\u5b50\u8868\nax.plot(squares) # \u5c1d\u8bd5\u4ee5\u6709\u610f\u4e49\u7684\u5f62\u5f0f\u7ed8\u5236\u7ed9\u5b9a\u6570\u636e\n# \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u5f62\u5f0f\u6307\u5b9a\u7ebf\u6761\u7c97\u7ec6\nax.plot(squares, linewidth=3)\n# \u5355\u72ec\u6307\u5b9a y \u5750\u6807\u5c06\u9ed8\u8ba4\u4ee5\u300c\u81ea\u7136\u6570\u300d\u4f5c\u4e3a x \u5750\u6807\uff0c\u4e0b\u9762\u6307\u5b9a x \u5750\u6807\ninput_values = [1, 2, 3, 4, 5]\nax.plot(input_values, squares, linewidth=3)\n\n# \u8bbe\u7f6e\u6807\u9898\u5e76\u6dfb\u52a0\u5750\u6807\u8f74\u6807\u7b7e\nax.set_title('\u5e73\u65b9\u6570', fontsize=24)\nax.set_xlabel('\u503c', fontsize=14)\nax.set_ylabel('\u503c\u7684\u5e73\u65b9', fontsize=14)\n\n# \u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u5927\u5c0f\nax.tick_params(axis='both', labelsize=14)\n\nplt.show() # \u663e\u793a\u7ed8\u5236\u7ed3\u679c\n</code></pre></li> <li>\u7ed8\u5236\u7b80\u5355\u6563\u70b9\u56fe     <pre><code>import matplotlib.pyplot as plt\n\nplt.style.use('seaborn') # \u4f7f\u7528\u5185\u7f6e\u6837\u5f0f\nfig, ax = plt.subplots()\n\n# \u624b\u52a8\u6307\u5b9a\u6570\u636e\nx_values = [1,2,3,4,5]\ny_values = [1,4,9,16,25]\n\n# \u81ea\u52a8\u8ba1\u7b97\u6570\u636e\nx_values = range(1,1001)\ny_values = [x**2 for x in x_values]\n\nax.scatter(x_values, y_values, s=200) # s \u6307\u5b9a\u4e86\u70b9\u7684\u5927\u5c0f\n\n# \u8bbe\u7f6e\u6807\u9898\u548c\u5750\u6807\u8f74\nax.set_title('\u5e73\u65b9\u6570', fontsize=24)\nax.set_xlabel('\u503c', fontsize=14)\nax.set_ylabel('\u503c\u7684\u5e73\u65b9', fontsize=14)\n# \u8bbe\u7f6e\u5750\u6807\u8f74\u523b\u5ea6\u5927\u5c0f\nax.tick_params(axis='both', which='major', labelsize=14)\n# \u8bbe\u7f6e\u5750\u6807\u8f74\u53d6\u503c\u8303\u56f4\nax.axis([0, 1100, 0, 1100000]) # x_min, x_max, y_min, y_max\n\nplt.show()\n</code></pre></li> <li> <p>\u81ea\u52a8\u4fdd\u5b58\u56fe\u8868</p> <p>\u5c06 <code>plt.show()</code> \u66ff\u6362\u4e3a  <code>plt.savefig()</code></p> <pre><code>filename = 'quare_box.png'\nfigtype = 'tight' # \u88c1\u526a\u7a7a\u767d\u533a\u57df\uff08\u4e0d\u526a\u7684\u8bdd\u53ef\u4ee5\u7701\u7565\u53c2\u6570\uff09\n\nplt.savefig(filename, bbox_inches=figtype)\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#212","title":"2.1.2 \u81ea\u5b9a\u4e49\u6837\u5f0f","text":"<ol> <li>\u4f7f\u7528\u5185\u7f6e\u6837\u5f0f<ul> <li>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u53ef\u7528\u7684\u5185\u7f6e\u6837\u5f0f      <code>python      import matplotliB.pyplot as plt      plt.stytle.available      # \u4f1a\u663e\u793a\u7531\u53ef\u7528\u6837\u5f0f\u6784\u6210\u7684 List</code></li> <li>\u901a\u8fc7\u8bed\u53e5 <code>plt.style.use('styleName')</code> \u4f7f\u7528\u5185\u7f6e\u6837\u5f0f\uff08\u5728 <code>fig, ax = plt.subplots()</code> \u524d \u4f7f\u7528\uff09</li> </ul> </li> <li>\u4fee\u6539\u6563\u70b9\u989c\u8272<ul> <li>\u901a\u8fc7\u5b57\u7b26\u4e32\u6307\u5b9a\u6570\u636e <code>ax.scatter(xVals, yVals, c='red')</code></li> <li>\u901a\u8fc7 RGB \u6307\u5b9a\u989c\u8272 <code>ax.scattrt(xVals, yVals, c=(0,0.8,0))</code></li> </ul> </li> <li>\u4f7f\u7528\u300c\u989c\u8272\u6620\u5c04\u300d<ul> <li>\u300c\u989c\u8272\u6620\u5c04\u300d\u662f \u4e00\u7cfb\u5217\u989c\u8272\uff0c\u4ece\u8d77\u59cb\u6e10\u53d8\u81f3\u7ed3\u675f</li> <li><code>pyplot</code> \u5185\u7f6e\u4e86\u4e00\u7ec4\u989c\u8272\u6620\u5c04\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6307\u5b9a     <pre><code>ax.scatter(xVals, yVals, c=yVals, cmap=plt.cm.Blues, s=10)\n# \u6211\u4eec\u4f7f\u7528 y \u503c\u5217\u8868\u6307\u5b9a\u6bcf\u4e2a\u70b9\u7684\u989c\u8272\n# \u4f7f\u7528 cmap \u6307\u5b9a\u4e86\u4f7f\u7528\u7684\u989c\u8272\u6620\u5c04\n# =&gt; \u8f83\u5c0f\u7684\u70b9\u5c06\u7528\u6d45\u84dd\uff0c\u8f83\u5927\u7684\u70b9\u5c06\u7528\u6df1\u84dd\n</code></pre></li> </ul> </li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#213","title":"2.1.3 \u968f\u673a\u6f2b\u6b65\u6a21\u62df","text":"<ol> <li>\u521b\u5efa RandomWalk \u7c7b\uff0c\u7528\u4e8e\u968f\u673a\u9009\u62e9\u524d\u8fdb\u65b9\u5411     <pre><code># @ranmdom_walk.py\nfrom random import choice\n\nclass RandomWalk:\n    def __init__(self, num_points=5000):\n        self.num_points = num_points # \u521d\u59cb\u5316\u603b\u6b65\u6570\n        # \u8bb0\u5f55\u4ece (0,0) \u5f00\u59cb\u7ecf\u8fc7\u7684\u6bcf\u4e00\u6b65\u7684\u5750\u6807\n        self.x_values = [0]\n        self.y_values = [0]\n\n    # \u51b3\u5b9a\u6bcf\u6b21\u524d\u8fdb\u7684\u65b9\u5411\uff0c\u5e76\u751f\u6210\u4f4d\u7f6e\u5750\u6807\n    def fill_walk(self):\n        # \u5171\u8ba1\u751f\u6210 num_points \u4e2a\u70b9\n        while len(self.x_values) &lt; self.num_points:\n            # x \u65b9\u5411\uff08\u4ec5\u5de6\u53f3\uff09\n            x_direction = choice([1, -1])\n            x_distance = choice([0,1,2,3,4])\n            x_step = x_direction * x_distance\n            # y \u65b9\u5411\n            y_direction = choice([1, -1])\n            y_distance = choice([0,1,2,3,4])\n            y_step = y_direction * y_distance\n            # \u62d2\u7edd\u539f\u5730\u8e0f\u6b65\n            if x_step == 0 and y_step == 0:\n                continue\n            # \u4fdd\u5b58\u5f53\u524d\u503c\n            x = self.x_values[-1] + x_step\n            y = self.y_values[-1] + y_step\n            self.x_values.append(x)\n            self.y_values.append(y)\n</code></pre></li> <li>\u7ed8\u5236\u968f\u673a\u6f2b\u6b65\u56fe     <pre><code>import matplotlib.pyplot as plt\nfrom random_walk import RandomWalk\n\n# \u53ea\u8981\u7a0b\u5e8f\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u5c31\u4e0d\u65ad\u6a21\u62df\u968f\u673a\u6f2b\u6b65\nwhile True:\n    # \u521b\u5efa\u4e00\u4e2a RandomWalk \u5b9e\u4f8b\n    rw = RandomWalk()\n    rw.fill_walk()\n    # \u7ed8\u5236\u6240\u6709\u7684\u70b9\n    plt.style.use('classic')\n    # \u8c03\u6574\u5c3a\u5bf8\u4ee5\u9002\u5e94\u5c4f\u5e55 -&gt; \u9ed8\u8ba4 dpi=100\n    fig, ax = plt.subplots(figsize=(15,9), dpi=128)\n    # \u7ed9\u70b9\u7740\u8272(\u663e\u793a\u5148\u540e\u987a\u5e8f)\n    point_numbers = range(rw.num_points)\n    ax.scatter(rw.x_values, rw.y_values, \n        c=point_numbers, cmap=plt.cm.Blues,\n        edgecolors='none', s=15)\n    # \u7a81\u51fa\u8d77\u6b62\u4f4d\u7f6e\n    ax.scatter(0, 0, c='green', edgecolor='none', s=100)\n    ax.scatter(rw.x_values[-1], rw.y_values[-1], c='red', edgecolor='none', s=100)\n    # \u9690\u85cf\u5750\u6807\u8f74\n    ax.get_xaxis().set_visible(False)\n    ax.get_yaxis().set_visible(False)\n    plt.show()\n    # \u81f3\u5c11\u6765\u4e00\u904d\n    keep_running = input(\"Make another walk? (y/n)\")\n    if keep_running == 'n':\n        break\n</code></pre></li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#22-plotly","title":"2.2 \u4f7f\u7528 Plotly \u6a21\u62df\u63b7\u9ab0\u5b50","text":"<p>Plotly \u53ef\u7528\u4e8e\u751f\u6210\u4ea4\u4e92\u5f0f\u56fe\u8868\uff1a</p> <ul> <li>\u751f\u6210\u7ed3\u679c\u5c06\u81ea\u52a8\u7f29\u653e\u4ee5\u4f7f\u7528\u4f7f\u7528\u8005\u7684\u5c4f\u5e55</li> <li>\u5f53\u9f20\u6807\u6307\u5411\u7279\u5b9a\u5143\u7d20\u65f6\uff0c\u5c06\u7a81\u51fa\u663e\u793a\u8be5\u5143\u7d20\u7684\u4fe1\u606f</li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>python3 -m pip install --user plotly\n</code></pre> <ol> <li>\u521b\u5efa Die \u7c7b     <pre><code># \u7528\u4e8e\u6a21\u62df\u63b7\u9ab0\u5b50 @ die.py\nfrom random import randint\n\nclass Die:\n    def __init__(self, num_sides=6):\n        # \u9ed8\u8ba4\u9ab0\u5b50\u6709\u516d\u9762\n        self.num_sides = num_sides\n\n    def roll(self):\n        return randint(1, self.num_sides)\n</code></pre></li> <li>\u63b7\u9ab0\u5b50     <pre><code>from die import Die\n\ndie = Die()\n# \u6295\u63b7\u7ed3\u679c\u5b58\u50a8\u5728 List \u4e2d\nresults = []\nfor roll_num in range(100):\n    result = die.roll()\n    results.append(result)\n\n# \u5206\u6790\u6295\u63b7\u7ed3\u679c\nfrequencies = []\nfor value in range(1, die.num_sides):\n    frequency = results.count(value)\n    frequencies.append(frequency)\n</code></pre></li> <li>\u7ed8\u5236\u76f4\u65b9\u56fe     <pre><code>from plotly.graph_objs import Bar, Layout\nfrom plotly import offline\n\nx_values = list(range(1, die.num_sides))\ndata = [Bar(x=x_values, y=frequencies)] # \u6570\u636e\u96c6\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5143\u7d20\n\nx_axis_config = {'title': 'result'}\ny_axis_config = {'title': 'frequncy'}\n\nmy_layout = Layout(title='Roll 1000 times',\n    xaxis=x_axis_config, yaxis=y_axis_config)\n\noffline.plot({\n    'data': data,\n    'layout': my_layout\n}, filename='res.html') # \u7ed3\u679c\u4fdd\u5b58\u5728\u540c\u76ee\u5f55\u4e0b\u7684 res.html \u4e2d\n</code></pre></li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#23-csv-json","title":"2.3 \u53ef\u89c6\u5316 CSV / JSON \u6587\u4ef6","text":"<p>\u672c\u8282\u7684\u4f9d\u8d56\u6587\u4ef6\u53ef\u5728 \u8be5\u7f51\u5740 \u627e\u5230</p>"},{"location":"Nulling/Python/2-1%20Project/#231-csv","title":"2.3.1 CSV \u6587\u4ef6","text":"<ol> <li> <p>\u5206\u6790 CSV \u6587\u4ef6\u5934     <pre><code>import csv\n\nfilename = 'path/to/csv/file'\nwith open(filename) as f:\n    reader = csv.reader(f)\n    header_row = next(reader)\n    print(header_row)\n</code></pre></p> <ul> <li> <p>\u8f93\u51fa\u4e3a <code>['STATION', 'NAME', 'DATE', 'PRCP', 'TAVG', 'TMAX', 'TMIN']</code> </p> <p>=&gt; \u6bcf\u4e00\u4e2a\u53ef\u80fd\u51fa\u73b0\u7684\u5b57\u6bb5\u540d\u53ca\u5176\u987a\u5e8f</p> </li> <li> <p>reader \u4f1a\u5c06\u7b2c\u4e00\u884c\u7684\u5143\u7d20\u5b58\u50a8\u5728 List \u4e2d</p> </li> </ul> </li> <li> <p>\u6253\u5370\u6587\u4ef6\u5934\u53ca\u5176\u4f4d\u7f6e     <pre><code># \u8f93\u51fa\u683c\u5f0f\u5f62\u5982\uff1a0 STATION =&gt; \u5b57\u6bb5\u540d\u5bf9\u5e94\u7684\u5217\u53f7\nfor index, column_header in enumerate(header_row):\n    print(index, column_header)\n</code></pre></p> </li> <li> <p>\u63d0\u53d6\u5e76\u8bfb\u53d6\u6570\u636e     <pre><code># \u63d0\u53d6\u6700\u9ad8\u6e29\u5ea6\nhighs = []\n# \u904d\u5386\u9664 header \u5916\u7684\u6bcf\u4e00\u884c\nfor row in reader:\n    high = int(row[5]) # TMAX \u5b58\u5728 row_5\n    highs.append(high)\n</code></pre></p> </li> <li> <p>\u7ed8\u5236\u6700\u9ad8\u6e29\u5ea6\u6298\u7ebf\u56fe     <pre><code>import matplotlib.pyplot as plt\n\nplt.style.use('seaborn')\nfig, ax = plt.subplots()\nax.plot(highs, c='red')\n# \u8bbe\u7f6e\u6837\u5f0f\nax.set_title('2018.07 \u6bcf\u65e5\u6700\u9ad8\u6e29\u5ea6', fontsize=24)\nax.set_xlabel('', fontsize=16)\nax.set_ylabel('\u6e29\u5ea6(F)', fontsize=16)\nax.tick_params(axis='both', which='major', labelsize=16)\n\nplt.show()\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 datetime \u6a21\u5757\u6dfb\u52a0\u65e5\u671f</p> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>datetime.strptime('2018-07-01', '%Y-%m-%d')</code> \u5c06\u5b57\u7b26\u4e32\u4ee5\u6307\u5b9a\u683c\u5f0f\u89e3\u6790\u4e3a\u5bf9\u5e94\u7684\u65e5\u671f\u5bf9\u8c61</li> <li> <p>\u683c\u5f0f\u5b57\u7b26\u4e32\u652f\u6301\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> \u5b9e\u53c2 \u542b\u4e49 <code>%A</code> \u661f\u671f\u51e0\uff0c\u5982 Monday <code>%B</code> \u51e0\u6708\u4efd\uff0c\u5982 January <code>%m</code> \u6570\u5b57\u8868\u793a\u7684\u6708\u4efd\uff0c01 - 12 <code>%d</code> \u6570\u5b57\u8868\u793a\u7684\u65e5\u671f\uff0c01 - 31 <code>%Y</code> \u56db\u4f4d\u6570\u5e74\u4efd\uff0c\u5982 2001 <code>%y</code> \u4e24\u4f4d\u6570\u5e74\u4efd\uff0c\u5982 19 <code>%H</code> 24H \u5c0f\u65f6\u6570\uff0c00 - 23 <code>%I</code> 12H \u5c0f\u65f6\u6570\uff0c01 - 12 <code>%p</code> am / pm <code>%M</code> \u5206\u949f\uff0c00 - 59 <code>%S</code> \u79d2\u6570\uff0c00 - 61 </li> </ul> </li> <li> <p>\u5728\u56fe\u8868\u4e2d\u6dfb\u52a0\u65e5\u671f     <pre><code>from datetime import datetime\n\n# \u4ece\u6587\u4ef6\u4e2d\u83b7\u53d6\u65e5\u671f\uff08\u5408\u5e76\u5230\u540c\u4e00\u4e2a Loop \u4e2d\uff09\ndates = []\nfor row in reader:\n    current_date = datetime.sprttime(row[2], '%Y-%m-%d')\n    dates.append(current_date)\n\n# \u4e3a\u56fe\u8868\u6dfb\u52a0\u6a2a\u8f74\u6570\u636e\u6e90\nax.plot(dates, highs, c='red')\n\n# \u7ed8\u5236\u503e\u659c\u7684\u65e5\u671f\u6807\u7b7e\u4ee5\u907f\u514d\u91cd\u53e0\nfig.sutofmt_xdate()\n</code></pre></p> </li> <li> <p>\u7ed8\u5236\u4e24\u4e2a\u6570\u636e\u5e8f\u5217\uff0c\u5e76\u7ed9\u533a\u95f4\u7740\u8272     <pre><code># \u540c\u65f6\u663e\u793a \u6700\u9ad8/\u6700\u4f4e \u6e29\u5ea6 -&gt; \u53ea\u5199\u7ed8\u5236\u90e8\u5206\u7684\u4ee3\u7801\nfig, ax = plt.subplots()\nax.plot(dates, highs, c='red', alpha=0.5)\nax.plot(dates. lows, c='blue', alpha=0.5)\n# \u4f7f\u7528 fill_between() \u586b\u8865\u4e2d\u95f4\u7684\u7a7a\u95f4\nax.fill_between(dates, highs, lows, facecolor='blue', alpha=0.1)\n</code></pre></p> </li> <li> <p>\u9519\u8bef\u68c0\u67e5</p> <p>\u4f7f\u7528\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u540d\u53ef\u80fd\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\uff0c\u9700\u8981\u59a5\u5584\u5904\u7406</p> <pre><code>filename = 'path/to/csv/file'\nwith open(filename) as f:\n    for row in reader:\n        date = datetime.strptime(row[2], '%Y-%m-%d')\n        try:\n            # \u4e3a\u7a7a('')\u65f6\u4f1a\u62a5\u9519\n            high = int(row[4])\n            low = int(row[5])\n        except ValueError:\n            # \u5ffd\u7565\u6570\u636e\u7f3a\u5931\u7684\u65e5\u671f\uff08\u6ca1\u6709 append \u8fdb\u53bb\uff09\n            print(f'Missing data for {date}')\n        else:\n            dates.append(date)\n            highs.append(high)\n            lows.append(low)\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#232-json","title":"2.3.2 JSON \u6587\u4ef6","text":"<ol> <li> <p>\u67e5\u770b JSON \u6570\u636e</p> <p>\u636e\u8bf4\u76f4\u63a5\u770b\u6e90\u6587\u4ef6\u4e0d\u592a\u53cb\u597d\uff0c\u6211\u4eec\u91cd\u65b0\u628a\u5b83\u5199\u8fdb\u4e00\u4e2a\u65b0\u6587\u4ef6</p> <pre><code>import json\n\nfilename = 'path/to/json/file'\nwith open(filename) as f:\n    all_data = json.load(f) # \u7ed3\u679c\u662f\u4e00\u4e2a\u5de8\u5927\u7684 Dict\n\nreadable_file = 'readable_data.json'\nwith open(readable_file, 'w') as f:\n    json.dump(all_data, f, indent=4) # \u6307\u5b9a\u7f29\u8fdb\u56db\u683c\n</code></pre> </li> <li> <p>\u63d0\u53d6\u8be6\u7ec6\u4fe1\u606f     <pre><code>import json\n\n# \u8be6\u7ec6\u6570\u636e\u5b58\u50a8\u5728\u7b2c\u4e00\u7ea7\u7684 features \u5b57\u6bb5\u4e0b\uff08\u662f\u4e00\u4e2a List\uff09\nfilename = \"path/to/json/file\"\nwith open(filename) as f:\n    all_data = json.load(f)\n\neq_dicts = all_data['features']\n\n# \u63d0\u53d6\u9707\u7ea7 &amp; \u4f4d\u7f6e\u4fe1\u606f\nmags, titles, lons, lats = [], [], [], []\nfor eq in eq_dicts:\n    mag = eq_dict['properties']['mag']\n    title = eq_dict['properties']['title']\n    lon = eq_dict['geometry']['coordinates'][0]\n    lat = eq_dict['geometry']['coordinates'][1]\n\n    mags.append(mag)\n    titles.append(title)\n    lons.append(lon)\n    lats.append(lat)\n</code></pre></p> </li> <li> <p>\u7ed8\u5236\u9707\u7ea7\u6563\u70b9\u56fe     <pre><code>import plotly.express as px\n\nfig = px.scatter(\n    x = lons,\n    y = lats,\n    labels = {'x': '\u7ef4\u5ea6', 'y': '\u7ecf\u5ea6'},\n    range_x = [-200, 200],\n    range_y = [-90, 90],\n    width=800,\n    height=800,\n    title='\u5168\u7403\u5730\u9707\u6563\u70b9\u56fe'\n)\n# \u53e6\u4e00\u79cd\u6307\u5b9a\u6570\u636e\u7684\u65b9\u5f0f\uff08\u4f7f\u7528 pandas\uff09\nimport pandas as pd\n# \u9700\u8981\u5efa\u7acb DataFrame\ndata = pd.DataFrame(\n    data=zip(lons, lats, titles, mags), columns=['\u7ecf\u5ea6','\u7ef4\u5ea6','\u4f4d\u7f6e','\u9707\u7ea7']\n)\nfig = px.scatter(\n    # \u5bfc\u5165\u6570\u636e\u5305\u540e\uff0c\u76f4\u63a5\u4f7f\u7528\u5b57\u6bb5\u540d\u6307\u5b9a\u6570\u636e\u6e90\n    data,\n    x='\u7ecf\u5ea6',\n    y='\u7ef4\u5ea6',\n    ...,\n    # \u5b9a\u5236\u6807\u8bb0\u5c3a\u5bf8\n    size='\u9707\u7ea7',\n    size_max=10,\n    # \u5b9a\u5236\u6807\u8bb0\u4e25\u8d23\uff08\u9ed8\u8ba4 \u84dd-\u7ea2-\u9ec4\uff09\n    color='\u9707\u7ea7',\n    # \u6dfb\u52a0 hover \u6587\u672c\n    hover_name='\u4f4d\u7f6e'\n)\n\nfig.write_html('global_eq.html')\nfig.show()\n</code></pre></p> </li> <li> <p>\u67e5\u770b\u53ef\u7528\u6e10\u53d8\u6620\u5c04\u65b9\u6848</p> <pre><code>import plotly.express as px\n\nfor key in px.color.named_colorscales:\n    print(key)\n</code></pre> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>px.colors.diverging.RdYlGn[::-1]</code> \u53cd\u8f6c\u6620\u5c04\u5217\u8868</li> <li>\u9664 <code>px.colors.diverging</code> \u63d0\u4f9b\u7684 \u8fde\u7eed \u914d\u8272\u65b9\u6848\u5916\uff0cPlotly \u8fd8\u5728 <code>px.colors.sequential . px.colors.qualitative</code> \u4e2d\u63d0\u4f9b\u4e86 \u79bb\u6563 \u7684\u914d\u8272\u65b9\u6848</li> </ul> </li> </ol>"},{"location":"Nulling/Python/2-1%20Project/#24-github-api","title":"2.4 GitHub API \u8fd4\u56de\u7ed3\u679c\u53ef\u89c6\u5316","text":"<ol> <li> <p>\u4f7f\u7528 API \u8bf7\u6c42\u6570\u636e</p> <ul> <li>\u501f\u53e3\u5730\u5740 <code>https://api.github.com/search/repositories?q=language:python&amp;sort=stars</code></li> <li>\u54cd\u5e94\u683c\u5f0f     <pre><code>{\n    \"total_count\": 3494012,\n    \"incomplete_results\": false,\n    \"items\": [\n        {\n            \"id\": 21289110,\n            \"node_id\": \"fghjklsdfiuyudfsfd==\",\n            \"name\": \"awsome-python\",\n            \"full_name\": \"vinta/awsome-python\",\n            ...\n        }\n    ]\n}\n</code></pre></li> </ul> </li> <li> <p>\u5b89\u88c5 Requests \u4ee5\u53d1\u9001\u8bf7\u6c42\u5e76\u68c0\u67e5\u54cd\u5e94     <pre><code>python3 -m pip install --user requests\n</code></pre></p> </li> <li> <p>\u53d1\u9001\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94     <pre><code>import requests\n\n#  \u8c03\u7528 API \u5e76\u5b58\u50a8\u54cd\u5e94\nurl = 'https://api.github.com/search/repositories?q=language:python&amp;sort=stars'\n# \u8bbe\u7f6e\u8bf7\u6c42\u5934\nheaders = {'Accept': 'application/vnd.github.v3+json'}\n# \u83b7\u53d6\u54cd\u5e94\nr = requests.get(url, headers=headers)\nprint(f'Status Code = {r.status_code}')\n# \u5c06\u7ed3\u679c\u8f6c\u4e3a Dict\nresponse_dict = r.json()\n# \u663e\u793a\u8fd4\u56de\u503c\u7684\u6240\u6709\u5b57\u6bb5\nprint(response_dict.keys())\n</code></pre></p> </li> <li> <p>\u76d1\u542c API \u7684\u901f\u7387\u9650\u5236</p> <p>\u76f4\u63a5\u8bbf\u95ee <code>https://api.github.com/rate_limit</code> \u83b7\u53d6\u76f8\u5173\u54cd\u5e94</p> </li> <li> <p>\u4f7f\u7528 Plotly \u53ef\u89c6\u5316\u4ed3\u5e93</p> <ul> <li>\u9700\u6c42\uff1a\u521b\u5efa\u4ea4\u4e92\u5f0f\u6761\u5f62\u56fe\u3002\u9ad8\u5ea6\u8868\u793a\u8be5\u9879\u76ee\u7684 star \u6570\uff0c\u5355\u51fb\u6761\u5f62\u53ef\u4ee5\u8fdb\u5165\u9879\u76ee\u7684 GitHub \u4e3b\u9875</li> <li>\u5b9e\u73b0     <pre><code>from plotly.graph_obj import Bar\nfrom plottly import offline\n\nstars, labels, links = [], [], [], []\nfor repo in repo_dict:\n    # \u6dfb\u52a0\u53ef\u5355\u51fb\u7684\u94fe\u63a5\n    links.append(f\"&lt;a href='{repo[\"html_url\"]}'&gt;{reop[\"name\"]}&lt;/a&gt;\")\n    stars.append(repo['stargazers_count'])\n    # \u8bbe\u7f6e label\n    owner = repo['owner']['login']\n    desc = repo['description']\n    laebl = f\"{owener} &lt;/br&gt; {description}\"\n    labels.append(label)\n\n# \u53ef\u89c6\u5316\ndata = [{\n    'type': 'bar',\n    'x': links,\n    'y': stars,\n    # \u8bbe\u7f6e\u63d0\u793a\u6587\u672c\n    'hovertext': labels,\n    # \u5b9a\u5236 Bar \u7684\u989c\u8272\u4e0e\u8fb9\u6846\n    'marker': {\n        'color': 'rgb(60, 100, 150)',\n        'line': {'width': 1.5, 'color': 'rgb(25,25,25)'}\n    },\n    # Bar \u7684\u4e0d\u900f\u660e\u5ea6\n    'opacity': 0.6\n}]\nmy_layout = {\n    'title': 'GitHub \u4e0a\u6700\u53d7\u6b22\u8fce\u7684 Python \u9879\u76ee',\n    'titlefont': {'size':28}\n    'xaxis': { \n        'title': 'Repository',\n        'titlefont': {'size':24},\n        'tickfont': {'size': 14}\n    },\n    'yaxis': { \n        'title': 'Stars'\n        'titlefont': {'size':24},\n        'tickfont': {'size': 14}\n    }\n}\nfig = {'data': data, 'layout': my_layout}\nofflien.plot(fig, filename='python_repo.html')\n</code></pre></li> </ul> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/","title":"2-2 Project","text":""},{"location":"Nulling/Python/2-2%20Project/#3-web","title":"3 Web \u5e94\u7528\u7a0b\u5e8f","text":"<p>\u4f7f\u7528 Django \u521b\u5efa \u7b80\u5355\u7684 Web \u5e94\u7528\u7a0b\u5e8f</p>"},{"location":"Nulling/Python/2-2%20Project/#31-init","title":"3.1 Init","text":"<ol> <li>\u521b\u5efa\u5e76\u6fc0\u6d3b\u865a\u62df\u73af\u5883     ```shell     # \u521b\u5efa\u540d\u4e3a ll_venv \u7684\u865a\u62df\u73af\u5883</li> </ol> <p> \u7ea6 1980 \u4e2a\u5b57  739 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p> <pre><code>python3 -m venv [name]\n# \u6fc0\u6d3b\u865a\u62df\u73af\u5883\nsource ll_venv/bin/activate\n\n# \u9000\u51fa\u865a\u62df\u73af\u5883\ndeactivate\n```\n</code></pre> <ol> <li> <p>\u5b89\u88c5\u5e76\u521b\u5efa Djangle \u9879\u76ee\uff08\u865a\u62df\u73af\u5883\u4e2d\uff09</p> <pre><code># \u5b89\u88c5 Djangle\npip3 install django\n# \u521b\u5efa\u540d\u4e3a learning_logd \u7684\u9879\u76ee\uff08\u4e0d\u8981\u5fd8\u8bb0\u6700\u540e\u7684\u82f1\u6587\u53e5\u53f7\uff09\ndjango-admin startproject learning_log .\n</code></pre> <p>\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>- manage.py\n- learning_log\n    |_ __init__.py \n    |_ settings.py # \u6307\u5b9a\u5982\u4f55\u4e0e\u7cfb\u7edf\u4ea4\u4e92\u53ca\u7ba1\u7406\u9879\u76ee\n    |_ urls.py     # \u6307\u5b9a\u521b\u5efa\u54ea\u4e9b\u9875\u9762\u4ee5\u54cd\u5e94\u8bf7\u6c42\n    |_ wsgi.py\n</code></pre> </li> <li> <p>\u521b\u5efa\u6570\u636e\u5e93</p> <p>Djangle \u5c06\u5927\u90e8\u5206\u4e0e\u9879\u76ee\u76f8\u5173\u7684\u4fe1\u606f\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d</p> <pre><code># \u5fc5\u987b\u4f7f\u7528 python\uff08\u800c\u4e0d\u662f python3\uff09\n# \u9996\u6b21\u6267\u884c migrate \u547d\u4ee4\u80fd\u591f\u786e\u4fdd\u6570\u636e\u5e93\u4e0e\u9879\u76ee\u5f53\u524d\u4e00\u81f4\ncd learning_log\npython manage.py migrate\n</code></pre> </li> <li> <p>\u542f\u52a8\u9879\u76ee     <pre><code>python manage.py runserver\n# \u9ed8\u8ba4\u8fd0\u884c\u5728 8000 \u7aef\u53e3\uff0c\u53ef\u4ee5\u7528 Ctrl C \u5f3a\u884c\u5173\u95ed\n# \u4e5f\u53ef\u4ee5\u4f7f\u7528 python manage.py runserver [port] \u6307\u5b9a\u7aef\u53e3\u8fd0\u884c\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f</p> <p>\u6bcf\u6b21\u5bf9\u5355\u4e2a\u5e94\u7528\u8fdb\u884c\u4fee\u6539\u90fd\u5e94\u8be5\u9075\u5faa\u4ee5\u4e0b\u987a\u5e8f\uff1a</p> <p>\u4fee\u6539 <code>models.py</code> -&gt; \u8c03\u7528 <code>makemigrations</code> -&gt; \u4f7f\u7528 <code>migrate</code> \u8fdb\u884c\u8fc1\u79fb</p> <p>Django \u9879\u76ee\u7531\u4e00\u7cfb\u5217\u5e94\u7528\u7a0b\u5e8f\u6784\u6210</p> <pre><code>python manage.py startapp [app_name]\n# \u8fd9\u4e00\u547d\u4ee4\u4f1a\u4ea7\u751f\u4e00\u4e2a\u540d\u4e3a app_name \u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b models.py, admin.py, views.py\n</code></pre> <ul> <li> <p>\u5b9a\u4e49\u6a21\u578b</p> <p>\u6a21\u578b\u7528\u4e8e\u544a\u8bc9 Django \u5982\u4f55\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\uff08\u7c7b\u4f3c\u4e8e Schema\uff09</p> <p>\u5728\u4ee3\u7801\u5c42\u9762\uff0c\u6a21\u578b\u5c31\u662f\u4e00\u4e2a Class\uff0c\u5305\u542b\u5c5e\u6027\u548c\u65b9\u6cd5</p> <pre><code># @ models.py\nfrom django.db import models\n\n# \u7528\u4e8e\u5b58\u50a8\u5b66\u4e60\u4e3b\u9898\u7684\u6a21\u578b (\u7ee7\u627f\u81ea Model)\nclass Topic(models.Model):\n    # \u5176\u4ed6\u5b57\u6bb5\u7c7b\u578b\u89c1 Django Model File Reference\n    text = models.CharField(max_length=20)\n    # \u81ea\u52a8\u8bbe\u7f6e\u5f53\u524d\u65e5\u671f\u65f6\u95f4\u4f5c\u4e3a date_added\n    date_added = model.DateTimeField(auto_now_add=True)\n\n    # \u6a21\u578b\u7684\u7b80\u5355\u8868\u793a\uff08\u7c7b\u4f3c\u4e8e print \u7684\u9ed8\u8ba4\u7ed3\u679c\uff1f\uff09\n    def __str__(self):\n        # \u6b64\u5904\u76f4\u63a5\u8fd4\u56de text \u8868\u793a\u8be5\u6a21\u578b\u5b9e\u4f8b\n        return self.text\n</code></pre> </li> <li> <p>\u6fc0\u6d3b\u6a21\u578b</p> <ol> <li> <p>\u53ea\u6709\u5728 <code>settings.py</code> \u4e2d\u88ab\u5305\u542b\u7684\u6a21\u578b\u624d\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528</p> <p>\u81ea\u5b9a\u4e49\u5e94\u7528\u6392\u5728\u9ed8\u8ba4\u5e94\u7528\u524d\u8d77\u5230 \u8986\u76d6\u9ed8\u8ba4\u884c\u4e3a \u7684\u4f5c\u7528</p> <pre><code># @ settings.py\nINSTALLED_APPS = [\n    # \u81ea\u5b9a\u4e49\u5e94\u7528\n    'app_name',\n    # \u9ed8\u8ba4\u5e94\u7528\n    'django.admin',\n    'django.auth',\n    ...\n]\n</code></pre> </li> <li> <p>\u8ba9 Django \u4fee\u6539\u6570\u636e\u5e93\uff0c\u4f7f\u4e4b\u80fd\u591f\u5b58\u50a8\u4e0e Topic \u76f8\u5173\u7684\u4fe1\u606f     <pre><code># \u8f93\u51fa\u4e00\u4e2a 0001_initial.py \u6587\u4ef6\uff0c\u7528\u4e8e\u521b\u5efa Topic \u76f8\u5173\u7684\u8868\npython manage.py makemigrations app_name\n# \u5e94\u7528\u8fc1\u79fb\npython manage.py migrate\n</code></pre></p> </li> </ol> </li> </ul> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#32-django-admin-site","title":"3.2 Django Admin Site","text":"<p>\u672c\u6b65\u9aa4\u7528\u4e8e\u5efa\u7acb\u540e\u53f0\u7ba1\u7406\u9875\u9762\uff0c\u5e76\u4f7f\u7528 Topic \u6a21\u578b\u6765\u6dfb\u52a0\u4e00\u4e9b\u4e3b\u9898</p> <ul> <li>Django \u63d0\u4f9b\u7684 Admin Site \u8ba9\u4f60\u80fd\u591f\u8f7b\u677e\u7684\u5904\u7406 models\uff08\u53ea\u5141\u8bb8\u7ba1\u7406\u5458\u800c\u975e\u666e\u901a\u7528\u6237\u4f7f\u7528\uff09</li> <li> <p>\u9ed8\u8ba4\u901a\u8fc7 <code>http://127.0.0.1:8000/admin</code> \u8fdb\u884c\u8bbf\u95ee\uff08\u9700\u8981\u767b\u9646\u634f\uff09</p> </li> <li> <p>\u521b\u5efa\u8d85\u7ea7\u7528\u6237</p> <pre><code>$ python manage.py createsuperuser\nUsername (leave blank to use 'eric'): [admin_name]    \nEmail address: [\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66]\nPassword: [\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66]\nPasswrod (again): [\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66]\n</code></pre> </li> <li> <p>\u5411\u7ba1\u7406\u7f51\u7ad9\u6ce8\u518c\u6a21\u578b</p> <p>Django \u81ea\u52a8\u5728\u540e\u53f0\u7f51\u9875\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e9b\u6a21\u578b\uff08\u5982 User / Group\uff09\uff0c\u4f46\u6211\u4eec\u5fc5\u987b\u624b\u52a8\u6ce8\u518c\u81ea\u5b9a\u4e49\u6a21\u578b</p> <pre><code># @ admin.py\nfrom django.contrib import admin\n\n# \u6ce8\u518c\u81ea\u5b9a\u4e49\u6a21\u578b\nfrom .models import Topic # . \u8868\u793a\u5728\u540c\u7ea7\u76ee\u5f55\u4e0b\u5bfb\u627e models.py\nadmin.site.register(Topic)\n</code></pre> </li> <li> <p>\u6dfb\u52a0 Topic</p> <p>\u5355\u51fb Topics \u8fdb\u5165\u4e3b\u9898\u9875\u9762\uff0c\u8fdb\u4e00\u6b65\u5355\u51fb Add\uff0c\u8f93\u5165\u6587\u672c\u540e\u70b9\u51fb Save \u5373\u53ef</p> </li> </ul> <ol> <li> <p>\u5b9a\u4e49 Entry \u6a21\u578b</p> <p>\u591a\u4e2a Entry \u53ef\u4ee5\u5bf9\u5e94\u540c\u4e00 Topic</p> <pre><code># @ models.py\n\n# \u7528\u4e8e\u8bb0\u5f55 Topic \u4e0b\u7684\u5177\u4f53\u6761\u76ee\nclass Entry(models.Model):\n    # \u5f53 topic \u5220\u9664\u65f6\u8fdb\u884c\u7ea7\u8054\u5220\u9664\n    topic = models.ForeinKey(Topic, on_delete=models.CASCADE)\n    # \u957f\u5ea6\u4e0d\u53d7\u9650\u5236\n    text = models.TextField()\n    date_added = models.DateTimeField(auto_now_add=True)\n\n    # \u6709\u5fc5\u8981\u65f6\uff0c\u4f7f\u7528 Entries\uff08\u800c\u975e Entrys\uff09\u8868\u793a\u591a\u4e2a\u6761\u76ee\u4fe1\u606f\n    class Meta:\n        verbose_name_plural = 'entries'\n\n    def __str__(self):\n        # \u8fd4\u56de\u524d 50 \u4e2a\u5b57\u7b26\n        return f\"{self.text[:50]}...\"\n</code></pre> </li> <li> <p>\u8fc1\u79fb\u5e76\u6ce8\u518c</p> <p><pre><code>python manage.py makemigrations app_name\npython manage.py migrate\n</code></pre> <pre><code># @ admin.py\nfrom .models import Entry\nadmin.site.register(Entry)\n</code></pre></p> </li> </ol> <p>\u4f7f\u7528 Django Shell \u67e5\u770b\u6570\u636e\uff1a</p> <p><pre><code>python manage.py shell\n</code></pre> <pre><code>from app_name.models import Topic\n# \u83b7\u53d6\u6240\u6709\u7684 Topic \u5b9e\u4f8b\uff0c\u8fd4\u56de\u4e00\u4e2a List\ntopics = Topic.objects.all() \n# \u904d\u5386\u5217\u8868\nfor topic in topics:\n    print(topic.id, topic)\n# \u901a\u8fc7 id \u83b7\u53d6\u6307\u5b9a\u5bf9\u8c61\u5e76\u67e5\u770b\u5c5e\u6027\nt = Topic.objects.get(id=1)\n# \u8bbf\u95ee\u5177\u4f53\u5c5e\u6027\nt.text\nt.date_added\n# \u83b7\u53d6\u4ee5\u5176\u4f5c\u4e3a\u5916\u95f4\u7684\u6240\u6709 entry\nt.entry_set.all()\n</code></pre></p> \u901a\u8fc7\u5916\u952e\u5173\u7cfb\u83b7\u53d6\u6570\u636e <p>\u57fa\u672c\u683c\u5f0f\uff1a <code>\u88ab\u5f15\u7528\u5b9e\u4f8b.\u5f15\u7528\u7c7b_set.all()</code></p>"},{"location":"Nulling/Python/2-2%20Project/#33","title":"3.3 \u521b\u5efa\u4e3b\u9875","text":""},{"location":"Nulling/Python/2-2%20Project/#331-url","title":"3.3.1 \u6620\u5c04 URL","text":"<p>\u63cf\u8ff0\u4e86\u5982\u4f55\u5339\u914d\u6d4f\u89c8\u5668\u8bf7\u6c42\u4e0e\u8fd4\u56de\u7684\u9875\u9762</p> <p>\u6b64\u5904\uff0c\u6211\u4eec\u5c06\u9ed8\u8ba4\u8def\u5f84 <code>http://localhost:8000/</code> \u6620\u5c04\u5230\u201c\u5b66\u4e60\u7b14\u8bb0\u201d\u4e3b\u9875</p> <ol> <li> <p>\u6253\u5f00 <code>/learn_log/urls.py</code>\uff0c\u505a\u5982\u4e0b\u4fee\u6539\uff1a     <pre><code>from django.contrib import admin # \u652f\u6301\u5728\u540e\u53f0\u4e2d\u8bf7\u6c42\u6240\u6709 url\nfrom django.urls import path, inclue # \u5bfc\u5165 include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    # \u6dfb\u52a0\uff0c\"\" \u8868\u793a\u6839\u8def\u5f84\n    path(\"\"., include('learnings.urls')),\n]\n</code></pre></p> </li> <li> <p>\u5728 <code>/learnings</code> \u4e0b\u65b0\u5efa\u8be5\u6a21\u5757\u7684 <code>urls.py</code> \u6587\u4ef6</p> </li> <li> <p><code>path(\"\u5339\u914d\u8def\u5f84\", \u9700\u8981\u8c03\u7528\u7684 views.py \u4e2d\u7684\u51fd\u6570, \"\u672c\u6a21\u5f0f\u540d\u79f0\")</code></p> <p>\u300c\u6a21\u5f0f\u540d\u79f0\u300d\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5728\u4ee3\u7801\u7684\u5176\u4ed6\u4f4d\u7f6e\u4f7f\u7528 name \u800c\u975e URL \u5f15\u7528\u8fd9\u4e2a\u6620\u5c04\u5173\u7cfb</p> <pre><code># @ /learnings/urls.py \u5b9a\u4e49 learnings \u6a21\u5757\u4e0b\u7684 url \u6a21\u5f0f\nfrom django.urls import path # \u7528\u4e8e\u5c06 url \u6620\u5c04 view\nfrom . import views # \u4ece\u5f53\u524d\u6587\u4ef6\u5939\u5f15\u5165 veiws.py\n\napp_name = \"learnings\"\nurlpatterns = [\n    # \u4e3b\u9875\n    path(\"\", views.index, name='index')\n]\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#332","title":"3.3.2 \u7f16\u5199\u89c6\u56fe","text":"<p>\u300c\u89c6\u56fe\u51fd\u6570\u300d\u63a5\u53d7\u8bf7\u6c42\u4e2d\u7684\u4fe1\u606f\uff0c\u51c6\u5907\u751f\u6210\u9875\u9762\u6240\u9700\u7684\u6570\u636e\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668</p> <pre><code># @ /learnings/views.py\nfrom django.shortcuts inport render\n\n# \u521b\u5efa\u89c6\u56fe\ndef index(request):\n    return render(request, 'learnings/index.html')\n</code></pre>"},{"location":"Nulling/Python/2-2%20Project/#333","title":"3.3.3 \u7f16\u5199\u6a21\u7248","text":"<p>\u6a21\u7248\u53ef\u4ee5\u8bbf\u95ee\u89c6\u56fe\u4e2d\u7684\u4efb\u4f55\u6570\u636e</p> <ol> <li> <p>\u65b0\u5efa\u8def\u5f84 <code>learnings/templates/learnings</code></p> <p>\u4ec0\u4e48\u8ff7\u5e7b\u5957\u5a03</p> </li> <li> <p>\u5728\u65b0\u5efa\u8def\u5f84\u4e2d\u521b\u5efa <code>index.html</code> <pre><code># @ /learnings/templates/learnings/index.html\n\n&lt;h1&gt;Hello\uff0c\u6b22\u8fce\u67e5\u770b\u5b66\u4e60\u7b14&lt;/h1&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#34","title":"3.4 \u521b\u5efa\u66f4\u591a\u9875\u9762","text":""},{"location":"Nulling/Python/2-2%20Project/#341","title":"3.4.1 \u6a21\u7248\u7ee7\u627f","text":"<p>\u4e00\u4e9b\u901a\u7528\u5143\u7d20</p> <ol> <li> <p>\u5b9a\u4e49\u300c\u7236\u6a21\u7248\u300d</p> <ul> <li>\u300c\u6a21\u7248\u6807\u7b7e\u300d<code>{%%}</code></li> <li> <p><code>url namespace:name</code> \u7528\u4e8e\u751f\u6210\u4e00\u4e2a URL\uff08\u5339\u914d\u5bf9\u5e94\u547d\u540d\u7a7a\u95f4\u4e0b\u7684 name \u6620\u5c04\u6a21\u5f0f\uff09</p> <p>\u6b64\u5904\u7684\u547d\u540d\u7a7a\u95f4\u7531\u4e0a\u6587\u4e2d\u7684 <code>app_name</code> \u51b3\u5b9a</p> </li> <li> <p>\u5b50\u6a21\u7248\u4e0d\u9700\u8981\u5b9a\u4e49\u7236\u6a21\u7248\u4e2d\u9884\u7559\u7684 \u6240\u6709\u63d2\u69fd     \u4e00\u5bf9 <code>{%block name%}{%endblock name%}</code> \u5b9a\u4e49\u7684\u662f\u4e00\u4e2a\u300c\u5177\u540d\u63d2\u69fd\u300d\uff0c\u5728\u5b50\u6a21\u7248\u4e2d\u6309\u7167\u5bf9\u5e94 name \u58f0\u660e\u5185\u5bb9\u5373\u53ef\u5d4c\u5165\u81f3\u6307\u5b9a\u4f4d\u7f6e</p> </li> </ul> <pre><code># @ learnings/templates/learnings/base.html\n&lt;a href=\"{% url 'learnings:index' %}\"&gt;\n    &lt;h1&gt;\u5b66\u4e60\u7b14\u8bb0&lt;/h1&gt;\n&lt;/a&gt;\n# \u524d\u5f80 Topics \u9875\u9762\uff08\u5728\u540e\u9762\u5b9a\u4e49\uff09\n&lt;a href=\"{% url 'learnings:topics' %}\"&gt;\n    &lt;h1&gt;\u6240\u6709 Topic&lt;/h1&gt;\n&lt;/a&gt;\n\n{%block content%}\n# \u5b50\u6a21\u5757\u5185\u5bb9\n{%endblock content%}\n</code></pre> </li> <li> <p>\u5b9a\u4e49\u300c\u5b50\u6a21\u7248\u300d</p> <ul> <li>\u7ee7\u627f\u5bf9\u8c61\u5fc5\u987b\u5728 \u9996\u884c \u7528 <code>extends</code> \u6307\u51fa</li> </ul> <pre><code># @ learnings/templates/learnings/index.html\n\n# \u7ee7\u627f\u7236\u6a21\u5757\n{% extends 'learnings/base.html' %}\n\n# \u5b9a\u4e49\u63d2\u69fd content \u7684\u5185\u5bb9\n{% block content %}\n&lt;p&gt;\n    Hello\uff0c\u8fd9\u91cc\u662f INDEX \u754c\u9762\u634f\uff01\n&lt;/p&gt;\n{% endblock content%}\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#342-topic","title":"3.4.2 \u7528\u4e8e\u663e\u793a\u6240\u6709 Topic \u7684\u9875\u9762","text":"<ol> <li> <p>\u5728 <code>learnings/urls.py</code> \u4e2d\u6dfb\u52a0\u65b0\u7684 URL     <pre><code># \u7528\u4e8e\u663e\u793a\u6240\u6709 Topic \u7684\u9875\u9762\n#\uff08\u5176\u5b9e\u5df2\u7ecf\u662f\u4e8c\u7ea7\u8def\u5f84\u4e86\uff0c\u53ea\u4e0d\u8fc7\u524d\u9762\u662f\u7a7a\u7684\uff09\npath('topics/', views.topics, name='topics')\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u5bf9\u5e94\u7684\u89c6\u56fe\u51fd\u6570     <pre><code># @ learnings/views.spy\n\n# \u9700\u8981\u7528\u5230 Topic \u6a21\u578b\nfrom .models import Topic\n\ndef topics(request):\n    # \u83b7\u53d6\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709 topic \u5b9e\u4f8b\n    topics = Topic.objects.order_by('date_added')\n    context = {'topics': topics}\n    # \u989d\u5916\u4f20\u9012 context \u6570\u636e\n    return render(request, 'learnings/topics.html', context)\n</code></pre></p> </li> <li> <p>\u7f16\u5199\u6a21\u7248     <pre><code># @ learnings/templates/learnings/topics/html\n\n# \u7ee7\u627f\n{% extends 'learnings/base.html' %}\n\n# \u63d2\u69fd content \u5185\u5bb9\n{% block content %}\n&lt;h2&gt;TOPICS are as follows:&lt;/h2&gt;\n&lt;ul&gt;\n    # \u8bbf\u95ee\u7684\u662f context \u5b57\u5178\u4e2d\u7684 topics \u5206\u91cf\n    {% for t in topics %}\n        &lt;li&gt;\n            # topic \u7684\u8be6\u60c5\u754c\u9762\n            &lt;a href=\"{% url 'learnings:topic' t.id %}\"&gt;\n                {{ t }}\n            &lt;/a&gt;\n        &lt;/li&gt; # \u663e\u793a __str__ \u7684\u8fd4\u56de\u503c\n    {% empty %} # topics \u6570\u7ec4\u4e3a\u7a7a\u7684\u60c5\u666f\n        &lt;li&gt;Sorry, \u5c1a\u672a\u6dfb\u52a0\u4efb\u4f55 Topic&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n{% endblock content %}\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#343-topic-entry","title":"3.4.3 \u7528\u4e8e\u663e\u793a\u5355\u4e2a Topic  \u4e0b\u6240\u6709 Entry \u7684\u9875\u9762","text":"<ol> <li> <p>\u65b0\u589e URL     <pre><code># \u540e\u9762\u7684\u53c2\u6570\u662f topic \u5b9e\u4f8b\u5bf9\u5e94\u7684 id\npath(\"topics/&lt;int:topic_id&gt;/\", views.topic, name='topic')\n</code></pre></p> </li> <li> <p>\u65b0\u589e\u89c6\u56fe     <pre><code>def topic(request, topic_id):\n    # \u6839\u636e topic_id \u83b7\u53d6\u6240\u6709\u4e0b\u8f96 entry\n    topic = Topic.object.get(id=topic_id)\n    entries = topic.entry_set.order_by('-date_added')\n    context = {\n        'topic': topic,\n        'entries': entries\n    }\n    return render(request, 'learnings/topic.html', context)\n</code></pre></p> </li> <li> <p>\u65b0\u589e\u6a21\u7248</p> </li> <li><code>|</code> \u8868\u793a\u300c\u6a21\u7248\u8fc7\u6ee4\u5668\u300d=&gt; \u5b9e\u9645\u8f93\u51fa\u7684\u662f\u7ad6\u7ebf\u540e\u7684\u5185\u5bb9<ul> <li><code>date:'M d, Y H:i'</code> \u7528\u4e8e\u663e\u793a\u5f62\u5982 <code>Januart 1,2018 23:00</code> \u7684\u65f6\u95f4\u6233</li> <li><code>linebreaks</code> \u7528\u4e8e\u663e\u793a\u5b8c\u6574\u5185\u5bb9\uff08\u800c\u4e0d\u662f <code>__str__</code> \u8fd4\u56de\u7684\u524d 50 \u5b57\uff09 <pre><code># learnings/templates/learnings/topic.html\n# \u7701\u7565\u7ee7\u627f\u548c\u63d2\u69fd\u5b9a\u4e49\n\n&lt;h2&gt;\u8bdd\u9898 {{ topic }} \u4e2d\u7684\u6240\u6709 Entry \u5982\u4e0b\uff1a&lt;/h2&gt;\n&lt;ul&gt;\n    {% for e in entries %}\n    &lt;li&gt;\n        &lt;p&gt;{{ e.date_added|date:'M d, Y H:i' }}&lt;/p&gt;\n        &lt;p&gt;{{ e.text|linebreaks }}&lt;/p&gt;\n    &lt;/li&gt;\n    {% empty %}\n    &lt;li&gt;\u6682\u65f6\u8fd8\u6ca1\u6709 entry \u634f&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n</code></pre></li> </ul> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#34_1","title":"3.4 \u7528\u6237\u7ba1\u7406","text":""},{"location":"Nulling/Python/2-2%20Project/#341-topic","title":"3.4.1 \u652f\u6301\u6dfb\u52a0 Topic","text":"<p>\u9700\u8981\u5bfc\u5165\u5305\u542b\u8868\u5355\u7684\u6a21\u5757 <code>forms.py</code></p> <ol> <li> <p>\u7528\u4e8e\u65b0\u5efa Topic \u7684\u8868\u5355     <pre><code># @ learnings/form.py\nfrom django import forms\nfrom .models import Topic\n\n# TopicForm \u662f\u7528\u4e8e\u65b0\u5efa Topic \u7684\u8868\u5355\nclass TopicFrom(froms.ModelForm):\n    class Meta:\n        model = Topic\n        fields = ['text']\n        labels = { 'text': ''} # \u4e0d\u4e3a\u5b57\u6bb5 text \u751f\u6210\u6807\u7b7e\n</code></pre></p> </li> <li> <p>\u65b0\u589e URL     <pre><code>path('new_topic', views.new_topic, name='new_topic')\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u89c6\u56fe\u51fd\u6570</p> <p>\u9700\u8981\u5904\u7406\u4e24\u79cd\u60c5\u51b5\uff1a\u521a\u8fdb\u5165\u9875\u9762\uff08\u7a7a\u8868\u5355\uff09/ \u63d0\u4ea4\u8868\u5355\uff08\u91cd\u5b9a\u5411\u81f3 topics \u9875\u9762\uff09</p> <p>\u524d\u8005\u53d1\u9001 GET \u8bf7\u6c42\uff0c\u800c\u540e\u8005\u53d1\u9001 POST \u8bf7\u6c42\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>request.method</code> \u8fdb\u884c\u533a\u5206</p> <ul> <li><code>is_valid()</code> \u7528\u4e8e\u9a8c\u8bc1\u7528\u6237\u586b\u5199\u4e86\u6240\u6709 \u5fc5\u586b\u5b57\u6bb5\uff0c\u4e14\u8f93\u5165\u4e0e\u8981\u6c42\u7684\u5b57\u6bb5\u7c7b\u578b\u4e00\u81f4</li> <li><code>save()</code> \u7528\u4e8e\u5c06\u6307\u5b9a\u7684\u8868\u5355\u5185\u5bb9\u4fdd\u5b58\u81f3\u6570\u636e\u5e93</li> </ul> <pre><code>from django,shortcuts import redirect\nfrom .forms import TopicForm\n\ndef new_topic(request):\n    if request.method != 'POST':\n        # \u672a\u63d0\u4ea4\uff0c\u65b0\u5efa\u7a7a\u8868\u5355\n        form = TopicForm()\n    else:\n        # \u5904\u7406\u63d0\u4ea4\u7684\u6570\u636e\n        form = TopicForm(data=request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('learnings:topics')\n\n    # \u663e\u793a\u7a7a\u8868\u5355 / \u6307\u51fa\u6570\u636e\u65e0\u6548\n    context = {'form': form}\n    return render(request, 'learnings/new_topic.html', context)\n</code></pre> </li> <li> <p>\u521b\u5efa\u65b0\u7684\u6a21\u7248</p> <ul> <li>action \u6307\u51fa\u8be5\u8868\u5355\u5c06\u53d1\u9001\u7ed9 view \u4e2d\u7684 <code>new_topic()</code></li> <li><code>{% csrf token %}</code> \u7528\u4e8e\u9632\u8303\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020\u653b\u51fb</li> <li> <p><code>{{ form.as_p }}</code> \u7528\u4e8e\u81ea\u52a8\u521b\u5efa\u8868\u5355\u6240\u9700\u7684\u5168\u90e8\u5b57\u6bb5</p> <p><code>as_p</code> \u8868\u793a\u4ee5\u6bb5\u843d\u683c\u5f0f\u6e32\u67d3\u6240\u6709\u7684\u8868\u5355\u5143\u7d20</p> <p>\u4f46 Django \u4e0d\u4f1a\u81ea\u52a8\u521b\u5efa\u63d0\u4ea4\u6309\u94ae</p> </li> </ul> <pre><code>&lt;h2&gt;Add a new Topic:&lt;/h2&gt;\n&lt;form action=\"{% url 'learnings:new_topic' %}\" method='post'&gt;\n    {% csrf_token %}\n    {{ form.as_p }}\n    &lt;button name='submit'&gt;Add Topic&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> </li> <li> <p>\u5c06 topics \u754c\u9762\u8fde\u63a5\u5230 new_topic \u754c\u9762     <pre><code>&lt;a href=\"{% url 'learnings:new_topic' %}\"&gt;\n    Add Topic\n&lt;/a&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#342-entry","title":"3.4.2 \u652f\u6301\u6dfb\u52a0\u65b0\u7684 Entry","text":"<ol> <li> <p>\u521b\u5efa\u8868\u5355 EntryForm     <pre><code>class EntryForm(forms.ModelForm):\n    class Meat:\n        model = Entry\n        fields = ['text']\n        labels = { 'text': 'Entry:'} # \u6307\u5b9a Label\n        # widget \u662f\u4e00\u4e2a HTML \u5143\u7d20\uff0c\u8fd9\u91cc\u5b9a\u503c\u4e86\u5bbd 80 \u5217\u7684\u6587\u672c\u533a\u57df\uff08\u9ed8\u8ba4 40 \u5217\uff09\n        widget = {\n            'text': forms.Textarea(attrs={'cols':80})\n        }\n</code></pre></p> </li> <li> <p>\u6dfb\u52a0 URL <code>new_entry</code> <pre><code># \u901a\u8fc7 topic_id \u7ed1\u5b9a\u5bf9\u5e94\u7684 topic\npath('new_entry/&lt;int:topic_id&gt;', view.new_entry, name='new_entry')\n</code></pre></p> </li> <li> <p>\u6dfb\u52a0\u89c6\u56fe\u51fd\u6570     <pre><code>def new_entry(request, topic_id):\n    topic = Topic.objects.get(id=topic_id)\n\n    if request.method != 'POST':\n        form = EntryForm()\n    else:\n        form = EntryForm(data=request.POST)\n        if form.is_valid():\n            # \u963b\u6b62\u63d0\u4ea4\uff08\u8fd8\u6ca1\u6307\u5b9a Topic\uff09\n            new_entry = form.save(commit=False)\n            # \u624b\u52a8\u6307\u5b9a Topic\n            new_entry.topic = topic\n            new_entry.save()\n            return redirect('learnings:topic', topic_id=topic_id)\n\n    context = {\n        'topic': topic,\n        'form': form\n    }\n    return render(request, 'learnings/new_entry.html', context)\n</code></pre></p> </li> <li> <p>\u7f16\u5199\u6a21\u7248     <pre><code>&lt;p&gt;\n    Add new entry for Topic\n    &lt;a href=\"{% url 'learnings:topic' topic.id%}\"&gt;\n     {{ topic }}\n    &lt;/a&gt;\n&lt;/p&gt;\n\n&lt;form action=\"{% url 'learnings:new_entry' topic.id %}\" method='post'&gt;\n    {% csrf_token %}\n    {{ form.as_p }}\n    &lt;button name='submit'&gt;Add Entry&lt;/button&gt;\n&lt;/form&gt;\n</code></pre></p> </li> <li> <p>\u8fde\u63a5\u5230 topic \u8be6\u60c5\u9875\u9762     <pre><code>&lt;a href=\"{% url 'learnings:new_entry' topic.id %}\"&gt;\n    Add new Entry\n&lt;/a&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#343-entry","title":"3.4.3 \u652f\u6301\u7f16\u8f91 Entry","text":"<ol> <li> <p>\u65b0\u589e URL     <pre><code>path('edit_entry/&lt;int:entry_id&gt;', views.edit_entry, name='edit_entry')\n</code></pre></p> </li> <li> <p>\u89c6\u56fe\u51fd\u6570     <pre><code>def edit_entry(request, entry_id):\n    entry = Entry.objects.get(id=entry_id)\n    topic = entry.topic\n\n    if request.method != 'POST':\n        # \u8bfb\u53d6\u65e7\u5b9e\u4f8b\u4fe1\u606f\n        form = EntryForm(instance=entry)\n    else:\n        # \u7528\u540c\u4e00\u4e2a\u5b9e\u4f8b\u5b58\u50a8\u65b0\u7684\u4fe1\u606f\n        form = EntryForm(instance=entry, data=request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('learnings:topic', topic_id=topic.id)\n\n    context = {\n        'entry': entry,\n        'topic': topic,\n        'form': form\n    }\n    return render(request, 'learnings/edit_entry.html', context)\n</code></pre></p> </li> <li> <p>\u6a21\u7248     <pre><code>&lt;p&gt;\n    Edit entry for Topic\n    &lt;a href=\"{% url 'learnings:topic' topic.id%}\"&gt;\n     {{ topic }}\n    &lt;/a&gt;\n&lt;/p&gt;\n\n&lt;form action=\"{% url 'learnings:edit_entry' entry.id %}\" method='post'&gt;\n    {% csrf_token %}\n    {{ form.as_p }}\n    &lt;button name='submit'&gt;Save Changes&lt;/button&gt;\n&lt;/form&gt;\n</code></pre></p> </li> <li> <p>\u94fe\u63a5\u5230 topic \u9875\u9762     <pre><code>&lt;p&gt;\n    &lt;a href=\"{% url 'learnings:edit_entry' e.id%}\"&gt;\n        Edit\n    &lt;/a&gt;\n&lt;/p&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#344","title":"3.4.4 \u521b\u5efa\u666e\u901a\u8d26\u53f7","text":"<p>\u4f7f\u7528 Django \u81ea\u5e26\u7684\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\u7cfb\u7edf\u5b8c\u6210\uff0c\u4fee\u6539 Topic \u4f7f\u5176\u5f52\u5c5e\u4e8e\u521b\u5efa\u8005\u8d26\u6237</p> <ol> <li>\u521b\u5efa\u65b0\u7684 app <code>users</code> <pre><code>python manage.py startapp users\n</code></pre></li> <li>\u5c06\u65b0 app \u5305\u542b\u81f3\u9879\u76ee     <pre><code># @ settings.py\nINSTALLED_APPS = [\n    ...,\n    'users',\n    ...\n]\n</code></pre></li> <li>\u6dfb\u52a0\u65b0\u7684 URL     <pre><code># @ urls.py\nurlpatterns = [\n    ...,\n    # \u5b9a\u4e49\u7684\u662f\u4e00\u7ea7\u8def\u7531\n    path('users/', include('users.urls')),\n    ...\n]\n</code></pre></li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#3441","title":"3.4.4.1 \u767b\u5f55\u9875\u9762","text":"<ol> <li> <p>\u5b9a\u4e49 URL</p> <ul> <li>\u9ed8\u8ba4\u7684\u8eab\u4efd\u8ba4\u8bc1 URL \u5305\u542b\u4e86 <code>login</code> , <code>logout</code>\uff0c\u5bf9\u5e94\u7684\u8bf7\u6c42\u5c06\u76f4\u63a5\u53d1\u9001\u7ed9\u9ed8\u8ba4\u89c6\u56fe\u51fd\u6570\uff08\u4e0d\u7528\u5199\u54e9\uff09</li> </ul> <pre><code># @  users/urls.py\nfrom django.urls import path, include\n\napp_name = 'users'\nurlpatterns = [\n    # \u5305\u542b\u9ed8\u8ba4\u8eab\u4efd\u8ba4\u8bc1\n    path('', include('django.contrib.auth.urls'))\n]\n</code></pre> </li> <li> <p>\u7f16\u5199\u6a21\u7248</p> <ul> <li>\u6ce8\u610f\u4e09\u7ea7\u8def\u5f84\u662f <code>registraion</code> \uff08\u4e0d\u662f\u540c\u540d\u7684 <code>users</code>\uff09</li> </ul> <pre><code># @ users/templates/registration/login.html\n\n# \u7ee7\u627f learnings \u4e2d\u5b9a\u4e49\u7684 base \u6a21\u7248\n{% extends 'learnings/base.html' %}\n\n# \u63d2\u69fd\u5185\u5bb9\n{% block content %}\n\n    {% if form.errors %}\n        &lt;p&gt;\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5&lt;/p&gt;\n    {% endif %}\n\n    &lt;form method='post' action=\"{% url 'users:login' %}\"&gt;\n        {% csrf_token %}\n        {{ form.as_p }}\n        &lt;button name='submit'&gt;\u767b\u5f55&lt;/button&gt;\n        # \u9690\u85cf\u5143\u7d20\u7528\u4e8e\u544a\u77e5 Django \u767b\u5f55\u6210\u529f\u540e\u7684\u91cd\u5b9a\u5411\u5730\u5740\uff08\u8fd4\u56de index\uff09\n        &lt;input type='hidden' name='next'\n         value='{% url \"learnings:index\" %}'/&gt;\n    &lt;/form&gt;\n\n{% endblock content %}\n</code></pre> </li> <li> <p>\u94fe\u63a5\u5230 base \u6a21\u7248</p> <ul> <li>\u5df2\u767b\u9646\u60c5\u51b5\u4e0b\u4e0d\u518d\u663e\u793a\u767b\u5f55\u5165\u53e3 \u2014\u2014 \u7528 IF \u5305\u88f9</li> </ul> <pre><code># @ learnings/templates/learnings/base.html\n{% if user.is_authenticated %}\n    &lt;p&gt;Hello, {{ user.username }}&lt;/p&gt;\n{% else %}\n    &lt;p&gt;\n        \u8bf7\n        &lt;a href=\"{% url 'users:login' %}\"&gt;\n            \u767b\u5f55\n        &lt;/a&gt;\n    &lt;/p&gt;\n{% endif %}\n</code></pre> </li> </ol> <p>\u5728 Django \u7684\u7528\u6237\u8ba4\u8bc1\u7cfb\u7edf\u4e2d\uff0c\u6240\u6709\u9875\u9762 \u90fd\u53ef\u4ee5 \u8bbf\u95ee <code>user</code> \u53d8\u91cf\u3002\u5176\u4e2d <code>is_authenticated</code> \u662f\u4e00\u4e2a Boolean \u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u7528\u4e8e\u5224\u65ad\u7528\u6237\u662f\u5426\u5df2\u7ecf\u767b\u5f55</p>"},{"location":"Nulling/Python/2-2%20Project/#3442","title":"3.4.4.2 \u6ce8\u9500\u9875\u9762","text":"<ol> <li> <p>\u5728 base \u6a21\u7248\u4e2d\u6dfb\u52a0\u6ce8\u9500\u5165\u53e3</p> <p>\u53ea\u662f\u5728\u201c\u5df2\u767b\u9646\u201d\u7684\u60c5\u51b5\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u8d85\u94fe\u63a5</p> <pre><code># @ learnings/templates/learnings/base.html\n{% if user.is_authenticated %}\n    &lt;p&gt;Hello, {{ user.username }}&lt;/p&gt;,\n    &lt;a href=\"{% url 'users:logout' %}\"&gt;\n        \u767b\u51fa\n    &lt;/a&gt;\n{% else %}\n</code></pre> </li> <li> <p>\u7f16\u5199\u6a21\u7248\uff08\u6ce8\u610f\u540d\u5b57\uff09     <pre><code># @ users/templates/registration/logged_out.html\n# \u8fd8\u662f\u7ee7\u627f base\n\n{% block content %}\n&lt;p&gt;\u60a8\u5df2\u6210\u529f\u767b\u51fa\uff01&lt;/p&gt;\n{% endblock content %}\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#3443","title":"3.4.4.3 \u6ce8\u518c\u9875\u9762","text":"<ol> <li>\u65b0\u5efa URL     <pre><code># \u5b8c\u6574\u5730\u5740\u662f root/users/register\npath('register/', views.register, name='register')\n</code></pre></li> <li>\u65b0\u5efa\u89c6\u56fe\u51fd\u6570     <pre><code>from django.contrib.auth import login\n# \u8868\u5355\u7528\u7684\u662f\u81ea\u5e26\u7684\nfrom django.contrib.auth.forms import UserCreationForm\n\ndef register(request):\n    if request.method != 'POST':\n        form = UserCreationForm()\n    else:\n        form = UserCreationForm(data=request.POST)\n        if form.is_valid():\n            new_user = form.save()\n            # \u81ea\u52a8\u767b\u5f55\n            login(request, new_user)\n            # \u91cd\u5b9a\u5411\u81f3\u9996\u9875\n            redirect('learnings:index')\n\n    # \u663e\u793a\u7a7a\u8868\u5355 / \u8868\u5355\u65e0\u6548\n    context = { 'form': form }\n    return render(request, 'registration/register.html', context)\n</code></pre></li> <li>\u521b\u5efa\u6a21\u7248     <pre><code># @ users/templates/registration/register.html\n# \u7ee7\u627f base\n\n{% block content %}\n&lt;h2&gt;\u8fd9\u662f\u6ce8\u518c\u9875\u9762&lt;/h2&gt;\n&lt;form method='post' action=\"{% url 'users:register' %}\"&gt;\n    {% csrf_token %}\n    {{ form.as_p }}\n    &lt;button name='submit'&gt;\u6ce8\u518c&lt;/button&gt;\n    &lt;input type='hidden' name='next'\n     value='{% url \"learnings:index\" %}'/&gt;\n&lt;/form&gt;\n{% endblock content %}\n</code></pre></li> <li> <p>\u8054\u7cfb\u5230 base \u6a21\u7248</p> <p>\u5b8c\u5584\u672a\u767b\u5f55\u5206\u652f\u7684\u903b\u8f91</p> <p>\u597d\u50cf\u6ca1\u529e\u6cd5\u6b63\u786e\u91cd\u5b9a\u5411\u5230 index\uff0c\u6de6\uff01</p> <pre><code>{% else %}\n    &lt;p&gt;\n        \u8bf7\n        &lt;a href=\"{% url 'users:login' %}\"&gt;\n            \u767b\u5f55\n        &lt;/a&gt;\n        \u6216\n        &lt;a href=\"{% url 'users:register' %}\"&gt;\n            \u6ce8\u518c\n        &lt;/a&gt;\n    &lt;/p&gt;\n{% endif %}\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#344_1","title":"3.4.4 \u8bbf\u95ee\u9650\u5236","text":"<ol> <li> <p>\u53ea\u5141\u8bb8\u767b\u5f55\u7528\u6237\u8bbf\u95ee Topics \u9875\u9762</p> <p>\u4f7f\u7528\u88c5\u9970\u5668 <code>@login_required</code> =&gt; \u4e0d\u767b\u5f55\u76f4\u63a5\u8bbf\u95ee\u4f1a\u62a5 404</p> <pre><code># @ learnings/views.py\nfrom django.contrib.auth.decorators import login_required\n# \u53ea\u662f\u52a0\u4e00\u4e2a\u88c5\u9970\u5668\n\n@login_required\ndef topics(request):\n    return ...\n</code></pre> </li> <li> <p>\u5c06\u672a\u767b\u5f55\u8bbf\u95ee\u64cd\u4f5c\u91cd\u5b9a\u5411\u81f3\u767b\u5f55\u9875\u9762     <pre><code># @ settings.py\nLOGIN_URL = 'users:login'\n</code></pre></p> </li> </ol> <p>\u7406\u8bba\u4e0a\u9664\u4e86 \u767b\u5f55/\u6ce8\u518c/\u4e3b\u9875 \u4ee5\u5916\u7684\u6240\u6709\u9875\u9762\u90fd\u5e94\u8be5\u52a0\u8bbf\u95ee\u9650\u5236\u7684\u88c5\u9970\u5668</p>"},{"location":"Nulling/Python/2-2%20Project/#345","title":"3.4.5 \u5173\u8054\u7528\u6237\u4e0e\u6570\u636e","text":"<ol> <li> <p>\u4fee\u6539 Topic \u6a21\u578b     <pre><code># @ learnings/models.py\nfrom django.contrib.auth.models import User\n\n# \u4f7f\u7528\u5916\u952e\u5173\u8054\u5230 owner\nclass Topic(models.Model):\n    ...\n    owner = models.ForeignKey(User, on_delete=models.CASCADE)\n    ...\n</code></pre></p> </li> <li> <p>\u8fc1\u79fb\u6570\u636e\u5e93</p> <p>\u628a\u73b0\u6709\u4e3b\u9898\u5168\u90fd\u5173\u8054\u5230 admin\uff08\u4e0d\u77e5\u9053\u4eb2\u5988\uff0c\u5f00\u59cb\u6446\u70c2\uff09</p> <pre><code>python3 manage.py makemigrations learnings\n# \u4e0b\u9762\u6307\u5b9a\u9ed8\u8ba4\u7ed1\u5b9a\u7684 owner\n&gt;&gt; Select an option: 1 # \u76f4\u63a5\u63d0\u4f9b\u9ed8\u8ba4\u503c\n&gt;&gt; Please enter the default value now\n&gt;&gt;&gt; 1 # \u9ed8\u8ba4\u5173\u8054\u5230 id=1 \u7684\u7528\u6237\n\n# \u6267\u884c\u8fc1\u79fb\npython3 manage.py migrate\n</code></pre> </li> <li> <p>\u4ec5\u5141\u8bb8\u7528\u6237\u8bbf\u95ee\u81ea\u5df1\u62e5\u6709\u7684 Topic</p> <pre><code># @ learnings/views.py\ndef topics(request);\n    # \u53ea\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4f5c\u4e3a owner \u7684\u4e3b\u9898\n    topics = Topic.objects.filter(owner=request.user).order_by('date_added')\n    ...\n</code></pre> </li> <li> <p>\u4fdd\u62a4\u5355\u4e2a\u4e3b\u9898\u9875\u9762</p> <p>\u76ee\u524d\u53ea\u505a\u4e86\u767b\u5f55\u9650\u5236\uff0c\u4f46\u662f\u8bb0\u4f4f topic_id \u4ecd\u53ef\u4ee5\u8d8a\u6743\u8bbf\u95ee\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684 topic</p> <pre><code># @ learnings/views.py\nfrom django.http import Http404 # \u5f3a\u884c 404\n\n@login_required\ndef topic(request, topic_id):\n    topic = Topic.objects.get(id=topic_id)\n    # \u786e\u8ba4\u8bf7\u6c42\u6765\u81ea\u4e8e owner\n    if topic.owner != request.user:\n        raise Http404 # \u8d8a\u6743\u4f1a\u62a5 PageNotFound\n</code></pre> </li> <li> <p>\u4fdd\u62a4 edit_entry</p> <p>\u540c\u7406\uff0c\u5728 <code>edit_entry</code> \u91cc\u5224\u65ad\u4e00\u4e0b\u5c31\u884c</p> </li> <li> <p>\u5c06\u65b0\u5efa Topic \u5173\u8054\u81f3\u5f53\u524d\u7528\u6237     <pre><code># @ learnings/views.py\n\n@login_required\ndef new_topic(request):\n    ...\n    if form.is_valid():\n        # \u6682\u65f6\u4e0d\u63d0\u4ea4\uff08\u8fd8\u6ca1\u6307\u5b9a user\uff09\n        new_topic = form.save(commit=False)\n        # \u624b\u52a8\u6307\u5b9a user\n        new_topic.owner = request.user\n        new_topic.save()\n        ...\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#35","title":"3.5 \u6837\u5f0f\u8bbe\u8ba1","text":"<p>\u4f7f\u7528 <code>django-bootstrap4</code> \u521b\u5efa\u54cd\u5e94\u5f0f\u9875\u9762</p> <ol> <li>\u5b89\u88c5 <code>django-bootstrap4</code> <pre><code>pip install django-bootstrap4\n</code></pre></li> <li>\u5f15\u5165     <pre><code># @ settings\nINSTALLED_APPS = [\n    # mine\n    # third_party\n    'bootstrap4',\n    # default\n]\n</code></pre></li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#351-base","title":"3.5.1 \u4fee\u6539 base","text":"<p>\u76f4\u63a5\u63a8\u5012\u91cd\u6765\u54e9</p> <ol> <li> <p>\u5b9a\u4e00\u4e2a\u6807\u9898\uff0c\u5b8c\u5584 bootstrap \u6240\u9700\u4fe1\u606f     <pre><code># \u52a0\u8f7d bootstrap \u63d0\u4f9b\u7684\u6a21\u7248\u6807\u7b7e\n{% load bootstrap4 %}\n\n&lt;!doctype html&gt;\n&lt;html lang='en'&gt;\n    &lt;head&gt;\n        &lt;meta charset='utf=8'/&gt;\n        &lt;meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'/&gt;\n        &lt;title&gt;\u6211\u7684\u5b66\u4e60\u7b14\u8bb0&lt;/title&gt;\n\n        {% bootstrap_css %}\n        {% bootstrap_javascript jquery='full' %}\n    &lt;/head&gt;\n&lt;/html&gt;\n</code></pre></p> </li> <li> <p>\u5b9a\u4e49 navBar</p> <p>\u4e3a\u4e86\u79fb\u52a8\u7aef\u9002\u914d\uff0c\u8fd9\u91cc\u5206\u4e09\u5757\u5b9a\u4e49 navBar</p> <pre><code>&lt;body&gt;\n    &lt;nav class='navbar navbar-expend-md navbar-light bg-light mb-4 border'&gt;\n        # 1. \u5f53\u5e73\u65f6\u7684 Logo \u4e3b\u9875\u94fe\u63a5\u7528\u7684\n        &lt;a class='navbar-brand' href=\"{% url 'learnings:index'%}\"&gt;\n            \u5b66\u4e60\u7b14\u8bb0\n        &lt;/a&gt;\n        # 2. \u4e00\u4e2a\u6298\u53e0\u83dc\u5355\n        &lt;button class=\"navbar-toggler\" type=\"button\"\n         data-toggle=\"collapse\" data-target=\"#navbarCollapse\"\n         aria-controls=\"navbarCollapse\" aria-expend=\"false\"\n         aria-label=\"Toggle navigation\"\n         &gt;\n            &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n        # 3. \u83dc\u5355\u9009\u9879(\u4eec)\n        &lt;div class=\"collapse navbar-collapse\" id=\"navbarCollapse\"&gt;\n            &lt;ul class=\"navbar-nav mr-auto\"&gt;\n                &lt;li class=\"nav-item\"&gt;\n                    &lt;a class=\"nav-link\" href=\"{% url 'learnings:topics' %}\"&gt;\n                        \u5168\u90e8\u4e3b\u9898\n                    &lt;/a&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n        # 4. \u767b\u5f55\u76f8\u5173\u7684\u7ec4\u4ef6\n        &lt;ul class=\"navbar-nav ml-auto\"&gt;\n            {% if user.is_authenticated %}\n                &lt;li class=\"nav-item\"&gt;\n                    &lt;span class=\"navbar-text\"&gt;Hello, {{ user.username }}.&lt;/span&gt;\n                &lt;/li&gt;\n                &lt;li class=\"nav-item\"&gt;\n                    &lt;a class=\"navbar-link\" href=\"{% url 'users:logout' %}\"&gt;\u767b\u51fa&lt;/a&gt;\n                &lt;/li&gt;\n            {% else %}\n                &lt;li class=\"nav-item\"&gt;\n                    &lt;a class=\"navbar-link\" href=\"{% url 'users:register' %}\"&gt;\u6ce8\u518c&lt;/a&gt;\n                &lt;/li&gt;\n                &lt;li class=\"nav-item\"&gt;\n                    &lt;a class=\"navbar-link\" href=\"{% url 'users:login' %}\"&gt;\u767b\u5f55&lt;/a&gt;\n                &lt;/li&gt;\n            {% endif%}\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n&lt;/body&gt;\n</code></pre> </li> <li> <p>\u5b9a\u4e49 content \u90e8\u5206\u7684\u6837\u5f0f     <pre><code>&lt;main role=\"main\" class=\"container\"&gt;\n    # \u8fd9\u4e2a\u5730\u65b9\u653e header\n    &lt;div class=\"pb-2 mb-2 border-bottom\"&gt;\n        {% block page_header %}\n        {% endblock page_header %}\n    &lt;/div&gt;\n    &lt;div class=\"pb-2 mb-2 border-bottom\"&gt;\n        {% block content %}\n        {% endblock content %}\n    &lt;/div&gt;\n&lt;/main&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#352-index","title":"3.5.2 \u4fee\u6539 index","text":"<p>\u4f7f\u7528 <code>jumbotron</code> \u5143\u7d20\u4fee\u6539\u4e3b\u9875\u6837\u5f0f\uff08\u7ed9\u4e00\u4e9b\u64cd\u4f5c\u63d0\u793a\uff09</p> <pre><code># \u7ee7\u627f\n\n{% block page_header %}\n    &lt;div class=\"jumbotron\"&gt;\n        &lt;h1 class=\"display-3\"&gt;\n            \u8bb0\u5f55\u4f60\u7684\u5b66\u4e60\u8fc7\u7a0b\n        &lt;/h1&gt;\n        &lt;p class=\"lead\"&gt;\n            Make your owen Learning Log, and keetp a list of the topics you're learning about. Whenever you learn something new about a topic, make an entry summarizing what you've learned.\n        &lt;/p&gt;\n        &lt;a class=\"btn btn-lg btn-primary\" href=\"{% url 'users:register' %}\"&gt;\n            \u970d\u970d\uff0c\u5feb\u6765\u6ce8\u518c\u554a\uff01&amp;raquo;\n        &lt;/a&gt;\n    &lt;/div&gt;\n{% endblock page_header %}\n</code></pre>"},{"location":"Nulling/Python/2-2%20Project/#353-login","title":"3.5.3 \u4fee\u6539 login","text":"<pre><code># \u7ee7\u627f\n\n{% load bootstrap4 %}\n\n{% block page_header %}\n&lt;h2&gt;\u767b\u5f55\u5230\u4f60\u7684\u8d26\u6237&lt;/h2&gt;\n{% endblock page_header %}\n\n{% block content %}\n&lt;form method='post' action=\"{% url 'users:login' %}\" class=\"form\"&gt;\n{% csrf_token %}\n{% bootstrap_form form %}\n{% buttons %}\n&lt;button name='submit'&gt;\u767b\u5f55&lt;/button&gt;\n{% endbuttons%}\n\n&lt;input type='hidden' name='next'\nvalue='{% url \"learnings:index\" %}'/&gt;\n&lt;/form&gt;\n{% endblock content %}\n</code></pre>"},{"location":"Nulling/Python/2-2%20Project/#354-topics","title":"3.5.4 \u4fee\u6539 topics","text":"<pre><code># \u7ee7\u627f\n\n{% block page_header %}\n&lt;h1&gt;\u4e3b\u9898\u5217\u8868&lt;/h1&gt;\n{% endblock page_header %}\n\n{% block content %}\n&lt;ul&gt;\n    {% for t in topics %}\n        &lt;li&gt;\n            &lt;h3&gt;\n                &lt;a href=\"{% url 'learnings:topic' t.id%}\"&gt;{{ t }}&lt;/a&gt;\n            &lt;/h3&gt;\n        &lt;/li&gt;\n    {% empty %}\n        &lt;li&gt;\n            &lt;h3&gt;\n                \u6682\u672a\u6dfb\u52a0\u4efb\u4f55\u4e3b\u9898\u634f\n            &lt;/h3&gt;\n        &lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n\n&lt;h3&gt;\n    &lt;a href=\"{% url 'learnings:new_topic' %}\"&gt;\u65b0\u589e\u4e3b\u9898&lt;/a&gt;\n&lt;/h3&gt;\n{% endblock content %}\n</code></pre>"},{"location":"Nulling/Python/2-2%20Project/#355-topic","title":"3.5.5 \u4fee\u6539 topic","text":"<pre><code># \u7ee7\u627f\n\n{% block page_header %}\n&lt;h1&gt;\u4e3b\u9898\uff1a{{ topic }}&lt;/h1&gt;\n{% endblock page_header %}\n\n{% block content %}\n&lt;p&gt;\n    &lt;a href=\"{% url 'learnings:new_entry' topic.id%}\"&gt;\u65b0\u5efa\u6761\u76ee&lt;/a&gt;\n&lt;/p&gt;\n\n{% for e in entries %}\n    &lt;div class=\"card mb-3\"&gt;\n        &lt;h4 class=\"card-header\"&gt;\n            {{ e.date_added|date:'M d, Y H:i' }}\n            &lt;small&gt;\n                &lt;a href=\"{% url 'learnings:edit_entry' e.id %}\"&gt;\n                    \u7f16\u8f91\n                &lt;/a&gt;\n            &lt;/small&gt;\n        &lt;/h4&gt;\n        &lt;div class=\"card-body\"&gt;\n            {{ e.text|linebreaks }}\n        &lt;/div&gt;\n    &lt;/div&gt;\n{% empty %}\n    &lt;p&gt;\u62b1\u6b49\uff0c\u8be5\u4e3b\u9898\u4e0b\u8fd8\u6ca1\u6709\u6761\u76ee\u634f&lt;/p&gt;\n{% endfor %}\n\n&lt;/ul&gt;\n{% endblock content %}\n</code></pre>"},{"location":"Nulling/Python/2-2%20Project/#36","title":"3.6 \u9879\u76ee\u90e8\u7f72","text":"<p>\u90e8\u7f72\u5230 <code>Heroku</code>\uff0c\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e Web \u7684\u5e73\u53f0</p> <ol> <li>\u6ce8\u518c Heroku \u8d26\u53f7</li> <li>\u5b89\u88c5 Heroku CLI</li> <li>\u5b89\u88c5\u4f9d\u8d56     <pre><code>pip3 install psycopg2===2.7.*\npip3 install django-heroku\npip3 install gunicorn\n</code></pre></li> <li>\u521b\u5efa\u6587\u4ef6 <code>requirements.txt</code> <pre><code># \u4f7f\u7528 pip \u751f\u6210\uff08\u544a\u8bc9 heroku \u672c\u9879\u76ee\u7684\u4f9d\u8d56\uff09\npip3 freeze &gt; requirements.txt\n# \u90e8\u7f72\u65f6\uff0cHeroku \u5c06\u81ea\u52a8\u5b89\u88c5\u8be5\u6587\u4ef6\u4e2d\u5217\u51fa\u7684\u4f9d\u8d56\uff0c\u4ece\u800c\u5efa\u7acb\u6b63\u5e38\u7684\u73af\u5883\n</code></pre></li> <li>\u6307\u5b9a Python \u7248\u672c     <pre><code># \u67e5\u770b\u865a\u62df\u73af\u5883\u4e2d\u7684 Python \u7248\u672c\npython --version\n</code></pre> <pre><code># @ manage.py \u540c\u7ea7\u76ee\u5f55/runtime.txt\npython-[\u7248\u672c]\n</code></pre></li> <li>\u4fee\u6539 <code>settings.py</code> <pre><code># @ append Heroku \u7684\u76f8\u5173\u8bbe\u7f6e\nimport django_heroku\ndjango_heroku.settings(locals())\n</code></pre></li> <li> <p>\u521b\u5efa Procfile</p> <p>\u544a\u8bc9 Heroku \u5e94\u8be5\u542f\u52a8\u54ea\u4e9b\u8fdb\u7a0b</p> <pre><code># @ manage.py \u540c\u7ea7\u76ee\u5f55/Procfile\nweb: gunicorn learn_log.wsgi --log-file -\n# \u4f7f\u7528 learn_log/wsgi.py \u4e2d\u7684\u8bbe\u7f6e\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\n</code></pre> </li> <li> <p>\u521d\u59cb\u5316 Git \u4ed3\u5e93     <pre><code>git init\ngit add . # \u52a0\u5165\u6240\u6709\u6587\u4ef6\uff08\u9664\u4e86 ignore \u7684\uff09\ngit commit -am \"Ready for deployment to Heroku\"\n# \u67e5\u770b\u72b6\u6001\ngit status\n&gt;&gt; On branch master\n&gt;&gt; nothing to commit, working tree clean\n</code></pre></p> </li> <li> <p>\u5c06\u9879\u76ee\u63a8\u9001\u81f3 Heroku     <pre><code>heroku login\nheroku create # \u5728 heroku \u4e2d\u521b\u5efa\u7a7a\u9879\u76ee\ngit push heroku master # \u63a8\u9001 master \u5206\u652f\n# \u90e8\u7f72\u5b8c\u6bd5\uff0c\u8fd8\u6ca1\u914d\u7f6e\nheroku ps # \u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f\nheroku open # \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u7a0b\u5e8f\uff08\u56e0\u4e3a\u6ca1\u6709\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u8fd8\u4e0d\u80fd\u7528\uff09\n</code></pre></p> </li> <li> <p>\u5728 heroku \u4e0a\u5efa\u7acb\u6570\u636e\u5e93     <pre><code># \u5bf9\u4e8e\u90e8\u7f72\u5185\u5bb9\u6267\u884c migrate\uff08\u590d\u5236\u4e00\u4e0b\u6570\u636e\u5e93\u72b6\u6001\uff09\nheroku run python3 manage.py migrate\n</code></pre></p> </li> <li> <p>\u5728 heroku \u4e2d\u521b\u5efa admin     <pre><code># heroku run \u7528\u4e8e\u6267\u884c\u5355\u6761\u547d\u4ee4\nheroku run bash # \u6253\u5f00\u7ec8\u7aef\u4f1a\u8bdd\npython manage.py createsuperuser # \u521b\u5efa\u8d85\u7ea7\u7528\u6237\uff08\u9700\u8981\u4e00\u4e9b uname / pwd\uff09\nexit # \u63a8\u51fa bash\n&gt;&gt; \u7136\u540e\u5c31\u53ef\u4ee5\u767b\u5f55 admin \u54e9\uff01\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u53cb\u597d\u7684 URL     <pre><code># \u91cd\u547d\u540d\u5e94\u7528\u7a0b\u5e8f\nheroku apps_rename learning-log\n&gt;&gt; \u73b0\u5728\u53ef\u4ee5\u7528 https://learning-log.herokuapp.com \u8bbf\u95ee\u4e86\n</code></pre></p> </li> <li> <p>\u5173\u95ed\u8c03\u8bd5\u4fe1\u606f     <pre><code># @ settings.py\n# heroku \u76f8\u5173\u8bbe\u7f6e\n...\nif os.environ.get('DEBUG') == 'TRUE':\n    DEBUG = True\nelif os.environ.get('DEBUG') == 'FALSE':\n    DEBUG = False\n</code></pre></p> </li> <li> <p>\u63d0\u4ea4\u5e76\u63a8\u9001\u4fee\u6539     <pre><code># \u63d0\u4ea4\u5bf9\u4e8e settings.py \u7684\u4fee\u6539\ngit commit -am \"Set DEBUG based on environment variables.\"\ngit push heroku master\n</code></pre></p> </li> <li> <p>\u5728 heroku \u4e0a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u4e0d\u7136\u4e0a\u9762\u7684\u9650\u5236\u5c31\u6ca1\u6709\u610f\u4e49\u4e86\uff09     <pre><code>heroku config:set DEBUD=FALSE\n</code></pre></p> </li> <li> <p>\u4ece heroku \u5220\u9664\u9879\u76ee</p> <p>\u53ef\u4ee5\u76f4\u63a5\u767b\u5f55 heroku \u8fdb\u884c\u5220\u9664\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 bash \u547d\u4ee4</p> <pre><code>heroku apps:destroy --app [appname]\n</code></pre> </li> </ol>"},{"location":"Nulling/Python/2-2%20Project/#_1","title":"\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u9762","text":"<ol> <li>\u521b\u5efa\u6a21\u7248     <pre><code># @ learn_log/templates/404.html\n# \u7ee7\u627f base\n{% block content %}\n&lt;h2&gt;\u8fd9\u4e2a\u754c\u9762\u65e0\u6cd5\u8bbf\u95ee\u634f&lt;/h2&gt;\n{% endblock content%}\n</code></pre> <pre><code># @ learn_log/templates/500.html\n# \u7ee7\u627f base\n{% block content %}\n&lt;h2&gt;\u6709\u4e00\u4e9b\u5185\u90e8\u9519\u8bef&lt;/h2&gt;\n{% endblock content%}\n</code></pre></li> <li>\u4fee\u6539 <code>settings.py</code> <pre><code>TEMPLATES = [\n    {\n        'BACKEND': ...,\n        # \u5728\u6839\u8def\u5f84\u7684 templates \u4e0b\u67e5\u627e\u9519\u8bef\u9875\u9762\u6a21\u7248\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n    },\n    ...\n]\n</code></pre></li> </ol> <p>\u7528\u6237\u8bd5\u56fe\u7528 id \u8bbf\u95ee\u4e0d\u5b58\u5728\u7684 topic / entry \u5c06\u5bfc\u81f4 500 \u9519\u8bef\uff08\u56e0\u4e3a\u6ca1\u6709\u8db3\u591f\u7684\u4fe1\u606f\uff09</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5c06\u5176\u89c6\u4e3a 404 \u9519\u8bef\u4f1a\u66f4\u52a0\u5408\u7406</p> <p>=&gt; \u6211\u4eec\u4f7f\u7528 <code>get_object_or_404</code> \u6765\u89e3\u51b3</p> <pre><code>from django.shortcuts import get_object_or_404\ndef topic(request, topic_id):\n    # \u627e\u4e0d\u5230\u5c31\u9a6c\u4e0a\u62a5 404 \u9519\u8bef\n    topic = get_object_or_404(Topic, id=topic_id)\n</code></pre>"},{"location":"Nulling/React/NextJS/","title":"NextJS","text":"<p> \u7ea6 943 \u4e2a\u5b57  302 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>\u8fd9\u91cc\u662f \u4e2d\u6587\u6587\u6863</p> <p>\u57fa\u4e8e Vue / React \u642d\u5efa\u7684 SPA(Single Page web Application) \u5f80\u5f80\u9762\u4e34\u7740\u9996\u8bc4\u52a0\u8f7d\u8fc7\u6162\u3001\u65e0\u6cd5\u9488\u5bf9\u641c\u7d22\u5f15\u64ce\u4f18\u5316\uff08SEO\uff09\u4e24\u4e2a\u5173\u952e\u95ee\u9898\u3002</p> <p>NextJS \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa \u5168\u6808 Web \u5e94\u7528\u7684 React \u6846\u67b6\uff0c\u652f\u6301\u5bf9\u9875\u9762\u8fdb\u884c \u5ba2\u6237\u7aef\u6e32\u67d3 / \u670d\u52a1\u7aef \u6e32\u67d3\uff08SSR\uff09\u3002</p>"},{"location":"Nulling/React/NextJS/#1","title":"1 \u9879\u76ee\u521b\u5efa","text":"<pre><code>npx create-next-app@latest [projectName] # \u6309\u9700\u6c42\u9009\u4e00\u4e0b option\n# \u9700\u8981\u53d6\u6d88\u4f7f\u7528 App Router \u624d\u80fd\u6709\u9884\u671f\u7684\u6587\u4ef6\u7ed3\u6784\n# Would you like to use App Router? (recommended) \u2026 No\nnpm run dev # \u719f\u6089\u7684\u8fd0\u884c\u6307\u4ee4 =&gt; \u4f1a\u751f\u6210 .next \u8bb0\u5f55\u5f00\u53d1\u73af\u5883\n</code></pre> <p>\u5982\u679c\u4f60\u786e\u5b9a\u4f60\u7684\u7f51\u7ad9\u662f\u7eaf\u9759\u6001\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>next export</code> \u8fdb\u884c\u5bfc\u51fa</p> <p>\u4e0b\u9762\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\u9879\u76ee\u7ed3\u6784\uff08\u8fd9\u662f\u52fe\u9009 App Router \u7684\u7248\u672c\uff09\uff1a</p> <ul> <li>\u603b\u4e4b\uff0c<code>index</code> \u6587\u4ef6\u662f <code>app/page.tsx</code></li> <li>\u4f60\u53ef\u4ee5\u5728 <code>app/global.css</code> \u4e0b\u7f16\u5199\u4e00\u4e9b\u5168\u5c40\u9002\u7528\u7684\u6837\u5f0f</li> <li> <p><code>page.module.css</code> \u63d0\u4f9b\u7684\u6837\u5f0f\u9694\u79bb\u5f88\u6709\u8da3\uff1a</p> app/page.tsx<pre><code>import styles from \"./page.module.css\";\n// \u8fd9\u4e0b\u9762\u662f HomePage \u7684 HTML \u5185\u5bb9\nexport default function Home() {\n    return (\n        // \u4f60\u4f1a\u53d1\u73b0\u8fd9\u4fe9\u6548\u679c\u4e0d\u4e00\u6837\n        &lt;div className={styles.page}&gt;&lt;/div&gt;\n        &lt;div className=\"page\"&gt;&lt;/div&gt;\n    )\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/React/NextJS/#2","title":"2 \u8def\u7531","text":""},{"location":"Nulling/React/NextJS/#21","title":"2.1 \u9759\u6001\u8def\u7531","text":"<ul> <li> <p>\u5bf9\u4e8e\u9875\u9762\u6765\u8bf4\u8d85\u7ea7\u7b80\u5355\uff0c\u53ea\u8981\u5728 <code>/pages</code> \u8def\u5f84\u4e0b\u65b0\u5efa\u4e00\u4e2a <code>[pageName].tsx</code> \u3001\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>/pageName</code> \u8bbf\u95ee\u4e86\u3002</p> </li> <li> <p>\u591a\u7ea7\u9875\u9762\u8def\u7531\u540c\u7406\uff0c\u53ea\u8981\u65b0\u5efa <code>/pages/team/member.tsx</code>\uff0c\u4f60\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>/team/member</code> \u6765\u8bbf\u95ee\u5bf9\u5e94\u7684\u4e8c\u7ea7\u8def\u7531\u9875\u9762\u3002</p> </li> <li> <p>\u7f3a\u7701\uff1a\u5982\u679c\u4f60\u5728\u67d0\u4e2a\u8def\u5f84\u4e0b\u521b\u5efa\u4e86 <code>index.tsx</code>\uff08\u4f8b\u5982 <code>/pages/post/index.tsx</code>\uff09\uff0c\u90a3\u4e48\u7f3a\u7701\u8def\u5f84 <code>/post</code> \u76f4\u63a5\u4f1a link \u5230\u8fd9\u4e2a index \u6587\u4ef6\u4e0a\u3002\u540c\u7406\uff0c<code>/</code> \u8bbf\u95ee\u7684\u662f <code>/pages/index.tsx</code>\u3002</p> </li> <li> <p>404 \u9875\u9762\uff1a\u5982\u679c\u4e0d\u624b\u52a8\u521b\u5efa <code>/pages/404.tsx</code>\uff0cNextJS \u5c06\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u9ed8\u8ba4\u7684 404 \u9875\u9762</p> </li> </ul>"},{"location":"Nulling/React/NextJS/#22","title":"2.2 \u52a8\u6001\u8def\u7531","text":"<p>\u611f\u89c9\u975e\u5e38\u5947\u5999\uff0cNextJS \u662f\u7528\u6587\u4ef6\u540d\u6765\u6536\u53c2\u6570\u7684\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <ul> <li> <p>\u521b\u5efa <code>/pages/comments/[commentID].tsx</code>\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>/comments/12345</code> \u6765\u8bbf\u95ee</p> </li> <li> <p>\u83b7\u53d6\u8def\u7531\u53c2\u6570</p> <pre><code>import { useRouter } from 'next/router'\n\nexport default function commentPage() {\n    const router = useRouter()\n    return (\n        // router.query.[argName] =&gt; argName \u662f\u4f60\u5728[]\u91cc\u585e\u7684\u53d8\u91cf\u540d\n        &lt;h1&gt;\u5f53\u524d\u8bc4\u8bba\u7f16\u53f7: {router.query.commentID}&lt;/h1&gt;\n    )\n}\n</code></pre> </li> <li> <p>\u5b9e\u9645\u4e0a\u7684\u6587\u4ef6\u7ed3\u6784\u53ef\u80fd\u957f\u8fd9\u4e2a\u6837\u5b50\uff1a</p> <pre><code>pages\n\u2514\u2500\u2500 team\n    \u251c\u2500\u2500 index.tsx    # \u8fd9\u91cc\u653e\u6240\u6709\u961f\u4f0d\u7684\u4fe1\u606f\u5217\u8868\n    \u2514\u2500\u2500 [teamID].tsx # \u8fd9\u91cc\u5c55\u793a ID \u5bf9\u5e94\u7684\u961f\u4f0d\u8be6\u60c5\n    \u2514\u2500\u2500 comments\n        \u2514\u2500\u2500 [commentID].tsx\n</code></pre> </li> <li> <p>\u5982\u679c\u4f60\u60f3\u62ff\u4e24\u5c42\u7684\u52a8\u6001\u53c2\u6570\uff1a</p> </li> <li> <p>\u4f60\u9700\u8981\u901a\u8fc7\u5982\u4e0b\u8def\u7531\u8bbf\u95ee\uff1a<code>/team/111/comments/222</code></p> </li> <li> <p>\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\uff1a<code>router.query.teamID = 111</code> \u548c <code>router.query.commentID = 222</code></p> </li> <li> <p>\u8fd8\u6709\u4e00\u79cd\u4e0d\u9700\u8981\u5b9a\u4e49\u8001\u591a\u76ee\u5f55\u7ed3\u6784\u7684\u591a\u53c2\u6570\u63a5\u6536\u65b9\u6cd5\uff1a</p> <ul> <li>\u7528\u4e8e\u63a5\u6536\u53c2\u6570\u7684\u6587\u4ef6\u540d\u957f\u8fd9\u6837\uff1a<code>/help/[...params].tsx</code>\uff0c\u5f88\u719f\u6089\u7684\u6790\u6784\u4e0d\u662f\u5417\uff1f</li> <li> <p>\u4e0b\u9762\u662f\u7528\u6765\u63a5\u6536\u53c2\u6570\u7684\u4ee3\u7801\uff1a</p> <pre><code>import { useRouter } from 'next/router';\nexport default function helpDetail() {\n    const router = useRouter()\n    const params = router.params // \u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u6570\u7ec4\n    return (\n        &lt;h1&gt;Help Page: {params?.join?.(' ')}&lt;/h1&gt;\n    )\n}\n</code></pre> <p>\u901a\u8fc7 <code>/help/111/who/123</code> \u8bbf\u95ee\u65f6\uff0c<code>params = ['111', 'who', '123']</code></p> </li> </ul> </li> </ul>"},{"location":"Nulling/React/NextJS/#23","title":"2.3 \u524d\u7aef\u8def\u7531\u8df3\u8f6c","text":"<ul> <li> <p>\u975e\u5e38\u719f\u6089\u7684\u64cd\u4f5c\uff1a\u7528\u4e00\u4e9b\u8def\u7531\u7ec4\u4ef6\u6765\u66ff\u6362\u539f\u751f\u7684 <code>&lt;a&gt;</code></p> <p>Next \u4f1a\u628a Link \u7ec4\u4ef6\u6307\u5411\u7684\u9875\u9762\u6570\u636e\u548c\u811a\u672c\u90fd\u9884\u5148\u52a0\u8f7d\u8fc7\u6765</p> <pre><code>import Link from 'next/link'; // \u4e0d\u540c\u4e8e Vue\uff0cReact \u628a\u8def\u7531\u7684\u6d3b\u5b8c\u5168\u5916\u5305\u4e86\nexport default function Home() {\n    return (\n        &lt;div&gt;\n            Welcome to\n            &lt;Link href='/about'&gt;About&lt;/Link&gt;\n            Page\n        &lt;/div&gt;\n    )\n}\n</code></pre> </li> <li> <p>\u901a\u8fc7\u51fd\u6570\u63a7\u5236 button \u8df3\u8f6c</p> /components/RouterButton.tsx<pre><code>import { useRouter } from 'next/router'\n// \u7ec4\u4ef6\u7684\u5bfc\u51fa\u5199\u6cd5\u548c Page \u7565\u5fae\u6709\u4e9b\u4e0d\u540c\nexport const RouterButton = () =&gt; {\n    const router = useRouter()\n    return (\n        &lt;div style=({\n            marginTop: '1rem'. display: 'flex' // \u6709\u70b9\u96be\u7ef7\u7684 CSS \u5199\u6cd5\n        })&gt;\n            &lt;button onClick=(()=&gt; router.back())&gt;Go Back&lt;/button&gt;\n            &lt;button onClick=(()=&gt; router.push('/'))&gt;Go Home&lt;/button&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/React/NextJS/#3-runtime-fetch","title":"3 Runtime Fetch","text":"<p>\u8fd0\u884c\u65f6\u83b7\u53d6\u6570\u636e</p> <pre><code>// \u9700\u8981\u7528\u5230\u7684\u4e00\u4e9b hook\nimport { useState, useEffect } from 'react';\nexport default function Page(){\n    // \u8fd9\u8fb9\u662f\u5728\u5b9a\u4e49\u672c\u9875\u4f1a\u7528\u5230\u7684\u4e00\u4e9b \u53d8\u91cf + setter \u65b9\u6cd5\n    const [data, setData] = useState&lt;any[]&gt;([])\n    const [dt,   setDt]   = useState(' ') // \u8fd9\u4e2a\u662f\u65f6\u95f4\u6233\n\n    const fetchData = () =&gt; {\n        fetch(\n            URL\n        ).then((res) =&gt; {\n            return res.json();\n        }).then((reply) =&gt; {\n            setData(reply.posts) // \u628a\u8fd4\u56de\u7684\u6570\u636e\u8d4b\u7ed9 data\n            setDt((new Date()).toString())\n        })\n    }\n\n    userEffect(() =&gt; {\n        fetchData()  // \u9875\u9762\u52a0\u8f7d\u65f6\u83b7\u53d6\u6570\u636e\n    }, [])\n\n    return (\n        &lt;h2&gt;Data fetched @{dt}&lt;/h2&gt; // \u663e\u793a\u6570\u636e\u83b7\u53d6\u65f6\u95f4\n        &lt;ul&gt;{ // \u6839\u636e\u8fd4\u56de\u7684 JSON \u6570\u636e\u521b\u5efa\u5217\u8868\n            data.map((item) =&gt; (\n                &lt;li&gt;{item.title}&lt;/li&gt;\n            ))\n        }&lt;/ul&gt;\n    )\n}\n</code></pre>"},{"location":"Nulling/React/NextJS/#4-pre-generate","title":"4 Pre Generate","text":"<p>\u9884\u751f\u6210\u9759\u6001\u7f51\u7edc</p> <p>\u539f\u751f React \u4e5f\u80fd\u5b8c\u6210 Runtime Fetch\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981 Next\uff1f</p> <p>SPA \u7684 HTML \u6587\u4ef6\u672c\u8eab\u8111\u888b\u7a7a\u7a7a\uff0c\u5176\u4f5c\u7528\u662f\u6307\u660e JS \u6587\u4ef6 =&gt; \u7136\u540e\u505a\u4e00\u4e9b\u8fd0\u884c\u65f6\u7684\u5904\u7406\uff08\u6bd4\u5982\u8bf4\u753b\u9875\u9762\uff09</p> <ul> <li>\u8fd9\u79cd\u52a8\u6001\u6570\u636e\u52a0\u8f7d\u5bf9 SEO \u975e\u5e38\u4e0d\u53cb\u597d\uff1aHTML \u6839\u672c\u6ca1\u6709\u5b9e\u8d28\u5185\u5bb9\uff0c\u800c\u722c\u866b\u4e5f\u4e0d\u4f1a\u771f\u6b63\u53bb\u8fd0\u884c JS \u811a\u672c\u3001\u83b7\u53d6\u5b9e\u9645\u6570\u636e</li> <li>Gatsby \u548c Next \u901a\u8fc7\u81ea\u5df1\u8fd0\u884c JS \u63d0\u524d\u751f\u6210\u9875\u9762\u89e3\u51b3\u4e86\u8fd9\u4e00\u95ee\u9898</li> </ul> <pre><code>// \u7ee7\u7eed 3 \u4e2d\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u9700\u8981\u66b4\u9732\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u9759\u6001\u9875\u9762\u7684\u51fd\u6570\n\n// \u6784\u5efa\u65f6\uff0c\u6846\u67b6\u4f1a\u5148\u8c03\u7528 getStaticProps\uff0c\u7136\u540e\u57fa\u4e8e props \u6784\u5efa\u9759\u6001\u9875\u9762\nexport async function getStaticProps() {\n    const dt = getCurrentTime() // \u65f6\u95f4\u6233\uff0c\u8fd9\u4e2a\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\n\n    // \u628a\u4e4b\u524d\u7684 promise \u8c03\u7528\u94fe\u6539\u6210\u4e86 async-await\n    const responser = await fetch(URL)\n    const reply = await response.json()\n    return ({ props: { // \u8fd9\u4e2a\u6700\u7ec8\u4f1a\u4f5c\u4e3a Page \u51fd\u6570\u7684\u8f93\u5165\u53c2\u6570\n        dt,\n        data: reply.posts\n    }})\n}\n\nexport default function Page(props: any) {\n    // \u628a\u6570\u636e\u83b7\u53d6\u4e22\u5230 getStaticProps \u91cc\u4e86\uff08\u4e0d\u80fd\u5b9e\u65f6\u62ff\u4e86\uff09\n    return (\n        &lt;h2&gt;Data fetched @{props.dt}&lt;/h2&gt; // \u663e\u793a\u6570\u636e\u83b7\u53d6\u65f6\u95f4\n        &lt;ul&gt;{ // \u6839\u636e\u8fd4\u56de\u7684 JSON \u6570\u636e\u521b\u5efa\u5217\u8868\n            props.data.map((item) =&gt; (\n                &lt;li&gt;{item.title}&lt;/li&gt;\n            ))\n        }&lt;/ul&gt;\n    )\n}\n</code></pre> <p>\u5982\u4f55\u83b7\u53d6\u52a8\u6001\u8def\u7531\u53c2\u6570</p> <pre><code>// \u8fd9\u4e2a\u7684\u8fd4\u56de\u503c\u4f1a\u8fdb\u4e00\u6b65\u4e22\u7ed9 getStaticProps\nexport async function getStaicPaths() {\n    return ({\n        paths: [ // \u7528\u4e8e\u6a21\u62df\u7528\u6237\u8f93\u5165\u7684 URL\uff0c\u5728 build \u65f6\u4f1a\u9759\u6001\u6784\u5efa\u4e0b\u9762\u7684\u9875\u9762\n            { params: {postID: '1'} },\n            { params: {postID: '2'} },\n            /*\n                \u8fd9\u8fb9\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b map \u64cd\u4f5c\u628a\u4e1c\u897f\u653e\u5168\uff08\u5168\u91cf\u751f\u6210\uff09\uff0cbelike\uff1a\n                reply.posts.map((item:any) =&gt; ({\n                    params: { postID: item.id.toString() }\n                }))\n            */\n        ],\n        fallback: false \n        /*\n            true:  \u9700\u8981\u52a8\u6001\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u7ed9\u7528\u6237\u4e00\u4e9b\u63d0\u793a\n                   export default function Page(props: any) {\n                        const router = uesRouter()\n                        if (router.isFallback) {\n                            return (&lt;h1&gt;Loading ... &lt;/h1&gt;)\n                        } else { // \u52a0\u8f7d\u597d\u4e4b\u540e\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u5206\u652f\n                            return (\u539f\u6765\u7684\u4e1c\u897f)\n                         }\n                   }\n            false: \u8f93\u5165 '3' \u7684\u65f6\u5019\u627e\u4e0d\u5230 =&gt; \u76f4\u63a5\u62a5 404 \u4e86\uff08\u7eaf\u524d\u7aef\uff09\n            'blocking': \u9700\u8981\u540e\u7aef\u670d\u52a1\u652f\u6301\uff08\u6bd4\u5982 Next\uff09\uff0c\u4f1a\u5728\u8bf7\u6c42\u65f6\u52a8\u6001\u6784\u5efa\u8bbf\u95ee\u7684\u9875\u9762\n                        \u4e4b\u540e\u4f1a\u628a\u6784\u5efa\u5f97\u5230\u7684\u9875\u9762\u653e\u5230\u9759\u6001\u76ee\u5f55\u4e0b\uff08\u4e0d\u662f\u670d\u52a1\u7aef\u6e32\u67d3\uff09\n        */\n    })\n}\n\nexport async function getStaticProps(context: any) {\n    const postID = context.params.postID\n    const response = await fetch(`URL/${postID}`)\n    ...\n}\n</code></pre>"},{"location":"Nulling/React/NextJS/#_1","title":"\u589e\u91cf\u66f4\u65b0","text":"<p>\u76f4\u63a5\u901a\u8fc7\u4e0a\u8ff0\u65b9\u6cd5\u6784\u5efa\u9759\u6001\u9875\u9762\u4f1a\u5bfc\u81f4\uff1a\u9875\u9762\u5185\u5bb9\u56fa\u5b9a\u5728\u6784\u5efa\u65f6\uff0c\u4e4b\u540e\u53d1\u5e03\u7684\u65b0\u5185\u5bb9\u65e0\u6cd5\u5373\u4f7f\u66f4\u65b0\u5230\u9875\u9762\u91cc</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u589e\u52a0\u4e00\u4e9b\u8bbe\u7f6e\uff1a</p> <pre><code>export async function getStaticPaths() {\n    return ({\n        paths: [],\n        fallback: false // \u26a0\ufe0f \u8bbe\u7f6e revalidate \u65f6\uff0c\u6b64\u5904\u4e00\u5b9a\u662f false\n    })\n}\n\nexport async function getStaticProps(context:any) {\n    return ({\n        props: { dt, data },\n        revalidate: 3000    // \u26a0\ufe0f \u8fd9\u662f\u65b0\u589e\u7684\u53c2\u6570\uff0c\u5355\u4f4d\u662f s\uff08\u8d85\u65f6\u8bbf\u95ee\u4f1a\u91cd\u65b0\u6784\u5efa\uff09\n    })\n}\n</code></pre>"},{"location":"Nulling/React/NextJS/#5-ssr","title":"5 SSR \u670d\u52a1\u7aef\u6e32\u67d3","text":"<p>\u6211\u4eec\u9700\u8981\u66ff\u6362\u4e00\u4e0b\u524d\u9762\u7684 <code>getStaticProps</code>\uff08\u6240\u4ee5\u8bf4\u4e24\u8005\u4e0d\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\uff09</p> <pre><code>// \u7528\u6237\u6bcf\u6b21\u8bf7\u6c42\u65f6\u90fd\u6267\u884c\uff08\u524d\u8005\u7684\u8bdd\uff1a\u53ea\u5728\u6784\u5efa\u65f6\u6267\u884c / \u5728\u7528\u6237\u9996\u6b21\u8bf7\u6c42\u65f6\u6267\u884c\uff09\nexport async function getServerSideProps(context: any) {\n    ... // \u51fd\u6570\u91cc\u9762\u7684\u64cd\u4f5c\u548c\u4e4b\u524d\u4e00\u6837\n\n    const { req, res, params, query, ...rest } = context\n    /* \u6b64\u5916\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u624b\u52a8\u6307\u5b9a getStaticPaths \u4e86\uff08\u56e0\u4e3a\u662f\u771f\u5b9e\u7684\u52a8\u6001\u8bf7\u6c42\uff09\n       - (req, res) \u548c express \u4e2d\u7684\u7c7b\u4f3c\n       - \u4f60\u4e5f\u53ef\u4ee5\u62ff\u5230 cookie: req.headers.cookie\n       - \u4e5f\u53ef\u4ee5\u50cf express \u4e00\u6837\u5bf9\u5305\u5934\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff1ares.setHeader('Set-Cookie', 'token=xxx')\n\n       \u5bf9\u4e8e /team/abc/def?class=a (\u6ca1\u9519\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u4e22\u4e24\u7c7b\u8fdb\u53bb)\uff0c\u6709\uff1a\n       - params = ['abc', 'def']\n       - query  = { class: 'a' }\n    */\n}\n</code></pre> <p>\u5bf9\u4e8e <code>/team/[...params].tsx</code>\uff0c\u5728\u4e0d\u5b58\u5728 <code>/team/index.tsx</code> \u65f6\u3001\u8bbf\u95ee\u7f3a\u7701\u8def\u5f84\u62a5\u9519</p> <p>\u4f60\u53ef\u4ee5\u5c06\u52a8\u6001\u8def\u7531\u6539\u6210\u8fd9\u6837 <code>/team/[[...params]].tsx</code> =&gt; \u4e24\u5c42 <code>[]</code> \u8868\u793a\u53c2\u6570\u53ef\u9009</p>"},{"location":"Nulling/React/NextJS/#6-api","title":"6 \u540e\u7aef API \u521b\u5efa","text":"<p>\u76f8\u5173\u6587\u4ef6\u5b58\u653e\u5728 <code>/pages/api</code> \u4e0b\uff0c\u8fd9\u4e9b <code>tsx</code> \u6587\u4ef6\u5e76\u4e0d\u662f\u9875\u9762\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 <code>/api/[apiName]</code> \u8bbf\u95ee</p> <pre><code>// \u4f60\u53ef\u4ee5\u5728\u672c\u5730\u5199\u4e00\u4e2a mock \u6570\u636e\u6587\u4ef6\nimport mock from './mock.json';\n// \u4f60\u9700\u8981\u62ff\u5230 Next \u90a3\u8fb9\u7684\u76f8\u5173\u5b9a\u4e49\nimport type { NextApiRequest, NextApiResponse } from \"next\";\n// \u7136\u540e\u81ea\u5df1\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\ntype Data = {\n    name: string,\n    age:  number,\n    products: any[] // \u7528\u6765\u63a5\u6536\u7c7b\u578b\u4e0d\u786e\u5b9a\u7684\u6570\u7ec4\u6570\u636e\n};\n// \u7136\u540e\u5b9e\u73b0\u4e00\u4e2a\u5904\u7406\u51fd\u6570\nexport default async function handler (\n    req: NextApiRequest,\n    res: NextApiResponse&lt;Data&gt;\n) {\n    // \u4ece\u5176\u4ed6\u5730\u65b9\u8bf7\u6c42 products \u4fe1\u606f\n    const response = await fetch(URL);\n    const reply    = await response.json();\n\n    // \u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 req.method &amp; req.query \u62ff\u5230\u8bf7\u6c42\u7684 \u65b9\u5f0f &amp; query \u53c2\u6570\n\n    res.status(200) // \u54cd\u5e94\u7801\u6b63\u5e38\n    .json({         // \u8fd4\u56de JSON \u683c\u5f0f\u6570\u636e\n        name: 'John Doe',\n        age:  20,\n        products: reply.products // \u6216\u8005\u76f4\u63a5\u7528 mock.products\n    })\n}\n</code></pre>"},{"location":"Nulling/React/NextJS/#61-restful-curd","title":"6.1 RestFul CURD \u64cd\u4f5c","text":"<p>\u6682\u65f6\u5148\u7528\u672c\u5730\u7684 mock \u6570\u636e\u6a21\u62df\u4e00\u4e0b\uff1a <pre><code>import mock from './mock.json';\nconst products = [ ...mock.products ];\n</code></pre></p> <p>\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u5bf9\u4e0a\u8ff0\u7684 API \u51fd\u6570\u8fdb\u884c\u8fdb\u4e00\u6b65\u4fee\u6539\uff1a <pre><code>export default async function handler (\n    req: NextApiRequest,\n    res: NextApiResponse&lt;Data&gt;\n) {\n    switch(req.method) {\n        case 'POST': # \u63d2\u5165\n            productsList.push(req.body)\n            break;\n        case 'GET':  # \u67e5\u627e\uff1a\u76f4\u63a5\u4e22\u56de\u53bb\u5c31\u884c\n            break;\n        case 'PUT':  # \u4fee\u6539\n            {\n                const idx = productsList.findIndex((item:any) =&gt; (item.id === req.body.id));\n                if (idx &gt;= 0) { productsList.splice(idx, 1, req.body) } // \u66ff\u6362 idx \u5904\u7684\u6570\u636e\n            }\n            break;\n        case 'DELETE':# \u5220\u9664\n            {\n                const idx = productsList.findIndex((item:any) =&gt; (item.id === req.body.id));\n                if (idx &gt;= 0) { productsList.splice(idx, 1) }\n            }\n            break;\n    }\n    res.status(200).json({\n        total: productsList.length,\n        products: productsList\n    })\n}\n</code></pre></p>"},{"location":"Nulling/React/NextJS/#7-layout","title":"7 Layout \u5168\u5c40\u9875\u9762\u5e03\u5c40","text":"<p>\u4f60\u4e5f\u4e0d\u60f3\u6bcf\u4e2a\u9875\u9762\u91cd\u65b0\u6572\u4e00\u904d header &amp; footer \u7f62</p> /pages/_app.tsx<pre><code>import \"@/styles/globals.css\";            // \u5f15\u5165\u5168\u5c40\u6837\u5f0f\nimport type { AppProps } from \"next/app\";\n\nconst Header = () =&gt; {\n    return (\n        &lt;header&gt;&lt;h1&gt;This is Header&lt;/h1&gt;&lt;/header&gt;\n    )\n};\nconst Footer = () =&gt; {\n    return (\n        &lt;footer&gt;Contact me @xxx.com&lt;/footer&gt;\n    )\n}\n\n// \u4f60\u53ef\u4ee5\u901a\u8fc7 Component\uff08Page\u7684\u51fd\u6570\u5f0f\u7ec4\u4ef6\uff09 &amp; pageProps(\u4f1a\u4e22\u7ed9 Page) \u505a\u4e00\u4e9b \nexport default function App({ Component, pageProps }: AppProps) {\n    console.log((Component as any).getTitle()) // \u5b9a\u4e49\u5728\u4e0b\u4e2a block \u4e86\n    console.log(pageProps.pageName)            // =&gt; staticProps \u8fd4\u56de\u7684\n\n    // \u6709 render \u51fd\u6570\u5c31\u8fd4\u56de\u5b9a\u4e49\u5185\u5bb9\uff0c\u5426\u5219\u8fd4\u56de\u9ed8\u8ba4\u7684 template\n    if(!!(Component as any).render) {\n        return (Component as any).render()\n    } else {\n        return (\n            &lt;Header&gt;&lt;/Header&gt;\n            &lt;Component {...pageProps} /&gt;;\n            &lt;Footer&gt;&lt;/Footer&gt;\n        )\n    }\n}\n</code></pre> /pages/home.tsx<pre><code>export default function Home() {}\n// \u51fd\u6570\u5f0f\u7ec4\u4ef6\u5728 JS \u91cc\u88ab\u89c6\u4e3a\u5bf9\u8c61\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5f80\u4e0a\u9762\u6302\u5404\u79cd\u5947\u602a\u7684\u4e1c\u897f\nHome.getTitile = function() {\n    return {\n        title: 'Home'\n    }\n}\nHome.render = function() {\n    return (\n        &lt;h2&gt;Nothing Here&lt;/h2&gt;\n    )\n}\n// \u8fd9\u4e2a\u5bfc\u51fa\u7684 props \u4e5f\u4f1a\u4f20\u7ed9 Home()\nexport function getstaticProps() {\n    return ({\n        props: {\n            pageName: 'HomePage'\n        }\n    })\n}\n</code></pre>"},{"location":"Nulling/React/NextJS/#8-head","title":"8 Head \u8f85\u52a9\u4fe1\u606f\u8bbe\u7f6e","text":"<p>\u7cdf\u8e4b html \u7684 <code>&lt;head&gt;</code> \u6807\u7b7e</p> <pre><code>// @ \u968f\u4fbf\u54ea\u4e2a Page\nimport Head from 'next/head'\n\nexport default function Page() {\n    return (\n        &lt;main&gt;\n            &lt;Head&gt;\n                &lt;title&gt;Document&lt;/title&gt; // \u6807\u7b7e\u9875\u7684 Title\n            &lt;/Head&gt;\n            // \u4e0b\u9762\u662f\u9875\u9762\u5185\u5bb9\u4e86\n            &lt;h1&gt;Page Title&lt;/h1&gt;\n        &lt;/main&gt;\n    )\n}\n</code></pre>"},{"location":"Nulling/React/UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/","title":"6 UI \u7ec4\u4ef6\u5e93","text":"<p> \u7ea6 124 \u4e2a\u5b57  48 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u6b64\u5904\u4ee5 AntD \u4e3a\u4f8b\u8fdb\u884c\u5b9e\u73b0\uff0c\u56fd\u5916\u7528\u7684\u6bd4\u8f83\u591a\u7684\u662f Material UI</p>"},{"location":"Nulling/React/UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<ol> <li>\u5b89\u88c5 <code>npm i antd --save</code></li> <li>\u7b80\u5355\u4f7f\u7528   <pre><code>  import 'antd/dist/reset.css' // \u5f15\u5165\u6837\u5f0f\n  import { Button } from 'antd' // \u5f15\u5165\u9700\u8981\u4f7f\u7528\u7684\u7ec4\u4ef6\n  &lt;Button type=\"primary\"&gt;\u6b63\u5e38\u7528\u5c31\u884c&lt;/Button&gt;\n</code></pre></li> <li>\u4f7f\u7528\u56fe\u6807\u9700\u8981\u5b89\u88c5\u5b50\u5e93 <code>npm i @ant-design/icons --save</code> <pre><code>import { StarTwoTone } from '@ant-design/icons';  // \u5f15\u5165\u9700\u8981\u7684\u56fe\u6807\n&lt;StarTwoTone twoToneColor=\"#eb2f96\" /&gt;\n</code></pre></li> </ol>"},{"location":"Nulling/React/UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_2","title":"\u6837\u5f0f\u6309\u9700\u5f15\u5165","text":"<ol> <li>\u5b89\u88c5\u4f9d\u8d56\uff1a      <code>yarn add react-app-rewired customize-cra babel-plugin-import less less-loader</code></li> <li>\u4fee\u6539 <code>package.json</code> <pre><code>....\n    \"scripts\": {\n        \"start\": \"react-app-rewired start\",\n        \"build\": \"react-app-rewired build\",\n        \"test\": \"react-app-rewired test\",\n        \"eject\": \"react-scripts eject\"\n    },\n....\n</code></pre></li> <li>\u5728\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>config-overrides.js</code> <pre><code>//\u914d\u7f6e\u5177\u4f53\u7684\u4fee\u6539\u89c4\u5219\nconst { override, fixBabelImports,addLessLoader} = require('customize-cra');\nmodule.exports = override(\n    fixBabelImports('import', {\n        libraryName: 'antd',\n        libraryDirectory: 'es',\n        style: true,\n    }),\n    addLessLoader({\n        lessOptions:{\n            javascriptEnabled: true,\n            modifyVars: { '@primary-color': 'green' },\n        }\n    }),\n);\n</code></pre></li> <li>\u4e0d\u7528 <code>import 'antd/dist/reset.css'</code> \u54e9</li> </ol>"},{"location":"Nulling/React/UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_3","title":"\u81ea\u5b9a\u4e49\u4e3b\u9898","text":"<p>\u5177\u4f53 \u6587\u6863 \u89c1\u94fe\u63a5</p> <p>\u56e0\u4e3a antd5 \u5f03\u7528\u4e86 less\uff0c\u91c7\u7528\u4e86 CSS-in-JS \u6240\u4ee5\u539f\u6765\u7684\u4e1c\u897f\u4e0d\u80fd\u7528\u54e9</p>"},{"location":"Nulling/React/UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_4","title":"\u5728\u5355\u4e2a\u7ec4\u4ef6\u4e2d\u751f\u6548","text":"<pre><code>import { ConfigProvider} from 'antd' // \u8ffd\u52a0\u5f15\u5165 config \u914d\u7f6e\u5668\nexport default class App extends Component {\n    render() {\n        return (\n        // \u5728 config \u7684 theme \u4e2d\u5bf9\u4e3b\u9898\u8fdb\u884c\u81ea\u5b9a\u4e49\n        // \u53ea\u5bf9\u5939\u5728 config \u4e4b\u95f4\u7684 tag \u751f\u6548\n            &lt;ConfigProvider\n            theme={{\n                components: {\n                    Button: {\n                        colorPrimary: '#00b96b',\n                    },\n                },\n\n            }}&gt;             \n                &lt;Button type=\"primary\" children=\"\u4e00\u4e2a\u7eff\u8272\u6309\u94ae\"/&gt;\n            &lt;/ConfigProvider&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/","title":"1 \u6162\u901f\u4e0a\u624b","text":"<p> \u7ea6 920 \u4e2a\u5b57  144 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u4f7f\u7528 JS \u76f4\u63a5\u64cd\u4f5c DOM \u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u91cd\u7ed8\u91cd\u6392</p> <p>\u7279\u70b9</p> <ul> <li>\u7ec4\u4ef6\u5316\u6a21\u5f0f\u3001\u58f0\u660e\u5f0f\u7f16\u7801</li> <li>\u53ef\u4ee5\u5728 React Native \u4e2d\u53ef\u4ee5\u4f7f\u7528 React \u8bed\u6cd5\u8fdb\u884c\u79fb\u52a8\u7aef\u5f00\u53d1</li> <li>\u4f7f\u7528 \u865a\u62dfDOM + \u4f18\u79c0\u7684 diff \u7b97\u6cd5\uff0c\u5c3d\u91cf\u51cf\u5c11\u548c\u771f\u5b9eDOM\u7684\u4ea4\u4e92</li> </ul>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#1-hello-world","title":"1 Hello World","text":"<p>React\u4e2d\u6587\u5b98\u7f51</p>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#11","title":"1.1 \u4f7f\u7528\u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee","text":"<ul> <li>\u9700\u8981\u7684\u73af\u5883<ul> <li>NodeJS &amp; npm</li> <li>create-react-app\uff0c\u4f7f\u7528 <code>npm install -g create-react-app</code> \u53ef\u4ee5\u5168\u5c40\u5b89\u88c5</li> </ul> </li> <li>\u521b\u5efa\u9879\u76ee <code>create-react-app prj_name</code></li> <li>\u9879\u76ee\u542f\u52a8 <code>npm start</code>\uff0c\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 3000</li> </ul>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#_1","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>%PUBLIC_URL% - \u8868\u793a public \u6839\u76ee\u5f55\n- public \u9759\u6001\u8d44\u6e90\u6587\u4ef6\n    - favicon.icon\n    - index.html\n    - manifest.json \u5e94\u7528\u52a0\u58f3\u7684\u914d\u7f6e\u6587\u4ef6\uff08Web\u5957\u76ae\u539f\u751f\uff09\n    - robots.txt \u722c\u866b\u534f\u8bae\n- src\n    - App.css APP\u7ec4\u4ef6\u6837\u5f0f\uff08\u5728 App.js \u4e2d\u81ea\u884c\u5f15\u5165\uff09\n    - App.js  APP\u7ec4\u4ef6\u672c\u4f53\n    - APP.test.js APP\u7ec4\u4ef6\u6d4b\u8bd5\n    - index.css \u6837\u5f0f\n    - index.js \u5165\u53e3\u6587\u4ef6\n      \u8fd9\u91cc\u9762\u4f1a\u5f15\u5165 idx.css\uff0c\u5982\u679c\u8981\u5728 html \u4e2d\u52a0\u8f7d\u8981\u5220\u53bb\u91cd\u590d\u90e8\u5206\n    - logo.svg  logo\u56fe\n    - reportWebVitals.js \u6027\u80fd\u5206\u6790\u6587\u4ef6\uff08\u9700\u8981 web-vitals \u5e93\uff09\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#hello-world","title":"Hello World \u7ec4\u4ef6","text":"<ol> <li>\u7f16\u5199\u5165\u53e3\u6587\u4ef6 <pre><code>// \u5f15\u5165\u6838\u5fc3\u5e93 \u548c ReactDOM\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n// \u5f15\u5165\u6839\u7ec4\u4ef6\nimport App from './App.js'\n// \u6e32\u67d3\u5230\u9875\u9762\nReactDOM.render(&lt;App/&gt;, document.getElementById('root'))\n// \u5728 React18 \u4e2d\uff0crender \u88ab\u66f4\u6539\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\nimport {createRoot} from 'react-dom/client'\nconst root = createRoot(document.getElementById('root'))\nroot.render(&lt;App/&gt;)\n</code></pre></li> <li>\u521b\u5efa\u6839\u7ec4\u4ef6 APP <pre><code>import React from 'react'\nexport default class APP extends React.Component {\n    render {\n        return(\n        &lt;div&gt;\n            hello world!\n        &lt;/div&gt;)\n    }\n}\n</code></pre></li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#_2","title":"\u6837\u5f0f\u6a21\u5757\u5316","text":"<p>\u7528 less \u5199\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u634f</p> <ol> <li>\u6837\u5f0f\u8868\u66f4\u540d\u4e3a <code>comp.module.css</code> </li> <li>\u4f7f\u7528 <code>import comp_name from './comp.module.css'</code></li> <li>\u6e32\u67d3\u65f6\u8fd4\u56de tag <code>className={comp_name.name}</code></li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#12-cdn","title":"1.2 \u5355\u9875\u9762\u5e94\u7528\uff08CDN\u5f15\u5165\uff09","text":"<pre><code>&lt;body&gt;\n    &lt;div id=\"app\"&gt;&lt;/div&gt;\n\n    &lt;script crossorigin\n     src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;\n    &lt;/script&gt;\n    &lt;script crossorigin \n     src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;\n     &lt;/script&gt;\n    &lt;script\n     src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;\n     &lt;/script&gt;\n\n    &lt;script type=\"text/babel\"&gt;\n        // \u5fc5\u987b\u6307\u660e\u5185\u5bb9\u4e3a babel\n        // 1. \u521b\u5efa\u865a\u62dfDOM\n        const VDOM = &lt;h1&gt;Hello, world!&lt;/h1&gt;\n        // 2. \u5c06\u865a\u62dfDOM\u6e32\u67d3\u5230\u6307\u5b9a\u5bb9\u5668\u4e2d\n        ReactDOM.render(\n            VDOM,\n            document.getElementById('app')\n        );\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#2-dom","title":"2 \u865a\u62df DOM","text":""},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#21","title":"2.1 \u4e24\u79cd\u521b\u5efa\u65b9\u5f0f","text":"<ol> <li>\u4f7f\u7528 JSX \u521b\u5efa\uff08\u5c31\u548c\u4e0a\u9762\u4e00\u6837\uff09 <pre><code>// \u8bb0\u5f97\u4e00\u5b9a\u4e0d\u8981\u52a0\u5f15\u53f7\u634f\nVDOM = (\n    &lt;h1 id=\"title\"&gt;\n        &lt;span&gt;Hello, world!&lt;/span&gt;\n    &lt;h1&gt;\n)\n</code></pre></li> <li>\u4f7f\u7528 \u539f\u751fJS \u521b\u5efa <pre><code>// \u4e0d\u7528\u5f15\u5165 babel \u4e86\u634f\n// React.createElement(\u6807\u7b7e\u540d\uff0c\u5c5e\u6027\uff0c\u6807\u7b7e\u4f53\u5185\u5bb9)\nconst VDOM = React.createElement('h1',{id:'title'}, 'hello world') \nReactDOM.render(\n    VDOM,\n    document.getElementById('app')\n);\n// JSX \u4e0b\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u7684\u5957\u5a03 &lt;h1&gt;&lt;span&gt;&lt;/&gt;&lt;/&gt;, JS \u4e0b\u8981\u5957\u51fd\u6570\nconst VDOM = \n    React.createElement('h1',{id:'title'}, \n        React.createElement('span',{},'Hello World')\n    ) \n</code></pre></li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#22-vs-dom","title":"2.2 vs \u771f\u5b9eDOM","text":"<ul> <li>\u5176\u5b9e\u751f\u6210\u7684 VDOM \u53ea\u662f\u4e00\u4e2a\u666e\u901a\u7684 Object \u5bf9\u8c61\uff0c\u6bd4\u8f83\u8f7b\u91cf</li> <li>\u6700\u7ec8\u4f1a\u88ab\u8f6c\u53d8\u4e3a\u771f\u5b9eDOM\uff0c\u5e76\u6e32\u67d3\u5230\u9875\u9762\u4e0a</li> </ul>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#3-jsx","title":"3 JSX","text":"<p>\u662f JS \u7684\u6269\u5c55\u8bed\u6cd5\uff0c\u7c7b\u4f3c\u4e8e XML</p>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#_3","title":"\u57fa\u7840\u8bed\u6cd5","text":"<ol> <li>\u5b9a\u4e49\u865a\u62dfDOM\u65f6\uff0c\u4e0d\u8981\u5199\u5f15\u53f7</li> <li>\u53ef\u4ee5\u4f7f\u7528<code>{}</code>\u5305\u88f9\u6f5c\u5165\u7684 JS \u8868\u8fbe\u5f0f\uff0c\u5982 <code>&lt;h2 id={myId.toLowerCase()}&gt;</code></li> <li>\u6307\u5b9a\u6837\u5f0f\u5f97\u7528 <code>className=\"sth\"</code> -&gt; \u7528 <code>class</code> \u4f1a\u7206\u70b8\uff08\u548cES6\u51b2\u7a81\uff09</li> <li>\u5185\u8054\u6837\u5f0f\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f     <pre><code>const VDOM = (\n    // \u591a\u5355\u8bcd\u5c5e\u6027\u8981\u7528\u5c0f\u9a7c\u5cf0\n    &lt;span style={{color: \"white\", fontSize:'20px'}}&gt;\n        hello, world!\n    &lt;/span&gt;\n)\n</code></pre></li> <li>\u53ea\u80fd\u6709\u4e00\u4e2a\u6839\u6807\u7b7e\uff08\u62ff\u4e2a <code>div</code> \u5305\u4e00\u5c42\uff09</li> <li>\u6807\u7b7e\u5fc5\u987b\u95ed\u5408\uff08\u81ea\u95ed\u5408\u4e5f\u53ef\u4ee5\uff09</li> <li>\u5c0f\u5199\u5f00\u5934\u7684\u6807\u7b7e\u88ab\u8ba4\u4e3a\u662f html \u5143\u7d20\uff0c\u65e0\u540c\u540d\u5143\u7d20\u5219\u62a5\u9519\uff1b      \u5927\u5199\u5f00\u5934\u88ab\u8ba4\u4e3a\u662f React Component\uff0c\u7ec4\u4ef6\u6ca1\u5b9a\u4e49\u6574\u4e2a\u5bc4\u6389</li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#_4","title":"\u5217\u8868\u6e32\u67d3","text":"<pre><code>const data = ['item1', 'item2', 'item2']\nconst VDOM = (\n    &lt;div&gt;\n        &lt;ul&gt;\n        {\n            data.map( (item, idx) =&gt; {\n                return &lt;li key={idx}&gt;{item}&lt;/li&gt; // \u5355\u5c42\u62ec\u53f7\uff0c\u4e0d\u662f\u63d2\u503c\u8bed\u6cd5\u634f\n            })\n        }\n        &lt;/ul&gt;\n    &lt;/div&gt;\n)\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#4-dom-diff","title":"4 \u865a\u62df DOM \u4e0e Diff","text":"<ol> <li>React / Vue \u4e2d\u7684 key \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f\uff08key \u7684\u5185\u90e8\u539f\u7406\u662f\u4ec0\u4e48\uff09<ul> <li>Key \u7528\u4e8e\u6807\u8bc6 \u865a\u62dfDOM \u5bf9\u8c61\uff0c\u5728 Update \u65f6\u5177\u6709\u91cd\u8981\u4f5c\u7528</li> <li>\u5f53 state \u4e2d\u7684\u6570\u636e\u53d8\u5316\u65f6\uff0cReact \u4f1a\u6839\u636e\u65b0\u7684\u6570\u636e\u751f\u6210\u300c\u65b0\u7684\u865a\u62dfDOM\u300d\uff0c\u968f\u540e\u4e0e\u300c\u65e7\u865a\u62dfDOM\u300d\u8fdb\u884c diff<ul> <li>\u5728\u300c\u65e7\u865a\u62dfDOM\u300d\u4e2d\u627e\u5230\u5177\u6709\u76f8\u540c key \u503c\u7684\u7ed3\u6784<ul> <li>\u5185\u5bb9\u4e0d\u53d8\uff1a\u590d\u7528\u771f\u5b9eDOM</li> <li>\u5185\u5bb9\u6539\u53d8\uff1a\u751f\u6210\u65b0\u7684\u771f\u5b9eDOM\uff0c\u5e76\u8fdb\u884c\u66ff\u6362</li> </ul> </li> <li>\u672a\u627e\u5230\u6709\u76f8\u540c key \u7684\u7ed3\u6784     \u6839\u636e\u6570\u636e\u751f\u6210\u65b0\u7684\u771f\u5b9eDOM\uff0c\u5e76\u6e32\u67d3\u5230\u9875\u9762</li> </ul> </li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u904d\u5386\u5217\u8868\u65f6\uff0ckey \u6700\u597d\u4e0d\u7528 index\uff1f<ul> <li>\u82e5\u5bf9\u6570\u636e\u8fdb\u884c\uff1a\u9006\u5e8f\u6dfb\u52a0\u3001\u5220\u9664\u7b49\u7834\u574f\u987a\u5e8f\u7684\u64cd\u4f5c\uff08\u4e00\u8fde\u4e32\u524d\u540e\u79fb\u4f4d\uff09     \u53ef\u80fd\u4ea7\u751f\u6ca1\u6709\u5fc5\u8981\u7684\u771f\u5b9eDOM\u66f4\u65b0\uff08\\(O(n)\\))\uff0c\u5bfc\u81f4\u4f4e\u6548\u7387</li> <li>\u82e5\u7ed3\u6784\u4e2d\u542b\u6709 input\uff1a\u53ef\u80fd\u4ea7\u751f\u9519\u8bef\u7684 DOM \u66f4\u65b0</li> <li>\u5982\u679c\u6e32\u67d3\u7684\u5217\u8868\u4ec5\u7528\u4e8e\u5c55\u793a\uff0c\u4f7f\u7528key\u65f6\u6ca1\u6709\u95ee\u9898\u7684     \u6700\u597d\u9009\u62e9\u8bb0\u5f55\u7684\u4e3b\u952e\u4f5c\u4e3a key\uff08\u4fdd\u8bc1 UNIQUE\uff09</li> </ul> </li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#5","title":"5 \u9879\u76ee\u90e8\u7f72","text":"<ol> <li>\u6253\u5305\u634f      <code>npm run build</code> \u751f\u6210 <code>build</code></li> <li>\u4f7f\u7528 Serve <code>npm i serve -g</code>\uff08\u5168\u5c40\u5b89\u88c5\uff09<ol> <li>\u5728\u4e3b\u76ee\u5f55\u4e0b\u6267\u884c <code>serve</code> \u547d\u4ee4\uff08\u9ed8\u8ba4 port = 5000\uff09      \u6216\u8005\u7528 <code>serve \u76f8\u5bf9\u8def\u5f84</code></li> <li>\u5982\u679c\u6211\u4eec\u628a\u751f\u6210\u7684\u6587\u4ef6\u4e22\u5230 cur_path \u4e0b\u5c31\u662f <code>serve build</code> \u5566</li> </ol> </li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#6","title":"6 \u5176\u4ed6","text":""},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#61-setstate","title":"6.1 setState \u7684\u4e24\u79cd\u5199\u6cd5","text":"<ol> <li> <p>\u5bf9\u8c61\u5f0f <code>setState(neoState, [callback])</code></p> <p>\u56de\u8c03\u51fd\u6570 <code>callback</code> \u5c06\u5728 <code>render()</code> \u6267\u884c\u5b8c\u6bd5\u540e\u8c03\u7528\uff08\u7c7b\u4f3c\u4e8e <code>nextTick</code>\uff09</p> </li> <li> <p>\u51fd\u6570\u5f0f <code>setState(updater, [callback])</code></p> <p><code>updater</code> \u53ef\u4ee5\u63a5\u6536 state &amp; props <pre><code>this.setState(\n    (state, props) =&gt; { // \u5176\u5b9e\u5dee\u4e0d\u591a\uff0c\u5bf9\u8c61\u5f0f\u9700\u8981 this.state.name\n        return {count: state.count+1}\n    },\n    ()=&gt;{} // callback\n)\n</code></pre></p> </li> <li> <p>\u5bf9\u8c61\u5f0f\u7684 setState \u5b9e\u9645\u4e0a\u662f\u51fd\u6570\u5f0f\u7684\u7b80\u5199\u65b9\u5f0f</p> </li> <li>newState \u4f9d\u8d56\u539f\u72b6\u6001\u65f6 \u2014\u2014 \u51fd\u6570\u5f0f</li> <li>newState \u4e0d\u4f9d\u8d56\u539f\u72b6\u6001\u65f6 \u2014\u2014 \u5bf9\u8c61\u5f0f</li> </ol>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#62-lazyload","title":"6.2 lazyLoad","text":"<p>\u9488\u5bf9\u8def\u7531\u7ec4\u4ef6</p> <pre><code>// \u52a8\u6001\u52a0\u8f7d\u8def\u7531\u7ec4\u4ef6\uff08\u8def\u7531\u7ec4\u4ef6\u4ee3\u7801\u4f1a\u88ab\u5206\u5f00\u6253\u5305\uff09\nconst Login = lazy(() =&gt; import('@/pages/Login'));\n// \u4f7f\u7528 &lt;Suspense&gt; \u6307\u5b9a\u5728\u52a0\u8f7d\u5b8c\u6210\u524d\u7684 Loading \u754c\u9762\nimport {Suspense} from 'react'; // \u5305\u88f9\u6240\u6709\u6ce8\u518c\u8def\u7531&lt;Route&gt;\n&lt;Suspense fallback={&lt;h1&gt;Loading&lt;/h1&gt;}&gt;\n    &lt;Switch&gt;\n        &lt;Router path=\"...\" component={Login}/&gt;\n        &lt;Redirect to=\"/home\"/&gt;\n    &lt;/Switch&gt;\n&lt;/Suspense&gt;\n</code></pre> <p>\u5176\u5b9e suspense \u663e\u793a\u7684\u5185\u5bb9\u4e5f\u53ef\u4ee5\u662f\u7ec4\u4ef6\uff08\u4f46\u662f\u4e0d\u80fd\u518d lazy \u4e86\uff09 <pre><code>import Loading from './loading';\n&lt;Suspense fallback={&lt;Loading/&gt;}/&gt;\n</code></pre></p>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#63-hook","title":"6.3 Hook","text":"<p>\u4f7f\u5f97\u51fd\u6570\u5f0f\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528 state \u53ca \u5176\u4ed6React\u7279\u6027</p>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#usestate","title":"useState","text":"<pre><code>// \u7531\u4e8e rfc \u6ca1\u6709 this\uff0c\u7ed1\u5b9a onClick={funcName} \u5373\u53ef\n// \u5b9a\u4e49\u56de\u8c03\u4f7f\u7528 function funcName(params){} \u5373\u53ef\nexport default function Demo {\n    // \u5206\u522b\u662f [cur_val, set_val_method]\n    const [count, setCount] = React.useState(initVal)\n    // \u53ef\u4ee5\u4f7f\u7528 {count} \u8bfb\u53d6\uff0c\u4f7f\u7528 setCount(newVal/count+1) \u91cd\u7f6e\n    // setCount( val =&gt; new_val) new_val \u53ef\u4ee5\u57fa\u4e8e\u65e7\u503c\u8fed\u4ee3\n}\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#useeffect","title":"useEffect","text":"<p>\u652f\u6301\u4f7f\u7528 LifeCycle</p> <pre><code>export default function Demo {\n    // \u4e0d\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u53c2\u6570\u65f6 = DidMount + DidUpdate\uff08\u68c0\u6d4b\u6240\u6709\u6570\u636e\uff09\n    // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a[] = DidMount \uff08\u4e0d\u68c0\u6d4b\u4efb\u4f55\u6570\u636e\uff09\n    // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a[count] = DidMount + UpdateCount\n    // \u4e5f\u53ef\u4ee5\u7528,\u5206\u9694\u591a\u4e2a\u68c0\u6d4b\u5bf9\u8c61\n    React.useEffect(()=&gt;{\n        let timer = setInterval(()=&gt;{\n            setCount(count =&gt; count+1)\n        }, 1000)\n        return () =&gt; { // \u8fd4\u56de\u7684\u51fd\u6570\u76f8\u5f53\u4e8e WillUnmount\n            clearInterval(timer)\n        }\n    },[]) // \u6b64\u65f6 = DidMount\n}\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#useref","title":"useRef","text":"<pre><code>export default function Demo() {\n    const myRef = React.useRef()\n    render() {\n        return (\n            &lt;input ref={myRef}/&gt;\n        )\n    }\n    // \u53ef\u4ee5\u7528 myRef.current.value \u62ff\u5230\u5f53\u524d\u7684\u8f93\u5165\u503c\n}\n</code></pre>"},{"location":"Nulling/React/%E6%85%A2%E9%80%9F%E4%B8%8A%E6%89%8B/#64-fragment","title":"6.4 Fragment","text":"<p>\u5145\u5f53 render \u7684\u300c\u865a\u62df\u300d\u6839\u6807\u7b7e\uff0c\u7c7b\u4f3c\u4e8e Vue \u4e2d\u7684 <code>&lt;template&gt;</code></p> <ul> <li>\u53ef\u4ee5\u6307\u5b9a key <code>&lt;Fragement key={1}&gt;</code></li> <li>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7a7a\u6807\u7b7e<code>&lt;&gt;</code>\uff0c\u4f46\u4e0d\u80fd\u6307\u5b9a key</li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/","title":"3 \u7ec4\u4ef6\u901a\u4fe1","text":"<p> \u7ea6 637 \u4e2a\u5b57  186 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#1","title":"1 \u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1","text":"<ul> <li>Father-to-Son     \u901a\u8fc7 <code>props</code> \u8fdb\u884c\u4f20\u9012</li> <li>Son-to-Father     \u901a\u8fc7 <code>props</code> \u4e2d\u7684\u51fd\u6570\u4f20\u9012\uff08\u51fd\u6570\u5728\u7236\u7ec4\u4ef6\u4e2d\u5b9e\u73b0\uff09     =&gt; State \u5728\u4f55\u5904\uff0c\u64cd\u4f5c State \u7684 method \u5c31\u5728\u4f55\u5904</li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#2","title":"2 \u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1","text":""},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#21","title":"2.1 \u6d88\u606f\u8ba2\u9605\u4e0e\u53d1\u5e03","text":"<p>\u6b64\u5904\u4f7f\u7528 <code>PubSub.js</code> \u5b9e\u73b0\uff0c\u9700\u8981\u63d0\u524d\u5b89\u88c5\uff1a<code>npm i pubsub-js --save</code></p> <pre><code>import PubSub from 'pubsub-js' // \u5f15\u5165 @ both\n// \u8ba2\u9605\u6d88\u606f\ncomponentDidMount() {\n    PubSub.subscribe('msgName',(_,data) =&gt; { // _ \u662f\u5360\u4f4d\u7b26\u53f7\n        this.setState({...data}) // \u4e00\u4e2a\u89e3\u6784\u8d4b\u503c\u7684\u9a9a\u64cd\u4f5c\n    })\n}\n// \u53d1\u5e03\u6d88\u606f @ any Function\nfunction (){\n    const dataobj = {\n        name: '',\n        age: 12\n    }\n    PubSub.publish('msgName', dataObj)\n}\n</code></pre>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#22-redux","title":"2.2 Redux","text":"<p>Redux \u7528\u4e8e\u7ba1\u7406\u591a\u4e2a\u7ec4\u4ef6\u7684\u5171\u4eab\u72b6\u6001\uff0c\u4e2d\u6587\u6587\u6863 \u9996\u5148\u9700\u8981\u5b89\u88c5 <code>npm i redux --save</code></p>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_1","title":"\u5f00\u53d1\u8005\u5de5\u5177","text":"<ol> <li>\u5b89\u88c5 <code>npm i redux-devtools-extension</code></li> <li>\u5728 <code>store</code> \u4e2d\u8fdb\u884c\u914d\u7f6e      <code>js      // @ redux/store      import {composeWithDevTools} from 'redux-devtools-extension'      const store = createStore(          allReducers,          composeWithDevTools(applyMiddleware(thunk))      )</code></li> </ol>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_2","title":"\u4e09\u4e2a\u6838\u5fc3\u6982\u5ff5","text":"<ol> <li>Action \u52a8\u4f5c\u5bf9\u8c61\uff0c\u5305\u542b\u4e24\u4e2a\u5c5e\u6027\uff1a<ul> <li><code>type</code>\uff1a\u5b57\u7b26\u4e32\uff0c\u552f\u4e00\u6807\u8bc6\u52a8\u4f5c</li> <li><code>data</code>\uff1a\u4efb\u610f\u7c7b\u578b\uff0c\u53ef\u9009</li> </ul> </li> <li>Reducer\uff08\u5fc5\u987b\u662f\u7eaf\u51fd\u6570\uff09<ul> <li>\u7528\u4e8e \u521d\u59cb\u5316 / \u52a0\u5de5 \u72b6\u6001</li> <li>\u300c\u52a0\u5de5\u300d\u66f4\u5177 old-state &amp; action \u751f\u6210\u65b0\u7684 state</li> <li>\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c preState =&gt; \u53ea\u80fd\u8fd4\u56de\u4e00\u4e2a\u57fa\u4e8e preState \u8ba1\u7b97\u7684 newState     \u6240\u4ee5\u4e0d\u80fd\u7528 <code>preState.unshift</code>  -&gt; <code>return [data,...preState]</code></li> </ul> </li> <li>Store - C\u4f4d\u4eba\u58eb</li> </ol>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_3","title":"\u7cbe\u7b80\u7248\u5b9e\u73b0","text":"<p>\u6211\u4eec\u5728 <code>/src/redux</code> \u4e0b\u5b58\u653e\u76f8\u5173\u6587\u4ef6</p> <ul> <li>\u521b\u5efa Store <pre><code>// createStore \u597d\u50cf\u88ab\u5f03\u7528\u4e86\uff0c\u518d\u8bf4\u5427\nimport { createStore } from 'redux'\nimport countReducer from './countReducer'\nexport default createStore(countReducer)\n</code></pre></li> <li>\u521b\u5efa\u7528\u4e8e\u8ba1\u7b97\u5b9e\u4f8b\u7684 Reducer <pre><code>const initState = 0 // \u5f53\u4f20\u5165 undefined \u65f6\u8fdb\u884c\u521d\u59cb\u5316\nexport default function countReducer(preState=initState, action) {\n    const {type, data} = action // \u63d0\u53d6 action \u7684\u76f8\u5173\u4fe1\u606f\n    // \u6839\u636e type \u5bf9 state \u8fdb\u884c\u8fed\u4ee3\u4fee\u6539\n    switch(type) {\n        case 'increase': return preState + data\n        case 'decrease': return preState - data\n        default: return preState\n    }\n    // \u662f\u5426\u64cd\u4f5cstate\u7684\u524d\u7f6e\u5224\u65ad\u5e94\u8be5\u5728\u8c03\u7528 dispatch \u524d\u5b9e\u73b0\n}\n</code></pre></li> <li>\u53d1\u5e03\u66f4\u6539\u6307\u4ee4 <pre><code>import store from './redux/store'\nfunction add() {\n    const {value} = this.selected // \u83b7\u53d6\u9009\u4e2d\u6570\u5b57\n    // \u53d1\u5e03\u52a0\u6cd5\u6307\u4ee4\n    store.dispatch({\n        type: 'increase',\n        data: value*1\n    })\n    // \u6b64\u5916\uff0c\u53ef\u4ee5\u901a\u8fc7 store.getState \u83b7\u53d6\u5f53\u524d\u6570\u636e\n}\n</code></pre></li> <li>\u589e\u52a0\u8ba2\u9605     \u56e0\u4e3a store \u6570\u636e\u7684\u6539\u53d8\u4e0d\u56de\u89e6\u53d1\u91cd\u65b0 render\uff0c\u6240\u4ee5\uff1a     <pre><code>import store from './redux/store';\nstore.subscribe(()=&gt;{\n    root.render(&lt;App /&gt;);\n})\n// \u5176\u5b9e\u4e5f\u53ef\u4ee5\u5728\u64cd\u4f5c\u5b8c\u4e4b\u540e\u8c03\u7528\u4e00\u4e0b setState({})\n</code></pre></li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_4","title":"\u5b8c\u6574\u7248\u5b9e\u73b0","text":"<ul> <li>\u6dfb\u52a0\u5e38\u91cf\u6a21\u5757\uff1a\u907f\u514d\u62fc\u5199\u9519\u8bef     <pre><code>// @ redux/const.js\nexport const INCREMENT = 'increment'\nexport const DECREMENT = 'decrement'\n</code></pre></li> <li>\u6dfb\u52a0 ActionCreator - \u751f\u6210 action \u5bf9\u8c61     <pre><code>// @ redux/countActionCreator.js\nimport {INCREAMENT} from './const'\n// \u5206\u522b\u66b4\u9732 - \u56e0\u4e3a\u4f1a\u6709\u597d\u51e0\u4e2a\u51fd\u6570\nexport const createIncAction = (data)=&gt;({ // \u8fd4\u56de Object\n    type: INCREMENT,\n    data\n})\n// \u540c\u6837 reducer \u5e94\u8be5 case INCREMENT\n</code></pre></li> <li>\u5f15\u5165\u5e76\u4f7f\u7528     <pre><code>import {createIncAction} from './redux/createActionCreator'\n// \u53d1\u9001 dispatch \u65f6\u4f7f\u7528\u5b98\u65b9\u624b\u6bb5\u521b\u5efa\nstore.dispatch(createIncAction(value))\n</code></pre></li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#action","title":"\u5f02\u6b65 Action\uff08\u4e0d\u5fc5\u8981\uff09","text":"<ul> <li>\u540c\u6b65 Action dispatch \u4e00\u4e2a\u5305\u542b type &amp; data \u7684\u666e\u901a\u5bf9\u8c61</li> <li>\u5f02\u6b65 Action dispatch \u4e00\u4e2a function</li> </ul> <p>\u9700\u8981\u5b89\u88c5\u4e2d\u95f4\u4ef6 <code>npm i redux-thunk</code>\uff0c\u5728 store \u4e2d\u5e94\u7528\u4ee5\u4e0b\u66f4\u6539 <pre><code>// @ redux/store.js\nimport thunk from 'redux-thunk'\nimport {createStore,applyMiddleware} from 'redux'\nexport default createStore(countReducer, applyMiddleware(thunk))\n</code></pre></p> <pre><code>// @ redux/countActionCreator.js \u6dfb\u52a0\u5f02\u6b65 action\nexport const createAsyncIncreaceAction = (data, time) =&gt; {\n    return (dispatch) =&gt; { // \u8fd4\u56de function\n        setTimeout(()=&gt;{ // \u5f00\u542f\u5ef6\u65f6\n            dispatch(createIncreaceAction(data)) // \u8c03\u7528\u540c\u6b65action\n        }, time)\n    }\n}\n// \u5176\u5b9e\u53ef\u4ee5\u5728\u7ec4\u4ef6\u91cc\u5b9e\u73b0\u8fd9\u4e2a\u903b\u8f91\n</code></pre>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#23-react-redux","title":"2.3 react-redux","text":"<p>\u6211\u4eec\u4f7f\u7528\u300c\u5bb9\u5668\u7ec4\u4ef6\u300d\u5305\u88f9 UI \u7ec4\u4ef6\uff0c\u5bb9\u5668\u7ec4\u4ef6\uff1a - \u76f4\u63a5\u548c Redux \u4ea4\u63a5\uff0c\u4f7f\u7528\u5176 API\uff08getState / dispatch\uff09 - \u5411UI\u7ec4\u4ef6\u63d0\u4f9b\uff1areudx\u4e2d\u4fdd\u5b58\u7684\u72b6\u6001 &amp; \u64cd\u4f5c\u72b6\u6001\u7684\u65b9\u6cd5\uff08\u901a\u8fc7 props\uff09</p> <p>\u9996\u5148\u9700\u8981\u5b89\u88c5 <code>npm i react-redux</code>\uff0c\u968f\u540e\u521b\u5efa\u5bb9\u5668\u7ec4\u4ef6 <pre><code>// @ container.js\uff0c\u5f15\u5165UI\u7ec4\u4ef6\u53ca\u8fde\u63a5\u4ef6\nimport UI from './UIcomp'\nimport {connect} from 'react-reduc'\n// \u5f15\u5165 action\nimport { createIncAction, createDecAction } from './actionCreator'\n\n// \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff08\u4f1a\u5408\u5e76\u5230 props \u4e2d\uff09\nfunction mapStateToProps(state) {\n    return {count: state}\n}\n\n// \u8fd4\u56de\u5bf9\u8c61\uff0c\u662f methods \u7684\u952e\u503c\u5bf9\nfunction mapDispatchToProps(dispatch) {\n    return {\n        add: (val) =&gt; dispatch(createIncAction(val)),\n        sub: (val) =&gt; dispatch(createDecAction(val))\n    }\n}\n\n// \u4e24\u4e2a\u53c2\u6570\u5206\u522b\u5c06 data &amp; methods \u4f20\u9012\u7ed9 UI.props\nexport default connect(mapStateToProps, mapDispatchToProps)(UI)\n\n// \u53ef\u4ee5\u5728 UI \u4e2d\u4f7f\u7528 this.props.count / this.props.add \u8bbf\u95ee\u6570\u636e\u548c\u65b9\u6cd5\n</code></pre></p> <pre><code>// store \u5728\u5e94\u7528UI\u7ec4\u4ef6\u7684\u6587\u4ef6\u4e2d\u5f15\u5165\uff0c\u5e76\u901a\u8fc7 props \u4f20\u9012\n// @ UIcomponent\nimport store from './redux/store'\nimport Container from './container'\nexport default UI extends Component {\n    render() {\n        return (\n            &lt;Container store={store}/&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_5","title":"\u7cbe\u7b80\u7248\u672c","text":"<pre><code>// \u5bf9 container \u8fdb\u884c\u4e00\u4e2a\u7b80\u5199\u7684\u5927\u52a8\u4f5c\nexport default connect(\n    state =&gt; ({count:state}), // \u4f7f\u7528\u5706\u62ec\u53f7\u5305\u88f9\u8fd4\u56de\u7684\u5bf9\u8c61\uff0c\u907f\u514d\u6b67\u4e49\n    {   // react-redux \u4f1a\u81ea\u52a8\u8fdb\u884c\u5206\u53d1\uff0c\u53c2\u6570\u4f1a\u76f4\u63a5\u88ab actionCreator \u63a5\u6536\n        add: createIncAction,\n        sub: createDecAction,\n        addAsync: createAsyncIncAction\n    }\n)(UI)\n</code></pre> <ul> <li> <p><code>react-redux</code> \u901a\u8fc7 <code>connect</code> \u76d1\u542c\u4e86\u6570\u636e\u53d8\u5316\uff0c\u5728 <code>index.js</code>  \u4e2d\u4e5f\u4e0d\u7528\u624b\u52a8\u53ef\u8fdb\u884c\u6d88\u606f\u8ba2\u9605\u4e86</p> </li> <li> <p>\u56e0\u4e3a\u6240\u6709\u4eba\u90fd\u8981\u7528\u5230 store\uff0c\u5728\u4f7f\u7528\u7ec4\u4ef6\u7684\u65f6\u5019\u4e00\u4e2a\u4e2a <code>store={store}</code> \u5b9e\u5728\u592a\u9634\u95f4\u54e9\uff0c\u6240\u4ee5\u5bf9 App \u8fdb\u884c\u4e00\u4e2a\u5927\u7684\u6539\u9020     <pre><code>// @ index.jsx\nimport store from './store'\nimport {Provider} from 'react-redux'\n// \u8fd9\u4e00\u64cd\u4f5c\u662f\u7684App\u7684\u6240\u6709\u540e\u4ee3\u7ec4\u4ef6\u90fd\u63a5\u6536store\nReactDOM.render(\n    &lt;Provider store={store}&gt;\n        &lt;App/&gt;\n    &lt;/Provider&gt;,\n    document.getElementById('root')\n)\n</code></pre></p> </li> <li> <p>\u6574\u5408 UI &amp; Container\uff081v1\u4f1a\u5bfc\u81f4\u6587\u4ef6\u6570\u91cf double\uff0c\u6240\u4ee5\u6211\u4eec\u5c1d\u8bd5\u6574\u5230\u4e00\u8d77\uff09 <pre><code>// \u672c\u8d28\u662f\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u5b9a\u4e49\u4fe9\u7ec4\u4ef6\uff0c\u7136\u540e\u628a Container \u4ea4\u51fa\u53bb\n// 1. \u9996\u5148\u5b9a\u4e49\u672c\u4f53\u7684 UI \u7ec4\u4ef6\uff08\u7167\u5e38\u4ece props \u4e2d\u53d6\u7528\uff09\u3001\nclass Count extends Component {}\n// 2. \u968f\u540e\u5b9a\u4e49\u5e76\u4ea4\u51fa Container\nexport default connect(state,methods)(Count)\n\n// \u4f7f\u7528\u65f6\u4ee5 Count \u540d\u4e49\u5f15\u5165\u5e76\u4f7f\u7528\u5c31\u884c\uff08\u5b9e\u9645\u4e0a\u5f15\u5165\u7684\u662f Container\uff09\n</code></pre></p> </li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#_6","title":"\u6570\u636e\u5171\u4eab","text":"<ul> <li>\u6240\u6709\u7684\u64cd\u4f5c\u5b9a\u4e49\u5728 \u540c\u4e00\u4e2a const \u6587\u4ef6\u4e2d</li> <li>\u4e0d\u540c\u79cd\u7c7b\u7684\u64cd\u4f5c\u5e94\u8be5\u5b9a\u4e49\u72ec\u7acb\u7684 actionMaker &amp; Reducer</li> <li>\u9700\u8981\u5728 <code>store.js</code> \u4e2d\u6c47\u603b\u6240\u6709\u7684 Reducer     <pre><code>// @ store.js\n// \u5f15\u5165\u6240\u6709\u7684 Reducer\nimport{combineReducers} from 'redux'\nconst CombinedReducer = combineReducers({\n    // \u5404\u4e2areducer\u64cd\u4f5c\u7684\u7ed3\u679c\u5c06\u4f5c\u4e3a state \u7684\u5bf9\u5e94\u5206\u91cf\n    sum: countReducer, // import\u540c\u540d\u65f6\u53ef\u89e6\u53d1\u7b80\u5199\n    list: personReducer\n})\n// \u66b4\u9732\u6574\u5408\u7684 store\nexport default createStore(\n    CombinedReducer,\n    applyMiddleware(thunk)\n)\n</code></pre><ul> <li>\u8fdb\u4e00\u6b65\u4f18\u5316\uff1a\u5728 <code>redux/reducers/index.js</code> \u4e2d\u5f15\u5165\u5e76\u6c47\u603b     <pre><code>import subReducer from './somewhere'\nexport default AllReducers = {...}\n// @ store.js\nimport AllReducers from './redux/reducer/index'\n// \u5c06 AllReducers \u4f5c\u4e3a createStore \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\n</code></pre></li> </ul> </li> <li>\u5728\u521d\u59cb\u5316 Container \u7684\u65f6\u5019\u5bf9 state \u505a\u5bf9\u5e94\u4fee\u6539     <pre><code>// UI \u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684 props \u5206\u91cf\u57fa\u4e8e\u6b64\u5904 state \u7684\u91cd\u547d\u540d\u7ed3\u679c\nexport default connnect(\n    state =&gt; ({\n        // \u6620\u5c04\u5176\u4ed6 reducer \u4fee\u6539\u7684\u65f6\u5019\u4f7f\u7528\u5206\u91cf\uff08\u652f\u6301\u91cd\u547d\u540d\uff09\n        // \u5206\u91cf\u540d\u4e0e CombineReducer \u65f6\u6ce8\u518c\u7684\u4e00\u81f4\n        personList: state.list,\n        sum: state.sum\n    }),\n    {   // \u4ec5\u6620\u5c04\u81ea\u8eab\u4f7f\u7528\u7684\u65b9\u6cd5\n        addPerson:createAddPersonAction // \u540d\u5b57\u8d77\u5f97\u597d\u4e5f\u80fd\u7b80\u5199\n    }\n)(Person)\n</code></pre></li> </ul>"},{"location":"Nulling/React/%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/#23","title":"2.3 \u540e\u4ee3\u7ec4\u4ef6\u901a\u4fe1","text":"<ol> <li>\u521b\u5efa Context \u5bb9\u5668 <code>const xxContext = Reace.createContext()</code></li> <li>\u5728 render \u4e2d\u4f7f\u7528 <code>&lt;xxContext&gt;</code> \u5305\u88f9\u5b50\u7ec4\u4ef6\uff0c\u901a\u8fc7 value \u4f20\u9012\u6570\u636e     <pre><code> // \u5355\u4e2a\u6570\u636e value={username}\n // \u591a\u4e2a\u6570\u636e value={{name:username, age:userage}}\n &lt;xxContext.Provider value={dataName}&gt;\n     &lt;DescComponent/&gt;\n &lt;/xxContext.Provider&gt;\n</code></pre></li> <li>\u5728\u540e\u4ee3\u7ec4\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e <pre><code>// 1. rcc Only\nstatic contextType = xxContext; // \u58f0\u660e\u63a5\u6536\u54ea\u4e2aContext\nconsole.log(this.context); // \u8bfb\u53d6 value \u4e2d\u4f20\u9012\u7684\u6570\u636e\n\n// 2. both rcc &amp; rfc\n&lt;Consumer&gt;\n    {\n        value =&gt; {\n            return `\u5e74\u9f84\u662f${value.age+1}` // \u5b9e\u9645\u663e\u793a\u6570\u636e\uff08\u53ef\u52a0\u5de5\uff09\n            // \u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a template\n        }\n    }\n&lt;Consumer/&gt;\n</code></pre></li> </ol>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/","title":"4 \u7f51\u7edc\u8bf7\u6c42","text":"<p> \u7ea6 145 \u4e2a\u5b57  61 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#1-ajax","title":"1 Ajax","text":"<p>React \u5e94\u7528\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9 Ajax \u5e93 / \u81ea\u5df1\u5c01\u88c5 \u6b64\u5904\u4f7f\u7528 <code>axios</code> \u8fdb\u884c\u5b9e\u73b0</p>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#_1","title":"\u5f15\u5165\u5e76\u4f7f\u7528","text":"<pre><code>import axios from 'axois'\n\naxois.get('URL').then({\n    res =&gt; {console.log(res.data)},\n    err =&gt; {console.log(err.message)}\n})\n</code></pre>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#_2","title":"\u914d\u7f6e\u4ee3\u7406","text":"<ul> <li>\u5339\u914d\u89c4\u5219<ul> <li>\u672c\u5730\u670d\u52a1\u5668\u4ee5 <code>/public</code> \u4e3a\u6839\u8def\u5f84<ul> <li>\u672c\u8def\u5f84\u4e0b\u5b58\u5728 - \u8fd4\u56de\u672c\u5730\u8d44\u6e90</li> <li>\u672c\u8def\u5f84\u4e0b\u4e0d\u5b58\u5728 - \u5411 <code>proxy</code> \u914d\u7f6e\u7684\u8fdc\u7aef\u8bf7\u6c42</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#_3","title":"\u5355\u4e2a\u4ee3\u7406","text":"<pre><code>// @ package.json\n{\n    ...,\n    // \u4e0d\u77e5\u9053\u4e3a\u5565\u7528localhost\u4f1a\u5bc4\uff0c\u7528 127.0.0.1 \u5c31\u6b63\u5e38\u4e86\n    \"proxy\": \"URL of Server\" \n    // \u4e4b\u540e\u7684\u8bf7\u6c42\u7ed9\u672c\u5730\u4ee3\u7406\u53d1\u5c31\u884c\u4e86\n}\n</code></pre>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#_4","title":"\u591a\u4e2a\u4ee3\u7406","text":"<p>\u9996\u5148\u9700\u8981\u8fdb\u884c\u5b89\u88c5 <code>npm i http-proxy-middleware --save</code></p> <pre><code>// @ src/setupProxy.js\nconst { createProxyMiddleware } = require('http-proxy-middleware')\n\nmodule.exports = function (app) {\n    app.use(\n        createProxyMiddleware('/api', { // \u4ee5 api \u4e3a\u524d\u7f00\u7684\u8bf7\u6c42\u4f1a\u89e6\u53d1\u8be5\u4ee3\u7406\n            target: 'http://127.0.0.1:3030',\n            secure: false,\n            changeOrigin: true, // \u4fee\u6539 host \u4e0e\u76ee\u6807\u670d\u52a1\u5668\u540c\u6e90\n            pathRewrite: {\n                \"^/api\": \"\"\n            }\n        }\n    ))\n}\n</code></pre>"},{"location":"Nulling/React/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#2-fetch","title":"2 Fetch","text":"<p>\u6587\u6863\u5730\u5740\uff0c\u53e6\u4e00\u4e2a\u56fd\u5185\u7684\u6587\u6863</p> <p><code>Fetch</code> \u662f window \u7684\u539f\u751f\u51fd\u6570\uff0c\u4e0d\u57fa\u4e8e xhr \u53d1\u9001 Ajax \u8bf7\u6c42 =&gt; \u4f46\u662f\u8001\u7248\u672c\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u4e0d\u652f\u6301\u634f</p> <pre><code>// GET \u8bf7\u6c42\nfetch('URL').then(\n    res =&gt; {\n        // \u7b2c\u4e00\u6b65\uff1a\u300c\u8054\u7cfb\u670d\u52a1\u5668\u300d\u662f\u5426\u6210\u529f\uff08\u8fd4\u56de404\u4e5f\u662f\u6210\u529f\uff09\n        // =&gt; \u6570\u636e\u5728 res.josn() \u91cc\uff08\u662f\u4e00\u4e2a Promise \u5bf9\u8c61\uff09\n        return res.json()\n    },\n    /*err =&gt; {\n        // \u65ad\u7f51\u624d\u4f1a\u5230\u8fd9\u91cc\n        return new Promise(()=&gt;{}) // \u4e0d\u7136\u8fd4\u56de undefined \u8fd8\u4f1a\u5230\u4e0b\u9762\u7684 res\n    }*/\n).then(\n    res =&gt; {\n        // res \u672c\u8eab\u5c31\u662f data \u5bf9\u8c61\n    },\n    /*err =&gt; {\n        // err \u672c\u8eab\u5c31\u662f errMsg\n    }*/\n).catch(\n    err =&gt; {\n        console.log(err) // \u515c\u5e95\u7684\u9519\u8bef\u5904\u7406\u51fd\u6570\n    }\n)\n// \u4f18\u5316\u7684\u7248\u672c\nsearch = async()=&gt;{\n    try {\n        const res = await fetch('URL')\n        const data = await res.json()\n        console.log(data) // \u8fd4\u56de\u7684\u6570\u636e\u5728 data \u91cc\uff08\u662f\u4e2aObj\uff09\n    } catch(err) {\n        console.log(err)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/","title":"5 \u8def\u7531","text":"<p> \u7ea6 857 \u4e2a\u5b57  267 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>SPA(Single Page Application)</p> <ul> <li>\u6574\u4e2a\u5e94\u7528\u53ea\u6709\u4e00\u4e2a\u5b8c\u6574\u7684\u9875\u9762</li> <li>\u70b9\u51fb\u9875\u9762\u4e2d\u7684\u94fe\u63a5\u300c\u4e0d\u4f1a\u5237\u65b0\u300d\u9875\u9762\uff08\u53ea\u4f1a\u5c40\u90e8\u66f4\u65b0\uff09</li> <li>\u6570\u636e\u9700\u8981\u901a\u8fc7 Ajax \u83b7\u53d6\uff0c\u5728\u524d\u7aef\u5f02\u6b65\u5c55\u793a</li> </ul> <p>\u6240\u6709\u4e0d\u5b58\u5728\u7684\u8d44\u6e90\u90fd\u8fd4\u56de <code>index.html</code> \u515c\u5e95...</p>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#intro","title":"Intro","text":"<p>React-Router \u5728 npm \u4e0a\u5171\u53d1\u5e03\u4e86\u4e09\u4e2a\u4e0d\u540c\u7684\u7248\u672c</p> <ul> <li><code>react-router</code>\uff1a\u6838\u5fc3\u5e93</li> <li><code>react-router-dom</code>\uff1a\u6dfb\u52a0\u4e86DOM\u7ec4\u4ef6\uff0c\u6bd4\u5982 BrowserRouter</li> <li><code>react-router-native</code>\uff1a\u6dfb\u52a0\u4e86\u7528\u4e8e ReactNative \u7684 API</li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#1-react-router-dom5","title":"1 React-Router-Dom@5","text":"<ul> <li>\u4e00\u822c\u628a\u666e\u901a\u7ec4\u4ef6\u653e\u5728 <code>components</code> \u4e0b\uff0c\u8def\u7531\u7ec4\u4ef6\u653e\u5728 <code>pages</code> \u4e0b</li> <li>\u8def\u7531\u7ec4\u4ef6\u9ed8\u8ba4\u4f1a\u6536\u5230 <code>history, location, match</code> \u4e09\u4e2a <code>props</code></li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#set-up","title":"Set Up","text":"<pre><code>npm i react-router-dom@5 # \u6b64\u5904\u5b66\u4e60 Version 5\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#basic-usage","title":"Basic Usage","text":"<pre><code>import { Link, Route, BrowserRouter } from 'resct-router-dom'\n// import \u6240\u6709\u8981\u7528\u5230\u7684\u8def\u7531\u7ec4\u4ef6\nexport default class App extends Component {\n    render() {\n        return (\n            {/* \u7531\u540c\u4e00\u5bf9\u300cBrowserRouter\u300d\u5305\u88f9\u7684\u5185\u5bb9\u89c6\u4e3a\u72ec\u7acb\u7684\u8def\u7531\u89c4\u5219\n                \u6240\u4ee5\u8fd9\u91cc\u5e72\u8106\u628a App \u5168\u5305\u4e0a\u4e86 */}\n            &lt;BrowserRouter&gt;\n                &lt;h1&gt;This is APP!!!&lt;/h1&gt;\n                {/* \u7f16\u5199\u8def\u7531\u94fe\u63a5\uff0c\u76f8\u5f53\u4e8e a \u6807\u7b7e */}\n                &lt;Link to=\"/home\"&gt;Home&lt;/Link&gt;\n                &lt;Link to=\"/shop\"&gt;Shop&lt;/Link&gt;\n                {/* \u6ce8\u518c\u8def\u7531\uff0c\u76f8\u5f53\u4e8e route + router-view */}\n                &lt;Route path=\"/home\" component={Home}/&gt;\n                &lt;Route path=\"/shop\" component={Shop}/&gt;\n            &lt;/BrowserRouter&gt;\n        )\n    }\n}\n// \u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5b8c\u5168\u5305\u88f9\u6cd5 @ index.js\nReactDOM.render(\n    &lt;BrowserRouter&gt;\n        &lt;App/&gt;\n    &lt;/BrowserRouter&gt;,\n    document.getElementById('root')\n)\n// \u5176\u5b9e\u7528 HashRouter \u4e5f\u884c\uff08\u4f1a\u591a\u4e00\u4e2a'#'\uff0c\u8ba4\u4e3a\u540e\u9762\u7684\u90fd\u662f\u524d\u53f0\u8d44\u6e90\uff09\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#11","title":"1.1 \u6807\u7b7e\u5f0f\u8def\u7531","text":""},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#navlink","title":"NavLink \u6807\u7b7e","text":"<p><code>&lt;Link&gt;</code> \u6807\u7b7e\u4e0d\u652f\u6301\u52a8\u6001\u9ad8\u4eae\u6548\u679c</p> <pre><code>export default class App extends Component {\n    render() {\n        return (\n            &lt;BrowserRouter&gt;\n                {/* NavLink \u4f1a\u9ed8\u8ba4\u4e3a\u5f53\u524d\u9009\u4e2d\u7684 tag \u8ffd\u52a0 active\u4f5c\u4e3a\u7c7b\u540d\n                    \u4e5f\u53ef\u4ee5\u7528 activeClassName \u8fdb\u884c\u6307\u5b9a\u634f */}\n                &lt;NavLink activeClassName=\"demo\" to=\"/home\"&gt;Home&lt;/Link&gt;\n                &lt;NavLink to=\"/shop\"&gt;Shop&lt;/Link&gt;\n            &lt;/BrowserRouter&gt;\n        )\n    }\n}\n</code></pre> <p>\u4e0b\u9762\u5bf9 <code>NavLink</code> \u8fdb\u884c\u4e00\u4e9b\u5c0f\u5c0f\u7684\u5c01\u88c5\uff08\u4e00\u76f4\u5199\u4e00\u6837\u7684 tag \u771f\u7684\u5f88\u70e6\u8bf6\uff01\uff09 <pre><code>// MyNavLink \u662f\u4e00\u822c\u7ec4\u4ef6\uff0c\u53ea\u662f\u5c01\u88c5\u4e86 activeClassName &amp; className \u90e8\u5206\n// App \u4e2d\u7684\u4f7f\u7528\uff08\u4f7f\u7528 props \u548c slot \u4f20\u9012\u4e2a\u6027\u6570\u636e\uff09\n&lt;MyNavLink to=\"/home\"&gt;Home&lt;/MyNavLink&gt;\n// \u7ec4\u4ef6\u5b9a\u4e49\nexport default class MyNavLink extends Component {\n    render() {\n        return (\n            {/* \u628a\u6240\u6709\u63a5\u53d7\u7684 prop \u90fd\u585e\u8fdb tag \u7684\u5c5e\u6027\u91cc\u4e86 */}\n            &lt;NavLink {...this.props} activeClassName=\"active\" className=\"demo\"&gt;\n                {this.props.children}\n            &lt;/NavLink&gt;\n        )\n    }\n}\n// \u9274\u4e8e NavLink \u7684\u6807\u7b7e\u4f53\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u7528 children \u5c5e\u6027\u914d\u7f6e\n&lt;MyNavLink to=\"/home\" children=\"Home\"/&gt;\nreturn (\n    &lt;NavLink {...this.props} activeClassName=\"active\" className=\"demo\" /&gt;\n)\n</code></pre></p>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#switch","title":"Switch \u6807\u7b7e","text":"<p>\u5b9e\u73b0 First Match\uff0c\u63d0\u9ad8\u5339\u914d\u6548\u7387</p> <pre><code>// \u7528 switch \u5305\u88f9 route \u5c31\u53ef\u4ee5\u4e86\n// \u9ed8\u8ba4\uff1aLast Match -&gt; /shop \u663e\u793a ABC\n// Switch\uff1aFirst Match -&gt; /shop \u663e\u793a Shop\n&lt;Switch&gt;\n    &lt;Route path=\"/home\" component={Home}/&gt;\n    &lt;Route path=\"/shop\" component={Shop}/&gt;\n    &lt;Route path=\"/shop\" component={ABC}/&gt;\n&lt;/Switch&gt;\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_1","title":"\u6837\u5f0f\u4e22\u5931","text":"<p>\u5237\u65b0\u540e\u901a\u8fc7 <code>./index.css</code> \u8bf7\u6c42\u8d44\u6e90\uff0c<code>cur_path</code> \u5176\u5b9e\u5df2\u7ecf\u4e0d\u662f\u6839\u76ee\u5f55\u4e86\uff0c\u5b9e\u9645\u8fd4\u56de\u7684\u662f <code>index.html</code></p> <p>\u4e0b\u9762\u662f\u4e09\u79cd\u89e3\u51b3\u65b9\u6848\uff1a</p> <ol> <li>\u628a <code>index.html</code> \u4e2d\u7684 <code>link</code> \u8def\u5f84\u6539\u6210 <code>/index.css</code> \uff08\u53bb\u6389\u6700\u524d\u9762\u7684 <code>.</code>\uff09</li> <li>\u628a <code>index.html</code> \u4e2d\u7684 <code>link</code> \u8def\u5f84\u6539\u6210 <code>%PUBLIC_URL%/index.css</code> \uff08\u53bb\u6389\u6700\u524d\u9762\u7684 <code>.</code>\uff09</li> <li>\u4f7f\u7528 <code>HashRouter</code> \uff08<code>#</code> \u540e\u4f5c\u4e3a hash \u503c\uff0c\u4e0d\u5f71\u54cd <code>cur_path</code>\uff09</li> </ol>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_2","title":"\u5339\u914d\u6a21\u5f0f","text":"<ul> <li>\u6a21\u7cca\u5339\u914d\uff1a\u524d\u7f00\u5305\u542b\u5c31\u7b97\u5339\u914d\u4e0a</li> <li>\u4e25\u683c\u5339\u914d\uff1a<ul> <li>\u5168\u7b49\u5339\u914d\uff0c\u9700\u8981\u914d\u7f6e <code>&lt;Route exact={true}/&gt;</code> \u6216\u8005\u7b80\u5199 <code>&lt;Route exact/&gt;</code></li> <li>\u53ef\u80fd\u4f1a\u5f71\u54cd\u5d4c\u5957\u8def\u7531\u7684\u6b63\u5e38\u663e\u793a</li> </ul> </li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_3","title":"\u91cd\u5b9a\u5411","text":"<pre><code>// \u653e\u5728\u8def\u7531\u6ce8\u518c\u7684\u300c\u6700\u4e0b\u65b9\u300d\u8fdb\u884c\u515c\u5e95 - \u5168\u90fd\u4e0d\u7b26\u5408\u5c31\u8dd1\u5230 redirect \u53bb\n&lt;Switch&gt;\n    &lt;Route path=\"/home\" component={Home}/&gt;\n    &lt;Route path=\"/shop\" component={Shop}/&gt;\n    &lt;Redirect to=\"/home\" /&gt;\n&lt;/Switch&gt;\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_4","title":"\u5d4c\u5957\u8def\u7531","text":"<p>\u5f00\u542f\u4e25\u683c\u5339\u914d\u5c31\u76f4\u63a5\u5bc4\u4e86</p> <pre><code>// \u6211\u4eec\u5728 Home \u4e0b\u8fdb\u884c\u4e8c\u7ea7\u8def\u7531\uff0c\u90a3\u4e48\u5c31\u8981\u5728 Home.jsx \u4e2d\u8fdb\u884c\u914d\u7f6e\n// NavLink.to &amp;&amp; Route.path \u4e2d\u90fd\u8981\u5e26\u6709\u4e00\u7ea7\u8def\u7531 /home\n&lt;BrowserRouter&gt;\n    &lt;NavLink activeClassName=\"active\" to=\"/home/message\"&gt;Message&lt;/NavLink&gt;&lt;br/&gt;\n    &lt;NavLink activeClassName=\"active\" to=\"/home/price\"&gt;Price&lt;/NavLink&gt;\n    {/* \u672c\u7ea7\u522b\u7684\u91cd\u5b9a\u5411\u4e5f\u8981\u5305\u542b\u4e0a\u4e00\u7ea7\u8def\u7531 */}\n    &lt;Redirect to=\"/home/message\"/&gt;\n    &lt;Route path=\"/home/message\" component={hMsg}&gt;&lt;/Route&gt;\n    &lt;Route path=\"/home/price\" component={hPrc}&gt;&lt;/Route&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_5","title":"\u8def\u7531\u7a7f\u53c2","text":"<pre><code>// 1. params - \u4e0d\u80fd\u76f4\u63a5\u7528\u6a21\u7248\u5b57\u7b26\u4e32\u634f\n    // \u53d1\u9001\n    &lt;Link to={`url/${this.state.p1}/${this.state.p2}`}/&gt;\n    // \u63a5\u6536\n    // 1. \u9996\u5148\u5728 Route \u4e2d\u5360\u4f4d\n    &lt;Route path=\"/url/:p1/:p2\" component={Comp}/&gt;\n    // 2. \u5728 Comp \u7684 props.match.params \u4e2d\u63a5\u6536\n    // const {p1, p2} = this.props.match.params\n\n// 2. query/search\n    // \u53d1\u9001 - \u4e0d\u540c\u53c2\u6570\u95f4\u4f7f\u7528 &amp; \u8fde\u63a5\n    &lt;Link to={`url/?p1=${this.state.p1}&amp;p2=${this.state.p2}`}/&gt;\n    // \u63a5\u6536\uff08\u4e0d\u9700\u8981\u58f0\u660e\uff09\n    // pre\uff1a\u5148\u5b89\u88c5\uff0c\u7136\u540e import qs from 'querystring'\n        // 1. \u521d\u59cb\u7684 search \u662f\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528 qs.parse() \u8f6c Obj\n        // const {search} = this.props.location\n        // const {p1, p2} = qs.parse(search.slice(1)) =&gt; \u5426\u5219\u5e26\uff1f\n\n// 3. state \u53c2\u6570\uff08\u4e0d\u662f\u7ec4\u4ef6\u72b6\u6001\uff09=&gt; \u5237\u65b0\u540e\u4fdd\u6301\n    // \u53d1\u9001 - \u5fc5\u987b\u628a to \u914d\u7f6e\u4e3a\u5bf9\u8c61\n    &lt;Link to={{\n        pathname: '/url',\n        state: {\n            s1: 'val1',\n            s2: 'val2'\n        }\n    }}/&gt;\n    // \u5728 this.props.location.state \u4e2d\u63a5\u6536\uff08\u4e0d\u9700\u8981\u58f0\u660e\uff09\n    // \u4f7f\u7528\u7a7a\u5bf9\u8c61\u9002\u914d\u6e05\u7a7a\u7f13\u5b58\u7684\u60c5\u51b5\n    // const {s1,s2} = this.props.location.state || {}\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_6","title":"\u9488\u5bf9\u5386\u53f2\u8bb0\u5f55\u7684\u64cd\u4f5c","text":"<ul> <li>push\uff08\u9ed8\u8ba4\uff09</li> <li>replace\uff08\u5728\u6807\u7b7e\u4e2d\u914d\u7f6e\uff09<code>&lt;Link replace to=\"url\"/&gt;</code></li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#12","title":"1.2 \u7f16\u7a0b\u5f0f\u8def\u7531","text":"<p>\u8def\u7531\u7ec4\u4ef6\u663e\u793a\u8fd8\u662f\u7528 <code>&lt;Route&gt;</code> \u914d\u7f6e</p> <pre><code>// replace \u6a21\u5f0f\nreplaceShow = (id, title) =&gt; {\n    // query \u53c2\u6570 - \u8981\u7528 qs \u89e3\u6790\n    this.props.history.replace(`url/?id=${id}&amp;t=${title}`)\n    // params \u53c2\u6570 - Route \u8981\u58f0\u660e\u63a5\u6536\n    this.props.history.replace(`url/${id}/${title}`)\n    // state \u53c2\u6570 - \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f state \u5bf9\u8c61\n    this.props.history('url', {\n        id: 1,\n        title: 'tt'\n    })\n}\n// \u7ed1 click \u7684\u65f6\u5019\u4f7f\u7528\u533f\u540d\u51fd\u6570\u8c03\u7528\n&lt;button onClick={()=&gt;{this.replaceShow(id,title)}}/&gt;\n\n// push \u6a21\u5f0f\nthis.props.history.push('url')\n\n// \u64cd\u4f5c\u6d4f\u89c8\u5386\u53f2\u6808\n    // \u524d\u8fdb forward\n    this.props.history.goFoward()\n    // \u540e\u9000 back\n    this.props.history.goBack()\n    // go - \u770b\u53c2\u6570\uff1a+int \u524d\u8fdb, -int \u540e\u9000\n    this.props.history.go(-3)\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#withrouter","title":"withRouter","text":"<p>\u53ea\u6709\u300c\u8def\u7531\u7ec4\u4ef6\u300d\u6301\u6709 <code>this.props.history</code>\uff0c\u90a3\u4e48\u4e00\u822c\u7ec4\u4ef6\u5462\uff1f</p> <p>\u901a\u8fc7 <code>withRouter</code> \u8fdb\u884c\u52a0\u5de5\uff0c\u4f7f\u5176\u5177\u5907\u8def\u7531\u7ec4\u4ef6\u6240\u6301\u6709\u7684 API</p> <pre><code>import {withRouter} from'react-router-dom'\nclass Header extends Component {\n    // \u8fd9\u65f6\u5019\u5c31\u80fd\u7528 props.history \u4e0b\u7684 API \u5566\n}\n// \u6ce8\u610f\u66b4\u9732\u5185\u5bb9\u7684\u5305\u88f9\nexport default withRouter(Header)\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#browser-vs-hash","title":"Browser vs Hash","text":"<ul> <li>\u5e95\u5c42\u539f\u7406\u4e0d\u540c<ul> <li>BrowserRouter \u57fa\u4e8e H5 \u7684 history API \u5b9e\u73b0\uff0c\u4e0d\u517c\u5bb9 IE9 \u4ee5\u4e0b\u7248\u672c</li> <li>HashRouter \u4f7f\u7528 URL \u7684 hash \u503c</li> </ul> </li> <li>path \u8868\u73b0\u5f62\u5f0f\u4e0d\u540c<ul> <li>BrowserRouter \u8def\u5f84\u4e2d\u4e0d\u5b58\u5728 <code>#</code></li> <li>HashRouter \u8def\u5f84\u5305\u542b <code>#</code>\uff08\u540e\u9762\u7684\u53c2\u6570\u4e0d\u4f1a\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff09</li> </ul> </li> <li>\u5237\u65b0\u5bf9 State \u53c2\u6570\u7684\u5f71\u54cd<ul> <li>\u5bf9 BrowserRouter \u65e0\u5f71\u54cd\uff0cstate \u53c2\u6570\u5b58\u50a8\u5728 history \u5bf9\u8c61\u4e2d</li> <li>\u4f1a\u5bfc\u81f4 HashRouter \u7684 state \u53c2\u6570\u4e22\u5931</li> </ul> </li> <li>HashRouter \u53ef\u4ee5\u89e3\u51b3\u6837\u5f0f\u4e22\u5931\u7684\u95ee\u9898\u634f</li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#2-react-router-6","title":"2 React-Router 6","text":""},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_7","title":"\u4e00\u7ea7\u8def\u7531","text":"<pre><code>// \u57fa\u672c\u89e3\u6784\uff1a\u4f7f\u7528 xxxRouter \u5305\u88f9\u6574\u4e2a\u8def\u7531\u7a7a\u95f4\n&lt;BrowserRouter&gt;\n    // \u4f7f\u7528 Link/NavLink \u6307\u5b9a\u8df3\u8f6c tag\n    &lt;NavLink to=\"/home\"&gt;Home&lt;/NavLink&gt;\n    &lt;NavLink to=\"/about\"&gt;About&lt;/NavLink&gt;\n    // \u4f7f\u7528 Routes \u5305\u88f9 route-view\uff0c\u8fbe\u5230 match FIRST\n    &lt;Routes&gt;\n        // \u914d\u7f6e\u7ec4\u4ef6\u7684\u5f62\u5f0f\u53d8\u4e3a element={&lt;Tag/&gt;}\n        &lt;Route element={&lt;Home/&gt;}path=\"/home\"/&gt;\n        &lt;Route element={&lt;About/&gt;}path=\"/about\"/&gt;\n        // \u65b0\u7684\u91cd\u5b9a\u5411\u89c4\u5219\uff0c\u5c06 / \u5b9a\u5411\u81f3 /home\n        // Navigate\u53ea\u8981\u300c\u6e32\u67d3\u300d\u5c31\u7b49\u4ef7\u4e8e\u9875\u9762\u8df3\u8f6c\uff0c\u9ed8\u8ba4\u4e3a push \u6a21\u5f0f\n        &lt;Route path=\"/\" element={&lt;Navigate to=\"/home\"/&gt;}/&gt;\n    &lt;/Routes&gt;\n&lt;/BrowserRouter&gt;\n</code></pre> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u914d\u7f6e <code>&lt;Route caseSensitive&gt;</code> \u4f7f\u5f97\u8def\u5f84\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199</li> <li> <p><code>&lt;NavLink&gt;</code> \u7684\u52a8\u6001\u7c7b\u540d\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u5f62\u5f0f\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff1a</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u52a0 <code>.active</code> \u4e00\u6837\u7684\u8bdd\u5c31\u4e0d\u7528\u6539\u4e86 <pre><code>&lt;NavLink \n  className={({isActive})=&gt;{return isActive ? 'base active': 'base'}}\n  to=\"url\" children=\"URLNAME\"\n/&gt;\n// \u53ef\u4ee5\u5c01\u88c5\u51fd\u6570\u8fdb\u884c\u5207\u6362\nfunction clacClassName(isActive) {\n    return isActive ? 'base active': 'base'\n}\n&lt;NavLink \n className={({isActive})=&gt;this.calcClassName(isActive)}\n/&gt;\n</code></pre></p> </li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_8","title":"\u8def\u7531\u8868","text":"<p><code>useRoute</code> \u5c06\u751f\u6210 <code>&lt;Routes&gt;</code> \u5305\u88f9\u7684\u5168\u90e8\u5185\u5bb9 <pre><code>import {useRoutes} from 'react-router-dom'\n// \u9010\u6e10 Vue \u5316\nconst element = useRoutes([\n    {\n        path: '/home',\n        element: &lt;Home/&gt;\n    },\n    {\n        path: '/about',\n        element: &lt;About/&gt;\n    },\n    {\n        path: '/',\n        element: &lt;Navigate to=\"/home\"/&gt;\n    }\n])\n// \u53ea\u8981\u5728\u539f\u6765\u7684\u5730\u65b9\u4f7f\u7528 {element} \u5c31\u884c\n</code></pre></p> <p>\u300c\u5751\u300d</p> <ol> <li> <p><code>useRoutes() may be used only in the context of a &lt;Router&gt; component.</code></p> <p>\u6700\u540e\u5728 <code>index.js</code> \u91cc\u7528 <code>&lt;BrowserRouter&gt;</code> \u628a App \u5305\u8d77\u6765\u4e86</p> </li> <li> <p><code>useRoutes()</code> \u4f3c\u4e4e\u53ea\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u91cc\u4f7f\u7528</p> </li> </ol>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_9","title":"\u5c0f\u5c0f\u7684\u4f18\u5316","text":"<ul> <li>\u5c06\u8def\u7531\u8868\u72ec\u7acb     <pre><code>// @ router.js\n// import components &amp; Navigate\nconst router = [\n    { path:'path', element:&lt;Home/&gt;},\n    { path:'/'   , element:&lt;Navigate to=\"/home\"/&gt;}\n];\nexport default router;\n</code></pre></li> <li>\u7b80\u5316 rfc     <pre><code>import router;\nexport default function App {\n    const element = userRoutes(router)\n    return (\n        &lt;Link to=\"/home\" children=\"Home\"/&gt;&lt;br/&gt;\n        &lt;Link to=\"/about\" children=\"About\"/&gt;\n        {elements}\n    )\n}\n</code></pre></li> </ul>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_10","title":"\u5d4c\u5957\u8def\u7531","text":"<p>\u9010\u6e10 Vue \u5316\uff0c\u6211\u4eec\u7ee7\u7eed\u6539\u9020\u8def\u7531\u8868</p> <p>\u9996\u5c42\u8def\u7531\u4f7f\u7528 <code>{element}</code> \u8fdb\u884c\u6302\u5728\uff0c\u4e8c\u7ea7\u5f00\u59cb\u4f7f\u7528 <code>&lt;Outlet&gt;</code> \u5360\u4f4d</p> <p><pre><code>// @ router.js\nconst router = [\n    {\n        path: '/home',\n        element: &lt;Home/&gt;,\n        children: [\n            {\n                path: 'news', // \u524d\u9762\u4e0d\u7528\u52a0\u659c\u6760\n                element: &lt;News/&gt;\n            },\n            {\n                path: 'message',\n                element: &lt;Message/&gt;\n            }\n        ]\n    }\n]\n</code></pre> <pre><code>// \u4e0d\u7528\u5e26\u7236\u7ea7\u8def\u7531&amp;\u659c\u6760\uff0c\u7528 /news \u5c31\u4f1a\u88ab\u5f53\u6210\u4e00\u7ea7\u8def\u7531\n&lt;NavLink to=\"news\"&gt;News&lt;/NavLink&gt;\n// \u4e3a\u4e86\u6307\u5b9a\u8def\u7531\u7ec4\u4ef6\u5448\u73b0\u7684\u4f4d\u7f6e\uff0c\u5f15\u5165 Outlet\uff08\u5c31\u662f router-view \u5566\uff09\n&lt;Outlet/&gt;\n// \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u7ed9\u5339\u914d\u5230\u7684\u300c\u7236\u7ea7\u300d\u8def\u7531\u4e5f\u52a0\u4e0a active\n// \u5982\u679c\u4e0d\u5e0c\u671b\u7236\u7ea7\u9ad8\u4eae\uff0c\u5219\u914d\u7f6e &lt;NavLink end/&gt;\n</code></pre></p>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_11","title":"\u8def\u7531\u4f20\u53c2","text":""},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#params","title":"params","text":"<pre><code>// \u53d1\u9001\n&lt;Link to=`news/${id}/${title}`&gt;{title}&lt;/Link&gt;\n// \u9700\u8981\u5728\u8def\u7531\u8868\u4e2d\u6ce8\u518c\n{\n    path: 'news/:id/:title',\n    element: &lt;News/&gt;\n}\nimport {useParams} from 'react-router-dom';\nconst {id, title} = useParams(); // \u7136\u540e\u5c31\u80fd\u7528\u54e9\n// \u6709\u4e00\u4e2a\u66f4\u9ebb\u70e6\u7684\u4e1c\u897f\nconst {id, title} = useMatch('/home/nesw/:id:/:title').params;\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#search","title":"search","text":"<pre><code>&lt;Link to=`news/?id=${id}&amp;t=${title}`&gt;{title}&lt;/Link&gt;\n// \u4e0d\u9700\u8981\u5360\u4f4d\u634f\nimport {useSearchParams} from 'react-router-dom';\nconst [search, setSearch] = userSearchParams();\n// \u6700\u540e\u7528 search.get('key') \u83b7\u53d6\u5bf9\u5e94\u53c2\u6570\n// \u4e5f\u53ef\u4ee5 setSearch('id=00&amp;title=haha') \u91cd\u7f6e\u53c2\u6570\n\n// \u66f4\u9ebb\u70e6\u7684\u4e1c\u897f\nconst {id, title} = useLocation().search;\n ```\n\n#### state\n```js\n&lt;Link to=\"news\" state={{\n    id: item.id,\n    title: item.title\n}}&gt;\n    {title}\n&lt;/Link&gt;\n// \u4e5f\u4e0d\u9700\u8981\u5360\u4f4d\u634f\nimport {useLocation} from 'react-router-dom';\nconst {state:{id, title}} = useLocation();\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#_12","title":"\u7f16\u7a0b\u5f0f\u8def\u7531","text":"<pre><code>import {useNavigate} from 'react-router-dom';\nconst navigate = useNavigate();\n// \u53bb\u5b50\u8def\u7531\u5c31\u4e0d\u7528\u52a0\u659c\u6760\u4e86\nfunction goShop() { navigate('/shop', {\n    replace: false,\n    // \u5176\u4ed6\u53c2\u6570\u53ea\u80fd\u5728\u8def\u5f84\u91cc\u62fc\u63a5\n    state: {\n        id: item.id,\n        title: item.title\n    }\n});} \n// \u524d\u8fdb\u540e\u9000\u5747\u901a\u8fc7 navigate(n) \u6765\u5b9e\u73b0\n</code></pre>"},{"location":"Nulling/React/%E8%B7%AF%E7%94%B1/#hooks","title":"Hooks","text":"<ul> <li> <p>useInRouterContext \u5224\u65ad\u662f\u5426\u7ec4\u4ef6\u5904\u5728 <code>&lt;Router&gt;</code> \u7684\u4e0a\u4e0b\u6587\u4e2d</p> <p>\u88ab\u5305\u88f9\u7684\u6240\u6709\u7ec4\u4ef6\uff08\u5305\u62ec\u540e\u4ee3\u7ec4\u4ef6\uff09\u5747\u8fd4\u56de <code>true</code></p> <p>App \u8981\u5728 <code>index.js</code> \u4e2d\u5305\u88f9\u624d\u5224\u5b9a\u6709\u6548\uff08\u5728\u7ec4\u4ef6 tag \u5916\u9762\uff09</p> </li> <li> <p>useNavigationType \u8fd4\u56de\u5f53\u524d\u5bfc\u822a\u7c7b\u578b</p> <p>\u8fd4\u56de\u503c\u6709\uff1aPOP / PUSH / REPLACE\uff08POP = \u76f4\u63a5\u6253\u5f00\u4e86\u8be5\u7ec4\u4ef6 / \u5237\u65b0\u9875\u9762\uff09</p> </li> <li> <p>useOutlet</p> <ul> <li>\u6ca1\u6709\u6302\u8f7d\u5f53\u524d\u7ec4\u4ef6\u4e2d\u5e94\u5f53\u6e32\u67d3\u7684\u5d4c\u5957\u8def\u7531\uff0c\u8fd4\u56de null</li> <li>\u53cd\u4e4b\uff0c\u8fd4\u56de\u5c55\u793a\u7684\u5d4c\u5957\u8def\u7531\u5bf9\u8c61</li> </ul> </li> <li> <p>useResolvedPath \u7ed9\u5b9a URL\uff0c\u89e3\u6790 path\u3001search\u3001hash</p> <p>\u8be5 URL \u4e0d\u4e00\u5b9a\u662f\u672c\u9879\u76ee\u4e2d\u7684</p> </li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/","title":"2 \u9762\u5411\u7ec4\u4ef6","text":"<p> \u7ea6 1191 \u4e2a\u5b57  387 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <ul> <li>\u6a21\u5757\uff1a\u5411\u5916\u63d0\u4f9b\u7279\u5b9a\u529f\u80fd\u7684 JS \u7a0b\u5e8f\uff0c\u4e00\u822c\u662f\u5355\u4e2a\u6587\u4ef6</li> <li>\u7ec4\u4ef6\uff1a\u5b9e\u73b0\u5c40\u90e8\u529f\u80fd\u7684\u4ee3\u7801\u548c\u8d44\u6e90\u96c6\u5408\uff0c\u66f4\u5177\u5b9a\u4e49\u65b9\u5f0f\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b<ul> <li>\u51fd\u6570\u5f0f\u7ec4\u4ef6\uff08\u7b80\u5355\u7ec4\u4ef6\uff09</li> <li>\u7c7b\u5f0f\u7ec4\u4ef6\uff08\u590d\u6742\u7ec4\u4ef6\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#1","title":"1 \u51fd\u6570\u5f0f\u7ec4\u4ef6","text":"<pre><code>function Demo() { // \u51fd\u6570\u540d\u5c31\u662f tag \u540d\uff0c\u9996\u5b57\u6bcd\u5927\u5199\n    // babel \u5f00\u542f\u4e86\u4e25\u683c\u6a21\u5f0f\uff0cthis\u6307\u5411undefined\n    return &lt;h2&gt;\u6211\u662f\u7ec4\u4ef6demo\u634f&lt;/h2&gt;\n}\n// \u8bb0\u5f97\u9996\u5b57\u6bcd\u5927\u5199 + \u81ea\u7ed3\u675f\nReactDOM.render(&lt;Demo/&gt;, document.getElementById('app')) \n</code></pre> <p>\u7528\u4e0d\u4e86 <code>state &amp; refs</code> \uff0c\u4f46\u662f\u53ef\u4ee5\u7528 <code>props</code> \u634f\uff01</p> <pre><code>function Wow(props) {\n    const {name,age} = props // \u6ca1\u6709 this \u634f\n    return (\n        &lt;h2&gt;\u6211\u53eb{name}&lt;/h2&gt;\n        &lt;h3&gt;\u4eca\u5e74{age}\u5c81&lt;/h3&gt;\n    )\n}\n// \u9650\u5236\u53ea\u80fd\u5199\u5916\u9762\nWow.propTypes = {}\nWow.defaultProps = {}\n// \u6e32\u67d3\nReactDOM.render(&lt;WOw name=\"Tt\" age={13}/&gt;, document.getElementById('app'))\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#2","title":"2 \u7c7b\u5f0f\u7ec4\u4ef6","text":""},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_1","title":"\u57fa\u672c\u77e5\u8bc6","text":"<pre><code>// \u521b\u5efa\u4e00\u4e2a Person \u7c7b\nclass Person {\n    // \u6784\u9020\u51fd\u6570\n    constructor(name,age) {\n        // this \u6307\u5411\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\n        this.name = name\n        this.age = age\n    }\n    // \u65b9\u6cd5 - \u5728\u7c7b\u7684\u300c\u539f\u578b\u5bf9\u8c61\u300d\u4e0a\n    show() { // \u901a\u8fc7\u5b9e\u4f8b\u8c03\u7528\u65f6\uff0cthis \u6307\u5411\u5b9e\u4f8b\u672c\u8eab\n        console.log(`\u6211\u53eb${this.name}, \u4eca\u5e74${this.age}\u5c81\u4e86`)\n    }\n}\n// \u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61(\u4f7f\u7528new\u5173\u952e\u5b57)\nconst p1 = new Person()\n\n// Student \u7ee7\u627f Person, \u7ee7\u627f\u6240\u6709\u65b9\u6cd5\uff08\u5305\u62ec\u6784\u9020\u51fd\u6570\uff09\nclass Student extends Person {\n    constructor(name, age, grade) {\n        super(name, age) // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570 - \u5fc5\u987b\u653e\u7b2c\u4e00\u884c\n        this.grade = grade\n    }\n    // \u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\uff08\u56e0\u4e3a\u627e\u672c\u7c7b\u539f\u578b\u5c31\u6709\u4e86\uff0c\u6240\u4ee5\u8c03\u7528\u7684\u662f\u81ea\u5df1\u7684\uff09\n    speak() {\n        console.log(`\u6211\u53eb${this.name}, \u4eca\u5e74${this.age}\u5c81\u4e86, \u73b0\u5728\u8bfb${this.grade}`)\n    }\n}\n// \u8c03\u7528 speak \u8fc7\u7a0b\uff1a\u672c\u8eab\u539f\u578b\uff08\u65e0\uff09-&gt; \u7236\u7c7b\u539f\u578b\uff08\u6709\uff09\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#21","title":"2.1 \u521b\u5efa\u7ec4\u4ef6","text":"<pre><code>// \u521b\u5efa\u7c7b\u5f0f\u7ec4\u4ef6 - \u7c7b\u540d\u5c31\u662f\u7ec4\u4ef6\u540d\nclass Demo extends React.Component {\n    render() { // \u53ef\u4ee5\u6ca1\u6709\u6784\u9020\u51fd\u6570\uff0c\u4f46\u4e00\u5b9a\u8981\u6709 render\n        return &lt;h2&gt;This is demo&lt;/h2&gt; // \u8fd4\u56de\u6e32\u67d3\u7684\u7ed3\u6784\n    }\n}\n// \u6e32\u67d3\u7ec4\u4ef6\u5b9e\u4f8b\nReactDOM.render(&lt;Demo/&gt;, document.getElementById('app'))\n/*\n1. React\u89e3\u6790\u6807\u7b7e\uff0c\u627e\u5230 Demo \u7ec4\u4ef6\n2. \u53d1\u73b0\u8be5\u7ec4\u4ef6\u662f\u4ee5\u7c7b\u5f62\u5f0f\u5b9a\u4e49\u7684\uff0cnew \u51fa\u8be5\u7c7b\u5b9e\u4f8b\uff0c\u5e76\u8c03\u7528\u539f\u578b\u4e0a\u7684 render \u65b9\u6cd5\n3. \u5c06 render \u65b9\u6cd5\u8fd4\u56de\u7684\u865a\u62df DOM \u6e32\u67d3\u5230\u9875\u9762\u4e0a\n*/\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#22-state","title":"2.2 State &amp; \u4e8b\u4ef6\u7ed1\u5b9a","text":"<p>\u5176\u5b9e\u5728 tag \u91cc\u5199 id\uff0c\u7136\u540e\u548c\u4ee5\u5f80\u90a3\u6837 addEventListener \u4e5f\u884c</p> <pre><code>class Weather extends React.Component {\n    constuctor(props) {\n        super(props) // \u65e7\u7248\u672c\u8981\u4f20 props \u4f5c\u4e3a\u53c2\u6570\uff0c\u73b0\u5728\u7a7a\u7740\u5c31\u884c\n        this.state = { // \u7c7b\u4f3c\u4e8e Vue \u91cc\u7684 data\uff0c\u8981\u6c42\u5199\u6210\u5bf9\u8c61\n            isHot: true\n        }\n        // \u89e3\u51b3 undefined \u95ee\u9898:\n        // \u4ece\u539f\u578b\u4e0a\u6293\u51fa\u540e\u8005\uff0c\u7136\u540e\u628a this \u6307\u9488\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\n        // \u6700\u540e\u6302\u5728\u524d\u8005\u58f0\u660e\u7684\u5c5e\u6027\u4e0a\n        this.changeWeather = this.changeWeather.bind(this)\n    }\n    render() {\n        // \u6ce8\u610f\u5173\u952e\u8bcd\u662f onClick\uff08\u672c\u7c7b\u51fd\u6570\u8981\u52a0 this\uff0c\u5168\u5c40\u51fd\u6570\u76f4\u63a5\u5199\u540d\u5b57\uff09\n        return &lt;h1 onClick={this.changeWeather}&gt;\u4eca\u5929\u5929\u6c14\u5f88{this.state.isHot?'\u708e\u70ed':'\u51c9\u723d'}&lt;/h1&gt;\n    }\n    changeWeather() { // \u76f4\u63a5\u8c03\u7528\uff0c\u9ed8\u8ba4\u5f00\u542fstrict\uff0cthis\u6307\u5411 undefined\n        // \u76f4\u63a5\u66f4\u6539\u4e0d\u4f1a\u89e6\u53d1\u76d1\u89c6\uff0c\u5fc5\u987b\u8c03\u7528 setState\n        // \u8fd9\u91cc\u76f4\u63a5\u53d6\u53cd\u597d\u50cf\u4f1a\u62a5\u9519\uff0c\u7528\u4e2a\u4e2d\u7ee7\u53d8\u91cf\u8fc7\u5ea6\u4e00\u4e0b\u5c31\u884c\n        var isHot = this.state.isHot\n        this.setState({isHot:!isHot}) // \u53ea update \u5305\u542b\u7684\u5c5e\u6027\uff08\u5408\u5e76\uff09\n    }\n}\n\nReactDOM.render(&lt;Weather/&gt;, document.getElementById('app'))\n// \u6784\u9020\u51fd\u6570\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6bcf\u6b21\u4fee\u6539\u72b6\u6001\u90fd\u518d\u8c03\u7528\u4e00\u6b21 render\n\nfunction change() {\n    console.log(this) // \u5168\u5c40\u51fd\u6570\u7684 this \u6307\u5411 undefined\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_2","title":"\u7b80\u5199\u65b9\u5f0f","text":"<pre><code>class Weather extends React.Component {\n    constructor(props) {\n        super()\n    }\n    // \u56fa\u5b9a\u5c5e\u6027\u76f4\u63a5\u8d4b\u503c\n    type = \"central\"\n    // state \u4e5f\u4e0d\u7528\u5199\u5728\u6784\u9020\u51fd\u6570\u91cc\n    state = {\n        isHot: true\n    }\n    // \u65b9\u6cd5\u4e0d\u5728\u539f\u578b\u4e0a\uff0c\u5728\u81ea\u8eab\n    changeWeather = () =&gt; { // \u7bad\u5934\u51fd\u6570\u4f1a\u4f7f\u7528\u5916\u90e8\u51fd\u6570\u7684this\uff08\u5c5e\u4e8e\u672c\u5b9e\u4f8b\uff09\n        this.setState({isHot:!this.state.isHot})\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#23-props-read-only","title":"2.3 Props - Read Only","text":"<p>\u4fee\u6539 props \u5219\u6574\u4e2a\u9875\u9762\u5bc4\u6389</p> <pre><code>// \u6d45\u6d45 intro - \u5728\u6e32\u67d3\u7684\u65f6\u5019\u52a8\u4e00\u70b9\u624b\u811a\nReactDOM.render(\n    &lt;Demo name=\"hahah\" age={12}/&gt;, // \u53cc\u5f15\u53f7\u9ed8\u8ba4\u4e3a str\uff0c\u5e74\u9f84\u662f Num\uff0c\u6240\u4ee5\u52a0\u82b1\u62ec\u53f7\n    document.getElementById('app')\n)\n/* \u6b64\u5904\u7684 name:\"hahah\" \u5c06\u4f5c\u4e3a\u952e\u503c\u5bf9\u585e\u5230 props \u4e2d\uff08\u548c Vue \u4e00\u6837\u634f\uff09\n   \u540c\u6837\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 {this.props.name} \u5728\u7ed3\u6784\u4e2d\u8fdb\u884c\u8bbf\u95ee */\n\nclass Demo extends React.Component {\n    render() \n        // \u4f7f\u7528 const \u63a5\u624b props \u4e2d\u7684\u53d8\u91cf\uff08\u7c7b\u4f3c\u4e8e Vue \u4e2d\u7528 computed \u53bb\u63a5\uff09\n        const {name} = this.props\n        return &lt;h2&gt;my name is {name}&lt;/h2&gt;\n        // \u4e0b\u9762\u540c\u7406\n        return &lt;h2&gt;my name is {this.props.name}&lt;/h2&gt;\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_3","title":"\u6279\u91cf\u5bfc\u5165\u6570\u636e","text":"<p>\u4e0b\u9762\u5c55\u793aES6\u7684\u8bed\u6cd5\u7cd6\uff08\u6ce8\u610f\u5916\u90e8\u6570\u636e\u7684key\u5fc5\u987b\u548cconst\u63a5\u7684\u4e00\u81f4\uff09</p> <pre><code>const info = {\n    name: \"TOM\",\n    age: 12,\n    grade: \"Three\"\n}\nReactDOM.render(&lt;Person {...info}/&gt;, document.getElementById('app'))\n</code></pre> <p>\u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u5c55\u5f00\u8fd0\u7b97\u7b26 <code>...</code> <pre><code>// \u62fc\u63a5\u4e00\u4e0b\u6570\u7ec4\u634f\nlet arr1 = [1,3,5,7,9]\nlet arr2 = [2,4,6,8,10]\nlet arr3 = [...arr1, ...arr2]\n\n// \u51fd\u6570\u7a7f\u53c2\uff08\u8ba1\u7b97n\u4e2a\u6570\u7684\u548c\uff09\nfunction sum(...nums) {\n    // \u6b64\u5904\u7684 nums \u662f\u4e00\u4e2a\u6570\u7ec4\uff08\u4f7f\u7528\u6d41\u5f0f\u8ba1\u7b97\uff09\n    return nums.reduce((pre,cur) =&gt; { return pre + cur})\n}\nconsole.log(\"\u8ba1\u7b97\u7ed3\u679c\u662f\", sum(1,2,3,4,5)) // \u76f4\u63a5\u7a7f\u53c2\u6570\uff08\u8fdb\u53bb\u4f1a\u88ab\u89e3\u6790\u6210\u6570\u7ec4\uff09\n\n// \u4e0d\u80fd\u76f4\u63a5\u5c55\u5f00 Obj\nlet p1 = {name:'Tom', age:12}\nlet p2 = p1 // \u5b9e\u9645\u4e0a\u662f\u5f15\u7528\uff08\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\uff09\n// AND...\nlet p2 = ...p1 // \u8fd9\u662f\u4e0d\u884c\u7684\u634f\nlet p2 = {...p1} // \u8fd9\u6837\u662f\u53ef\u4ee5\u7684\uff08\u800c\u4e14\u662f\u72ec\u7acb\u7684\u62f7\u8d1d\uff09\n// \u52a0\u4e86\u82b1\u62ec\u53f7\u7684\u8bed\u4e49\u662f\u300c\u62f7\u8d1d\u300d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u300c\u5c55\u5f00\u300d\u4e00\u4e2a\u5bf9\u8c61\n\n// \u5728 JSX \u91cc {} \u8868\u793a\u5185\u90e8\u662f JS\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5176\u5b9e\u7b49\u4ef7\u4e8e\u88f8\u5954\u7684 ...obj\n// \u8fd9\u5728\u539f\u751f\u4e2d\u663e\u7136\u662f\u4e0d\u88ab\u5141\u8bb8\u7684 =&gt; \u4f46\u6211\u4eec\u7528\u7684\u662f JSX \u634f\uff01\uff08\u5e76\u6ca1\u6709\u89e6\u53d1\u590d\u5236\u5bf9\u8c61\uff09\n// \u4f46\u53ea\u80fd\u7528\u4e8e\u300c\u6807\u7b7e\u5c5e\u6027\u4f20\u9012\u300d\uff0c\u4e0d\u80fd\u518d\u5176\u4ed6\u5730\u65b9\u80e1\u4e71\u6cf0\u52d2Obj\n\n// \u5408\u5e76\u5bf9\u8c61\uff08\u540e\u9762\u8986\u76d6\u524d\u9762\uff09\nlet p3 = {...p1, name:\"Jack\"}\n// \u6b64\u65f6 p3.name = \"Jack\" (Tom\u88ab\u76d6\u6389\u4e86)\n</code></pre></p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_4","title":"\u4e00\u4e9b\u9650\u5236","text":"<p>\u548c Vue \u5f88\u50cf\u634f\uff0c\u53ef\u4ee5\u89c4\u5b9a prop \u7684\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c</p> <p><pre><code>// \u5355\u9875\u9762\u6587\u4ef6\u4e2d\u9700\u8981\u989d\u5916\u5f15\u5165\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.0/prop-types.js\"&gt;&lt;/script&gt;\n// \u5de5\u7a0b\u6587\u4ef6\u4e2d\u4f7f\u7528 npm install --save prop-types \u5b89\u88c5\n// \u968f\u540e\u8fdb\u884c\u5f15\u5165 import PropTypes from 'prop-types';\n</code></pre> <pre><code>class Person extends React.Conponent {}\n// \u5728\u7c7b\u5916\u5b9a\u4e49\uff08\u6ce8\u610f\u5927\u5c0f\u5199\uff09\nPerson.propsTypes = {\n    name: PropTypes.string,\n    // \u5f3a\u5236\u5fc5\u586b name: PropTypes.string.isRequired\n    // \u6b64\u65f6\u4e0d\u586b warning + \u5bf9\u5e94\u5b57\u6bb5 undefined\n    age: ProtoTypes.number,\n    speak: ProtoTypes.func\n}\n// \u9ed8\u8ba4\u503c\uff08\u4e3a\u5565 type \u548c default \u8981\u5206\u5f00\u554a\u6de6\uff09\nPerson.defaultProps = {\n    sex: \"\u672a\u77e5\",\n    age: -1\n}\n// \u9884\u671f\u4e0e\u5b9e\u9645\u4e0d\u7b26\u65f6\uff1a\u9875\u9762\u6b63\u5e38\u663e\u793a\uff0c\u4f46\u662f\u4f1a\u6709\u8b66\u544a\nfunction speak() {console.log(\"\u8bf4\u8bdd\u54e9\")}\n// \u53ef\u4ee5\u901a\u8fc7 speak={speak} \u4f20\u9012\n</code></pre></p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#props","title":"props \u7684\u7b80\u5199","text":"<p>\u628a type &amp; default \u5199\u5728\u7c7b\u5916\u9762\u591a\u4e48\u75f4\u5446\u554a</p> <p>\u4e00\u4e9b\u5c0f\u5c0f\u7684\u77e5\u8bc6\u590d\u4e60\uff1a <pre><code>class Car {\n    demo = 100 // demo\u5c5e\u6027\u52a0\u8f7d\u300c\u5b9e\u4f8b\u300d\u4e0a\n    static demo = 300 // \u5728\u300c\u7c7b\u300d\u4e0a =&gt; Car.demo = 300\n}\nCar.demo = 200 // demo\u52a0\u8f7d\u4e86\u300c\u7c7b\u300d\u4e0a\n\nconsole.log(Car.demo) =&gt; 200\nlet car = new Car()\nconsole.log(car.demo) =&gt; 100\n</code></pre></p> <p>\u7b80\u5199\u4e00\u4e0b <code>props</code> <pre><code>class Person extends React.Component {\n    // \u5fc5\u987b\u52a0 static -&gt; \u52a0\u8f7d\u300c\u7c7b\u300d\u4e0a\n    static propTypes = {\n        name: PropTypes.string\n    }\n    static defaultProps = {\n        sex: \"Unknown\"\n    }\n}\n</code></pre></p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#ft","title":"ft. \u6784\u9020\u5668","text":"<pre><code>class Person extends React.Component {\n    // \u4e0d\u63a5\u4e5f\u4e0d\u4f20\uff0c\u5728\u300c\u5b9e\u4f8b\u300d\u4e2d\u5c31\u4e0d\u80fd\u901a\u8fc7 this.props \u83b7\u53d6 props\n    // \uff08\u4f46\u662f\u4e0d\u5199\u6784\u9020\u51fd\u6570\u5c31\u6ca1\u6709\u95ee\u9898\uff09\n    constructor(props) {\n        super(props)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#24-refs","title":"2.4 Refs","text":"<p>\u53ef\u4ee5\u8ba4\u4e3a\u7c7b\u4f3c\u4e8e\u539f\u751f\u7684 ID \u9009\u62e9\u5668</p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_5","title":"\u5b57\u7b26\u4e32\u5f0f\uff08\u4e0d\u63a8\u8350\uff09","text":"<pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                // \u4f7f\u7528 ref \u8868\u793a\u5f53\u524d\u6807\u7b7e\n                &lt;input ref=\"in1\" type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = () =&gt; {\n        // \u4f7f\u7528 this.refs.name \u62ff\u5230\u771f\u5b9eDOM\n        alert(this.refs.in1.value)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_6","title":"\u56de\u8c03\u5f0f","text":"<p>\u56de\u8c03\u51fd\u6570\u5171\u8c03\u7528\u300c\u4e24\u6b21\u300d\uff0c\u7b2c\u4e00\u6b21\u4f20\u5165NULL\uff0c\u7b2c\u4e8c\u6b21\u4f20\u5165\u771f\u5b9eDOM</p> <p>\u56e0\u4e3a\u6bcf\u6b21UPDATE\u7684\u65f6\u5019\u8981\u300c\u6e05\u7a7a\u539f\u6765\u7684ref\u300d\uff0c\u518d\u4f20\u9001\u771f\u6b63\u7684\u8282\u70b9</p> <pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                // \u56de\u8c03\u63a5\u53d7\u7684\u53c2\u6570\u662f\u771f\u5b9eDOM\uff08\u51fd\u6570\u9898\u628a\u5b9e\u4f8b\u6302\u5728\u81ea\u5df1\u7684\u5c5e\u6027 input1 \u4e0a\uff09\n                &lt;input ref={curnode=&gt;this.input1 = curnode} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                // \u4e0d\u4f7f\u7528\u7bad\u5934\u51fd\u6570 -&gt; \u53ef\u4ee5\u786e\u4fdd\u53ea\u8c03\u4e00\u6b21\uff08\u6ca1\u6709NULL\u90a3\u6b21\uff09\n                &lt;input ref={this.save} type=\"text\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    save = (cur) =&gt; {\n        this.input2 = cur\n    }\n    showData = () =&gt; {\n        alert(this.input1.value)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#createref","title":"createRef","text":"<p>\u7f3a\u70b9\uff1a\u5f97\u624b\u52a8\u521b\u5efa\u5f88\u591a\u4e2a\u5bb9\u5668</p> <pre><code>class Demo extends React.Component {\n    // React.createRef \u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u5b58\u50a8 ref \u6807\u8bc6\u7684\u8282\u70b9\n    myRef = React.createRef() // \u4e13\u4eba\u4e13\u7528\uff08\u53ea\u80fd\u7ed9\u4e00\u4e2a\u4eba\u7528\uff0c\u540e\u9762\u4f1a\u8986\u76d6\uff09- \u53ef\u4ee5\u53d6\u5176\u4ed6\u540d\u5b57\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input ref={this.myRef} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button onClick={this.showData}&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = () =&gt; {\n        alert(this.myRef.current.value)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#3","title":"3 \u4e8b\u4ef6\u5904\u7406","text":"<ol> <li>React \u4e2d\u901a\u8fc7 <code>onXxx</code> \u5c5e\u6027\u6307\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff08\u6ce8\u610f\u5927\u5c0f\u5199\uff09<ul> <li>React \u4e2d\u4f7f\u7528\u7684\u662f\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08\u4e0d\u662f\u539f\u751fDOM\u4e8b\u4ef6\uff09</li> <li>\u901a\u8fc7\u4e8b\u4ef6\u59d4\u6258\u65b9\u5f0f\u5904\u7406\uff08\u59d4\u6258\u7ed9\u300c\u7ec4\u4ef6\u6700\u5916\u5c42\u300d\u7684\u5143\u7d20\uff09</li> </ul> </li> <li>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>event.target</code> \u83b7\u5f97\u300c\u89e6\u53d1\u300d\u4e8b\u4ef6\u7684\u5bf9\u8c61</li> </ol> <pre><code>class Demo extends React.Component {\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input onBlur={this.showData} type=\"text\" placeholder=\"\u70b9\u51fb\u6309\u94ae\u663e\u793a\u6570\u636e\"/&gt;\n                &lt;button&gt;\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u6570\u636e&lt;/button&gt;\n            &lt;/div&gt;)\n    }\n    showData = (e) =&gt; {\n        // \u4f7f\u7528 event.target \u83b7\u53d6\u89e6\u53d1\u4e8b\u4ef6\u7684\u5bf9\u8c61\n        alert(e.target.value)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#4","title":"4 \u8868\u5355\u6570\u636e","text":"<ul> <li>\u975e\u53d7\u63a7\u7ec4\u4ef6\uff1a\u53ea\u6709\u5728\u201c\u63d0\u4ea4\u8868\u5355\u201d\u65f6\u83b7\u53d6\u5143\u7d20\u7684\u6700\u7ec8\u6570\u636e</li> <li>\u53d7\u63a7\u7ec4\u4ef6\uff1a\u7c7b\u4f3c\u4e8e v-model\uff0c\u968f\u7528\u6237\u8f93\u5165\u5b9e\u65f6\u66f4\u65b0 State\uff0c\u4f7f\u7528\u65f6\u76f4\u63a5\u4ece State \u4e2d\u83b7\u53d6</li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#41","title":"4.1 \u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<ul> <li>\u6240\u6709\u300c\u8f93\u5165\u7c7b\u300dDOM \u300c\u73b0\u7528\u73b0\u53d6\u300d</li> <li>\u9700\u8981\u7528\u5f88\u591a <code>ref</code></li> </ul> <pre><code>class Login extends React.Component {\n    render() {\n        return (\n            &lt;form onSubmit={this.handle}&gt;\n                \u7528\u6237\u540d\uff1a&lt;input ref={cur=&gt;this.uname=cur} \n                            type=\"text\" name=\"username\"/&gt;\n                \u5bc6\u7801\uff1a &lt;input ref={cur=&gt;this.pwd=cur} \n                            type=\"password\" name=\"password\"/&gt;\n                // \u70b9\u51fb\u540e\u643a\u5e26 query \u53c2\u6570\n                &lt;button&gt;\u767b\u5f55&lt;/button&gt;\n            &lt;/form&gt;\n        )\n    }\n    handle = (e) =&gt; {\n        // \u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6\uff08\u8868\u5355\u63d0\u4ea4\u8df3\u8f6c\uff09\n        e.preventDefault()\n        // \u83b7\u53d6\u6570\u636e\n        const {uname, pwd} = this\n        alert(uname.value + \"-\" + pwd.value)\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#42","title":"4.2 \u53d7\u63a7\u7ec4\u4ef6","text":"<pre><code>class Login extends React.Component {\n    state = {\n        username: \"\",\n        password: \"\"\n    }\n    render() {\n        return (\n            &lt;form&gt;\n                \u7528\u6237\u540d\uff1a&lt;input onChange={this.getName} ref={cur=&gt;this.uname=cur} \n                            type=\"text\" name=\"username\"/&gt;\n                \u5bc6\u7801\uff1a &lt;input ref={cur=&gt;this.pwd=cur} \n                            type=\"password\" name=\"password\"/&gt;\n                // \u70b9\u51fb\u540e\u643a\u5e26 query \u53c2\u6570\n                &lt;button&gt;\u767b\u5f55&lt;/button&gt;\n            &lt;/form&gt;\n        )\n    }\n    // \u7c7b\u4f3c\u4e8e v-model\n    getName = (e) =&gt; {\n        this.setState({username: e.target.value})\n    }\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#5","title":"5 \u9ad8\u9636\u51fd\u6570 &amp; \u7eaf\u51fd\u6570","text":""},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_7","title":"\u9ad8\u9636\u51fd\u6570","text":"<ul> <li>\u63a5\u53d7\u53c2\u6570\u4e3a\u300c\u51fd\u6570\u300d/ \u8fd4\u56de\u503c\u4e3a\u300c\u51fd\u6570\u300d\u7684\u51fd\u6570\u79f0\u4e3a\u9ad8\u9636\u51fd\u6570</li> <li>\u51fd\u6570\u67ef\u91cc\u5316\uff1a\u901a\u8fc7\u8c03\u7528\u51fd\u6570\u540e\u8fd4\u56de\u51fd\u6570\uff0c\u5b9e\u73b0\u591a\u6b21\u63a5\u6536\u53c2\u6570\u540e\u7edf\u4e00\u5904\u7406</li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_8","title":"\u67ef\u91cc\u5316","text":"<p><pre><code>\u76f8\u5f53\u4e8e\u5c06 saveForm \u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u56de\u8c03\uff08\u6240\u4ee5\u8fd4\u56de\u503c\u4e5f\u5e94\u8be5\u662f\u51fd\u6570\uff09\n&lt;input onChange={this.saveForm('username')}/&gt;\n&lt;input onChange={this.saveForm('password')}/&gt;\n</code></pre> <pre><code>// \u6279\u5904\u7406\nsaveForm = (data_item) =&gt; {\n    return (e) =&gt; {\n        // [] \u8868\u793a\u4f7f\u7528\u4e0b\u6807\u8bbf\u95ee\u5c5e\u6027\n        this.setState({[data_item]: e.target.value})\n    }\n}\n</code></pre></p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_9","title":"\u5c1d\u8bd5\u4e0d\u7528\u67ef\u91cc\u5316","text":"<p><pre><code>// \u5728\u5185\u8054\u51fd\u6570\u4e2d\u8c03\u7528 saveForm\uff0c\u5e76\u4f20\u5165 data_item &amp; event \u4f5c\u4e3a\u53c2\u6570\n&lt;input onChange={(e)=&gt;{this.saveForm('username', e)}}/&gt;\n</code></pre> <pre><code>saveForm = (data_item, e) {\n    this.setState({[data_item]: e.target.value})\n}\n</code></pre></p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_10","title":"\u7eaf\u51fd\u6570","text":"<p>\u540c\u6837\u7684\u8f93\u5165\u5fc5\u5b9a\u4ea7\u751f\u540c\u6837\u7684\u8f93\u51fa</p> <ul> <li>\u4e0d\u5f97\u6539\u5199\u53c2\u6570\u6570\u636e</li> <li>\u4e0d\u5f97\u4ea7\u751f\u526f\u4f5c\u7528\uff08\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42 / \u8f93\u5165\u8f93\u51fa\uff09</li> <li>\u4e0d\u80fd\u8c03\u7528 Date.now / Math.random \u7b49\u65b9\u6cd5</li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#6","title":"6 \u751f\u547d\u5468\u671f","text":""},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#61","title":"6.1 \u65e7\u7248\u672c","text":""},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_11","title":"\u6302\u8f7d\u6d41\u7a0b","text":"<ol> <li><code>constructor</code></li> <li><code>componentWillMount</code></li> <li><code>render</code></li> </ol>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#4-mount","title":"4. mount","text":"<pre><code>componentDidMount() {\n    // \u6302\u8f7d\u53ea\u8c03\u7528\u4e00\u6b21\uff08\u867d\u7136\u4f1a update \u591a\u6b21\uff09\n    this.timer = setInterval(() =&gt; {\n        let {opacity} = this.state\n        opacity = -= 0.1\n        if(opacity &lt;= 0) opacity = 1\n        this.setState({opacity})\n    }, 200)\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#5-unmount","title":"5. unmount","text":"<pre><code>ReactDOM.unmountComponentAtNode('app') // \u624b\u52a8\u5378\u8f7d\u7ec4\u4ef6\n\ncomponentWillUnmount() { // \u5c06\u8981\u5378\u8f7d\u65f6\u8c03\u7528\n    clearInterval(this.timer)\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_12","title":"\u66f4\u65b0\u6d41\u7a0b","text":"<ol> <li> <p>\u7236\u7ec4\u4ef6 <code>render</code></p> <p>\u5728 render \u4e2d\u5305\u542b\u53e6\u4e00\u7ec4\u4ef6\u7684 tag \u5373\u53ef\u79f0\u4e3a\u7236\u7ec4\u4ef6</p> </li> <li> <p><code>componentWillReceiveProps</code> \uff08\u7236\u5b50\u7ec4\u4ef6\u6570\u636e\u4f20\u9012\uff09</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5728\u300c\u9996\u6b21\u63a5\u53d7\u53c2\u6570\u300d\u65f6\u4e0d\u8c03\u7528\uff08UPDATE props \u7684\u65f6\u5019\u624d\u5f00\u59cb\u8c03\u7528\uff09</p> </li> <li> <p><code>shouldComponentUpdate</code> - setState \u7531\u6b64\u5f00\u59cb</p> <p>\u53ea\u80fd\u8fd4\u56de true / false\uff08\u662f\u5426\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\uff09\uff0c\u9ed8\u8ba4\u8fd4\u56de true\uff08\u7ee7\u7eed\u66f4\u65b0\uff09</p> </li> <li> <p><code>componentWillUpdate</code> - forceUpdate \u7531\u6b64\u5f00\u59cb</p> <p>\u4e0d\u66f4\u6539\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5f3a\u5236\u66f4\u65b0\uff08\u4e0d\u53d7 should \u94a9\u5b50\u7684\u9650\u5236\uff09</p> </li> <li> <p><code>render</code> \u81ea\u8eab</p> </li> <li><code>componentDidUpdate</code></li> <li><code>componentWillUnmount</code></li> </ol>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_13","title":"\u5c0f\u7ed3","text":"<p>\u65e7\u7248\u672c\u7684\u751f\u547d\u5468\u671f\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li> <p>\u521d\u59cb\u5316\u9636\u6bb5\uff1a\u521d\u6b21\u6e32\u67d3\uff0c\u7531 <code>ReactDOM.render</code> \u89e6\u53d1</p> <ul> <li><code>constructor</code></li> <li><code>componentWillMount</code></li> <li><code>render</code></li> <li><code>componentDidMount</code> \u4e00\u822c\u5f00\u542f\u5b9a\u65f6\u5668\u3001\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3001\u8ba2\u9605\u6d88\u606f</li> </ul> </li> <li> <p>\u66f4\u65b0\u9636\u6bb5\uff1a\u7531 <code>this.setState</code> \u6216 \u7236\u7ec4\u4ef6\u91cd\u65b0 <code>render</code> \u89e6\u53d1</p> <ul> <li><code>shouldComponentUpdate</code></li> <li><code>componentWillUpdate</code></li> <li><code>render</code></li> <li><code>componentDidUpdate(prev_props, prev_state, snapshot)</code></li> </ul> </li> <li>\u5378\u8f7d\u7ec4\u4ef6\uff1a\u7531 <code>ReactDOM.unmounComponentAtNode</code> \u89e6\u53d1<ul> <li><code>componentWillUnmount</code>     \u4e00\u822c\uff1a\u5173\u95ed\u5b9a\u65f6\u5668\u3001\u53d6\u6d88\u8ba2\u9605\u64cd\u4f5c</li> </ul> </li> </ol>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#62","title":"6.2 \u65b0\u7248\u672c","text":"<p>\u5e9f\u5f03\u4e86 <code>componentWillMount</code> &amp; <code>conponentWillUpdate</code> &amp; <code>componentWillReceiveProps</code>\uff0c\u65b0\u589e\u4e86\u4e24\u4e2a\u94a9\u5b50\uff1a</p> <ul> <li><code>static getDerivedStateFromProps(props, state)</code>      state \u53d6\u51b3\u4e8e props \u65f6\u4f7f\u7528\uff08\u5176\u5b9e\u5728\u6784\u9020\u51fd\u6570\u91cc\u4e5f\u80fd\u5199\uff09<ul> <li>\u5c5e\u4e8e\u7c7b\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u9700\u8981\u8fd4\u56de state \u5bf9\u8c61 / NULL</li> <li>\u4ece props \u8fd4\u56de computed\uff0c\u4e0d\u5141\u8bb8\u4fee\u6539</li> <li>\u82e5\u8fd4\u56de\u7684 state \u548c\u9884\u5b9a\u4e49\u51b2\u7a81\uff0c\u4ee5\u8be5\u8fd4\u56de\u503c\u4e3a\u51c6</li> </ul> </li> <li><code>getSanpshotBeforeUpdate</code> \u83b7\u53d6\u5feb\u7167(\u5728\u5b9e\u9645\u6e32\u67d3\u524d\u8c03\u7528)<ul> <li>\u8fd4\u56de snapshot / NULL\uff08\u4efb\u4f55\u503c\u90fd\u53ef\u4ee5\u4f5c\u4e3a snapshot\uff09\uff0c\u4f20\u9012\u7ed9 DidUpate</li> <li>\u53ef\u4ee5\u4ece DOM \u4e2d\u6355\u83b7\u5148\u524d\u7684\u6eda\u52a8\u4f4d\u7f6e scrollTop\uff0c\u4e22\u7ed9 DidUpdate \u8fdb\u884c\u590d\u4f4d</li> </ul> </li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#_14","title":"\u5c0f\u7ed3","text":"<ol> <li>\u521d\u59cb\u5316\u9636\u6bb5<ul> <li><code>consturctor</code></li> <li><code>getDerivedStateFromProps</code></li> <li><code>render</code> \u521d\u59cb\u5316 / \u66f4\u65b0\u6e32\u67d3</li> <li><code>componentDidMount</code> \u5f00\u542f\u76d1\u542c\uff0c\u53d1\u9001 ajax \u8bf7\u6c42</li> </ul> </li> <li>\u66f4\u65b0\u9636\u6bb5<ul> <li><code>getDerivedStateBeforeUpdate</code></li> <li><code>shouldComponentUpdate</code></li> <li><code>render</code></li> <li><code>getSnapshotBeforeUpdate</code></li> <li><code>componentDIdUpdate</code></li> </ul> </li> <li>\u5378\u8f7d\u9636\u6bb5<ul> <li><code>componentWillUnmount</code> \u6536\u5c3e\uff0c\u6e05\u7406\u5b9a\u65f6\u5668</li> </ul> </li> </ol>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#7-purecomponent","title":"7 PureComponent","text":"<ul> <li>\u300c\u95ee\u9898\u300d<ul> <li>\u53ea\u8981\u6267\u884c <code>setState</code> \u5373\u4fbf\u662f <code>setState({})</code> \u90fd\u4f1a\u5f15\u8d77\u5f53\u524d\u7ec4\u4ef6\u91cd\u65b0 `render</li> <li>\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0 <code>render</code>\uff0c\u6240\u6709\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0 <code>render</code></li> </ul> </li> <li>\u300c\u89e3\u51b3\u300d<ol> <li>\u91cd\u5199 <code>shouldComponentUpdate</code>\uff0c\u53ea\u6709 state/props \u66f4\u65b0\u624d\u8fd4\u56de <code>true</code> <code>js     shouldComponentUpdate(nextProps,nextState) {         return !this.state.xxx === nextState.xxx         return !this.props.xxx === nextPtops.         // \u53ea\u80fd\u4e00\u4e2a\u4e2a\u5206\u91cf\u5bf9\u6bd4     }</code></li> <li>\u4f7f\u7528 <code>PureComponent</code>      \u53ea\u8fdb\u884c\u6d45\u6bd4\u8f83\uff08\u6bd4\u6700\u5916\u5c42addr\uff09\uff0c\u5185\u5c42\u6570\u636e\u6539\u53d8\u4e5f\u8fd4\u56de <code>false</code> <code>jsx      import {PureComponent} from 'react'      export default class Demo extends PureComponent {          this.setState({name:'Tom'}) // \u6b63\u5e38\u68c0\u6d4b          // \u4e0b\u9762\u4ec5\u4fee\u6539\u5206\u91cf\uff0c\u65e0\u6cd5\u6b63\u5e38\u68c0\u6d4b          const obj = this.state          obj.name = 'Tom'          this.setState(obj) // \u5bf9\u8c61\u5730\u5740\u6ca1\u6709\u6539\u53d8\uff08push/unshift\u4e5f\uff09      }</code></li> </ol> </li> </ul>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#8-render-props","title":"8 Render Props\uff08\u63d2\u69fd\uff09","text":"<p>\u7c7b\u4f3c\u4e8e slot\uff0c\u7ec4\u4ef6\u7684\u6807\u7b7e\u4f53\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7 <code>this.props.children</code> \u83b7\u5f97</p>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#children-props","title":"Children Props","text":"<ol> <li>\u4f20\u9012\u666e\u901a\u7684\u5b57\u7b26\u4e32     <pre><code>render() {\n    return (\n        &lt;A&gt;Ahhhhhhh&lt;/A&gt;\n    )\n}\n// @ A.jsx\nrender() {\n    return (\n        &lt;div&gt;In CompA Receive:{this.props.children}&lt;/div&gt;\n    )\n}\n</code></pre></li> <li>\u4f20\u9012\u4e00\u4e2a\u7ec4\u4ef6      <code>js      render() {          return (             &lt;A&gt;                 &lt;B/&gt;             &lt;/A&gt;          )      }      // \u7ec4\u4ef6B\u53ef\u4ee5\u901a\u8fc7 children \u83b7\u53d6\uff0c\u4ece\u800c\u6784\u6210\u7236\u5b50\u5173\u7cfb\uff1b\u4e0b\u9762\u662f\u7b49\u4ef7\u64cd\u4f5c</code></li> </ol>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#render-props","title":"Render Props","text":"<pre><code>&lt;A render={()=&gt;&lt;B/&gt;}/&gt;\n// \u5728 A \u4e2d\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6e32\u67d3\n{this.props.render()}\n\n// \u9700\u8981\u7a7f\u53c2\u7684\u60c5\u666f\n&lt;A render={(name)=&gt;&lt;B name={name}/&gt;}/&gt;\nrender() {\n    const {name} = this.state\n    return (\n        {this.props.render(name)} // \u7c7b\u63d2\u69fd\uff0c\u4f46\u662f\u6307\u5b9a\u4e86 data\n    )\n}\n</code></pre>"},{"location":"Nulling/React/%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B/#9-error-boudary","title":"9 Error Boudary","text":"<p>\u7528\u4e8e\u6355\u83b7\u540e\u4ee3\u7ec4\u4ef6\u7684\u9519\u8bef\uff0c\u6e32\u67d3\u5907\u7528\u9875\u9762\uff1b \u4e0d\u80fd\u6355\u83b7\u81ea\u8eab / \u5408\u6210\u4e8b\u4ef6 / \u5b9a\u65f6\u5668\u4e2d\u4ea7\u751f\u7684\u9519\u8bef</p> <pre><code>// \u662f\u4e00\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u540e\u4ee3\u7ec4\u4ef6\u5728\u751f\u547d\u5468\u671f\u4e2d\u62a5\u9519\u65f6\u89e6\u53d1\uff08\u6bd4\u5982render\uff09\nstatic getDerivedStateFormError(err) {\n    console.log(err)\n    // \u5728render\u524d\u89e6\u53d1\uff0c\u8fd4\u56de\u7684\u662f newState\n    return {\n        hasError: true // =&gt; \u53ef\u4ee5\u7528 if \u5224\u65ad\u6e32\u67d3\u6b63\u5e38/\u62a5\u9519\u9875\u9762\n        // be like {this.state,hasError ? 'Sorry' : &lt;Child/&gt;}\n    }\n}\n// \u5bc4\u4e86\u5c31\u4f1a\u8c03\u8fd9\u4e2a\u51fd\u6570\uff1a\u53d1\u9001\u7ed9\u540e\u53f0\uff0c\u7edf\u8ba1\u9875\u9762\u9519\u8bef\ncomponentDidCatch(err, info) {\n    console.log(err, info)\n}\n</code></pre>"},{"location":"Nulling/Rust/1_init/","title":"Start Up","text":"<p> \u7ea6 740 \u4e2a\u5b57  14 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>\u53c2\u7167\u4e86\u963fb\u4e0a\u7684\u6559\u7a0b: Rust\u7f16\u7a0b\u8bed\u8a00\u5165\u95e8\u6559\u7a0b by \u8f6f\u4ef6\u5de5\u827a\u5e08</p> <p>Rust \u76f8\u8f83\u4e8e C/C++ \u66f4\u9002\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a</p> <ul> <li>\u9700\u8981\u9ad8\u6548\u6267\u884c</li> <li>\u9700\u8981\u5185\u5b58\u5b89\u5168</li> <li>\u9700\u8981\u66f4\u597d\u7684\u5229\u7528\u591a\u4e2a\u5904\u7406\u5668</li> </ul>"},{"location":"Nulling/Rust/1_init/#1-install","title":"1 Install","text":"<p>\u8bf7\u9075\u7167 \u6b64\u5904 \u7684\u6307\u793a\u8fdb\u884c\u5b89\u88c5</p> <p>\u5bf9\u4e8e MacOS \u7cfb\u7edf\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 RustUp \u5b89\u88c5 Rust: <pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n</code></pre></p> <ul> <li>\u6240\u6709\u7684\u5de5\u5177\u5c06\u88ab\u5b89\u88c5\u81f3 <code>~/.cargo/bin</code> \u4e0b\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>rustc --version</code> \u8fdb\u884c\u9a8c\u8bc1</li> <li>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>rustup update</code> \u8fdb\u884c\u7248\u672c\u66f4\u65b0\uff0c\u6216\u7528 <code>rustup doc</code> \u67e5\u770b\u6587\u6863</li> </ul> <p>\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>rustup self uninstall</code> \u8fdb\u884c\u4e00\u4e2a\u5feb\u901f\u7684\u5220\u5e93\u8dd1\u8def</p>"},{"location":"Nulling/Rust/1_init/#2-hello-world","title":"2 Hello World","text":"<p>Rust \u6587\u4ef6\u7684\u540e\u7f00\u4e3a <code>.rs</code></p> hello_world.rs<pre><code>// main() \u662f\u6bcf\u4e2a Rust \u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d \u6700\u5148 \u6267\u884c\u7684\u51fd\u6570\uff1b\n//        \u6ca1\u6709\u53c2\u6570\uff0c\u4e5f\u6ca1\u6709\u8fd4\u56de\u503c\nfn main(){\n    println!(\"Hello World\");\n    // println! \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5b8f\uff08\u51fd\u6570\u672b\u5c3e\u4e0d\u4f1a\u5e26 '!'\uff09\n}\n</code></pre> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>rustc [fileName]</code> \u8fdb\u884c\u7f16\u8bd1\uff0c\u968f\u540e\u8fd0\u884c\u5176\u7f16\u8bd1\u7ed3\u679c\uff08\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09</p> <p>\u7531\u4e8e Rust \u662f\u4e00\u79cd ahead-of-time \u7f16\u8bd1\u7684\u8bed\u8a00\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u4e22\u7ed9\u522b\u4eba\u8fd0\u884c\uff08\u65e0\u9700\u5b89\u88c5\u73af\u5883\uff09</p> <p>\u4f46\u662f rusct \u53ea\u9002\u5408\u7b80\u5355\u7684 Rust \u7a0b\u5e8f\uff0c\u5927\u578b\u9879\u76ee\u9700\u8981\u4f7f\u7528 Cargo</p>"},{"location":"Nulling/Rust/1_init/#3-hello-cargo","title":"3 Hello Cargo","text":"<p>Cargo \u662f Rust \u7684 \u6784\u5efa\u7cfb\u7edf &amp; \u5305\u7ba1\u7406\u5de5\u5177\uff0c\u5b89\u88c5 Rust \u65f6\u4f1a\u81ea\u52a8\u5b89\u88c5</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 Cargo \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a</p> <pre><code>cargo new [projectName]\n</code></pre> <p>\u6b64\u547d\u4ee4\u5c06\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b\u521b\u5efa <code>projectName</code> \u8def\u5f84\uff0c\u5305\u542b <code>/src\uff08\u6e90\u7801\u8def\u5f84\uff09</code> \u4e0e <code>Cargo.toml\uff08\u914d\u7f6e\u6587\u4ef6\uff09</code></p>"},{"location":"Nulling/Rust/1_init/#31","title":"3.1 \u914d\u7f6e\u6587\u4ef6","text":"<p>\u9ed8\u8ba4\u751f\u6210\u7684 <code>.toml</code> \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>[package]          // \u7528\u4e8e\u914d\u5236\u5305 \nname = \"hello\"     // \u9879\u76ee\u540d\u79f0\nversion = \"0.1.0\"\nedition = \"2021\"   // Rust \u7248\u672c\n\n[dependencies]     // \u4f9d\u8d56\n</code></pre>"},{"location":"Nulling/Rust/1_init/#32","title":"3.2 \u9879\u76ee\u6784\u5efa\u4e0e\u8fd0\u884c","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>cargo build</code> \u547d\u4ee4\u5bf9\u9879\u76ee\u8fdb\u884c\u6784\u5efa</p> <ul> <li>\u8be5\u6307\u4ee4\u5c06\u5728 <code>./target/debug</code> \u8def\u5f84\u4e0b\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</li> <li>\u9996\u6b21\u8fd0\u884c\u8be5\u6307\u4ee4\u5c06\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210 <code>cargo.lock</code> \u4ee5\u81ea\u52a8\u8ffd\u8e2a\u4f9d\u8d56\u7248\u672c</li> </ul> <p>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>cargo run</code> \u547d\u4ee4\u76f4\u63a5\u6784\u5efa \u5e76\u8fd0\u884c \u6587\u4ef6</p> <p>\u5f53\u4f60\u9700\u8981 \u53d1\u5e03 \u9879\u76ee\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>cargo build --release</code> \u8fdb\u884c\u6784\u5efa</p> <ul> <li>\u8fd9\u4e00\u8fc7\u7a0b\u82b1\u8d39\u7684\u65f6\u95f4\u66f4\u591a\uff0c\u4f46\u751f\u6210\u6587\u4ef6\u7684\u6267\u884c\u901f\u7387\u66f4\u5feb</li> <li>\u53ef\u6267\u884c\u6587\u4ef6\u5c06\u751f\u6210\u4e8e <code>./target/release</code> \u8def\u5f84\u4e0b</li> </ul>"},{"location":"Nulling/Rust/1_init/#33","title":"3.3 \u68c0\u67e5\u4ee3\u7801","text":"<p><code>cargo check</code> \u547d\u4ee4\u53ef\u4ee5\u68c0\u67e5\u4ee3\u7801\u4e2d\u5b58\u5728\u7684\u95ee\u9898\uff0c\u4f46 \u4e0d\u8fdb\u884c\u7f16\u8bd1</p> <p>\u56e0\u4e3a <code>check</code> \u6bd4 <code>build</code> \u7684\u8fd0\u884c\u901f\u7387\u8981\u5feb\u5f97\u591a\uff0c\u4f60\u53ef\u4ee5\u53cd\u590d\u6267\u884c <code>cargo check</code> \u4ee5\u786e\u4fdd\u4ee3\u7801\u80fd\u6210\u529f\u901a\u8fc7\u7f16\u8bd1</p>"},{"location":"Nulling/Rust/1_init/#34","title":"3.4 \u66f4\u6362\u56fd\u5185\u6e90","text":"<p>\u5bf9\u4e8e MacOS \u7cfb\u7edf\uff0c\u53ea\u9700\u5728 <code>\uff5e/\u3002cargo/config</code> \u6587\u4ef6\u4e2d\u586b\u5199\u4ee5\u4e0b\u5185\u5bb9\u5373\u53ef\u66f4\u6362\u4e3a\u6e05\u534e\u6e90\uff1a</p> <pre><code>[source.crates-io]\nreplace-with = 'mirror'\n\n[source.mirror]\nregistry = \"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git\"\n</code></pre>"},{"location":"Nulling/Rust/1_init/#35-crate","title":"3.5* \u5b89\u88c5\u4e8c\u8fdb\u5236 Crate","text":"<ul> <li> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>cargo install</code> \u547d\u4ee4\uff0c\u4ece crates.io \u5b89\u88c5\u5177\u6709 \"binary target\" \u7684 Crate</p> <p>\u5c31\u662f\u53ea\u80fd\u5b89\u88c5 \u201c\u53ef\u6267\u884c\u7a0b\u5e8f\u201d</p> </li> <li> <p>\u5b89\u88c5\u7ed3\u679c\u5c06\u88ab\u5b58\u653e\u5728 <code>$HOME/.cargo/bin</code> \u76ee\u5f55\u4e0b</p> <p>\u4e3a\u786e\u4fdd\u7a0b\u5e8f\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u8bf7\u5c06\u8be5\u76ee\u5f55\u6dfb\u52a0\u81f3\u73af\u5883\u53d8\u91cf <code>$PATH</code></p> </li> </ul>"},{"location":"Nulling/Rust/1_init/#36-cargo","title":"3.6* \u4e3a Cargo \u6dfb\u52a0\u81ea\u5b9a\u4e49\u547d\u4ee4","text":"<ul> <li>\u5f53 <code>$PATH</code> \u4e2d\u5b58\u5728\u540d\u4e3a <code>cargo-xxx</code> \u7684\u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>cargo xxx</code> \u6765\u5feb\u901f\u8fd0\u884c</li> <li>\u8fd9\u4e9b\u81ea\u5b9a\u4e49\u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7 <code>cargo --list</code> \u8fdb\u884c\u7f57\u5217</li> <li>\u4f60\u53ef\u4ee5\u901a\u8fc7 3.5 \u4e2d\u7684\u65b9\u6cd5\u5b89\u88c5\u6269\u5c55\uff0c\u5e76\u901a\u8fc7\u548c\u5185\u7f6e\u5de5\u5177\u4e00\u81f4\u7684\u547d\u4ee4\u8fdb\u884c\u8c03\u7528</li> </ul>"},{"location":"Nulling/Rust/2_base/","title":"\u4e00\u4e9b\u57fa\u7840\u8bed\u6cd5","text":"<p> \u7ea6 3910 \u4e2a\u5b57  808 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 23 \u5206\u949f</p>"},{"location":"Nulling/Rust/2_base/#sample","title":"Sample\uff1a\u731c\u6d4b\u968f\u673a\u6570","text":""},{"location":"Nulling/Rust/2_base/#io","title":"\u6807\u51c6 I/O \u64cd\u4f5c","text":"<p>\u5176\u5b9e\u5728 Hello World \u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u4e86\u4f7f\u7528 <code>println!</code> \u5b8f\u8fdb\u884c\u8f93\u51fa\u7684\u65b9\u6cd5</p> <p>\u5728\u8fd9\u4e2a\u5c0f sample \u4e2d\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u8c03\u7528\u6807\u51c6I/O\u5e93\u5bf9\u8f93\u5165\u8fdb\u884c\u8bfb\u53d6</p> <pre><code>use std::io;   // \u8c03\u7528\u6807\u51c6I/O\u5e93\n\nlet mut guess = String::new();    // ::fn() \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u5c5e\u4e8e\u7c7b\uff08\u800c\u975e\u5b9e\u4f8b\uff09\u7684\u9759\u6001\u65b9\u6cd5\nio::stdin()\n    .read_line(&amp;mut guess)\n    .expect(\"\u65e0\u6cd5\u8bfb\u53d6\u884c\");          // \u5f02\u5e38\u5904\u7406\n\nprintln!(\"You guess: {}\", guess); // {} \u662f\u8f93\u51fa\u5360\u4f4d\u7b26\n</code></pre>"},{"location":"Nulling/Rust/2_base/#_2","title":"\u751f\u6210\u968f\u673a\u6570","text":"<p>rand \u5c45\u7136\u4e0d\u5728\u6807\u51c6\u5e93\u91cc\u4f60\u4fe1\uff1f</p> <p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u7528 Cargo \u914d\u7f6e\u4f9d\u8d56\u3002\u5177\u4f53\u8868\u73b0\u4e3a\uff0c\u5728 <code>Cargo.toml</code> \u4e0b\u589e\u52a0\u4ee5\u4e0b\u4fe1\u606f\uff1a</p> <pre><code>[dependencies]\nrand = \"^0.3.14\"   // \u5305\u540d = \"\u7248\u672c\", ^ \u8868\u793a\u4efb\u4f55\u4e0e\u6307\u5b9a\u7248\u672c\u517c\u5bb9\u7684\u7248\u672c\n</code></pre> <p>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u9879\u76ee\u76ee\u5f55\u4e0b <code>cargo add rand</code></p> <p>\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u8c03\u5e93\u751f\u6210\u968f\u673a\u6570\u4e86\uff1a</p> <pre><code>use rand::Rng; // \u7c7b\u4f3c\u4e8e Java \u7684\u63a5\u53e3\uff0c\u5185\u542b\u5f88\u591a\u65b9\u6cd5\n\n// \u751f\u6210\u4e00\u4e2a\u5c5e\u4e8e [1, 101) \u8303\u56f4\u5185\u7684\u5e38\u91cf\n// \u65e7\u7248\u672c\u7684\u53c2\u6570\u4e66\u5199\u65b9\u5f0f\u662f gen_range(1, 101)\nlet secret = rand::thread_rng().gen_range(1..101); \n</code></pre>"},{"location":"Nulling/Rust/2_base/#_3","title":"\u5b8c\u6574\u7a0b\u5e8f\u793a\u4f8b","text":"<pre><code>use std::io;\nuse std::io::Write;\nuse std::cmp::Ordering;\nuse rand::Rng;\n\nfn main() {\n    // \u751f\u6210\u968f\u673a\u6570 [1,100]\n    let secret_num = rand::thread_rng()\n        .gen_range(1,101); // \u9ed8\u8ba4\u4e3a i32\uff0c\u4f46\u53ef\u4ee5\u81ea\u52a8\u63a8\u65ad\u4e3a u32\n\n    // \u6b7b\u5faa\u73af\u554a\u5bb6\u4eba\u4eec\n    loop {\n        // \u4e0d\u6362\u884c\u6253\u5370\n        print!(\"Guess a number between [1,100]: \");\n        let _ = io::stdout().flush();     // \u6807\u51c6\u8f93\u51fa\u9047\u5230 \\n \u624d\u4f1a\u81ea\u52a8\u8f93\u51fa\n\n        // Get Input\n        let mut ipt = String::new();\n        io::stdin()                       // io::Result \u4e3a {OK, Err} \u679a\u4e3e\u7c7b\u578b\n            .read_line(&amp;mut ipt)          // \u5f15\u7528\u9ed8\u8ba4\u4e5f\u662f\u4e0d\u53ef\u53d8\u7684 ...\n            .expect(\"[Error] Fail to read input\");\n\n        // Shadiwing: String =&gt; Number\n        let ipt:i32 = match ipt.trim().parse() {\n            Ok(num) =&gt; num,\n            Err(_) =&gt; continue            // \u76f4\u63a5\u7528 expect \u4f1a\u5d29\u6e83\u6027\u9000\u51fa\n        };\n\n        // Compare\n        match ipt.cmp(&amp;secret_num) {\n            Ordering::Less =&gt; println!(\"Too Small !!!\"),\n            Ordering::Greater =&gt; println!(\"Too Big !!!\"),\n            Ordering::Equal =&gt; {\n                println!(\"You Win ~\");\n                break;\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"Nulling/Rust/2_base/#1","title":"1 \u53d8\u91cf\u4e0e\u5e38\u91cf","text":""},{"location":"Nulling/Rust/2_base/#_4","title":"\u53d8\u91cf","text":"<ul> <li> <p>\u547d\u540d\u9075\u5faa snake case \u89c4\u8303\uff08\u5168\u5c0f\u5199\u3001\u901a\u8fc7 <code>_</code> \u5206\u9694\uff09</p> </li> <li> <p>\u901a\u8fc7 <code>let</code> \u5173\u952e\u5b57\u8fdb\u884c\u58f0\u660e\uff0c\u4e14\u9ed8\u8ba4\u4e3a \u4e0d\u53ef\u53d8</p> <p>\u5982\u9700\u58f0\u660e\u53ef\u53d8\u53d8\u91cf\uff0c\u8bf7\u5728\u58f0\u660e\u65f6\u9644\u52a0 <code>mut</code> \u5173\u952e\u5b57</p> \u5947\u5999sample<pre><code>let x = 5;\nlet y = {      // \u521b\u5efa\u5757\u8868\u8fbe\u5f0f = \u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\n    let x = 1; // \u8fd9\u662f\u8bed\u53e5\n    x+3        // \u8fd9\u662f\u8868\u8fbe\u5f0f\uff08\u7ed3\u5c3e\u6ca1\u6709 ;\uff09\n};             // y = 1+3 = 4\n</code></pre> <p>\u58f0\u660e\u540e\u672a\u4f7f\u7528\u4f1a\u8ba9\u7f16\u8bd1\u5668\u62a5 warning\uff08\u53ef\u4ee5\u901a\u8fc7 <code>_varName</code> \u89e3\u51b3\uff09</p> </li> <li> <p>@ \u7ed1\u5b9a\uff1a\u4ec5\u5728\u7279\u5b9a\u6a21\u5f0f\u4e0b\u4fdd\u5b58\u53d8\u91cf\u503c</p> <pre><code>enum Msg { Hello { id: i32}, }\n\nlet msg = Msg::Hello { id: 5 };\nmatch msg {\n    Msg::Hello {\n        id: id_var @ 3..=7, // \u4ec5\u5f53 3 &lt;= id &lt;= 7 \u65f6\uff0c\u4e3a id_var \u8d4b\u503c\n    } =&gt; { println!(\"Found id={} in [3,7]\", id_var); },\n    Msg::Hello { id: 10..=12 } =&gt; { println!(\"Found id in [10,12]\"); },\n    Mgs::Hello { id } =&gt; { println!(\"Unexpected id={}\", id); },\n\n}\n</code></pre> </li> <li> <p>\u89e3\u6784\u8d4b\u503c</p> <pre><code>\"\"\" \u666e\u901a Struct \"\"\"\nstruct  Point { x:i32, y:i32 }\nlet p = Point { x:0, y:1 };\n\nlet Point { x:a, y:b } = p; // a == 0, b == 1\nlet Point { x,y } = p;      // x == 0, y == 1\n\n\"\"\" Tuple \u548c Struct \u6df7\u5408\u7684\u602a\u4e1c\u897f \"\"\"\nlet ((_, inch), Point { x, .. }) = ((3,10), Point {x:3, y:-10});\n</code></pre> \u89e3\u6784\u5d4c\u5957 struct<pre><code>enum Clr {\n    RGB(i32, i32, i32),\n    HSV(i32, i32, i32),\n}\nenum Message { ChangeClr(Clr) }\n\nlet msg = Message::ChangeClr(Clr::HSV(0,160,255));\n\n\"\"\"\u6709\u70b9\u957f\u5c31\u662f\u8bf4\"\"\"\nmatch msg {\n    Message::ChangeClr(Clr::RGB(r,g,b)) =&gt; {},\n    Message::ChangeClr(Clr::HSV(h,s,v)) =&gt; {},\n    _ =&gt; {},\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_5","title":"\u5e38\u91cf","text":"<ul> <li>\u901a\u5e38\u4f7f\u7528 \u5168\u5927\u5199 \u5b57\u6bcd\u547d\u540d\uff0c\u4e0d\u540c\u5355\u8bcd\u95f4\u901a\u8fc7 <code>_</code> \u5206\u9694</li> <li>\u4e0d\u5141\u8bb8 \u4f7f\u7528 <code>mut</code> =&gt; \u5b83\u6c38\u8fdc\u4e0d\u53ef\u53d8</li> <li>\u5fc5\u987b\u4f7f\u7528 <code>const</code> \u5173\u952e\u5b57\u58f0\u660e\u3001\u4e14\u8fdb\u884c \u663e\u793a\u7c7b\u578b\u6807\u6ce8</li> <li>\u53ef\u4ee5\u5728 \u4efb\u4f55 \u4f5c\u7528\u57df\u4e2d\u58f0\u660e\uff08\u5305\u62ec\u5168\u5c40\u4f5c\u7528\u57df\uff09\uff0c\u4e14\u5728\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u4e8e\u4f5c\u7528\u57df\u4e2d\u4e00\u76f4\u6709\u6548</li> <li>\u53ea\u80fd\u7ed1\u5b9a\u5230 \u5e38\u91cf\u8868\u8fbe\u5f0f\uff08\u65e0\u6cd5\u88ab \u51fd\u6570\u8c03\u7528\u7ed3\u679c / \u8fd0\u884c\u65f6\u8ba1\u7b97\u7ed3\u679c \u8d4b\u503c\uff09  </li> </ul> <p>\u5e38\u91cf != \u4e0d\u53ef\u53d8 \u53d8\u91cf</p>"},{"location":"Nulling/Rust/2_base/#shadowing","title":"Shadowing","text":"<p>Rust \u652f\u6301\u901a\u8fc7 \u76f8\u540c\u53d8\u91cf\u540d \u58f0\u660e\u65b0\u53d8\u91cf\uff08\u53ef\u4ee5\u4e0e\u65e7\u53d8\u91cf \u7c7b\u578b\u4e0d\u540c\uff09\uff0c\u540c\u65f6\u9690\u85cf\u65e7\u7684\u540c\u540d\u53d8\u91cf</p> <p>Shadowing != <code>mut</code></p> <ul> <li>\u5982\u679c\u4e0d\u4f7f\u7528 <code>let</code> \u5173\u952e\u5b57\uff08Shadowing\uff09\uff0c\u5bf9\u975e <code>mut</code> \u53d8\u91cf\u8d4b\u503c\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef</li> <li>\u4f7f\u7528 Shadowing \u58f0\u660e\u7684\u65b0\u53d8\u91cf\u4e5f\u662f \u4e0d\u53ef\u53d8 \u7684</li> </ul>"},{"location":"Nulling/Rust/2_base/#_6","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"Nulling/Rust/2_base/#_7","title":"\u6807\u91cf\u7c7b\u578b","text":"<p>\u6570\u503c\u8fd0\u7b97\uff1a\u52a0\u51cf\u4e58\u9664-\u53d6\u4f59 = <code>+-*/%</code></p> <ol> <li> <p>\u6574\u6570</p> <ul> <li>\u65e0\u7b26\u53f7\u4ee5 <code>u</code> \u5f00\u5934\uff0c\u6709\u7b26\u53f7\u4ee5 <code>i</code> \u5f00\u5934</li> <li>\u652f\u6301 <code>[8, 16m 32, 64, 128]</code> bit +  <code>(isize, usize)</code>\uff0c\u540e\u8005\u7531\u8ba1\u7b97\u673a\u67b6\u6784\u51b3\u5b9a</li> <li> <p>\u5b57\u9762\u503c: \u9664 <code>Byte</code> \u5916\u90fd\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u540e\u7f00\uff08\u5982 <code>57u8</code>\uff09\u3001\u9ed8\u8ba4\u4e3a <code>i32</code></p> \u8fdb\u5236 Sample Decimal <code>98_222</code> \u589e\u5f3a\u53ef\u8bfb\u6027 Hex <code>0xff</code> Octal <code>0o77</code> Binary <code>0b1010_1100</code> Byte(<code>u8</code>) <code>b'A'</code> </li> <li> <p>\u6ea2\u51fa</p> <ul> <li>\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0cRust \u4f1a\u81ea\u52a8\u68c0\u67e5\u6574\u6570\u6ea2\u51fa + \u62a5 panic</li> <li>\u5728\u53d1\u5e03\u6a21\u5f0f\u4e0b\uff0cRust \u4e0d\u4f1a\u68c0\u67e5\uff0c\u5e76\u5728\u53d1\u751f\u6ea2\u51fa\u65f6\u8fdb\u884c <code>round</code>\uff08\u4e0d\u4f1a\u62a5 panic\uff09</li> </ul> </li> </ul> </li> <li> <p>\u6d6e\u70b9: \u652f\u6301 IEEE-754 \u6807\u51c6\u4e0b\u7684 <code>(f32, f64)</code>\uff0c\u9ed8\u8ba4\u4e3a <code>f64</code></p> </li> <li>\u5e03\u5c14: \u7ecf\u5178 <code>T/F</code>\uff0c\u5360 1 Byte</li> <li>\u5b57\u7b26 <code>char</code>: \u4f7f\u7528 <code>'</code> \u5305\u88f9\u3001\u5360 4 Byte\uff0c\u4e3a Unicode \u6807\u91cf</li> </ol>"},{"location":"Nulling/Rust/2_base/#_8","title":"\u590d\u5408\u7c7b\u578b","text":"<ol> <li> <p>Tuple: \u957f\u5ea6\u56fa\u5b9a\uff08\u58f0\u660e\u540e\u65e0\u6cd5\u6539\u53d8\uff09</p> <pre><code>let tup: (i32, f64, u8) = (500, 6.4, 1);\n\n// \u4e0b\u6807\u8bbf\u95ee\uff08\u4ece 0 \u5f00\u59cb\uff09\nprintln!(\"{}\", tup.0); \n// \u89e3\u6784\nlet (x, y, z) = tup;\n</code></pre> </li> <li> <p>Array: \u5143\u7d20\u7c7b\u578b\u4e00\u81f4\u3001\u957f\u5ea6\u56fa\u5b9a\uff0c\u5b58\u653e\u5728 Stack</p> <p>\u6ca1\u6709\u957f\u5ea6\u53ef\u53d8\u7684 <code>Vector</code> \u7075\u6d3b</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee\uff0c\u8d8a\u754c\u65f6 \u7f16\u8bd1\u901a\u8fc7\u3001\u4f46\u5728\u8fd0\u884c\u65f6\u62a5 panic</li> </ul> <pre><code>let arr = [1,2,3];\n// \u4e5f\u53ef\u4ee5\u663e\u793a\u58f0\u660e [\u7c7b\u578b;\u957f\u5ea6]\nlet arr: [i32; 4] = [1,2,3,4];\n// \u5982\u679c\u5143\u7d20\u5168\u90e8\u76f8\u7b49\uff0c\u53ef\u4ee5\u901a\u8fc7 [val;len] \u8fdb\u884c\u6279\u91cf\u8d4b\u503c\nlet arr: [0;5]; // =&gt; arr = [0,0,0,0,0];\n</code></pre> </li> </ol>"},{"location":"Nulling/Rust/2_base/#_9","title":"\u5b57\u7b26\u4e32","text":"<ol> <li>\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\uff1a\u7a0b\u5e8f\u91cc\u5df2\u7ecf\u5199\u6b7b\u7684\u5b57\u7b26\u4e32\u503c\uff08\u5185\u5bb9\u4f1a\u88ab\u786c\u7f16\u7801\u81f3\u53ef\u6267\u884c\u6587\u4ef6\uff09\uff0c\u4e0d\u53ef\u53d8</li> <li> <p>String \u7c7b\u578b\uff1a\u80fd\u5728\u7f16\u8bd1\u65f6\u5b58\u50a8\u957f\u5ea6\u672a\u77e5\u7684\u6587\u672c\uff0c\u53ef\u53d8\uff08\u672c\u8d28\u662f\u5bf9 <code>Vec&lt;u8&gt;</code> \u7684\u5305\u88c5\uff09</p> <p>\u5728 Stack \u4e0a\u7531\u4e09\u90e8\u5206\u7ec4\u6210\u3001\u5b9e\u9645\u6587\u672c\u5185\u5bb9\u653e\u5728 Heap \u4e0a</p> <p>1) <code>ptr</code> \u6307\u5411\u5185\u5b58\u5730\u5740 </p> <p>2) <code>len()</code> \u5b9e\u9645\u957f\u5ea6 (\u5b57\u8282\u6570)</p> <p>3) <code>capacity</code> \u6700\u5927\u5bb9\u91cf (\u4ece OS \u6bdb\u6765\u7684\u7a7a\u95f4\u5927\u5c0f)</p> <pre><code>// \u521b\u5efa\nlet mut s = String::new();         // \u7a7a\u7684\nlet s = \"sth\".to_string();         // \u53ea\u8981\u5b9e\u73b0\u4e86 Display trait \u7684\u90fd\u80fd\u7528\nlet mut s = String::from('hello'); // \u57fa\u4e8e \u5b57\u9762\u503c \u521d\u59cb\u5316\n\n// \u66f4\u65b0\ns.push_str(\" World!\" / &amp;str);      // \u5f80\u540e\u9762\u585e\u5b57\u7b26\u4e32\u5207\u7247\ns.push('a');                       // \u5f80\u540e\u9762\u585e char\nlet s = s1 + &amp;s2;                  // \u62fc\u63a5\uff0c\u540e\u9762\u90a3\u4e2a\u9700\u8981\u662f\u5f15\u7528 (s1 \u4e0d\u80fd\u7528\uff0c\u4f46 s2 \u8fd8\u80fd\u7528)\nlet s = format!(\"{}-{}-{}\", s1, s2, s2);   // \u8fd4\u56de\u4e00\u4e2a\u65b0\u4e32\uff08s1~s3 \u90fd\u53ef\u4ee5\u7ee7\u7eed\u7528\uff09\n\n// \u904d\u5386\u8bbf\u95ee\uff08\u4e0d\u652f\u6301\u7d22\u5f15\uff09\uff1abytes() chars() \u4f46\u8fd9\u4fe9\u90fd\u4e0d\u592a\u5bf9\uff0c\u5b57\u578b\u7c07\u53c8\u4e0d\u63d0\u4f9b\n// \u5207\u5272\uff1a\u5207\u7247 &amp;s[..] \u662f\u6309 byte \u5207\u7684\u3001\u53ef\u80fd\u5207\u5230\u534a\u4e2a\u5b57\u7136\u540e\u62a5 panic\n</code></pre> </li> </ol>"},{"location":"Nulling/Rust/2_base/#struct","title":"Struct","text":"<ul> <li> <p>Struct \u5b9e\u4f8b\u62e5\u6709\u5176\u6240\u6709\u6570\u636e\u7684\u6240\u6709\u6743\uff0c\u53ea\u8981\u5b9e\u4f8b\u6709\u6548\u3001\u5b57\u6bb5\u4e00\u5b9a\u6709\u6548</p> <p>\u6709\u751f\u547d\u5468\u671f\u65f6\uff0c\u5b57\u6bb5\u503c\u4e5f\u53ef\u4ee5\u662f\u5f15\u7528\uff08\u4fdd\u8bc1 struct \u6709\u6548\u65f6\u3001\u5f15\u7528\u4e00\u5b9a\u6709\u6548\uff09</p> <ul> <li> <p>Struct \u5b9a\u4e49\uff1a\u53ef\u4ee5\u7528 <code>pub struct</code> \u58f0\u660e\u4e3a\u516c\u5171\uff08\u4f46\u5b57\u6bb5\u4ecd\u662f\u79c1\u6709\u7684\uff09</p> <pre><code>// \u5c31\u662f\u7b80\u5355\u7684\u628a\u4e00\u4e9b\u5c5e\u6027\u62fc\u5728\u4e00\u8d77\uff08\u6700\u540e\u6ca1\u6709\u5206\u53f7\uff09\nstruct User {\n    username: String,\n    email:    String,\n    account:  u64,\n    active:   bool,  // \u8fd9\u91cc\u4e5f\u6709\u9017\u53f7\n}\n</code></pre> </li> <li> <p>\u5b9e\u4f8b\u5316</p> <pre><code>/* \u5b9e\u4f8b\u5316\u65f6\uff0c\u9700\u8981\u4e3a *\u6bcf\u4e00\u4e2a* \u5b57\u6bb5\u6307\u5b9a\u503c\uff08\u987a\u5e8f\u968f\u610f\uff09\n* \u5f53 struct \u5b9e\u4f8b\u53ef\u53d8\u65f6\uff0c\u6240\u6709\u5c5e\u6027 *\u5747\u53ef\u53d8* =&gt; \u65e0\u6cd5\u5bf9\u5355\u4e2a\u5c5e\u6027\u8fdb\u884c\u6307\u5b9a\n*/\nlet mut usr1 = User {\n    email:    String::from(\"e@addr\"),\n    username: String::from(\"John\"),\n    active:   true,\n    account:  556,   // \u8fd9\u91cc\u4e5f\u6709\u9017\u53f7\n};\n\n// \u53ef\u4ee5\u901a\u8fc7 .attribute \u8bbf\u95ee &amp; \u8d4b\u503c\nusr.active = false;\n</code></pre> </li> <li> <p>\u585e\u7ed9\u51fd\u6570     <pre><code>// \u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u8fd4\u56de\u503c\nfn build_usr(email: String, username: String) -&gt; User {\n    User {\n        email, username,         // \u53d8\u91cf\u540d\u4e0e\u5c5e\u6027\u540d\u4e00\u81f4\u65f6\uff0c\u53ef\u4ee5\u7b80\u5199 \n        active: true, account: 0,\n    }\n}\n\nstruct Rectangle { width: i32, length: i32, }\n// \u4f7f\u7528\u5f15\u7528\u4f5c\u4e3a\u5f62\u53c2 =&gt; \u539f\u53d8\u91cf\u5c06\u4fdd\u6709\u6240\u6709\u6743\nfn area(rect: &amp;Rectangle) -&gt; u32 { rect.width * rect.length }\n</code></pre></p> </li> <li> <p>\u66f4\u65b0\u8bed\u6cd5\uff1a\u57fa\u4e8e\u5df2\u6709\u5b9e\u4f8b\u65b0\u5efa</p> <pre><code>let usr2 = User {\n    email:    String::from(\"neo@addr\"),\n    username: String::from(\"Doe\"),\n    ..usr1    // \u5269\u4e0b\u5b57\u6bb5\u6cbf\u7528 usr1\n};\n</code></pre> </li> <li> <p>\u7ed3\u6784\u4f53\u65b9\u6cd5\uff1a\u9700\u8981\u5728 <code>impl</code> \u5757\u5185\u5b9a\u4e49\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f <code>self</code>\uff08\u4e5f\u53ef\u4ee5\u662f\u5f15\u7528\uff09</p> <p>\u5728\u8c03\u7528\u65f6\uff0cRust \u4f1a\u81ea\u52a8\u6dfb\u52a0 <code>&amp;, &amp;mut, *</code>\uff0c\u6240\u4ee5 <code>r.area() == (&amp;r).area()</code></p> <pre><code>// \u76f4\u63a5 println!(\"{}\", rect) \u4f1a\u62a5\u9519\uff0c\u9700\u8981\u52a0 trait / \u624b\u52a8\u5b9e\u73b0\n#[derive(Debug)]    // {:?} = structName { attr: val } , {:#?} = \u5728 attr \u95f4\u6362\u884c\nstruct Rectangle {}\n\nimpl Rectangle {\n    fn can_hold(&amp;self, r2: &amp;Rectangle) -&gt; bool {\n        self.width &gt; r2.width &amp;&amp; self.length &gt; r2.length\n    }\n\n    // getter (\u56e0\u4e3a\u5c5e\u6027\u9ed8\u8ba4\u662f\u79c1\u6709\u7684)\n    pub fn width(&amp;self) -&gt; i32 {\n        slef.width\n    }\n}\n\n// \u9700\u8981\u901a\u8fc7\u5b9e\u4f8b\u8c03\u7528\nr1.can_hold(&amp;r2);\n</code></pre> </li> <li> <p>\u5173\u8054\u51fd\u6570\uff1a\u5728 <code>impl</code> \u5757\u5185\u5b9a\u4e49\uff0c\u4f46\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f <code>self</code>\uff08\u4e00\u822c\u7528\u4e8e\u6784\u9020\u51fd\u6570\uff09</p> <pre><code>impl Rectangle {\n    // \u6784\u9020\u51fd\u6570\uff0c\u540c\u65f6\u9a8c\u8bc1 a&gt;0\n    pub fn new_square(a: i32) -&gt; Rectangle {\n        if a &lt; 0 { panic!(\"Less than 0\"); }\n        Rectangle { width: a, length: a}\n    }\n}\n// \u6709\u70b9\u50cf\u9759\u6001\u65b9\u6cd5\uff0c\u901a\u8fc7 :: \u8c03\u7528\nlet sq = Rectangle::new_square(10);\n</code></pre> </li> </ul> </li> <li> <p>Tuple Struct\uff1a\u6574\u4f53\u6709\u540d\u5b57\uff0c\u4f46\u91cc\u9762\u7684\u5143\u7d20\u6ca1\u6709\u5c5e\u6027\u540d</p> <pre><code>struct Color(i32, i32, i32);  // \u6ca1\u5fc5\u8981\u4e3a RGB \u5355\u72ec\u53d6\u540d\nstruct Point(i32, i32, i32);\n// black \u548c origin \u662f *\u4e0d\u540c\u7c7b\u578b*\uff08\u4e0d\u540c tuple struct \u7684\u5b9e\u4f8b\uff09\nlet black = Color(0, 0, 0);\nlet origin = Point(0, 0, 0);\n</code></pre> </li> <li> <p>Unit-Like Struct\uff1a\u6ca1\u6709\u4efb\u4f55\u5b57\u6bb5\uff0c\u957f\u5f97\u50cf <code>()</code></p> <p>\u7528\u4e8e\u5728\u7279\u5b9a\u7c7b\u578b\u4e0a\u5b9e\u73b0 trait\uff0c\u4f46\u6709\u6ca1\u6709\u9700\u8981\u5b58\u7684\u4e1c\u897f</p> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_10","title":"\u679a\u4e3e","text":"<ul> <li> <p>Enum\uff1a</p> <ul> <li>Rust \u5141\u8bb8\u4e3a\u679a\u4e3e\u5b9a\u4e49\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u5728 <code>impl</code> \u5757\u4e2d\u4e3a\u5176\u5b9e\u73b0\u65b9\u6cd5</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>pub enum</code> \u58f0\u660e\u4e3a\u516c\u5171\u7684\u3001\u6b64\u65f6\u6240\u6709\u53d8\u4f53 \u90fd\u662f\u516c\u5171\u7684</li> </ul> <pre><code>enum IpAddr {\n    V4(u8, u8, u8. u8),\n    V6(String),\n}\n\nlet home =     IpAddr::V4(127,0,0,1);\nlet loopback = IpAddr:V6(String::from(\"::1\"));\n\n// \u4f60\u751a\u81f3\u53ef\u4ee5\u5f80\u91cc\u9762\u5d4c struct\nstruct IpV4Addr {}\nstruct IpV6Addr {}\nenum IpAddr {\n    V4(IpV4Addr), V6(IpV6Addr),\n}\n</code></pre> </li> <li> <p>Option\uff1a\u7528\u4e8e\u63cf\u8ff0\u67d0\u4e2a\u503c\u53ef\u80fd\u5b58\u5728\u7684\u7c7b\u578b + \u4e0d\u5b58\u5728\u7684\u60c5\u51b5</p> <ul> <li>\u5728\u9884\u5bfc\u5165\u6a21\u5757\u91cc\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 <code>Option&lt;T&gt;, Some(T), None</code></li> <li><code>Option&lt;T&gt; != T</code>\uff0c\u786e\u4fdd <code>T</code> \u7c7b\u578b\u4e00\u5b9a\u975e\u7a7a</li> </ul> <pre><code>enum Option&lt;T&gt; {\n    Some(T), None,\n}\n\nlet some_num = Some(5);          // i32\nlet abs_num: Option&lt;i32&gt; = None; // \u6ca1\u6cd5\u81ea\u52a8\u63a8\u65ad\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#vector-vect","title":"Vector <code>Vec&lt;T&gt;</code>","text":"<p>\u5728\u5185\u5b58\u4e2d\u8fde\u7eed\u5b58\u50a8\u591a\u4e2a \u76f8\u540c\u7c7b\u578b \u7684\u503c\uff08\u4f46\u4f60\u53ef\u4ee5\u5957\u4e00\u4e2a Enum \u9003\u8bfe\uff09</p> <pre><code>// \u521b\u5efa\nlet mut v: Vec&lt;i32&gt; = Vec::new(); // \u521b\u5efa\u7a7a Vec\uff0c\u9700\u8981\u624b\u52a8\u6307\u5b9a\u7c7b\u578b\nlet v = vec![1,2,3];\n\n// \u66f4\u65b0\nv.push(1);\n\n// \u8bbf\u95ee\uff08\u4e0b\u6807 / get\uff09\nprintln!(\"{}\", v[0]);  // OOB \u4f1a\u62a5 panic =&gt; \u4e5f\u53ef\u4ee5\u5b9a\u4e49\u501f\u7528 &amp;v[0]\nmatch v.get(0) {\n    Some(v0) =&gt; println!(\"{}\", v0);\n    None =&gt; println!(\"Out Of Bound\")\n}\n\n// \u904d\u5386 + \u53ef\u53d8\u5f15\u7528\u66f4\u65b0\nlet mut v = vec![...];\nfor i in &amp;mut v {\n    *i += 50;\n}\n</code></pre>"},{"location":"Nulling/Rust/2_base/#hashmap","title":"HashMap","text":"<ul> <li>\u5b58\u50a8\u5728 Heap \u4e0a\u7684\u952e\u503c\u5bf9\uff0c\u4f46\u5355\u6761\u6570\u636e\u540c\u6784</li> <li>\u5b9e\u73b0 Copy Trait \u7684\u4f1a\u590d\u5236\u4e00\u4efd\uff0c\u6709\u6240\u6709\u6743\u7684\u4f1a\u62a2\u8d70+\u79fb\u52a8\u503c\uff08\u53ef\u4ee5\u901a\u8fc7\u63d2\u5165\u5f15\u7528\u907f\u514d\uff09</li> </ul> <pre><code>use std::collections::HashMap;\n\n// \u624b\u52a8\u63d2\u503c\nlet mut scores: HashMap&lt;String, i32&gt; = HashMap::new();\nscores.insert(String::from(\"aaa\"), 32);\n\n// \u901a\u8fc7 collect \u57fa\u4e8e\u4e24\u4e2a arr \u521b\u5efa\nlet keys = vec![String::from(\"a\"), String::from(\"b\")];\nlet vals = vec![10, 20];\n\nlet scores: HashMap&lt;_, _&gt; = // \u53ef\u4ee5\u63a8\u65ad\uff0c\u4f46 collect \u53ef\u80fd\u8fd4\u56de\u591a\u79cd\u7c7b\u578b\u3001\u6240\u4ee5\u81f3\u5c11\u8981\u6307\u5b9a HashMap\n    keys.iter().zip(vals.iter()).collect;\n\n// \u8bbf\u95ee: \u9700\u8981\u624b\u52a8\u5904\u7406 key \u4e0d\u5b58\u5728\u7684\u60c5\u51b5\nlet score = scores.get(\"ccc\");\nmatch score {\n    Some(s) =&gt; println!(\"{}\", s),\n    None    =&gt; println!(\"None\"),\n}\n\n// \u904d\u5386\uff08\u4f7f\u7528\u5f15\u7528\u7684\u8bdd\uff0c\u4e4b\u540e\u8fd8\u80fd\u7ee7\u7eed\u7528\uff09\nfor (k, v) in &amp;scores {}\n\n// \u66f4\u65b0\nscores.insert(String::from(\"aaa\"), 64);    // \u8986\u76d6\u539f\u6765\u7684 32\nlet s = scores.entry(\"ccc\").or_insert(50); // \u4ec5\u5f53\u4e0d\u5b58\u5728\u65f6\u63d2\u5165+\u8fd4\u56de\u65b0\u503c\u5f15\u7528\uff0c\u5426\u5219\u63d0\u4f9b\u539f val \u7684\u53ef\u53d8\u5f15\u7528\n*s += 1;                                   // \u5b58\u5728\u65f6\uff0cv += 1\n</code></pre>"},{"location":"Nulling/Rust/2_base/#2","title":"2 \u51fd\u6570","text":"<ul> <li> <p>\u901a\u8fc7 <code>fn</code> \u5173\u952e\u5b57\u8fdb\u884c\u58f0\u660e\u3001\u547d\u540d\u9075\u5faa snake case \u89c4\u8303</p> </li> <li> <p>\u58f0\u660e\u4f4d\u7f6e\u53ef\u4ee5\u4f4d\u4e8e \u8c03\u7528\u4f4d\u7f6e\u4e4b\u540e</p> <pre><code>// \u4e0b\u9762\u4e0d\u4f1a\u62a5\u9519\uff08\u90a3\u5f88\u53cb\u5584\u4e86\uff09\nfn main() { f(); }\nfn f() { println!(\"Another Func\"); }\n</code></pre> </li> <li> <p>\u51fd\u6570\u7b7e\u540d\u4e2d\u5fc5\u987b\u663e\u5f0f\u58f0\u660e \u6bcf\u4e2a\u5f62\u53c2\u7684\u7c7b\u578b </p> </li> <li> <p>\u9ed8\u8ba4\u4f7f\u7528\u51fd\u6570\u4f53\u4e2d\u6700\u540e\u4e00\u4e2a \u8868\u8fbe\u5f0f \u4f5c\u4e3a\u8fd4\u56de\u503c\uff0c\u7c7b\u578b\u5728 <code>-&gt;</code> \u540e\u58f0\u660e</p> <pre><code>fn plus_five(x: i32, _: i32) -&gt; i32 {\n    x+5 // \u4e0d\u52a0\u5206\u53f7\n}\n// \u53ef\u4ee5\u63a5\u6536\u4fe9\u53c2\u6570\uff0c\u4f46\u5ffd\u7565\u540e\u4e00\u4e2a\nplus_five(1, 2);\n</code></pre> <ul> <li> <p>\u4f60\u4e5f\u53ef\u4ee5\u63d0\u524d\u901a\u8fc7 <code>return</code> \u5173\u952e\u5b57\u8fd4\u56de</p> </li> <li> <p>\u8fd8\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a Tuple</p> <pre><code>fn calc_len(s: String) -&gt; (String, usize) {\n    let l = s.len();\n    (s, l)\n}\n</code></pre> </li> </ul> </li> </ul>"},{"location":"Nulling/Rust/2_base/#3","title":"3 \u63a7\u5236\u6d41","text":""},{"location":"Nulling/Rust/2_base/#_11","title":"\u5206\u652f","text":"<ul> <li> <p>IF/IF_ELSE: </p> <ul> <li>\u6761\u4ef6\u5fc5\u987b\u4e3a <code>bool</code> \u7c7b\u578b\uff08\u4e0d\u4f1a\u81ea\u52a8\u8f6c\u6362\uff09\uff0c\u4f46\u4e0d\u7528\u5957 <code>()</code></li> <li>\u56e0\u4e3a IF \u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u4f60\u4e5f\u53ef\u4ee5\u628a\u5b83\u4e22\u5230 <code>let</code> \u7684\u53f3\u4fa7</li> </ul> <pre><code>if      num&lt;5 {}\nelse if num&gt;5 {}\nelse          {}\n\nlet num = if cond {5} else {6}; // \u4f46\u8fd9\u4fe9\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u517c\u5bb9\n</code></pre> </li> <li> <p>MATCH: \u5fc5\u987b\u7a77\u4e3e \u6240\u6709 \u53ef\u80fd\u6027\uff08\u6216\u7528 <code>_ =&gt; ()</code> \u4f5c\u4e3a\u515c\u5e95\uff09</p> <pre><code>#[derive(Debug)]\nstruct State {}\nenum Coin { \n    Penny, Nickel, Dime, Sth\n    Quarter(State), \n}\n\nlet flag = true;\nfn coin_2_value(coin: Coin) -&gt; u8 {\n    match coin {\n        Coin::Penny | Coin::Sth   =&gt; 1, // \u53ef\u4ee5\u7528 | \u8868\u793a OR\n        Coin::Nickle if flag      =&gt; 5, // \u6dfb\u52a0\u4e00\u4e2a flag \u7b5b\u9009\n        Coin::Dime                =&gt; 10,\n        1..=5      =&gt; println!(\"1~5\"),\n        'a'..='z'  =&gt; println!(\"a~z\"),\n        Coin::Quarter(state) =&gt; {\n            println!(\"from: {}\", state);\n            25\n        },\n    }\n}\n\n// \u5fae\u5999\u5c0f\u5339\u914d\nstruct Point { x:i32, y:i32 }\nlet p = Point { x:3, y:4 };\nmatch p {\n    Point {x, y:0} =&gt; println!(\"@ X-Axis\"),\n    Point {x:0, y} =&gt; println!(\"@ Y-Axis\"),\n    Point {x,y}    =&gt; println!(\"Normal\")\n}\n</code></pre> <ul> <li> <p>\u4f60\u4e5f\u53ef\u4ee5\u7528\u6765\u5904\u7406 <code>Option&lt;T&gt;</code> \u91cc\u5b58\u5728\u7a7a\u503c\u7684\u60c5\u51b5</p> <pre><code>fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {\n    match x {\n        None    =&gt; None,\n        Some(i) =&gt; Some(i+1),\n    }\n}\n</code></pre> </li> </ul> </li> <li> <p>IF LET: \u53ea\u5173\u5fc3\u4e00\u79cd case\uff0c\u5176\u4ed6\u653e\u751f</p> <pre><code>let v = Some(3);\n\nif let Some(3) = v { println!(\"Got Three\"); }\n// \u53ea\u8981\u4e0d\u662f Null \u90fd\u884c\nelse if Some(_)    { println!(\"Not Null &amp; Not Three\"); } \nelse { println!(\"Other\"); }\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_12","title":"\u5faa\u73af","text":"<p>\u719f\u6089\u7684\u8001\u4e09\u5957\uff08LOOP, WHILE, FOR\uff09</p> <pre><code>loop {\n    if cond { break; }\n    else    { continue; }\n}\n\nwhile num != 0 { num = num-1; }\nwhile let Some(x) = stack.pop() {}\n\n// FOR \u4e00\u822c\u62ff\u6765\u904d\u5386\u6570\u7ec4\nlet arr = [1,2,3,4,5];\nfor ele in arr.iter() { println!(\"{}\", ele); }\n// \u4f60\u4e5f\u53ef\u4ee5\u7528\u6765\u904d\u5386 Range\uff08\u5de6\u95ed\u53f3\u5f00\uff09\nfor ele in (1..4).rev() {} // \u751f\u6210\u7684 range = [3,2,1]\n</code></pre>"},{"location":"Nulling/Rust/2_base/#4","title":"4 \u6240\u6709\u6743 \ud83c\udf1f","text":"<p>\u628a\u6570\u636e \u5b58 \u5728 Stack \u4e0a\u8981\u6bd4\u5b58\u5728 Heap \u4e0a\u5feb\u5f97\u591a</p> <ul> <li>\u5728 Stack \u4e0a\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u9700\u8981\u641c\u7d22\u7a7a\u95f4 =&gt; \u76f4\u63a5\u653e\u5728\u6808\u9876\u5c31\u884c</li> <li>\u5728 Heap \u4e0a\uff0cOS \u9700\u8981\u5148\u627e\u5230\u4e00\u5757\u8db3\u591f\u5927\u7684\u7a7a\u95f4\uff0c\u5e76\u66f4\u65b0\u76f8\u5173\u8bb0\u5f55\u4ee5\u4fbf\u8fdb\u884c\u4e0b\u6b21\u5206\u914d</li> </ul> <p>\u5728 Stack \u4e0a \u8bbf\u95ee\u6570\u636e \u8981\u6bd4 Heap \u5feb\u5f97\u591a</p> <p>Heap \u4e2d\u7684\u6570\u636e\u5fc5\u987b\u901a\u8fc7\u6307\u9488\u8bbf\u95ee</p> <ul> <li> <p>Rust \u57fa\u4e8e\u6240\u6709\u6743\u7cfb\u7edf\u7ba1\u7406\u5185\u5b58\uff0c\u8fd9\u4e00 feature \u4f7f\u5f97 Rust \u65e0\u9700\u8fdb\u884c GC \u5373\u53ef\u4fdd\u8bc1\u5185\u5b58\u5b89\u5168</p> </li> <li> <p>\u8be5\u7cfb\u7edf\u5305\u542b\u4e00\u7ec4\u5728 \u7f16\u8bd1 \u65f6\u68c0\u67e5\u7684\u89c4\u5219\u3001\u5728 \u8fd0\u884c \u65f6\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u989d\u5916\u5f00\u9500</p> <ol> <li>\u6bcf\u4e2a\u503c\u90fd\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u6240\u6709\u8005\uff08\u5bf9\u5e94\u7684\u53d8\u91cf\uff09</li> <li>\u5f53\u6240\u6709\u8005\u8d85\u51fa\u4f5c\u7528\u57df\u540d\u65f6\uff0c\u5220\u9664\u503c</li> </ol> </li> <li> <p>\u6240\u6709\u6743\u7cfb\u7edf\u89e3\u51b3\u4e86\u4ee5\u4e0b\u95ee\u9898\uff1a</p> <ol> <li>\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u6b63\u5728\u4f7f\u7528 Heap \u4e0a\u7684\u54ea\u4e9b\u6570\u636e</li> <li>\u6700\u5c0f\u5316 Heap \u4e2d\u5b58\u50a8\u7684\u91cd\u590d\u6570\u636e</li> <li>\u6e05\u7406 Heap \u4e0a\u672a\u4f7f\u7528\u7684\u6570\u636e\uff0c\u4ee5\u907f\u514d\u7a7a\u95f4\u4e0d\u8db3</li> </ol> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_13","title":"\u5173\u4e8e\u53d8\u91cf","text":"<p>Rust \u4e0d\u4f1a\u81ea\u52a8\u521b\u5efa Deep Copy\uff0c\u4efb\u4f55\u81ea\u52a8\u8d4b\u503c\u90fd\u662f\u5ec9\u4ef7\u7684</p> <ul> <li> <p>Copy Trait: \u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u5747\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\uff0c\u6240\u4ee5\u4f1a\u6709 \u4e24\u4e2a 5 \u88ab\u538b\u8fdb Stack</p> <ul> <li>\u6240\u6709\u7684 \u6574\u6570\u3001\u5e03\u5c14\u3001\u5b57\u7b26 \u90fd\u5177\u6709\u8be5\u7279\u6027</li> <li>\u82e5 Tuple \u5185\u4ec5\u5305\u542b\u4e0a\u8ff0\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5219\u4e5f\u5177\u5907\u8be5\u7279\u6027</li> </ul> <pre><code>let x = 5;\nlet y = x;\n</code></pre> </li> <li> <p>Drop Trait: <code>s2</code> \u5360\u7528\u4e86 <code>(ptr,len,capacity)</code>\uff08\u53d1\u751f Move\uff09</p> <p>\u6240\u6709\u9700\u8981 \u5206\u914d\u5185\u5b58/\u8d44\u6e90 \u7684\u7c7b\u578b\u90fd\u5177\u6709\u8be5\u7279\u6027</p> <pre><code>let s1 = String::from('test');\nlet s2 = s1; // \u6b64\u65f6 s1 \u5931\u6548\uff08\u53ea\u80fd\u6709\u4e00\u4e2a\u6240\u6709\u8005\uff09\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_14","title":"\u5173\u4e8e\u51fd\u6570","text":"<p>\u7c7b\u4f3c\u7684\uff0c\u5728 \u5c06\u5b9e\u53c2\u4f20\u9012\u7ed9\u51fd\u6570/\u521b\u5efa\u8fd4\u56de\u503c \u65f6\uff0c\u8fd9\u4e9b\u503c\u5c06\u53d1\u751f Copy/Move</p> <pre><code>fn test(a: i32, b: String) {\n    // a \u662f Copy, \u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u539f\u6765\u7684\n    // b \u662f Move\n}\n\nlet x = 5;\nlet y = String::from('test');\ntest(x, y);             // \u53ef\u4ee5\u6362\u6210 test(x, y.clone()) \u8fdb\u884c\u663e\u5f0f copy\nprintln!(f\"y = {}\", y); // \u26a0\ufe0f y \u5df2\u7ecf\u4e0d\u518d\u62e5\u6709\u6240\u6709\u6743\n</code></pre> String \u6240\u6709\u6743\u53cd\u590d\u6a2a\u8df3 <pre><code>fn main() {\n    let mut out = String::from(\"Hello\");\n    out = take_over(out);\n    println!(\"Then, out: {}\", out); // =&gt; Hello_Side\n}\n\nfn take_over(mut inn: String) -&gt; String {\n    println!(\"inn: {}\", inn);\n    inn.push_str(\"_Side\");\n    return inn;                    // \u5f52\u8fd8\u6240\u6709\u6743\n}\n</code></pre> \u5947\u602a\u7279\u6027 <pre><code>fn main() {\n    let out = String::from(\"Hello\"); // \u8fd9\u91cc\u5b9e\u53c2\u6ca1\u6709 mut\n    out = take_over(out);\n}\n\nfn take_over(mut inn: String) {     // \u5f62\u53c2\u5fc5\u987b\u6709 mut\uff08\u8981\u6267\u884c push_str\uff09\n    println!(\"inn: {}\", inn);\n    inn.push_str(\"_Side\");          // \u8fd8\u771f\u7ed9\u6539\u4e86\n}\n</code></pre>"},{"location":"Nulling/Rust/2_base/#_15","title":"\u5f15\u7528\u4e0e\u501f\u7528","text":"<p>\u624b\u52a8\u628a Move \u7c7b\u7684\u6240\u6709\u6743\u4f20\u6765\u4f20\u53bb\u6709\u70b9\u5446\uff0c\u6709\u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u89e3\u51b3\u65b9\u6848\u5462</p> <ul> <li> <p>\u5f15\u7528\uff1a\u5141\u8bb8\u4f7f\u7528\u67d0\u4e9b\u503c\u800c\u4e0d\u53d6\u5f97\u6240\u6709\u6743\uff08\u521b\u5efa\u4e86\u4e00\u4e2a\u6307\u5411\u539f\u53d8\u91cf\u7684\u6307\u9488\uff09</p> <pre><code>let s1 = String::from('tt');\nlet len = get_len(&amp;s1);           // \u8fd9\u91cc\u4f20\u5f15\u7528\n\nfn get_len(s: &amp;String) -&gt; usize { // \u6ce8\u610f\u5f62\u53c2\n    s.len()\n}\n</code></pre> </li> <li> <p>\u5f15\u7528 \u9ed8\u8ba4 \u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u4f46\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>mut</code> \u624b\u52a8\u6307\u5b9a</p> <pre><code>let mut s1 = String::from('tt');      // \u672c\u4f53\u80fd\u53d8\nlet len = get_len(&amp;mut s1);           // \u521b\u5efa\u53ef\u53d8\u7684\u5f15\u7528\nfn get_len(s: &amp;mut String) -&gt; usize { // \u585e\u5728 &amp; \u540e\u9762\n    s.push_str(\"_222\");\n    s.len()\n}\n</code></pre> <ul> <li>\u540c\u4e00\u4f5c\u7528\u57df \u5185\uff0c\u6bcf\u4efd\u6570\u53ea\u80fd\u6709 \u4e00\u4e2a\u53ef\u53d8 \u5f15\u7528\uff08\u907f\u514d\u6570\u636e\u7ade\u4e89\uff09</li> <li> <p>\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u65b0\u7684\u4f5c\u7528\u57df\u8fdb\u884c\u89c4\u907f</p> <pre><code>let mut s = String::from('t');\n{\n    let s1 = &amp;mut s;\n}   // \u8fd9\u65f6\u5019 s1 \u5df2\u7ecf\u5676\u4e86\nlet s2 = &amp;mut s;\n</code></pre> </li> <li> <p>\u65e0\u6cd5\u540c\u65f6\u62e5\u6709 \u53ef\u53d8-\u4e0d\u53ef\u53d8\u5f15\u7528\uff08\u610f\u4e49\u51b2\u7a81\uff09\u3001\u4f46\u53ef\u4ee5\u540c\u65f6\u5b58\u5728\u591a\u4e2a\u4e0d\u53ef\u53d8\u5f15\u7528</p> <pre><code>let mut s = String::from('t');\nlet s1 = &amp;s;\nlet s2 = &amp;s;\nlet s3 = &amp;mut s;  // \u26a0\ufe0f \u90a3 s \u662f\u53d8\u8fd8\u662f\u4e0d\u53d8\u554a\n</code></pre> </li> </ul> </li> <li> <p>Dangling Ref \u60ac\u7a7a\u5f15\u7528\uff1aRust \u7f16\u8bd1\u5668\u4f1a\u76f4\u63a5\u62a5\u9519</p> <pre><code>let r = dangle();\nfn dangle() -&gt; &amp;String {\n    let s = String::from('sth');\n    &amp;s\n} // \u26a0\ufe0f \u6b64\u65f6 s \u88ab\u6e05\u7406\u3001&amp;s \u6307\u5411\u60ac\u7a7a\u4f4d\u7f6e\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_16","title":"\u5207\u7247","text":"<ul> <li>Slice \u4e5f\u662f\u4e00\u79cd \u4e0d\u53d6\u5f97\u6240\u6709\u6743 \u7684\u6570\u636e\u7c7b\u578b</li> <li> <p>\u672c\u8d28\u662f\u6307\u5411 String \u4e2d \u90e8\u5206\u5185\u5bb9 \u7684\u5f15\u7528\uff0c\u4f46\u53ea\u6709 <code>(ptr, len)</code> \u503c</p> <pre><code>let s = String::from(\"Hello World\");\nlet hello = &amp;s[0..5]; // \u4e5f\u53ef\u4ee5\u5199\u6210 [..ed] / [bg..] / [..]\n\nfn first_word(s: &amp;String) -&gt; &amp;str { // \u8fd4\u56de\u7684\u662f\u5207\u7247\n    let bytes = s.as_bytes(); // arr&lt;u8&gt;\n    for (i, &amp;item) in bytes.inter().enumerate() {\n        if item == b' ' { return &amp;s[..i]; }\n    }\n    &amp;s[..];\n}\n\n// \u4f46\u4e00\u822c\u4f1a\u76f4\u63a5\u4f7f\u7528 \u5b57\u7b26\u4e32\u5207\u7247 \u4f5c\u4e3a\u5f62\u53c2\u7c7b\u578b\uff08\u53ef\u4ee5\u517c\u5bb9 String &amp; &amp;str \u7c7b\u578b\u7684\u5b9e\u53c2\uff09\nfn find(s: &amp;str) {}\nlet s1 = String::from(\"xxxx\"); // =&gt; find(&amp;s1[..]) \u521b\u5efa\u6574\u4e2a String \u7684\u5207\u7247\nlet s2 = \"yyyy\";               // =&gt; find(s2)      \u76f4\u63a5\u5f80\u91cc\u4e00\u4e22\n</code></pre> </li> <li> <p>\u5b57\u7b26\u4e32\u5b57\u9762\u503c\u5b9e\u9645\u4e0a\u4e5f\u662f\u5207\u7247\uff08\u6570\u636e\u76f4\u63a5\u88ab\u5b58\u50a8\u5728\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u4e2d\uff09</p> <pre><code>let s = \"Hello\"; // s is &amp;str\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#5","title":"5 \u5305\u4e0e\u6a21\u5757","text":"<p>\u611f\u89c9 Rust \u7684\u6a21\u5757\u7cfb\u7edf\u6709\u70b9\u9b54\u5e7b</p>"},{"location":"Nulling/Rust/2_base/#package","title":"Package\uff08\u5305\uff09","text":"<ul> <li>\u662f Cargo \u7684\u7279\u6027\uff0c\u53ef\u4ee5\u7528\u4e8e\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u5171\u4eab crate</li> <li>\u5305\u542b <code>Cargo.toml</code>\uff0c\u7528\u4e8e\u63cf\u8ff0\u5982\u4f55\u6784\u5efa Crates\uff08\u5982\uff1a\u5bfc\u5165\u5916\u90e8\u4f9d\u8d56\uff09</li> <li>\u53ef\u4ee5\u62e5\u6709 0/1 \u4e2a LibCrate\uff0c\u4f46\u53ef\u4ee5\u62e5\u6709\u4efb\u610f\u4e2a binCrate\uff08\u653e\u5728 <code>src/bin</code> \u4e0b\uff09</li> </ul>"},{"location":"Nulling/Rust/2_base/#crate","title":"Crate\uff08\u5355\u5143\u5305\uff09","text":"<p>\u6216\u8bb8\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5355\u4e2a Rust \u6587\u4ef6\uff1f</p> <ul> <li>\u4e00\u68f5\u6a21\u5757\u6811\uff0c\u53ef\u4ee5\u751f\u6210 Lib / \u53ef\u6267\u884c\u6587\u4ef6</li> <li>\u5177\u6709 binary / library \u4e24\u79cd\u7c7b\u578b</li> <li>Crate Root \u662f\u7f16\u8bd1\u7684\u5165\u53e3\u6587\u4ef6\uff0c\u7ec4\u6210 Crate \u7684 \u6839 Module<ul> <li>binCrate \u7684 root \u9ed8\u8ba4\u4e3a <code>src/main.rs</code></li> <li>LibCreate \u7684 root \u9ed8\u8ba4\u4e3a <code>src/lib.rs</code></li> </ul> </li> </ul>"},{"location":"Nulling/Rust/2_base/#module-use","title":"Module-Use\uff08\u6a21\u5757\uff09","text":"<ul> <li>\u5728\u5355\u4e2a Crate \u5185\u5bf9\u4ee3\u7801\u8fdb\u884c\u5206\u7ec4\uff0c\u7528\u4e8e\u63a7\u5236\u4ee3\u7801\u7ec4\u7ec7\u3001\u4f5c\u7528\u57df\u3001\u79c1\u6709 Path</li> <li> <p>\u901a\u8fc7 <code>mod</code> \u5173\u952e\u5b57\u5b9a\u4e49\u3001\u652f\u6301\u5d4c\u5957</p> <p>\u4f7f\u7528 <code>mod [ModName];</code> \u65f6\uff0c\u4f1a\u628a <code>src/ModName.rs</code> \u4e2d\u7684\u4ee3\u7801\u5168\u8d34\u8fdb\u6765</p> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7 <code>as</code> \u4e3a\u5f15\u5165\u8def\u5f84\u6307\u5b9a\u522b\u540d</p> <pre><code>use std::io::Result as IoResult;\n</code></pre> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7 <code>pub use</code> \u91cd\u65b0\u5bfc\u51fa\u540d\u79f0\uff08\u9ed8\u8ba4\u662f\u79c1\u6709\u7684\uff09</p> <pre><code>pub use crate::front_of_house::hosting;\n</code></pre> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7\u5d4c\u5957\u8def\u5f84\u5f15\u5165\u540c\u524d\u7f00\u4e0b\u7684\u591a\u4e2a\u6761\u76ee</p> <pre><code>use std::{cmp::Ordering, io};\nuse std::io::{self, Write};  // \u540c\u65f6\u5f15\u5165 std::io + std::io::Write\nuse std::collections::*;     // \u5f15\u4e00\u5768\n</code></pre> </li> <li> <p>Path\uff08\u8def\u5f84\uff09\uff1a\u7528\u4e8e\u4e3a struct\u3001func\u3001module \u547d\u540d</p> <ul> <li>\u7edd\u5bf9\u8def\u5f84\uff1a\u4ece create root \u5f00\u59cb\uff0c\u901a\u8fc7 crateName / \u5b57\u9762\u503c \"crate\" \u8bbf\u95ee</li> <li>\u76f8\u5bf9\u8def\u5f84\uff1a\u4ece\u5f53\u524d Module \u5f00\u59cb\uff0c\u901a\u8fc7 self / super / Module \u6807\u8bc6\u7b26 \u8bbf\u95ee</li> </ul> </li> </ul> <p>Rust \u4e2d\u7684\u6240\u6709\u6761\u76ee\u9ed8\u8ba4\u90fd\u662f\u79c1\u6709\u7684</p> <ul> <li>\u5144\u5f1f\u6a21\u5757\u4e4b\u95f4\u53ef\u4ee5\u4e92\u76f8\u8c03\u7528</li> <li>\u7236\u6a21\u5757 \u65e0\u6cd5\u4f7f\u7528 \u5b50\u6a21\u5757\u4e2d\u7684\u79c1\u6709\u6761\u76ee</li> <li>\u81ea\u6a21\u5757\u53ef\u4ee5\u4f7f\u7528\u6240\u6709 \u7956\u5148\u6a21\u5757 \u4e2d\u7684\u6761\u76ee\uff08\u56e0\u4e3a\u5957\u5728\u4e0a\u4e0b\u6587\u91cc\u9762\uff09</li> </ul> main.rs<pre><code>fn test() {}\n\nmod front_of_house { // \u524d\u53f0\u884c\u4e3a\uff08private\uff09\n    pub mod hosting {\n        pub fn add_to_waitlist() {} // \u9700\u8981\u9010\u7ea7\u66b4\u9732\u51fa\u53bb}\n        fn seat_at_table()   {}\n    }\n    mod serving {\n        fn take_oreder()  {}\n        fn serve_order()  {}\n        fn take_payment() {}\n    }\n    fn test() {\n        crate::test();    // \u7edd\u5bf9\u8def\u5f84\n        super::test();    // \u76f8\u5bf9\u8def\u5f84\uff08\u9000\u4e00\u7ea7\uff09\n    }\n}\n\npub fn eat_at_restaurant() {\n    // \u7edd\u5bf9\u8def\u5f84\u8c03\u7528\n    crate::front_of_house::hosting::add_to_waitlist();\n    // \u76f8\u5bf9\u8def\u5f84\u8c03\u7528\n    front_of_house::hosting::add_to_waitlist();\n    /* \u901a\u8fc7 use \u5f15\u5165\u540e\uff0c\u76f8\u5bf9\u8def\u5f84\u53ef\u4ee5\u66f4\u77ed\u4e00\u70b9\n     * use crate::front_of_house::hosting =&gt; \u4e5f\u53ef\u4ee5 use &lt;\u76f8\u5bf9\u8def\u5f84&gt;\n     * hosting::add_to_waitlist(); \n     * \u51fd\u6570\u901a\u5e38\u5f15\u7528\u5230\u7236\u6a21\u5757\uff0cstruct/enum \u901a\u5e38\u5f15\u7528\u5230\u672c\u4f53 */\n}\n</code></pre>"},{"location":"Nulling/Rust/2_base/#6","title":"6 \u9519\u8bef\u5904\u7406","text":"<p>Rust \u6ca1\u6709 try-catch \u7684\u673a\u5236</p>"},{"location":"Nulling/Rust/2_base/#panic","title":"<code>panic!</code>","text":"<ul> <li>\u4e0d\u53ef\u6062\u590d\uff0c\u4f46\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\uff1a<code>panic!(\"crash 4 fun\")</code></li> <li>\u62a5 panic \u540e\u7684\u9ed8\u8ba4\u884c\u4e3a\uff1a\u6253\u5370\u9519\u8bef\u4fe1\u606f -&gt; \u5c55\u5f00\u3001\u6e05\u7406\u8c03\u7528\u6808 -&gt; \u9000\u51fa\u7a0b\u5e8f<ul> <li>\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e <code>panic = 'abort'</code> \u76f4\u63a5\u4e2d\u65ad\uff08\u6b64\u60c5\u51b5\u4e0b\u5185\u5b58\u7531 OS\u3001\u800c\u975e Rust \u6e05\u7406\uff09</li> <li>\u53ef\u4ee5\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>RUST_BACKTRACE=1</code> \u5b9a\u4f4d\u5177\u4f53\u62a5\u9519\u7684\u4ee3\u7801</li> </ul> </li> </ul>"},{"location":"Nulling/Rust/2_base/#resultt-e","title":"<code>Result&lt;T, E&gt;</code>","text":"<ul> <li> <p>\u53ef\u6062\u590d\uff0c\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a Enum \u7c7b\u578b</p> <pre><code>enum Result&lt;T, E&gt; { \n    Ok(T),   // T \u4e3a\u64cd\u4f5c\u6210\u529f\u65f6\u8fd4\u56de\u7684\u7c7b\u578b\n    Err(E),  // E \u4e3a\u5931\u8d25\u65f6\u7684\u8fd4\u56de\u7c7b\u578b\n}\n</code></pre> </li> <li> <p><code>main()</code> \u4e5f\u80fd\u8fd4\u56de <code>Result&lt;(), Box&lt;dyn Err&gt;&gt;</code>\uff0c\u540e\u8005\u515c\u5e95\u4e86\u4efb\u4f55\u53ef\u80fd\u7684\u9519\u8bef\u7c7b\u578b</p> </li> <li> <p>\u9700\u8981\u901a\u8fc7 match \u5904\u7406</p> <pre><code>let f = File::open(file_url); // \u8fd4\u56de Result\nlet f = match f {\n    Ok(file) =&gt; file,\n    Err(err) =&gt; match err.kind() { // \u9002\u914d\u4e0d\u540c\u9519\u8bef\n        ErrorKind::NotFound =&gt; match File::create(file_url) {\n            Ok(fc) =&gt; fc,\n            Err(e) =&gt; panic!(\"Can't create {:?}\", e),\n        },\n        other_e    =&gt; panic!(\"Can't open {:?}\", other_e),\n    },\n};\n</code></pre> <ul> <li>\u901a\u8fc7 <code>unwrap</code> \u6539\u5199\uff1aOk \u76f4\u63a5\u8fd4\u56de\uff0cErr \u62a5 panic\uff08\u4fe1\u606f\u4e0d\u80fd\u81ea\u5b9a\u4e49\uff09</li> <li>\u901a\u8fc7 <code>expect</code> \u6539\u5199\uff1aOk \u76f4\u63a5\u8fd4\u56de\uff0cErr \u62a5\u81ea\u5b9a\u4e49 panic</li> </ul> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_17","title":"\u9519\u8bef\u4f20\u64ad","text":"\u8fd4\u56de Result\uff0cErr \u4e22\u7ed9 caller \u5904\u7406<pre><code>fn read_file(file_url: &amp;String) -&gt; Result&lt;String, io::Error&gt; {\n    let mut s = String::new();\n\n    let mut f = match  File::open(file_url) {\n        Ok(file) =&gt; file,\n        Err(e)   =&gt; return Err(e),\n    };\n\n    return match f.read_to_string(&amp;mut s) {\n        Ok(_)  =&gt; Ok(s),\n        Err(e) =&gt; Err(e),\n    };\n}\n\n// \u4e0a\u9762\u7684\u4e00\u5768\u7b49\u4ef7\u4e8e\nfn read_file(file_url: &amp;String) -&gt; Result&lt;String, io::Error&gt; {\n    let mut s = String::new();\n    let mut f = File::open(file_url)?; // \u8fd9\u91cc\u6709\u4e2a\u95ee\u53f7\n    f.read_to_string(&amp;mut s)?;         // \u8fd9\u91cc\u6709\u4e2a\u95ee\u53f7\n    Ok(s)\n}\n\n// \u8fd8\u6709\u94fe\u5f0f\u8c03\u7528\u7248\u672c\nfn read_file(file_url: &amp;String) -&gt; Result&lt;String, io::Error&gt; {\n    let mut s = String::new();\n    File::open(file_url)?.read_to_string(&amp;mut s)?;\n    Ok(s)\n}\n</code></pre> <ul> <li> <p>\u9519\u8bef\u7c7b\u578b\u8f6c\u6362\uff1a<code>std::convert::From</code> \u4e2d\u7684 <code>from()</code> \u53ef\u4ee5\u6539\u53d8\u9519\u8bef\u7c7b\u578b</p> <p>\u7531 <code>?</code> \u7b80\u5316\u7684\u9519\u8bef\u4f1a\u7531 <code>from</code> \u9690\u5f0f\u8f6c\u5316\u4e3a\u8fd4\u56de\u503c\u4e2d\u5b9a\u4e49\u7684\u9519\u8bef\u7c7b\u578b\uff08\u4f46\u5fc5\u987b\u5b9e\u73b0\u5bf9\u5e94\u7c7b\u578b\u7684\u8f6c\u5316\u51fd\u6570\uff09</p> </li> </ul>"},{"location":"Nulling/Rust/2_base/#7-trait","title":"7 \u6cdb\u578b\uff0cTrait\uff0c\u751f\u547d\u5468\u671f","text":""},{"location":"Nulling/Rust/2_base/#_18","title":"\u6cdb\u578b","text":"<ul> <li> <p>\u7531\u7f16\u8bd1\u5668\u5c06 <code>T</code> \u66ff\u6362\u4e3a\u5177\u4f53\u6570\u636e\u7c7b\u578b\uff08\u53ef\u4ee5\u7528\u5176\u4ed6\u590d\u5408 CamelCase \u7684\u540d\u79f0\uff09</p> </li> <li> <p>\u6cdb\u578b\u51fd\u6570\uff1a</p> <pre><code>// \u56e0\u4e3a\u6d89\u53ca\u6bd4\u8f83\u64cd\u4f5c\uff0c\u6240\u4ee5 T \u5fc5\u987b\u5b9e\u73b0\u7279\u5b9a trait\nfn max&lt;T: std::cmp::PartialOrd + Clone&gt;(list: [T]) -&gt; &amp;T {\n    let mut maxx = &amp;list[0];\n    for item in list {\n        if item &gt; &amp;maxx { maxx = item; }\n    }\n    maxx\n}\n</code></pre> </li> <li> <p>\u6cdb\u578b\u7ed3\u6784\u4f53 (\u5728 enum \u4e2d\u4e5f\u80fd\u7528)</p> <pre><code>struct Point&lt;T&gt; {\n    x: T, y: T,    // \u5fc5\u987b\u7c7b\u578b\u4e00\u6837\n}\nimpl&lt;T&gt; Point&lt;T&gt; { // \u9488\u5bf9\u6240\u6709\u7c7b\u578b\u5b9e\u73b0\n    pub fn x(&amp;self) -&gt; &amp;T {\n        &amp;self.x\n    }\n    // \u65b9\u6cd5\u7684\u6cdb\u578b\u53ef\u4ee5\u548c\u7ed3\u6784\u9898\u4e0d\u4e00\u6837\n    fn mixup&lt;V, W&gt;(self, otehr: Point&lt;V,W&gt;) -&gt; Point&lt;T, W&gt; {\n        Point {\n            x: self.x,\n            y: other.y,\n        }\n    }\n}\nimpl Point&lt;i32&gt; {  // \u4ec5\u9488\u5bf9\u5177\u4f53\u7c7b\u578b\u5b9e\u73b0\n    pub fn x(&amp;self) -&gt; &amp;i32 {\n        &amp;self.x\n    }\n}\n\nstruct Point&lt;T, U&gt; {\n    x: T, y: U,    // \u7c7b\u578b\u53ef\u4ee5\u4e0d\u540c   \n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#trait","title":"Trait","text":"<ul> <li>\u53ea\u6709\u65b9\u6cd5\u7684\u7b7e\u540d\uff0c\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0</li> <li>\u58f0\u660e\u7279\u5b9a\u7c7b\u578b\u5177\u6709\u67d0\u79cd\u4e0e\u5176\u4ed6\u7c7b\u578b\u5171\u4eab\u7684\u529f\u80fd\uff08\u6709\u70b9\u50cf JAVA \u7684\u7a7a\u63a5\u53e3\uff09</li> <li>\u53ef\u4ee5\u5c06 \u6cdb\u578b \u652f\u6301\u8303\u56f4\u9650\u5236\u4e8e \u5b9e\u73b0\u4e86\u7279\u5b9a\u884c\u4e3a\u7684\u7c7b\u578b</li> <li>\u8de8 crate \u4f7f\u7528\u65f6\uff0c\u9700\u8981\u540c\u65f6\u5f15\u5165 trait + \u5bf9\u5e94\u7c7b\u578b</li> <li>\u5f53\u4e14\u4ec5\u5f53 \u7c7b\u578b/trait \u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u5728\u672c\u5730\u5b9a\u4e49\u65f6\u652f\u6301\u5b9e\u73b0\uff08\u5426\u5219\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u5b9e\u73b0\uff09</li> </ul> <pre><code>// \u5b9a\u4e49\npub trait Summary {\n    fn summarize(&amp;self) -&gt; String;\n    fn suma(&amp;self) -&gt; String {      // \u9ed8\u8ba4\u5b9e\u73b0\n        self.summarize();           // \u53ef\u4ee5\u8c03\u5144\u5f1f\uff08\u5373\u4f7f\u6ca1\u6709\u9ed8\u8ba4\u5b9e\u73b0\uff09\n        String::from(\"Read more...\")\n    }\n}\n\n// \u5b9e\u73b0 trait\nimpl Summary for Tweet {\n    fn summarize(&amp;self) -&gt; String {\n        format!(\"{}: {}\", self.usr, self.msg)\n    }\n    // \u4e5f\u53ef\u4ee5\u624b\u52a8\u91cd\u5199 fn summa(&amp;self) -&gt; Srting {}\n}\n// \u6709\u6761\u4ef6\u7684\u5b9e\u73b0 Trait\nimpl&lt;T: Display&gt; toString for T {}\n\n// \u9650\u5236\u53c2\u6570\u7c7b\u578b\uff08\u540c\u65f6\u5b9e\u73b0 Summary &amp; Display\uff09\npub fn notify(item: impl Summary + Display) {}\npub fn notify&lt;T: Summary + Dispay, U: Clone + Debug&gt;(item1: T, item2: U) {} // \u957f\npub fn notify&lt;T, U&gt;(item1: T, item2: U) \n    where T: Summary + Display, \n          U: Clone + Debug, {}\n\n// \u9650\u5236\u8fd4\u56de\u503c\u7c7b\u578b\uff08\u4f46\u53ea\u80fd\u8fd4\u56de\u4e00\u79cd\u5177\u4f53\u7c7b\u578b\uff09\npub fn notify() -&gt; impl Summary {}\n\n// \u6709\u6761\u4ef6\u7684\u5b9e\u73b0\u65b9\u6cd5\nimpl&lt;T: Display+PartialOrd&gt; Point&lt;T&gt; {\n    fn cmp_display(&amp;self) {}\n}\n</code></pre>"},{"location":"Nulling/Rust/2_base/#_19","title":"\u751f\u547d\u5468\u671f","text":"<ul> <li> <p>\"\u751f\u547d\u5468\u671f\" \u5373 \u5f15\u7528\u4fdd\u6301\u6709\u6548 \u7684\u4f5c\u7528\u57df\uff0c\u76ee\u6807\u662f\u907f\u514d dangling ref</p> </li> <li> <p>\u751f\u547d\u5468\u671f\u6807\u6ce8</p> <ul> <li>\u4ee5 <code>'</code> \u5f00\u5934\u3001\u5168\u5c0f\u5199\uff0c\u653e\u5728\u5f15\u7528\u7b26\u53f7 <code>&amp;</code> \u4e4b\u540e</li> <li>\u4e0d\u4f1a \u5f71\u54cd\u5f15\u7528\u7684\u5b9e\u9645\u751f\u547d\u5468\u671f\u957f\u5ea6\u3001\u53ea\u662f\u63cf\u8ff0\u4e0d\u540c\u751f\u547d\u5468\u671f\u4e4b\u95f4\u7684\u5173\u7cfb</li> </ul> </li> <li> <p>\u51fd\u6570\u7684\u6cdb\u578b\u751f\u547d\u5468\u671f\u53c2\u6570</p> <p>\u51fd\u6570\u8fd4\u56de \u5f15\u7528 \u65f6\uff0c\u8fd4\u56de\u503c\u751f\u547d\u5468\u671f\u81f3\u5c11\u4e0e\u4e00\u4e2a\u53c2\u6570\u5339\u914d</p> \u540c\u65f6\u4f7f\u7528\u6cdb\u578b + \u751f\u547d\u5468\u671f<pre><code>// 'a \u4e3a x&amp;y \u751f\u547d\u5468\u671f *\u91cd\u53e0* \u7684\u90e8\u5206\n// \u4e24\u4e2a\u53c2\u6570+\u8fd4\u56de\u503c\u7684\u751f\u547d\u5468\u671f &gt;= 'a\nfn longer&lt;'a, T&gt;(x: &amp;'a str, y: &amp;'a str, ann: T) -&gt; &amp;'a str\n    where T: Display,\n{\n    println!(\"Announce {}\", ann);\n    if x.len() &gt; y.len() { return x; }\n    else                 { return y; }\n}\n</code></pre> </li> <li> <p>Struct \u5b9a\u4e49\u7684\u751f\u547d\u5468\u671f\u6807\u6ce8\uff1a\u5b57\u6bb5\u4e2d\u5b58\u5728\u5f15\u7528</p> <p>\u751f\u547d\u5468\u671f\u6807\u6ce8\u4e5f\u662f struct \u7c7b\u578b\u7684\u4e00\u90e8\u5206</p> <pre><code>struct Sample&lt;'a&gt; {\n    part: &amp;'a str,  // Part \u6d3b\u5f97\u8981\u6bd4 Sample \u5b9e\u4f8b\u957f\n}\n</code></pre> <ul> <li> <p>\u65b9\u6cd5\u7b7e\u540d\u7684\u751f\u547d\u5468\u671f\u6807\u6ce8\uff08\u901a\u5e38\u53ef\u4ee5\u9ed8\u8ba4\u63a8\u5bfc\uff09</p> <p>\u5f15\u7528\u548c struct \u5b57\u6bb5\u5f15\u7528\u7684\u751f\u547d\u5468\u671f\u7ed1\u5b9a / \u72ec\u7acb\u5f15\u7528</p> <pre><code>// impl &amp; structName \u4e4b\u540e\u7684 &lt;'a&gt; \u4e0d\u53ef\u7701\u7565\nimpl&lt;'a&gt; Sample&lt;'a&gt; {}\n</code></pre> </li> </ul> </li> <li> <p>\u9759\u6001\u751f\u547d\u5468\u671f <code>static</code> == \u6574\u4e2a\u7a0b\u5e8f\u7684\u6301\u7eed\u65f6\u95f4</p> </li> </ul>"},{"location":"Nulling/Rust/2_base/#8","title":"8 \u8fed\u4ee3\u5668\u4e0e\u95ed\u5305","text":""},{"location":"Nulling/Rust/2_base/#_20","title":"\u95ed\u5305","text":"<ul> <li> <p>\u201c\u95ed\u5305\u201d \u662f\u4e00\u79cd\u533f\u540d\u51fd\u6570\uff0c\u53ef\u4ee5\u6355\u83b7\u5176 \u88ab\u5b9a\u4e49\u4f5c\u7528\u57df \u4e2d\u7684\u503c</p> <p>\u5c31\u662f JS \u7684\u7bad\u5934\u51fd\u6570\uff0c\u611f\u89c9 Rust \u7684\u5199\u6cd5\u597d\u4e11\u964b</p> <pre><code>fn gen_workout_plan(intensity: u32, rand_num: u32) {\n    // \u8bf4\u662f\u7528 () \u4f1a\u548c tuple \u5206\u4e0d\u5f00\n    let closure_sample = |num: u32| -&gt; u32 {\n        println!(\"calc sth ... {}\", intensity); // \u6355\u83b7\u73af\u5883\n        thread::sleep(Duration::from_secs(2)); \n        return num;\n    }\n    // \u8c03\u7528\n    clouser_sample(intensity);\n}\n</code></pre> </li> <li> <p>\u4e0d\u540c\u4e8e\u666e\u901a\u51fd\u6570\uff0c\u95ed\u5305 \u4e0d\u5f3a\u5236\u8981\u6c42 \u6807\u6ce8\u5f62\u53c2\u548c\u8fd4\u56de\u503c\u7684\u7c7b\u578b</p> <p>\u56e0\u4e3a\u95ed\u5305\u4e0d\u4f1a\u66b4\u9732\u7ed9\u7528\u6237</p> </li> <li> <p>\u95ed\u5305\u53ea\u4f1a\u4e3a\u5f62\u53c2\u548c\u8fd4\u56de\u503c\u63a8\u65ad\u51fa \u552f\u4e00\u7684\u5177\u4f53\u7c7b\u578b</p> \u6240\u4ee5\u8fd9\u91cc\u4f1a\u62a5\u9519<pre><code>let f = |x| x;\nlet s = f(String::from(\"hello\")); // \u8fd9\u91cc\u63a8\u65ad\u4e3a str\nlet n = f(5); // \u8fd9\u91cc\u7ed9\u7684 num\uff0c\u548c\u63a8\u65ad\u4e0d\u4e00\u81f4\n</code></pre> </li> <li> <p>\u57fa\u4e8e\u6cdb\u578b\u53c2\u6570\u548c Fn Trait \u5b58\u50a8\u95ed\u5305</p> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a struct \u6765\u5b58\u50a8\u95ed\u5305 \u53ca\u5176\u6267\u884c\u7ed3\u679c\uff0c\u4ece\u800c\u5b9e\u73b0\u7f13\u5b58\uff08\u4ec5\u6267\u884c\u4e00\u6b21\u8ba1\u7b97\uff09</p> <p>\u65e0\u8bba\u5b9e\u53c2\u5982\u4f55\uff0c\u4ec5\u8fd4\u56de\u9996\u6b21\u8ba1\u7b97\u7ed3\u679c\uff08\u6362 HashMap \u5b58 res \u5c31\u884c\uff09</p> <pre><code>struct Cacher&lt;T&gt;\nwhere T: Fn(u32) =&gt; u32,\n{\n    calc_fn: T\uff0c\n    res\uff1a    Option&lt;u32&gt;,\n}\n\nimpl&lt;T&gt; Cacher&lt;T&gt;\nwhere T: Fn(u32) =&gt; u32,\n{\n    fn new(calc_fn: T) -&gt; Cacher&lt;T&gt; {\n        Cacher {\n            calculation,\n            res: None // Option \u517c\u5bb9\u4e86 None \u60c5\u5f62\n        }\n    }\n    // \u4ec5\u5f53 self.res == None \u65f6\u8c03\u7528\u8ba1\u7b97\u51fd\u6570\n    fn res(&amp;muy self, arg: u32) =&gt; u32 {\n        match self.res {\n            Some(val) =&gt; val,\n            None =&gt; {\n                let val = (self.calc_fn)(arg);\n                self.res = Some(val);\n                val\n            }\n        }\n    }\n}\n\n// \u597d\u7684\uff0c\u4e0b\u9762\u5b9e\u4f8b\u5316\u4e00\u4e2a\nlet mut plan = Cacher::new(|num| {\n    thread::sleep(Duraction::from_secs(2));\n    num\n})\nprintln!(\"res = {}\", plan.res(123));\n</code></pre> </li> <li> <p>\u95ed\u5305\u4ece\u73af\u5883\u6355\u83b7\u503c\u7684\u65b9\u5f0f\uff08\u548c\u51fd\u6570\u4f20\u53c2\u4e00\u81f4\uff09</p> Trait \u8bf4\u660e <code>FnOnce</code> \u83b7\u53d6\u6240\u6709\u6743 <code>FnMut</code> \u53ef\u53d8\u501f\u7528 <code>Fn</code> (\u4e0d\u53ef\u53d8)\u501f\u7528 </li> <li> <p>\u5728\u5f62\u53c2\u5217\u8868\u524d\u6dfb\u52a0 <code>move</code> \u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u5f3a\u5236\u95ed\u5305 \u53d6\u5f97\u6240\u6709\u6743</p> <pre><code>fn main() {\n    let x = vec![1,2,3];\n    let is_eq_to_x = move |z| {z==x};\n    // \u5728\u8fd9\u91cc\u5c31\u4e0d\u80fd\u4f7f\u7528\u53d8\u91cf x \u4e86\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#_21","title":"\u8fed\u4ee3\u5668","text":"<pre><code>let v = vec![1,2,3];\nlet v_iter = v.iter();\n\n// \u904d\u5386\nfor val in v_iter {}\n// \u624b\u52a8\u62ff\u4e0b\u4e00\u4e2a\u503c\uff0c\u53ef\u80fd\u4e3a None\nlet val = v_iter.next(); // \u9700\u8981 &lt;mut&gt; v_iter\u3001\u4f1a\u6539\u53d8\u5176\u4e2d\u7684\u4e0b\u6807\u4fe1\u606f\n</code></pre> <ul> <li> <p><code>iter()</code> \u65b9\u6cd5\u521b\u5efa\u4e86\u5143\u7d20\u7684 \u4e0d\u53ef\u53d8\u5f15\u7528</p> <ul> <li><code>into_iter()</code> \u521b\u5efa\u7684\u8fed\u4ee3\u5668\u5c06\u83b7\u5f97\u5143\u7d20\u7684\u6240\u6709\u6743</li> <li><code>iter_mut()</code>  \u5c06\u521b\u5efa\u5143\u7d20\u7684 \u53ef\u53d8\u5f15\u7528</li> </ul> </li> <li> <p>\u8fed\u4ee3\u5668\u9002\u914d\u5668\uff1a\u7528\u4e8e\u8fed\u4ee3\u5668\u7684\u7c7b\u578b\u8f6c\u6362\u3001\u53ef\u4ee5\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\u8fdb\u884c\u4e00\u4e9b\u9a9a\u64cd\u4f5c</p> <pre><code>let v = vec![1,2,3];\n// Rust \u7684\u8fed\u4ee3\u5668\u662f lazy \u7684\uff0c\u4e0d\u8c03\u7528\u6d88\u8017\u6027\u65b9\u6cd5\u5c31\u5565\u4e5f\u4e0d\u5e72\n// \u6240\u4ee5\u8fd9\u8fb9\u8981\u624b\u52a8\u5957\u4e00\u4e2a collect \u8ba9\u5b83\u5e72\u6d3b\nlet v1: Vec&lt;_&gt; = v.iter().map(|x| x+1).collect();\n\n// \u8fd9\u8fb9\u9700\u8981\u7528 into_iter \u62ff\u5230\u6240\u6709\u6743\nfn shoes_in_my_size(shoes: Vec&lt;u32&gt;, my_size: u32) -&gt; Vec&lt;u32&gt; {\n    shoes.into_iter().filter(|size| size==my_size).collect();\n}\n\n// \u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u8df3\u8fc7\u5f00\u5934\u7684 N \u4e2a\u5143\u7d20\nlet iter = v.iter().skip(N);\n</code></pre> </li> <li> <p>\u6240\u6709\u8fed\u4ee3\u5668\u90fd\u5b9e\u73b0\u4e86 Iterator trait</p> <pre><code>pub trait Iterator {\n    type Item; // \u5b9e\u9645\u4f7f\u7528\u7684\u6570\u636e\u7c7b\u578b\n    fn next(&amp;mut self) =&gt; Option&lt;Self::Item&gt;;\n}\n</code></pre> \u521b\u5efa\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668<pre><code>//  [1\uff5e5] \u7684\u8ba1\u6570\u5668\nstruct Counter {\n    count: u32,\n}\nimpl Counter {\n    fn new() =&gt; Counter {\n        Counter { count: 0 }\n    }\n}\nimpl Iterator for Counter {\n    type Item = u32;\n    fn next(&amp;mut self) -&gt; Option&lt;Slef::Item&gt; {\n        if self.count &lt; 5 {\n            self.count += 1;\n            Some(Self.count)\n        } else {\n            None\n        }\n    }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#9","title":"9 \u667a\u80fd\u6307\u9488","text":"<ul> <li> <p>\"\u667a\u80fd\u6307\u9488\" \u6dfb\u52a0\u4e86\u989d\u5916\u7684 MetaData \u548c\u529f\u80fd\uff0c\u901a\u5e38\u901a\u8fc7 Struct \u5b9e\u73b0</p> <p>\"\u5f15\u7528\" \u901a\u5e38\u53ea\u80fd\u501f\u7528\u6570\u636e\uff0c\u800c \"\u667a\u80fd\u6307\u9488\" \u5728\u591a\u6570\u60c5\u51b5\u4e0b\u90fd \u6301\u6709 \u5176\u6307\u5411\u7684\u6570\u636e</p> <ul> <li> <p>\u5747\u5b9e\u73b0 Deref &amp; Drop Trait</p> </li> <li> <p>Defref Trait: \u81ea\u5b9a\u4e49 \u89e3\u5f15\u7528\u8fd0\u7b97\u7b26<code>*</code> \u7684\u884c\u4e3a</p> <p>\u5728\u5b9e\u53c2\uff08\u5f15\u7528\u7c7b\u578b\uff09\u4e0e\u5b9e\u53c2\u4e0d\u5339\u914d\u65f6\uff0c\u8fde\u7eed\u8c03\u7528 Deref \u5b9e\u73b0\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362</p> <pre><code>let x = 5;\nlet y = Box::new(x); //  y = &amp;x\nassert_eq!(5, *y);   // *y = *(y.deref()) = x  \n</code></pre> </li> <li> <p>Drop Trait\uff1atrait \u4e2d\u5b9e\u73b0\u7684 <code>drop()</code> \u65e0\u6cd5\u624b\u52a8\u89e6\u53d1\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 <code>std::mem::drop</code> \u63d0\u524d\u8fdb\u884c\u6e05\u7406</p> </li> </ul> </li> </ul>"},{"location":"Nulling/Rust/2_base/#boxt","title":"<code>Box&lt;T&gt;</code>","text":"<ul> <li>\u5728 Heap \u4e0a\u5b58\u50a8\u6570\u636e\u3001Stack \u4e0a\u4ec5\u5b58\u653e\u6307\u5411 Heap \u7684\u6307\u9488</li> <li> <p>\u5e94\u7528\u573a\u666f</p> <ul> <li>\u89e3\u51b3\u9012\u5f52\u7c7b\u578b\uff08\u94fe\u8868\uff09\u5728\u7f16\u8bd1\u65f6\u65e0\u6cd5\u786e\u8ba4\u5b9e\u9645\u5927\u5c0f\u7684\u95ee\u9898</li> <li>\u5728\u7f16\u8bd1\u65f6\u65e0\u6cd5\u786e\u8ba4\u5927\u5c0f\uff0c\u4f46\u5728\u4f7f\u7528\u65f6\u9700\u8981\u77e5\u9053\u5176\u786e\u5207\u503c</li> <li>\u9700\u8981\u79fb\u4ea4\u5927\u91cf\u6570\u636e\u7684\u6240\u6709\u6743\uff0c\u5207\u786e\u4fdd\u64cd\u4f5c\u65f6\u4e0d\u4f1a \u590d\u5236\u6570\u636e</li> <li>\u4f7f\u7528\u503c\u65f6\uff0c\u4ec5\u5173\u6ce8\u5176\u5b9e\u73b0\u7684 trait\u3001\u4e0d\u5173\u6ce8\u5177\u4f53\u7c7b\u578b</li> </ul> \u521b\u5efa\u4e00\u4e2a 1-&gt;2-&gt;3-&gt;Nil \u7684\u94fe\u8868<pre><code>enum List {\n    Cons(i32, Box&lt;List&gt;),\n    Nil,\n}\n\nlet l = Cons(1,\n    Box::new(Cons(2, \n    Box::new(Cons(3, \n    Box::new(Nil))))));\n</code></pre> </li> <li> <p>\u624b\u52a8\u5b9e\u73b0\u4e00\u4e0b <code>Box&lt;T&gt;</code></p> <pre><code>use std::ops::Deref;\n\nstruct MyBox&lt;T&gt;(T); // \u5b9a\u4e49\u4e86\u4e00\u4e2a tuple struct\nimpl&lt;T&gt; MyBox&lt;T&gt; {\n    fn new(x: T) -&gt; MyBox&lt;T&gt; {\n        MyBox(x)\n    }\n}\nimpl&lt;T&gt; Deref for MyBox&lt;T&gt; {\n    type Target = T;\n    fn deref(&amp;self) -&gt; &amp;T { &amp;self.0 }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#rct","title":"<code>Rc&lt;T&gt;</code>","text":"<ul> <li> <p>\u4ec5\u7528\u4e8e \u5355\u7ebf\u7a0b \u573a\u666f\uff0c\u63d0\u4f9b \u4e0d\u53ef\u53d8\u5f15\u7528</p> </li> <li> <p>\u901a\u8fc7\u8bb0\u5f55\u6240\u6709\u8005\u6570\u91cf\uff0c\u5141\u8bb8\u4e00\u4efd\u6570\u636e\u88ab\u591a\u4e2a\u6240\u6709\u8005\u540c\u65f6\u6301\u6709\u3001\u5e76\u81ea\u52a8\u8fdb\u884c\u6e05\u7406</p> </li> <li> <p>\u573a\u666f</p> <p>\u9700\u8981\u5728 heap \u4e0a\u5206\u914d\u88ab\u7a0b\u5e8f\u7684\u591a\u4e2a\u90e8\u5206 \u53ea\u8bfb\u8bbf\u95ee \u7684\u6570\u636e\uff0c\u4e14\u5728\u7f16\u8bd1\u65f6 \u65e0\u6cd5\u786e\u5b9a \u54ea\u4e00\u90e8\u5206\u6700\u540e\u8fdb\u884c\u4f7f\u7528</p> <p>\u53ef\u4ee5\u786e\u5b9a\u6700\u540e\u4f7f\u7528\u8005\u65f6\uff0c\u5c06\u6240\u6709\u8005\u5206\u914d\u7ed9\u6700\u540e\u6301\u6709\u7684\u90e8\u5206\u5c31\u597d\u4e86</p> </li> </ul> <pre><code>Rc::clone(&amp;a);        // \u589e\u52a0\u5f15\u7528\u8ba1\u6570\uff0c\u8fd4\u56de Rc&lt;T&gt;\u3001strong_count ++\nRc::strong_count(&amp;a); // \u8bfb\u53d6\u5f15\u7528\u8ba1\u6570\uff0c\u4ec5\u5f53 strong_count == 0 \u65f6\u6e05\u7406\n\n// \u89e3\u51b3\u5faa\u73af\u5f15\u7528\uff1astrong_cnt == 0 \u65f6\uff0cWeak&lt;T&gt; \u81ea\u52a8\u65ad\u5f00\uff08\u65e0\u8bba weak_cnt ?= 0\uff09\nRc::downgrade(&amp;a);    // \u8fd4\u56de Weak&lt;T&gt;\u3001weak_count ++\n// \u56e0\u6b64\uff0cWeak&lt;T&gt; \u53ef\u80fd\u6307\u5411\u5df2\u7ecf\u88ab\u6e05\u7406\u7684\u503c\u3001\u9700\u8981\u624b\u52a8\u68c0\u67e5\nWeak&lt;T&gt;.upgrade =&gt; Option&lt;Rc&lt;T&gt;&gt;\n</code></pre> <ul> <li> <p>Sample</p> <p>\u4e24\u4e2a linked list \u5b58\u5728\u5171\u4eab\u7247\u6bb5<pre><code>3 \u2198\n    5 -&gt; 10 -&gt; Nil\n4 \u2197\n</code></pre> <pre><code>use std::rc::Rc;\n// \u8282\u70b9\u7c7b\u578b\nenum List { Cons(i32, Rc&lt;List&gt;), Nil }\n// \u521b\u5efa\u5171\u4eab\u90e8\u5206\nlet shared = Rc::new(Cons(5,\n    Rc::new(Cons(10,\n        Rc::new(Nil)))));\n// l1, l2 \u4e0d\u4f1a\u6301\u6709 shared \u7684\u6240\u6709\u6743\nlet l1 = Cons(3, Rc::clone(&amp;shared));\nlet l2 = Cons(4, Rc::clone(&amp;shared));\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Rust/2_base/#refcellt","title":"<code>RefCell&lt;T&gt;</code>","text":"<ul> <li>\u5305\u542b <code>Ref&lt;T&gt; &amp; RefMut&lt;T&gt;</code>\uff0c\u4ec5\u5728 \u8fd0\u884c\u65f6 \u68c0\u67e5\u501f\u7528\u89c4\u5219</li> <li> <p>\u7528\u4e8e \u5355\u7ebf\u7a0b \u573a\u666f\uff0c\u540c\u65f6\u652f\u6301 \u53ef\u53d8\u3001\u4e0d\u53ef\u53d8 \u501f\u7528</p> <pre><code>borrow()     // \u8fd4\u56de\u4e0d\u53ef\u53d8\u5f15\u7528 Ref&lt;T&gt;\nborrow_mut() // \u8fd4\u56de\u53ef\u53d8\u5f15\u7528 RefMut&lt;T&gt;\n</code></pre> <p>\u53ef\u4ee5\u7528 <code>Rc&lt;RefCell&lt;T&gt;&gt;</code> \u5957\u5a03\uff0c\u5b9e\u73b0\u591a\u4e2a\u6240\u6709\u8005\u7684\u53ef\u53d8\u501f\u7528</p> </li> <li> <p>\u5185\u90e8\u53ef\u53d8\u6027\uff1a\u65b9\u6cd5\u5185\u53ef\u53d8\u3001\u65b9\u6cd5\u5916\u4e0d\u53ef\u53d8</p> <pre><code>pub trait Messenger {\n    fn send(&amp;self, msg: &amp;str); // \u63a5\u53e3\u5b9a\u4e49\u7684 self \u4e0d\u53ef\u53d8\n}\n\nuse std::cell:RefCell;\nstruct MockMessenger {\n    sent_messages: RefCell&lt;Vec&lt;String&gt;&gt;&gt;,\n}\nimpl MockMessenger {\n    fn new() =&gt; MockMessenger {\n        MockMessenger { \n            sent_messages: RefCell::new(vec![]), \n        }\n    }\n}\nimpl Messenger for MockMessenger {\n    fn send(&amp;mut self, msg &amp;str) {\n        self.sent_messages.borrow_mut() // \u83b7\u5f97\u53ef\u53d8\u5f15\u7528\n            .push(String::from(msg));\n    }\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#10-oop","title":"10 OOP","text":"<p>\u5176\u5b9e Rust \u4e0d\u662f\u5f88 OOP\uff0c\u5b83\u6ca1\u6709 \u201c\u7ee7\u627f\u201d\u3001\u53ea\u80fd\u901a\u8fc7 trait \u5b9e\u73b0\u4ee3\u7801\u590d\u7528 </p> <ul> <li> <p>Sample</p> \u4e3a\u4e00\u7ec4\u4e0d\u540c\u7684 component \u8c03\u7528 draw()<pre><code>// \u6240\u6709\u7684 Component \u90fd\u5fc5\u987b\u5b9e\u73b0 Draw Trait\npub trait Draw { fn draw(&amp;self); }\n\n// Screen \u7528\u4e8e\u5b58\u50a8\u6240\u6709\u7684 Components\uff0c\u5e76\u4f9d\u6b21\u8c03\u7528 Draw \u65b9\u6cd5\npub struct Screen {\n    pub components: Vec&lt;Box&lt;dyn Draw&gt;&gt;,\n}\nimpl Screen {\n    pub fn run(&amp;self) { for comp in self.components.iter() { comp.draw(); } }\n}\n\n// \u4e00\u4e9b\u5b9e\u73b0\u4e86 Draw Trait \u7684 struct\nsturct Button {}    // impl Draw for Button {}\nstruct SelectBox {} // impl Draw for SelectBox {}\n\nlet screen = Screen { components: vec![\n    Box::new(SelectBox {}),\n    Box::new(Button {}),\n]};\nscreen.run();\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/2_base/#state-pattern","title":"State Pattern","text":"<p>\u6bcf\u4e2a\u5b9e\u4f8b\u7531\u6570\u4e2a\u5185\u90e8\u72b6\u6001\u5bf9\u8c61\uff08State Object\uff09\u6784\u6210\uff0c\u5176\u8868\u73b0\u884c\u4e3a\u968f\u5185\u90e8\u72b6\u6001\u6539\u53d8\u53d1\u751f\u53d8\u5316</p> <ul> <li> <p>\u793a\u4f8b</p> <ul> <li><code>Post</code> \u5171\u6709\u4e09\u79cd\u72b6\u6001\uff08\u8349\u7a3f\u3001\u7b49\u5f85\u5ba1\u6279\u3001\u5ba1\u6279\u901a\u8fc7\uff09</li> <li><code>post.content()</code> \u4ec5\u5c55\u793a \u5ba1\u6279\u901a\u8fc7 \u7684\u6587\u672c\u5185\u5bb9</li> </ul> <pre><code>// State Trait \u8981\u6c42\u5b9e\u73b0\uff1a\u8bf7\u6c42\u5ba1\u6279\u3001\u5ba1\u6279\u901a\u8fc7 \u4e24\u4e2a\u529f\u80fd\ntrait State {\n    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;\n    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;\n}\nstruct Draft, PendingReview, Published {} // impl State\n\npub struct Post {\n    state: Options&lt;Box&lt;dyn State&gt;&gt;,\n    content: String,\n}\nimpl Post {\n    pub fn new() -&gt; Post {\n        state: Some(Box::new(Draft {})), // init State = Draft\n        content: String::new(),\n    }\n    pub fn add_text(&amp;mut self, text: &amp;str) {\n        self.content.push_str(text);\n    }\n\n    \"\"\"\n    \u4e2a\u4eba\u611f\u5b9e\u73b0\u8d77\u6765\u6709\u70b9\u62bd\u8c61\u7684\n    - Post \u53ef\u4ee5\u4e0d care \u5177\u4f53\u7684 state \u79cd\u7c7b\uff0c\u4e00\u80a1\u8111\u8c03 req / approv \u5c31\u597d\n    - \u4f46\u6240\u6709\u7684 State \u8981\u5bf9 req / approv \u505a\u4e0d\u540c\u7684\u5b9e\u73b0\u4e86\n    - \u72b6\u6001\u76f8\u4e92\u8026\u5408\u7684\u65f6\u5019\u5c31 ... \u4e00\u8a00\u96be\u5c3d\n    \"\"\"\n    pub fn request_review(&amp;mut self) {\n        // state \u662f Option \u7c7b\u578b\u7684\uff0ctake() \u65b9\u6cd5\u5c06\u53d6\u5f97\u5176\u6240\u6709\u6743\n        if let Some(s) = self.state.take() {\n            self.state = Some(s.request_review());\n        }\n    }\n    pub fn approve(&amp;mut self) { // \u903b\u8f91\u548c request_review \u4e00\u81f4\n        if let Some(s) = self.state.take() {\n            self.state = Some(s.approve());\n        }\n    }\n    // Getter\n    pub fn content(&amp;self) -&gt; &amp;str {\n        return self.state.as_ref().unwrap().content(&amp;self);\n    }\n}\n</code></pre> </li> <li> <p>\u6539\u8fdb\uff1a\u5c06\u72b6\u6001\u7f16\u7801\u4e3a\u4e0d\u540c\u7684\u7c7b\u578b</p> <ul> <li>\u5728\u4e0a\u4e00\u4e2a\u7247\u6bb5\u4e2d\uff0c\u6bcf\u79cd State \u90fd\u5b9e\u73b0\u4e86 <code>req_review &amp; approve</code></li> <li>\u5728\u6539\u8fdb\u540e\u7684\u7247\u6bb5\u4e2d\uff0c\u53ea\u6709\u7279\u5b9a\u7684 State \u5b9e\u73b0\u4e86\u5bf9\u5e94\u7684\u529f\u80fd</li> </ul> <pre><code>// \u5b58\u50a8 **\u5ba1\u6279** \u540e\u7684\u5185\u5bb9\npub struct Post { content: String }\nimpl Post {\n    // \u521d\u59cb\u72b6\u6001 -&gt; \u81ea\u52a8\u521b\u5efa Empty Draft\n    pub fn new() -&gt; DraftPost {\n        DraftPost { content: String::new(), }\n    }\n    pub fn content(&amp;self) -&gt; &amp;str { &amp;self.content }\n}\n\npub struct DraftPost { content: Srting }\nimpl DraftPost {\n    pub fn add_text(&amp;mut self, text: &amp;str) {\n        self.content.push_str(text);\n    }\n    pub fn req_review(self) -&gt; PendingPost {\n        PendingPost { content: self.content }\n    }\n}\n\npub struct PendingPost { content: Srting }\nimpl PendingPost {\n    pub fn aprrove(self) -&gt; Post {\n        Post { content: self.content }\n    }\n}\n\nfn main() {\n    let mut post = Post::new();   // \u8fd4\u56de DraftPost\n    post.add_text(\"write sth here ...\");\n\n    let post = post.req_review(); // \u53d8\u6210 PendingPost\n    let post = post.approve();    // \u53d8\u6210 Post\uff08\u4e14\u6709\u5185\u5bb9\uff09\n}\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/3_project/","title":"\u9ad8\u7ea7\u7279\u6027\u4e0e\u9879\u76ee\u5b9e\u64cd","text":"<p> \u7ea6 2059 \u4e2a\u5b57  474 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Nulling/Rust/3_project/#1","title":"1 \u81ea\u52a8\u5316\u6d4b\u8bd5","text":"<ul> <li> <p>Test Case \u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u5305\u542b\u4ee5\u4e0b\u6b65\u9aa4\u7684 function</p> <ol> <li>\u51c6\u5907 data / status</li> <li>\u8fd0\u884c\u88ab\u6d4b\u8bd5\u7684\u4ee3\u7801\u7247\u6bb5</li> <li>\u6839\u636e\u65ad\u8a00\u9a8c\u8bc1\u7ed3\u679c</li> </ol> </li> <li> <p>Rust \u4e2d\u7684\u6d4b\u8bd5\u51fd\u6570\u9700\u8981\u8fdb\u884c <code>#[test]</code> \u6ce8\u91ca</p> <ul> <li>\u652f\u6301\u901a\u8fc7 <code>cargo test</code> \u5e76\u884c\u8fd0\u884c\u6240\u6709\u6d4b\u8bd5\u51fd\u6570<ul> <li>\u9700\u8981\u786e\u4fdd test case \u4e4b\u95f4\u4e0d\u5b58\u5728\u76f8\u4e92\u4f9d\u8d56\u3001\u4e14\u4e0d\u4f9d\u8d56\u4e8e\u5171\u4eab\u72b6\u6001</li> <li>\u652f\u6301\u901a\u8fc7 <code>--test-threads</code> \u63a7\u5236\u5e76\u53d1\u6570</li> <li>\u652f\u6301\u76f4\u63a5\u901a\u8fc7 \u51fd\u6570\u540d\uff08\u7684\u5b57\u4e32\uff09/\u6a21\u5757\u540d \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4ece\u800c\u5236\u5b9a\u6d4b\u8bd5\u5185\u5bb9</li> <li>\u652f\u6301\u4e3a\u6d4b\u8bd5\u51fd\u6570\u6dfb\u52a0 <code>#[ignore]</code> \u8fdb\u884c\u8df3\u8fc7\uff08\u4ec5\u5728 <code>cargo test -- --ignored</code> \u65f6\u8fd0\u884c\uff09</li> </ul> </li> <li>\u6bcf\u4e2a\u6d4b\u8bd5\u51fd\u6570\u4f1a\u8fd0\u884c\u5728\u4e00\u4e2a\u5355\u72ec\u7684 thread \u4e0a\uff08\u7ebf\u7a0b\u6302\u6389\u5c31\u6807\u8bb0\u4e3a fail\uff09</li> </ul> </li> <li> <p>\u65ad\u8a00</p> <ul> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\uff08\u4f1a\u548c\u6807\u51c6\u4fe1\u606f\u4e00\u8d77\u6253\u5370\uff09\u3001\u652f\u6301\u901a\u8fc7 <code>{}</code> \u8fdb\u884c\u5360\u4f4d</li> <li>\u666e\u901a\u7684 <code>assert!</code> </li> <li>\u7528\u4e8e\u6bd4\u8f83\u503c\u7684 <code>assert_eq!, assert_ne!</code>\uff1a\u5931\u8d25\u65f6\u4f1a\u8c03\u7528 <code>debug</code> \u683c\u5f0f\u6253\u5370\u5165\u53c2\uff0c\u9700\u8981\u5b9e\u73b0 PartialEq &amp; Debug</li> </ul> </li> <li> <p>\u6050\u614c\u68c0\u67e5\uff1a\u4ee3\u7801\u662f\u5426\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u5982\u9884\u671f\u4e00\u822c\u62a5 panic</p> <pre><code>#[test]\n#[should_panic] // \u7c7b\u578b\u6807\u6ce8 =&gt; \u4ec5\u5728\u62a5 panic \u65f6\u6807\u8bb0\u4e3a\u901a\u8fc7\nfn gt_100() {}\n\n// \u4e5f\u53ef\u4ee5\u901a\u8fc7 expect \u9a8c\u8bc1 panic \u4fe1\u606f\u4e2d\u662f\u5426 *\u5305\u542b* \u6307\u5b9a\u5b57\u7b26\u4e32\n#[should_panic](expect = \"less than\")\n</code></pre> </li> <li> <p>\u6d4b\u8bd5\u51fd\u6570\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>Result&lt;T,E&gt;</code> \u4f5c\u4e3a\u8fd4\u56de\u503c\u7f16\u5199\uff08\u8fd9\u6837\u5c31\u4e0d\u7528 panic \u4e86\uff09</p> <pre><code>#[test]\nfn two_plus_two() -&gt; Result&lt;(), String&gt; {\n    if 2+2 == 4 {\n        Ok(())\n    } else {\n        Err(String::from('2+2 != 4'))\n    }\n}\n</code></pre> </li> <li> <p>\u6d4b\u8bd5\u5206\u7c7b</p> <ul> <li> <p>\u5355\u5143\u6d4b\u8bd5\uff1a\u6bcf\u6b21\u5bf9\u5355\u4e00\u6a21\u5757\u8fdb\u884c\u9694\u79bb\u6d4b\u8bd5\u3001\u652f\u6301\u8c03\u7528 private \u63a5\u53e3\uff08\u4e00\u822c\u548c src \u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\uff09</p> <pre><code>pub fn f1{} // public\nfn f2{}     // private\n\n#[cfg(test)] // \u4ec5\u5728 cargo test \u65f6\u7f16\u8bd1\u8fd0\u884c\uff08cargo build \u65f6\u7701\u7565\uff09\nmod tests {\n    use super::*; // \u5f15\u5165\u4e00\u4e0b\u5f85\u6d4b\u5185\u5bb9\n    #[test]\n    fn check {}\n    fn log {}    // \u8fd9\u662f\u666e\u901a\u51fd\u6570\uff08\u5728 cargo test \u65f6\uff0c\u4e5f\u4f1a\u88ab\u7f16\u8bd1\uff09\n}\n</code></pre> </li> <li> <p>\u96c6\u6210\u6d4b\u8bd5\uff1a\u53ef\u4ee5\u540c\u65f6\u8c03\u7528\u591a\u4e2a\u6a21\u5757\u3001\u4ec5\u80fd\u8c03\u7528 public \u63a5\u53e3</p> <ul> <li> <p>\u4e00\u822c\u653e\u5728\u5355\u72ec\u7684 <code>/tests</code> \u76ee\u5f55\u4e2d\u3001\u6bcf\u4e2a\u6587\u4ef6\u90fd\u88ab\u7f16\u8bd1\u4e3a\u5355\u72ec\u7684 crate</p> <p>\u5b50\u76ee\u5f55 <code>/tests/dirName</code> \u4e0b\u7684\u6587\u4ef6\u4e0d\u4f1a\u88ab\u89c6\u4e3a\u6d4b\u8bd5\u7528\u4f8b\u3001\u4f60\u53ef\u4ee5\u5f80\u91cc\u4e22 utils</p> </li> </ul> <pre><code>// @ tests/test.rs\nuse projName; // \u88ab\u6d4b\u8bd5\u4ee3\u7801\u4e3a src/lib.rs =&gt; crate \u540d\u79f0\u5373\u4e3a prjName\n\n#[test]\nfn check_sth {}\n</code></pre> <ul> <li> <p>\u652f\u6301\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5236\u5b9a\u88ab\u8fd0\u884c\u7684\u96c6\u6210\u6d4b\u8bd5</p> <ul> <li><code>cargo test funcName</code> \u8fd0\u884c\u5355\u4e2a\u96c6\u6210\u6d4b\u8bd5</li> <li><code>cargo test --test fileName</code> \u8fd0\u884c\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u96c6\u6210\u6d4b\u8bd5</li> </ul> </li> <li> <p>binary crate\uff08\u53ea\u6709 <code>src/main.rs</code>\uff09\u4e0d\u652f\u6301 \u5728 <code>/tests</code> \u4e0b\u521b\u5efa\u96c6\u6210\u6d4b\u8bd5</p> <p>\u53ea\u6709 library crate \u624d\u80fd\u66b4\u9732\u51fd\u6570\uff08\u4f60\u65e0\u6cd5\u5c06 <code>main.rs</code> \u5bfc\u5165\u4f5c\u7528\u57df\uff09</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Rust/3_project/#2","title":"2 \u6784\u5efa\u4e0e\u53d1\u5e03","text":""},{"location":"Nulling/Rust/3_project/#_2","title":"\u81ea\u5b9a\u4e49\u6784\u5efa","text":"<ul> <li> <p>Cargo \u652f\u6301\u901a\u8fc7\u4e24\u5957\u4e0d\u540c\u7684 Profile \u81ea\u5b9a\u4e49\u5bf9\u5f00\u53d1\u548c\u53d1\u5e03\u7248\u672c\u7684\u6784\u5efa</p> <ul> <li><code>dev profile</code> \u9002\u7528\u4e8e\u5f00\u53d1\u73af\u5883\uff0c\u5bf9\u5e94\u547d\u4ee4 <code>cargo build</code></li> <li><code>release profile</code> \u9002\u7528\u4e8e\u53d1\u5e03\u73af\u5883\uff0c\u5bf9\u5e94\u547d\u4ee4 <code>cargo build --release</code></li> </ul> </li> <li> <p>\u6bcf\u4e2a profile \u90fd\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9ed8\u8ba4\u914d\u7f6e\uff0c\u53ea\u9700\u8981\u5728 <code>Cargo.toml</code> \u4e2d\u8986\u76d6\u9700\u8981\u7684\u90e8\u5206\u5c31\u53ef\u4ee5\u4e86     Cargo.toml<pre><code>[profile.dev]\nopt-level = 0\n[profile.release]\nopt-levl = 3\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Rust/3_project/#crate","title":"\u53d1\u5e03 crate","text":"<ul> <li> <p>\u6587\u6863\u6ce8\u91ca</p> <ul> <li>\u7528\u4e8e\u751f\u6210 API \u7684 HTML \u6587\u6863\uff0c\u652f\u6301\u4f7f\u7528 Markdown \u8bed\u6cd5</li> <li>\u5e38\u7528 section<ul> <li>Examples\uff1a\u4ee3\u7801\u7528\u4f8b\uff08\u5728 <code>cargo test</code> \u4e2d\u5c06\u4f5c\u4e3a\u5355\u5143\u6d4b\u8bd5\u88ab\u6267\u884c\uff09</li> <li>Panics\uff1a\u53ef\u80fd\u62a5 Panic \u7684\u573a\u666f</li> <li>Errors\uff1a\u5728\u8fd4\u56de Result \u65f6\uff0c\u53ef\u80fd\u8fd4\u56de\u7684\u9519\u8bef\u79cd\u7c7b\u53ca\u5176\u89e6\u53d1\u6761\u4ef6</li> </ul> </li> <li>\u76f8\u5173\u547d\u4ee4\uff1a<ul> <li><code>cargo doc</code>\uff1a\u81ea\u52a8\u8c03\u7528 <code>rustdoc</code> \u751f\u6210\u6587\u6863\uff0c\u7ed3\u679c\u4f4d\u4e8e <code>target/doc</code> \u8def\u5f84\u4e0b</li> <li><code>cargo doc --open</code>\uff1a\u81ea\u52a8\u6784\u5efa\u6587\u6863\uff0c\u5e76\u5728\u9ed8\u8ba4\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00</li> </ul> </li> </ul> <pre><code>/// Add 1 to the given number\n/// \n/// ## Examples\n/// ```\n/// let arg = 5;\n/// let ans = my_crate::add_one(arg);\n/// assert_eq!(ans, 6);\n/// ```\npub fn add_one(x: i32) -&gt; i32 { x+1 }\n</code></pre> </li> <li> <p>\u63cf\u8ff0 \uff08\u5916\u5c42\uff09crate \u6216 \u6a21\u5757\uff1a\u901a\u5e38\u4f4d\u4e8e crate \u7684 root \u6587\u4ef6\u4e2d</p> lib.rs<pre><code>//! # MyCrate\n//!\n//! `my_crate` is a collection of utilities ...\n</code></pre> </li> <li> <p>\u53d1\u5e03\u524d\u5f97\u53bb crates.io \u6ce8\u518c\uff0c\u5e76\u62ff\u5230 token  </p> <ul> <li> <p>\u8fd0\u884c <code>cargo login [API token]</code> \u5c06 token \u5b58\u50a8\u5230\u672c\u5730\uff08<code>~/.cargo/credentials</code>\uff09</p> </li> <li> <p>\u5728 <code>Cargo.toml</code> \u4e2d\u6dfb\u52a0\u5fc5\u8981\u7684 meta data</p> <ul> <li><code>name</code>\uff1a\u5fc5\u987b\u662f\u975e\u91cd\u590d\u7684</li> <li><code>license</code>\uff1a\u5f00\u6e90\u8bb8\u53ef\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u7528 OR \u5206\u9694</li> <li><code>description</code>, <code>version</code>, <code>author</code></li> </ul> </li> <li> <p>\u8fd0\u884c <code>cargo publish</code> \u547d\u4ee4\u8fdb\u884c\u53d1\u5e03\uff08\u8be5\u7248\u672c\u65e0\u6cd5\u88ab\u8986\u76d6\u6216\u5220\u9664\uff09</p> </li> <li>\u8fd0\u884c <code>cargo yank --vers [Verson]</code> \u64a4\u56de\u7248\u672c<ul> <li>\u5df2\u5b58\u5728\u9879\u76ee\u53ef\u4ee5 \u7ee7\u7eed\u4e0b\u8f7d \u8be5\u7248\u672c\u4f9d\u8d56\uff0c\u5e76\u6b63\u5e38\u5de5\u4f5c</li> <li>\u65b0\u9879\u76ee\u5c06 \u4e0d\u4f1a\u4f7f\u7528 \u88ab yank \u7684\u7248\u672c</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>cargo yank --vers [Verson] --undo</code> \u53d6\u6d88\u64a4\u56de</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Rust/3_project/#api","title":"\u5bfc\u51fa\u516c\u5171 API","text":"<ul> <li> <p>\u5f00\u53d1\u8005\u53ef\u80fd\u628a\u7a0b\u5e8f\u62c6\u6210\u5f88\u591a\u5c42\uff0c\u4f46\u8fd9\u5bf9\u4f7f\u7528\u8005\u4e0d\u592a\u53cb\u597d\uff0cbelike\uff1a</p> <pre><code>use my_crate::some_module::some_sub_module::useful_method;\n</code></pre> </li> <li> <p><code>pub use</code> \u53ef\u4ee5\u5c06\u9879\u76ee\u91cd\u65b0\u5bfc\u51fa\u4e3a\u66f4\u52a0\u5408\u7406\u7684\u7ed3\u6784</p> @/some_module/some_sub/module.rs<pre><code>pub use self::kinds::useful_method;\npub mod kinds {\n    pub enum useful_method {}\n}\n</code></pre> @main.rs<pre><code>use my_crate::useful_method; // \u662f\u4e0d\u662f\u5f88\u5408\u7406\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/3_project/#3-workspaces","title":"3 WorkSpaces","text":"<p>\u4f60\u5fc5\u987b\u624b\u52a8\u9010\u4e2a\u53d1\u5e03\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u7684 Crate</p> <ul> <li> <p>Workspace \u6307 \u4e00\u5957\u5171\u4eab\u76f8\u540c <code>Cargo.lock</code> + \u8f93\u51fa\u6587\u4ef6\u5939\uff08<code>/target</code>\uff09 \u7684\u5305</p> <ul> <li>\u6574\u4e2a\u5de5\u4f5c\u7a7a\u95f4\u53ea\u6709\u4e00\u4e2a\u5728 \u6839\u8def\u5f84 \u4e0b\u7684 <code>Cargo.lock</code> \u6587\u4ef6\uff0c\u4fdd\u8bc1\u6240\u6709 crate \u5b9e\u9645\u4f7f\u7528\u7684\u4f9d\u8d56\u7248\u672c \u4e00\u81f4</li> <li>\u5373\u4fbf\u5728\u5b50\u8def\u5f84\u4e2d\u58f0\u660e\u4e86\u4e0d\u540c\u7248\u672c\u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u4e5f\u80fd\u4fdd\u8bc1\u4e92\u76f8\u517c\u5bb9</li> </ul> </li> <li> <p>\u521b\u5efa workspace</p> <p>\u5047\u8bbe\u6211\u4eec\u6709 1 \\(\\times\\) \"\u4e8c\u8fdb\u5236\" crate + 2 \\(\\times\\) \"\u5e93\" crate</p> <ol> <li> <p>\u5728 <code>Cargo.toml</code> \u4e2d\u914d\u7f6e\u5de5\u4f5c\u7a7a\u95f4\u7684\u76f8\u5173\u4fe1\u606f</p> <p><pre><code>[workspace]\n# \u6dfb\u52a0\u6210\u5458\nmembers = [\n    \"adder\",   # \u9700\u8981\u901a\u8fc7 cargo new adder \u521b\u5efa\u76f8\u5173\u8def\u5f84\n    \"plus-one\",\n]\n</code></pre>     2. \u663e\u5f0f\u58f0\u660e\u4f9d\u8d56\u5173\u7cfb</p> <p>adder/Cargo.toml<pre><code>...\n[dependencies]\nplus-one = { path = \"../plus-one\" }\nrand = \"0.3.23\" # \u7b2c\u4e09\u65b9\u4f9d\u8d56\n</code></pre>     3. \u8c03\u7528\u4f9d\u8d56\u6a21\u5757 adder/main.rs<pre><code>use plus-one;\n\nfn main() {\n    let num = 10;\n    println!(\"{} + 1 = {}\", num, plus-one::calc(num));\n}\n</code></pre>     4. \u8fd0\u884c\u6307\u5b9a\u6a21\u5757 <pre><code>cargo build        # \u751f\u6210 Cargo.lock &amp; /target\ncargo run -p adder # \u6307\u5b9a\u8fd0\u884c adder \u6a21\u5757\n</code></pre></p> </li> </ol> </li> <li> <p>\u5de5\u4f5c\u7a7a\u95f4\u6d4b\u8bd5</p> <p><code>cargo test</code> \u5c06\u4e00\u6b21\u6027\u8fd0\u884c\u6240\u6709\u6a21\u5757\u4e2d\u7684\u6d4b\u8bd5\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>-p [module]</code> \u6307\u5b9a\u7279\u5b9a\u6a21\u5757</p> </li> </ul>"},{"location":"Nulling/Rust/3_project/#4","title":"4 \u5e76\u53d1","text":"<ul> <li> <p>Rust \u6807\u51c6\u5e93\u4ec5\u63d0\u4f9b\u5bf9 1:1 \u7ebf\u7a0b\u6a21\u578b\u7684\u652f\u6301</p> </li> <li> <p>\u521b\u5efa\u7ebf\u7a0b</p> <ul> <li>\u53c2\u6570\uff1aClosure\uff0c\u5f53\u524d\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570</li> <li>\u8fd4\u56de\u503c\uff1a<code>JoinHandle</code> \uff0c\u6301\u6709\u6240\u6709\u6743</li> </ul> <pre><code>let handle = thread::spawn(|| {\n    for i in 1..10 {\n        println!(\"{}\", i);\n        thread::sleep(Duration::from_millis(1));\n    }\n});\n\n// do sth. @main thread\n\nhandle.join().unwrap(); // \u4f1a\u963b\u585e *\u5f53\u524d\u7ebf\u7a0b*\u3001\u76f4\u81f3\u88ab join \u7684\u7ebf\u7a0b\u7ed3\u675f\n</code></pre> </li> <li> <p>\u4f7f\u7528\u5176\u4ed6\u7ebf\u7a0b\u7684\u6570\u636e</p> \u901a\u8fc7 move \u8f6c\u79fb\u503c\u7684\u6240\u6709\u6743<pre><code>let v = vec![1,2,3]; // \u6240\u6709\u6743 @main\n\n// \u901a\u8fc7 move \u6765\u83b7\u5f97 v \u7684\u6240\u6709\u6743\nlet handle = thread::spawn(move || {\n    println!(\"vec = {}\", v);\n});\n\n// drop(v); // \u26a0\ufe0f \u6240\u6709\u6743\u5df2\u7ecf\u8f6c\u79fb\u7ed9 handle \u7ebf\u7a0b\u4e86\n\nhandle.join().unwrap();\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/3_project/#_3","title":"\u6d88\u606f\u4f20\u9012","text":"<ul> <li> <p>\u5f53 Channel \u6536\u53d1\u7684\u4efb\u610f\u7aef\u88ab\u4e22\u5f03\u65f6\uff0cChannel \u5173\u95ed</p> </li> <li> <p>\u521b\u5efa Channel</p> <ul> <li>MPSC \u652f\u6301 Mutile Producer + Single Consumer</li> <li><code>mpsc::channel</code> \u8fd4\u56de <code>(Sender, Recver)</code></li> </ul> <pre><code>use std::sync::mpsc;\n\nlet (tx1, rx) = mpsc::channel();\nlet tx2 = mpsc::Sender::clone(&amp;tx1); // \u514b\u9686\u4e00\u4e2a Sender\uff0c\u5b9e\u73b0 Multiple Producer\nthread::spawn(move || {\n    let msg = String::from(\"Hi~\");\n    tx1.send(msg).unwrap(); // msg \u7684\u6240\u6709\u6743\u5df2\u7ecf\u8f6c\u79fb\n}) \n\n// recv() \u4f1a *\u963b\u585e* \u7ebf\u7a0b\u3001\u76f4\u81f3\u6709\u6d88\u606f\u4f20\u5165\n// try_recv() \u4f1a *\u7acb\u5373\u8fd4\u56de* Result&lt;T,E&gt;\u3001\u4ec5\u5f53\u8fd4\u56de Ok \u65f6\u6b63\u5e38\u8bfb\u53d6\u6570\u636e\nlet recvMsg = rx.recv().unwrap();\nprintln!(\"Gor: {}\", recvMsg);\n\n// \u6536\u5230\u591a\u6761\u6d88\u606f\u65f6\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e0b\u5217\u4ee3\u7801\u8fdb\u884c\u904d\u5386\nfor recvMsg in rx { }\n</code></pre> </li> <li> <p>\u57fa\u4e8e\u4e92\u65a5\u9501\u5171\u4eab\u5185\u5b58</p> <ul> <li><code>Arc&lt;T&gt;</code> \u7c7b\u4f3c\u4e8e <code>Rc&lt;T&gt;</code>\uff0c\u4f46\u5b9e\u73b0\u4e86 \u539f\u5b50\u5f15\u7528\u8ba1\u6570\uff0c\u53ef\u4ee5\u7528\u4e8e\u5e76\u53d1\u573a\u666f</li> </ul> <pre><code>use std::sync::{Mutex, Arc};\n\nlet counter = Arc::new(Mutex::new(0)); // \u521b\u5efa\u88ab\u4fdd\u62a4\u7684\u6570\u636e\nlet mut handles = vec![];\n\nfor _ in 0..10 {\n    let counter = Arc::clone(&amp;counter);\n    let handle = thread::spawn(move || {\n        let mut num = counter.lock().unwrap(); // \u83b7\u53d6\u4e92\u65a5\u9501\n        *num += 1;\n    })\n    handles.push(handle);\n}\n\nfor handle in handles {\n    handle.join().unwrap();\n}\n\nprintln!(\"Res: {}\", *counter.lock().unwrap());\n</code></pre> </li> </ul>"},{"location":"Nulling/Rust/3_project/#5","title":"5 \u9ad8\u7ea7\u7279\u6027","text":""},{"location":"Nulling/Rust/3_project/#unsafe","title":"Unsafe","text":"<ul> <li>Unsafe Rust \u4e0d\u5f3a\u5236\u4fdd\u8bc1\u5185\u5b58\u5b89\u5168\uff0c\u901a\u8fc7 <code>unsafe</code> \u5173\u952e\u5b57\u8fdb\u884c\u5207\u6362</li> <li> <p>Unsafe Mode \u652f\u6301\u6267\u884c\u4ee5\u4e0b 4 \u7c7b\u64cd\u4f5c</p> <ol> <li> <p>\u89e3\u5f15\u7528\u539f\u59cb\u6307\u9488</p> <ul> <li>\u53ef\u4ee5\u5728 unsafe block \u5916\u521b\u5efa\uff0c\u4f46\u53ea\u80fd\u5728 unsafe block \u5185\u89e3\u5f15\u7528</li> <li>\u5305\u542b\u53ef\u53d8\u7684 <code>*mut T</code> &amp; \u4e0d\u53ef\u53d8\u7684 <code>*const T</code>\uff0c\u6b64\u5904\u7684 <code>*</code> \u662f\u7c7b\u578b\u540d\u7684\u4e00\u90e8\u5206</li> <li>\u652f\u6301\u4e00\u4efd\u6570\u636e\u540c\u65f6\u62e5\u6709 \u53ef\u53d8+\u4e0d\u53ef\u53d8 \u6307\u9488\uff0c\u6216\u540c\u65f6\u62e5\u6709 \u591a\u4e2a\u53ef\u53d8\u6307\u9488</li> <li>\u65e0\u6cd5\u4fdd\u8bc1\u6307\u5411\u7684\u5185\u5b58\u5408\u7406\uff08\u5141\u8bb8\u4e3a Null\uff09\u3001\u4e0d\u5b9e\u73b0\u81ea\u52a8\u6e05\u7406</li> </ul> <pre><code>// \u540c\u65f6\u521b\u5efa \u53ef\u53d8&amp;\u4e0d\u53ef\u53d8 \u6307\u9488\nlet mut num = 5;\nlet ptr1 = &amp;num as *const i32;\nlet ptr2 = &amp;mut num as *mut i32;\n// \u521b\u5efa\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u5408\u7406\u6027\u4f4d\u7f6e\u7684\u539f\u59cb\u6307\u9488\nlet addr =0x012345usize;\nlet ptr = addr as *const i32;\n\nunsafe {\n    println!(\"ptr1 = {}\", *ptr1);\n    println!(\"ptr = {}\",  *ptr); // \u7f16\u8bd1\u4e0d\u62a5\u9519\uff0c\u8fd0\u884c\u65f6\u53ef\u80fd panic\n}\n</code></pre> </li> <li> <p>\u8c03\u7528\u5177\u6709 unsafe \u5173\u952e\u5b57\u7684\u51fd\u6570\u548c\u65b9\u6cd5</p> </li> <li> <p>\u8bbf\u95ee\u3001\u4fee\u6539 \u53ef\u53d8\u9759\u6001\u53d8\u91cf</p> <ul> <li>\u5168\u5c40/\u9759\u6001\u53d8\u91cf\uff08static\uff09<ul> <li>\u58f0\u660e\u65f6\u9700\u6807\u6ce8\u7c7b\u578b\uff0c\u547d\u540d\u9075\u5faa Screaming_Snake_Case</li> <li>\u4ec5\u652f\u6301 <code>'static</code> \u58f0\u660e\u5468\u671f\u7684\u5f15\u7528\uff08\u65e0\u9700\u663e\u5f0f\u6807\u6ce8\uff09</li> <li>\u5177\u6709 \u56fa\u5b9a\u5185\u5b58\u5730\u5740\uff0c\u8bbf\u95ee\u65f6 \u603b\u80fd\u5f97\u5230\u76f8\u540c\u6570\u636e</li> <li>\u652f\u6301 \u53ef\u53d8\uff0c\u4f46\u5bf9\u53ef\u53d8\u5168\u5c40\u53d8\u91cf\u8fdb\u884c \u8bbf\u95ee/\u4fee\u6539 \u7684\u64cd\u4f5c\u662f unsafe \u7684</li> </ul> </li> </ul> <pre><code>static &amp;mut COUNTER: u32 = 0;\nfn inc_counter(inc: u32) {\n    unsafe { COUTE += inc; }\n}\nunsafe { println!(\"counter = {}\", COUNTER); }\n</code></pre> </li> <li> <p>\u5b9e\u73b0 Unsafe Trait</p> <pre><code>unsafe trait Foo {}\nunsafe impl Foo for i32 {}\n</code></pre> </li> </ol> </li> <li> <p>\u4e3a unsafe \u4ee3\u7801\u521b\u5efa\u5b89\u5168\u62bd\u8c61</p> \u4e0d\u9700\u8981\u5c06\u5305\u542b unsafe block \u7684\u51fd\u6570\u6807\u8bb0\u4e3a unsafe<pre><code>\"\"\"\u5728\u6307\u5b9a\u4f4d\u7f6e\u5207\u5272\u6570\u7ec4\"\"\"\nfn split_at_mut(slice: &amp;mut [i32], mid: usize) =&gt; (&amp;mut [i32], &amp;mut [i32]) {\n    let len = slice.len(); assert!(mid &lt;= len);\n    let ptr = slice.as_mut_ptr();\n    unsafe {\n        (\n            slice::from_raw_parts_mut(ptr, mid), // \u8d77\u59cb\u4f4d\u7f6e ptr + length\n            slice::from_raw_parts_mut(ptr.add(mid), len-mid),\n        )\n    }\n}\n</code></pre> </li> <li> <p><code>extern</code></p> <ul> <li> <p>\u8c03\u7528\u5916\u90e8\u4ee3\u7801\uff08\u6bd4\u5982\u8bf4 C \u8bed\u8a00\u7f16\u5199\u7684\uff09</p> <p>\u6240\u6709\u7684 <code>extern</code> \u51fd\u6570\u90fd\u662f unsafe \u7684 =&gt; Rust \u7f16\u8bd1\u5668\u65e0\u6cd5\u68c0\u67e5\u5176\u5b89\u5168\u6027</p> <p><pre><code>// \u6307\u5b9a ABI\uff08\u6c47\u7f16\u5c42\u9762\u7684\u63a5\u53e3\uff09\u4e3a C\nextern \"C\" { fn abs(ipt: i32) -&gt; i32; }\nunsafe {\n    println!(\"Absolute val of -3 is {}\", abs(-3));\n}\n</code></pre>     - \u521b\u5efa extern \u63a5\u53e3\uff0c\u652f\u6301\u5176\u4ed6\u8bed\u8a00\u8fdb\u884c\u8c03\u7528</p> <pre><code>#[no_mangle]                     // \u907f\u514d\u5728\u7f16\u8bd1\u65f6\u6539\u53d8\u540d\u79f0\npub extern \"C\" fn call_by_c() {} // \u6307\u5b9a ABI \u4e3a C\n</code></pre> </li> </ul> </li> </ul>"},{"location":"Nulling/Rust/3_project/#trait","title":"\u9ad8\u7ea7 Trait","text":""},{"location":"Nulling/Rust/3_project/#_4","title":"\u5360\u4f4d\u7c7b\u578b","text":"<p>\u6cdb\u578b x \u5173\u8054\u7c7b\u578b</p> <ul> <li>\"\u6cdb\u578b\" \u5fc5\u987b\u5728 \u5b9e\u73b0Trait \u65f6\u6807\u6ce8\u5177\u4f53\u7c7b\u578b\uff0c\u53ef\u4ee5\u4e3a\u540c\u4e00 struct \u591a\u6b21\u5b9e\u73b0\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53 trait</li> <li>\"\u5173\u8054\u7c7b\u578b\" \u65e0\u9700\u6807\u6ce8\u5177\u4f53\u7c7b\u578b\uff0c\u65e0\u6cd5\u4e3a\u5355\u4e2a struct \u591a\u6b21\u5b9e\u73b0\u540c\u4e00\u5177\u4f53 trait</li> </ul> \u5b9a\u4e49 trait \u65f6\uff0c\u4f7f\u7528 '\u5173\u8054\u7c7b\u578b' \u6307\u5b9a\u5360\u4f4d\u7c7b\u578b<pre><code>pub trait Iterator {\n    type Item;  // \u8fd9\u4e2a\u5c31\u662f\u5173\u8054\u7c7b\u578b\uff08\u7c7b\u578b\u5360\u4f4d\u7b26\uff09\n    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_5","title":"\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p>Rust \u4e0d\u652f\u6301 \u81ea\u5b9a\u4e49\u8fd0\u7b97\u7b26 / \u91cd\u8f7d\u4efb\u610f\u8fd0\u7b97\u7b26\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5b9e\u73b0 <code>std::ops</code> \u4e2d\u7684 trait \u5b9e\u73b0\u90e8\u5206\u529f\u80fd</p> <pre><code>use std::ops::Add;\n\nstruct Meters(u32);\nstruct Miilimeters(u32);\n\nimpl Add&lt;Meters&gt; for Millimeters {\n    type Output = Millimeters;\n    fn add(self, other: Meters) -&gt; Millimeters {\n        return Milimeters(self.0 + (other.0 * 1000));\n    }\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_6","title":"\u5b8c\u5168\u9650\u5b9a\u8bed\u6cd5","text":"<pre><code>trait Animal { fn call_name() -&gt; String; }\n\nstruct Dog;\nimpl Dog {\n    fn call_name() -&gt; String { String::from(\"Dog\") }\n}\nimpl Animal for Dog {\n    fn call_name() -&gt; String { String::from(\"Puppy\") }\n}\n\nDog::call_name();              // \"Dog\"\nAnimal::call_name();           // \u26a0\ufe0f \u62a5\u9519\uff0c\u4e0d\u77e5\u9053\u5177\u4f53\u8c03\u7528\u54ea\u4e00\u4e2a\n&lt;Dog as Animal&gt;::call_name();  // \"Puppy\" \u901a\u8fc7\u201d\u5b8c\u5168\u9650\u5b9a\u8bed\u6cd5\u201c\u8c03\u7528\u540c\u540d\u51fd\u6570\n</code></pre>"},{"location":"Nulling/Rust/3_project/#super-trait","title":"Super Trait","text":"<p>\u9700\u8981\u5728 Trait A \u4e2d\u4f7f\u7528 Trait B \u63d0\u4f9b\u7684\u529f\u80fd =&gt; Trait B \u5373\u4e3a Trait A \u7684 Super Trait</p> trait [CurTrait]: [SuperTrait]<pre><code>use std::fmt\ntrait PrintOutline: fmt::Display {\n    fn print_outline(&amp;self) {\n        let output = self.to_string(); // \u9700\u8981\u5b9e\u73b0 fmt::Display\n    }\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#new-type","title":"New Type","text":""},{"location":"Nulling/Rust/3_project/#trait_1","title":"\u4e3a\u5916\u90e8\u7c7b\u578b\u5b9e\u73b0\u5916\u90e8 Trait","text":"<p>Rust \"\u4ec5\u5f53 Trait / \u7c7b\u578b \u5728 \u672c\u5730\u5b9a\u4e49 \u65f6\uff0c\u624d\u80fd\u5b9e\u73b0\u5bf9\u5e94 trait\" \u7684\u89c4\u5219\u53ef\u4ee5\u901a\u8fc7 NewType \u6a21\u5f0f\u7ed5\u8fc7</p> \u901a\u8fc7 Tuple Struct \u6784\u5efa\u4e00\u4e2a\u65b0\u7684\uff08\u672c\u5730\uff09\u7c7b\u578b<pre><code>use std::fmt;\n\nstruct Wrapper(Vec&lt;String&gt;); // \u4f7f\u7528 Tuple Struct \u5305\u88f9\nimpl fmt::Display for Wrapper {\n    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {\n        write!(f, \"[{}]\", self.0.join(\", \")) // \u4f7f\u7528 self\n    }\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_7","title":"\u7c7b\u578b\u522b\u540d","text":"<p>\u53ea\u662f\u540c\u4e49\u8bcd\uff0c\u5e76\u975e\u72ec\u7acb\u7c7b\u578b</p> <pre><code>type Thunk = Box&lt;dyn Fn() + Send + 'static&gt;; // \u53ea\u662f\u4e3a\u4e86\u5c11\u70b9\u5b57\nfn takes_long_type(f: Thunk) {}\n\n\"\"\"\u4e5f\u53ef\u4ee5\u62ff\u6765\u7f29 Result&lt;T,E&gt; =&gt; \u56e0\u4e3a E \u662f\u5b9a\u6b7b\u7684\"\ntype Result&lt;T&gt; = Result&lt;T, std::io::Error&gt;;\nfn write(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;usize&gt;;\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_8","title":"\u51fd\u6570\u6307\u9488","text":"<p>\u5c06\u51fd\u6570\uff08\u6307\u9488\uff09\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012</p> <pre><code>\"\"\" \u8981\u6c42\u53c2\u6570 f \u7b26\u5408 fn fName(_: i32) -&gt; i32 {} \"\"\"\nfn do_twice(f: fn(i32)-&gt;i32, arg: i32) -&gt; i32 {\n    f(arg) + f(arg)\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_9","title":"\u8fd4\u56de\u95ed\u5305","text":"<p>\u95ed\u5305\u5fc5\u987b\u4f7f\u7528 trait \u8fdb\u884c\u8868\u8fbe\u3001\u65e0\u6cd5\u5728\u51fd\u6570\u4e2d\u76f4\u63a5\u8fd4\u56de</p> <p>\u4f46\u4f60\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5b9e\u73b0\u4e86\u5bf9\u5e94 trait \u7684\u5177\u4f53\u7c7b\u578b</p> <pre><code>fn return_closure() -&gt; Box&lt;dyn Fn(i32) -&gt; i32&gt; {\n    return Box::new(|x| x+1);\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#_10","title":"\u5b8f","text":"<p>\u4f7f\u7528 <code>macro_rules!</code> \u5b9a\u4e49\u7684 \u201c\u58f0\u660e\u5b8f\u201d \u5df2\u88ab\u5f03\u7528 </p> <ul> <li>\u5b8f\u5fc5\u987b\u5728\u5355\u72ec\u7684\u5305\u4e2d\u88ab\u5b9a\u4e49\u3001\u5e76\u4f7f\u7528\u7279\u6b8a\u7684\u5305\u7c7b\u578b</li> <li> <p>\u5728\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u4f9d\u8d56</p> Cargo.toml<pre><code>...\n\n[lib]\nproc-macro = true\n\n[dependencies]\nsyn = \"0.14.4\"\nquote = \"0.6.3\"\n</code></pre> </li> <li> <p>\u81ea\u5b9a\u4e49\u5b8f\uff1a\u7528\u4e8e <code>struct / enum</code>\uff0c\u53ef\u4e3a\u6307\u5b9a\u7684 derive \u5c5e\u6027\u6dfb\u52a0\u4ee3\u7801</p> \u901a\u8fc7\u6807\u6ce8 #[derive(helloMacro)] \u81ea\u52a8\u5b9e\u73b0 helloMacro Trait<pre><code>\"\"\" implement \"\"\"\nextern crate proc_macro;\nuse crate::proc_macro::TokenStream;\nuse quote::quote;\nuse syn;\n\nfn impl_hello_macro(ast: &amp;syn::DeriveInput) -&gt; TokenStream {\n    let name = &amp;ast.ident;\n    // #name \u4f1a\u88ab\u81ea\u52a8\u66ff\u6362\u4e3a var name \u7684\u503c\n    let gen = quote! {\n        impl HelloMacro for #name {\n            fn hello_macro() {\n                println!(\"Hello, Macro! #name = {}\", stringify!(#name));\n            }\n        }\n    }\n    gen.into() // \u8f6c\u56de TokenStream\n}\n\n// \u5728\u7528\u6237\u6807\u6ce8 #[derive(HelloMacro)] \u65f6\u81ea\u52a8\u8c03\u7528\n#[proc_macro_derive(HelloMacro)]\npub fn hello_macro_derive(ipt: TokenStream) -&gt; TokenStream {\n    let ast = syn::parse(ipt).unwrap();\n    impl_hello_macro(&amp;ast);\n}\n\n\"\"\" usage \"\"\"\nuse hello_macro::HelloMacro;\nuse hello_macro_derive::HelloMacro;\n\n#[derive(HelloMacro)]\nstruct Pancake;\n\nPancake::hello_macro();\n</code></pre> </li> <li> <p>\u7c7b\u5c5e\u6027\u5b8f\uff1a\u5728\u4efb\u610f\u6761\u76ee\u4e0a\u6dfb\u52a0\u81ea\u5b9a\u4e49\u5c5e\u6027</p> </li> <li> <p>\u7c7b\u51fd\u6570\u5b8f\uff1a\u64cd\u4f5c\u88ab\u6307\u5b9a\u4e3a\u53c2\u6570\u7684 token </p> </li> </ul>"},{"location":"Nulling/Rust/3_project/#6-sample","title":"6 Sample","text":""},{"location":"Nulling/Rust/3_project/#simple-grep","title":"Simple Grep","text":"<ul> <li> <p>\u529f\u80fd\uff1a\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u641c\u7d22\u5305\u542b\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u884c</p> </li> <li> <p>\u8f93\u5165\uff1a<code>cargo run targetStr fileName</code></p> </li> <li> <p>Rust \u4e00\u822c\u4f1a\u628a\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u4e22\u5728 <code>lib.rs</code> \u91cc\uff0c<code>main.rs</code> \u4e00\u822c\u4ec5\u5305\u542b\uff1a</p> <ul> <li>\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u903b\u8f91</li> <li>\u4e00\u4e9b\u914d\u7f6e\u5185\u5bb9</li> <li>\u8c03\u7528 <code>lib.rs</code> \u7684 <code>run()</code> \u51fd\u6570\u53ca\u5176\u9519\u8bef\u5904\u7406</li> </ul> </li> </ul> lib.rs<pre><code>use std::{\n    env, fs, error:Error\n};\n\npub fn run(conf: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {\n    // \u8bfb\u53d6\u6587\u4ef6\n    let contents = fs::read_to_string(conf.filename)?; // \u5bc4\u4e86\u4e0d\u4f1a\u76f4\u63a5 panic\uff0c\u800c\u662f\u4e22\u7ed9 caller \u5904\u7406\n\n    // \u641c\u7d22\u6f5c\u5728\u884c\n    for line in search(&amp;conf.query, &amp;contents) {\n        println!(\"{}\", line);\n    }\n    Ok(());\n}\n\npub struct Config {\n    pub query: Srting, pub filename: String,\n    pub case_sensitive: bool\n}\nimpl Config {\n    pub fn new(mut args: std::env::Args) -&gt; Result&lt;Config, &amp;' static str&gt; {\n        args.next();   // \u7b2c\u4e00\u4e2a\u53c2\u6570\u6ca1\u6709\u7528\n        let query =    match args.next() {\n            Some(arg) =&gt; arg,\n            None =&gt; return Err(\"Without Query String\")\n        };\n        let filename = match args.next() {\n            Some(arg) =&gt; arg,\n            None =&gt; return Err(\"Without File Name\")\n        };\n        // \u8bfb\u73af\u5883\u53d8\u91cf =&gt; \u53ea\u68c0\u67e5\u662f\u5426\u5b9a\u4e49\u3001\u4e0d\u7ba1\u5177\u4f53\u7684\u503c\n        let case_sensitive = env::var(\"CASE_INSENEITIVE\").is_err();\n\n        Ok(Config {query, filename, case_sensitive})\n    }\n}\n\n// \u8fd4\u56de\u7ed3\u679c\u53ea\u548c contents \u6302\u94a9\npub fn query&lt;'a&gt;(sensitive: bool, query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;a' str&gt; {\n    if !sensitive {\n        let query = query.to_lowercase();\n    }\n\n    contents.lines()\n        .filter(|line| {\n            if !sensitive {\n                line.to_lowercase.contains(query)\n            } else {\n                line.contains(query)\n            }\n        })\n        .collect()\n}\n\n\n\n// \u6d4b\u8bd5\u7528\u4f8b\n#[cfg(test)]\nmod test {\n    use supper::*;\n\n    #[test]\n    fn one_res() {\n        let query = \"duct\";\n        let content = \"\\\njust line one\nproductice.\njust line three\n        \"\n        assert_eq!(\n            vec![\"productice.\"],\n            search(query, content)\n        )\n    }\n}\n</code></pre> main.rs<pre><code>use proj::Config;\nuse std::{\n    env, process\n};\n\nfn main () {\n    // \u8bfb\u53d6\u547d\u4ee4\u884c\u53c2\u6570: [/path/to/binExe, arg1, arg2, ...]\n    let conf = Config::new(env::args())\n        .unwrap_or_else(|err| {                       // \u4e0d\u5982 js \u7684\u7bad\u5934\u51fd\u6570 ...\n            eprintln!(\"Fail to parse args: {}\", err); // \u5c06\u6807\u51c6\u9519\u8bef\uff08console\uff09\u548c\u6807\u51c6\u8f93\u51fa\uff08\u6587\u4ef6\uff09\u5206\u79bb\n            process::exit(1);\n        });\n    println!(\"Searching for {}, in f ile: {}\", conf.query, conf.filename); \n\n    if let Err(e) = proj::run(conf) { // \u9519\u8bef\u5904\u7406\n        eprintln!(\"Fail to handle file: {}\", e);\n        process::exit(1);\n    }\n}\n</code></pre>"},{"location":"Nulling/Rust/3_project/#web-server","title":"Web Server","text":"<p>\u6709\u70b9\u8ff7\uff0c\u53ef\u4ee5\u4e0d\u7528\u770b</p> <p>\u8be5 Sample \u5b9e\u73b0\u4e86\u4e00\u4e2a\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\u7684 Web \u670d\u52a1\u5668\uff1a - \u53ef\u4ee5\u5728 Socket \u4e0a\u76d1\u542c TCP \u8fde\u63a5 - \u652f\u6301\u89e3\u6790\u90e8\u5206 HTTP \u8bf7\u6c42\u3001\u5e76\u8fd4\u56de HTTP \u54cd\u5e94 - \u63d0\u4f9b\u591a\u7ebf\u7a0b\u652f\u6301 - \u652f\u6301\u505c\u673a\u548c\u6e05\u7406</p> lib.rs<pre><code>use std::sync::{mpsc, Arc, Mutex};\nuse std::thread;\n\ntrait FnBox { fn call_box(self: Box&lt;self&gt;); }\nimpl&lt;F: FnOnce()&gt; FnBox for F {\n    fn call_box(self: Box&lt;F&gt;) { (*self)() }\n}\n\nenum Msg {\n    NewJob(Job),\n    Shutdown,\n}\n\nstruct Job;\ntype Job = Box&lt;FnBox + Send + 'static&gt;;\n\npub struct ThreadPool {\n    workers: Vec&lt;Worker&gt;,\n    sender:  mpsc::Sender&lt;Msg&gt;,\n}\nimpl ThreadPool {\n    pub fn new(size: usize) -&gt; ThreadPool {\n        assert!(size &gt; 0);\n        // \u9700\u8981\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u4e00\u4e2a recver\n        let (sender, recver) = mpsc::channel();\n        let recver = Arc::new(Mutex::new(recver));\n\n        let mut workers = Vec::with_capacity(size);\n        for id in 0..size {\n            workers.push(Worker::new(id, Arc::clone(&amp;recver)));\n        }\n\n        ThreadPool { threads, sender }\n    }\n    pub fn execute&lt;F&gt;(&amp;self, f: F)\n    where\n        F: FnOnce() + Send + 'static, // \u8ddf\u7740 thread::spawn \u8d70\n    {\n        let job = Box::new(F);\n        self.sender.send(Msg::NewJob(job)).unwrap();\n    }\n}\n\"\"\" \u6e05\u7406 \"\"\"\nimpl Drop for ThreadPool {\n    fn drop(&amp;mut self) {\n        // \u9010\u4e2a\u5173\u505c\u7ebf\u7a0b\n        for _ in &amp;mut self.workers {\n           self.sender.send(Msg::Shutdown).unwrap();\n        }\n        println!(\"Shut down ALL workers\");\n\n        // \u786e\u4fdd\u6240\u6709 worker \u5173\u505c\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5173\u95ed\n        for worker in &amp;mut self.workers {\n            println!(\"Work[{}] has shutdown\", worker.id);\n            // \u9700\u8981\u62ff\u5230\u6240\u6709\u6743\n            if let Some(t) = worker.thread.take() {\n                t.join().unwrap();\n            }\n        }\n    }\n}\n\nstruct Worker {\n    id: usize, thread: Option&lt;thread::JoinHandle&lt;()&gt;&gt;,\n}\nimpl Worker {\n    fn new(id: usize, recver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Msg&gt;&gt;&gt;) -&gt; Worker {\n        let thread = thread::spawn(move || loop {\n            \"\"\" Bug: thread \u5e72\u5b8c\u4e86\u624d\u4f1a\u91ca\u653e mutex\uff0c\u6240\u4ee5\u6c38\u8fdc\u53ea\u6709\u4e00\u4e2a thread \u5728\u5de5\u4f5c \"\"\"\n            let msg = recver.lock().unwrap().recv().unwrap();\n            match msg {\n                Msg::NewJob(job) =&gt; {\n                    println!(\"Worker[{}] got a job\", id);\n                    job.call_box();\n                },\n                Msg::Shutdown =&gt; {\n                    println!(\"Shut down worker[{}]\", id);\n                    break;\n                }\n            }\n        });\n        Worker { id, thread: Some(thread) }\n    }\n}\n</code></pre> main.rs<pre><code>use std::fs;\nuse std::io::prelude::*;\nuse std::net::{TcpListener, TcpStream};\nuse std::thread;\nuse std::time::Duration;\n\nuse my_crate::ThreadPool;\n\nfn main() {\n    let listener = TcpListener::bind(\"127.0.0.1:8000\").unwrap();\n    let pool     = ThreadPool::new(4);\n    // \u4f9d\u6b21\u5904\u7406\u6bcf\u4e2a\u8fde\u63a5\u8bf7\u6c42\uff08 take(2) \u8868\u793a\u53ea\u5904\u7406\u524d\u4e24\u4e2a\uff09\n    for stream in listner.incoming().take(2) {\n        let _stream = stream.unwrap(); \n        pool.execute(|| {\n            handle_connect(stream);\n        })   \n    }\n    println!(\"Server Shut down\");\n}\n\nfn handle_connect(mut stream: TcpStream) {\n    let mut buffer = [0; 512];\n    stream.read(&amp;mut buffer).unwrap();\n\n    // \u5224\u65ad\u8bf7\u6c42\u8def\u5f84\n    let index = b\"GET / HTTP/1.1\\r\\n\";\n    let sleep = b\"GET /sleep HTTP/1.1\\r\\n\";\n    let (status, file) = \\\n    if buffer.starts_with(index) {\n        (\"HTTP/1.1 200 OK\\r\\n\\r\\n\", \"index.html\")\n    } else if buffer.starts_with(sleep) {\n        thread::sleep(Duration::from_secs(5));\n        (\"HTTP/1.1 200 OK\\r\\n\\r\\n\", \"index.html\")\n    } else {\n        (\"HTTP/1.1 404 NOT FOUND\\r\\n\\r\\n\", \"404.html\")\n    }\n\n    // \u54cd\u5e94\uff1a\u8fd4\u56de\u672c\u5730\u7684 HTML \u6587\u4ef6\n    let contents = fs::read_to_string(file).unwrap();\n    let response = format!(\"{}{}\", status, contents);\n    stream.write(response.as_bytes()).unwrap();\n    stream.flush().unwrap(); // \u963b\u585e\uff0c\u76f4\u81f3\u6240\u6709 bytes \u88ab\u6210\u529f\u5199\u5165\n}\n</code></pre>"},{"location":"Nulling/Server/Base/","title":"\u57fa\u672c\u73af\u5883","text":"<p> \u7ea6 511 \u4e2a\u5b57  34 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p>"},{"location":"Nulling/Server/Base/#1-ubuntu","title":"1 \u5347\u7ea7 Ubuntu \u7cfb\u7edf","text":"<p>\u4ee5  20.04 =&gt; 22.04 \u4e3a\u4f8b</p> <ol> <li> <p>\u4fdd\u6301 SSH \u4f1a\u8bdd\u6d3b\u8dc3</p> <ul> <li> <p>\u542f\u7528 screen \u670d\u52a1</p> <pre><code>sudo apt install screen # \u901a\u8fc7 screen \u4fdd\u8bc1 OpenSSH \u4f1a\u8bdd\u6d3b\u8dc3\nscreen                  # \u542f\u52a8\u670d\u52a1 =&gt; \u4f1a\u663e\u793a\u4ecb\u7ecd\u6587\u672c\n</code></pre> </li> <li> <p>\u4fee\u6539\u914d\u7f6e <code>/etc/ssh/sshd_config</code>\uff0c\u8ffd\u52a0\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>ClientAliveInterval 60\n</code></pre> </li> <li> <p>\u91cd\u542f SSH \u5b88\u62a4\u8fdb\u7a0b</p> <pre><code>sudo systemctl restart ssh\n</code></pre> </li> </ul> </li> <li> <p>\u5347\u7ea7\u8f6f\u4ef6\u3001\u5b89\u88c5\u4f9d\u8d56</p> <pre><code>sudo apt update &amp;&amp; sudo apt dist-upgrade\nsudo apt install update-manager-core\n</code></pre> </li> <li> <p>\u7f16\u8f91 <code>/etc/update-manager/release-upgrades</code>\uff0c\u786e\u4fdd\u4ee5\u4e0b\u5b57\u6bb5\u8bbe\u7f6e</p> <pre><code>Prompt=normal\n</code></pre> </li> <li> <p>\u5f00\u59cb\u5347\u7ea7</p> <pre><code>do-release-upgrade\n</code></pre> </li> </ol> <p>Azure \u5347\u7ea7\u5b8c\u4e4b\u540e\u4f1a\u4e22\u6389\u516c\u94a5\uff0c\u5f97\u7528\u5bc6\u7801\u767b\u5f55\u540e\u91cd\u65b0\u4f20\u4e00\u904d</p>"},{"location":"Nulling/Server/Base/#2-ssh","title":"2 SSH","text":""},{"location":"Nulling/Server/Base/#_2","title":"\u8fde\u63a5\u7b80\u5316","text":"<p>\u8fd8\u5728\u4e3a\u8fde\u63a5\u670d\u52a1\u5668\u5f97\u8f93\u5165\u4e00\u957f\u4e32 username / host / port \u4fe1\u606f\u800c\u70e6\u607c\u5417\uff1f</p> <p>\u8bf7\u53bb\u970d\u970d <code>~/.ssh/config</code> \u8fd9\u4e2a\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u5c31 <code>touch</code> \u4e00\u4e2a\u51fa\u6765</p> <pre><code>Host [HostAlias]                   # \u7528\u4e8e ssh HostAlias \u7b80\u5316\u8fde\u63a5\n    HostName [IP / URL]\n    User     [UserName]\n    Port     [PortNum]             # \u975e\u9ed8\u8ba4\u7aef\u53e3\u65f6\u9700\u8981\u914d\u7f6e\n    IdentityFile [path2privateKey] # \u5b58\u5728\u591a\u4e2a\u79c1\u94a5\u65f6\uff0c\u6307\u5b9a\u79c1\u94a5\n</code></pre> <p>\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u7528\u901a\u8fc7 <code>ssh [HostAlias]</code> \u547d\u4ee4\u8fdb\u884c\u4e00\u952e\u8fde\u63a5\u4e86</p>"},{"location":"Nulling/Server/Base/#warning","title":"WARNING","text":"<p>\u5728\u4f7f\u7528 SSH \u8fde\u63a5\u65f6\u51fa\u73b0\u4ee5\u4e0b WARNING \u4fe1\u606f\uff1a</p> <pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\nThe fingerprint for the ED25519 key sent by the remote host is\nSHA256:[\u4e00\u4e32 SHA 256].\nPlease contact your system administrator.\nAdd correct host key in path/to/.ssh/known_hosts to get rid of this message.\nOffending ECDSA key in path/to/.ssh/known_hosts:[rowIndex]\nHost key for [IP]:port has changed and you have requested strict checking.\nHost key verification failed.\n</code></pre> <ul> <li> <p>\u89e3\u91ca\uff1a\u5f85\u8fde\u63a5\u4e3b\u673a <code>[IP]:port</code> \u7684\u5bc6\u94a5\u53d1\u751f\u53d8\u5316\uff08\u53ef\u80fd\u662f\u7531\u4e8e\u7cfb\u7edf\u91cd\u88c5\uff09\uff0cSSH \u51fa\u4e8e\u5b89\u5168\u8003\u8651\u4f1a\u9ed8\u8ba4\u62d2\u7edd\u8fde\u63a5</p> </li> <li> <p>\u4fee\u590d\uff1a\u6839\u636e\u63d0\u793a\u5220\u9664 <code>known_host</code> \u6587\u4ef6\u4e2d\u7684\u5bf9\u5e94\u884c\u5e76\u91cd\u65b0\u8fde\u63a5\uff0c\u6b64\u65f6 SSH \u4f1a\u663e\u793a\u8be5\u4e3b\u673a\u7684\u65b0\u5bc6\u94a5\u3001\u786e\u8ba4\u65e0\u8bef\u540e\u8f93\u5165 <code>yes</code> \u5373\u53ef</p> </li> </ul> <p>\u76ee\u6d4b\u6709 <code>ssh-ed25519</code> \u548c <code>endsa-sha2-nistp256</code> \u4e24\u884c\u3001\u90fd\u9700\u8981\u5220\u6389</p>"},{"location":"Nulling/Server/Base/#3","title":"3 \u67e5\u770b\u5b58\u50a8\u5360\u7528","text":"<ul> <li> <p>\u6240\u6709\u6587\u4ef6</p> <ul> <li> <p>\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5 <code>df -h</code></p> </li> <li> <p>\u5269\u4f59\u78c1\u76d8\u7a7a\u95f4 <code>df -hl</code></p> </li> </ul> </li> <li> <p>\u5f53\u524d\u8def\u5f84</p> <ul> <li> <p>\u5360\u7528\u5185\u5b58\u7684\u603b\u91cf <code>du -sh</code></p> </li> <li> <p>\u5404\u5b50\u76ee\u5f55/\u6587\u4ef6\u5206\u522b\u5360\u7528\u7684\u5185\u5b58\u5bb9\u91cf\uff1a<code>du -sh ./*</code></p> <p>\u8be5\u547d\u4ee4 \u4e0d\u4f1a \u663e\u793a\u9690\u85cf\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u7528 <code>du -sh ./.*</code> \u6551\u4e00\u4e0b</p> </li> </ul> </li> </ul>"},{"location":"Nulling/Server/Base/#4","title":"4 \u8fdb\u7a0b\u7b5b\u9009","text":"<p>\u5b9e\u9645\u4e0a <code>ps aux</code> \u67e5\u770b\u7684\u662f\u5feb\u7167\uff0c\u4f46\u51d1\u5408\u7528\u5427</p> <pre><code># \u57fa\u7840\u7248\nps aux | grep [xxx] # \u628a xxx \u66ff\u6362\u6210\u4f60\u8981\u770b\u7684\u4e1c\u897f\uff0c\u6bd4\u5982 git / xxx.py\n                    # \u7528 nohup \u6302\u7684\u8bdd\uff0cgrep nohup \u662f\u770b\u4e0d\u51fa\u6765\u7684 =&gt; \u7528\u540e\u9762\u7684\u547d\u4ee4\n\n# \u8fdb\u9636\u7248\nps -u [userName]    # \u663e\u793a\u7279\u5b9a\u7528\u6237\u7684\u6240\u6709\u8fdb\u7a0b\uff08\u76ee\u6d4b\u63a5 grep \u4e5f\u6ca1\u7528\uff09\nps aux | grep \"^user\" | grep xxx # \u5148\u5339\u914d\u7279\u5b9a\u7528\u6237\uff08\u884c\u5f00\u5934\uff09\uff0c\u518d\u5339\u914d\u7279\u5b9a\u4efb\u52a1\n</code></pre>"},{"location":"Nulling/Server/Base/#5","title":"5 \u7528\u6237\u7ba1\u7406","text":""},{"location":"Nulling/Server/Base/#_3","title":"\u65b0\u589e\u666e\u901a\u7528\u6237","text":"<ol> <li> <p>\u521b\u5efa\u65b0\u7528\u6237\uff08\u81ea\u52a8\u590d\u5236 <code>/etc/skel</code> \u4e2d\u7684\u57fa\u672c\u914d\u7f6e\u6587\u4ef6\uff09</p> <pre><code>useradd -m -s /bin/bash [User]\n# -m \u8868\u793a\u4e3a\u6539\u7528\u6237\u521b\u5efa home \u76ee\u5f55\uff0c\u5e76\u590d\u5236 /etc/skel \u4e0b\u7684\u6a21\u7248\u6587\u4ef6\n# -s \u6307\u5b9a\u9ed8\u8ba4 shell\n</code></pre> </li> <li> <p>\u8bbe\u7f6e\u5bc6\u7801\uff08\u53ef\u9009\uff09</p> <pre><code>passwd [User] # \u7136\u540e\u8f93\u5165\u4e24\u6b21 PWD \u5c31\u884c\n</code></pre> </li> <li> <p>\u914d\u7f6e SSH \u516c\u94a5</p> <pre><code># \u5207\u6362\u5230\u7528\u6237\u76ee\u5f55\nmkdir -p /home/[User]/.ssh\n\n# \u7c98\u8d34\u516c\u94a5\necho \"Public Key\" &gt; /home/[User]/.ssh/authorized_keys\n\n# \u8bbe\u7f6e\u6b63\u786e\u6743\u9650\uff08\u975e\u5e38\u91cd\u8981\uff01\uff09\nchown -R [User]:[User] /home/[User]/.ssh\nchmod 700 /home/[User]/.ssh\nchmod 600 /home/[User]/.ssh/authorized_keys\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/","title":"\u65e0\u7ba1\u7406\u5458\u6743\u9650\u8f6f\u4ef6\u5b89\u88c5","text":"<p> \u7ea6 2206 \u4e2a\u5b57  380 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <p>\u6ca1\u6709 <code>sudo</code> \u6743\u9650\uff0c\u5c31\u8fd9\u6837\u4ece\u6e90\u7801\u7f16\u8bd1\u76f4\u5230\u538c\u70e6</p>"},{"location":"Nulling/Server/Install_Apps/#1","title":"1 \u5f00\u53d1\u73af\u5883","text":""},{"location":"Nulling/Server/Install_Apps/#git","title":"Git","text":"<ul> <li>\u64a4\u9500\u4e0a\u4e00\u6b21 Commit\uff08\u4fee\u6539\u7684\u4ee3\u7801\u8fd8\u662f\u4f1a\u5b58\u5728\uff09</li> </ul> <pre><code>git reset HEAD~1 # \u540e\u9762\u7684\u6570\u5b57\u53ef\u4ee5\u6539\u6765\u7740\uff0c\u770b\u56de\u9000\u591a\u5c11\u6b21\n</code></pre> <ul> <li>\u8fdc\u7aef\u5b58\u5728\u4fee\u6539\uff1a\u5148\u62c9\u53d6\uff0c\u518d\u63a8\u9001</li> </ul> <pre><code>git pull origin &lt;branch&gt;\n# \u5b58\u5728\u51b2\u7a81\u7684\u8bdd\uff0c\u8fd9\u91cc\u9700\u8981 merge\n# \u4f8b\u5982\uff1aCONFLICT (content): Merge conflict in .gitignore\ngit push origin &lt;branch&gt;\n</code></pre>"},{"location":"Nulling/Server/Install_Apps/#vscode","title":"VSCode","text":""},{"location":"Nulling/Server/Install_Apps/#_2","title":"\u6301\u7eed\u663e\u793a \u201c\u6b63\u5728\u4e0b\u8f7d\u670d\u52a1\u5668\u201d","text":"<pre><code># 1 \u83b7\u53d6 commit id\ncd ~/.vscode-server/bin\nls # \u5982\u679c\u6709\u591a\u4e2a\u5c31 rm -rf * \u518d\u91cd\u65b0\u5f00\u4e00\u4e0b\u672c\u5730\u7684 VSCode\n\n# 2 \u4e0b\u8f7d\u5bf9\u5e94\u7248\u672c\u7684 VSCode Server\nwget \\\nhttps://update.code.visualstudio.com/commit:${commit_id}/server-linux-x64/stable \\\n-O vscode-server-linux-x64.tar.gz\n\n# 3 \u89e3\u538b\ntar -zxf vscode-server-linux-x64.tar.gz\n\n# 4 \u91cd\u547d\u540d\nmv vscode-server-linux-x64 ${commit_id}\n</code></pre> <p>\u91cd\u542f VSCode \u8fdc\u7a0b\u8fde\u63a5\u7a97\u53e3\uff0c\u7136\u540e\u6446\u8131\u547d\u4ee4\u884c\u795e\u6559\u5427</p>"},{"location":"Nulling/Server/Install_Apps/#claude-code","title":"Claude Code","text":"<p>\u53c2\u8003 \u5b98\u65b9\u6587\u6863</p> <p>\u7528\u5bf9\u8bdd\u641e Git Commit \u771f\u7684\u5f88\u667a\u969c\u554a ...</p> <ol> <li> <p>\u7eaf\u7ec8\u7aef</p> </li> <li> <p>\u5b89\u88c5 Claude Code</p> <pre><code>```bash\n# macOS / Linux / WSL\ncurl -fsSL https://claude.ai/install.sh | bash\n# macOS (by homebrew)\nbrew install --cask claude-code\n```\n</code></pre> <ul> <li> <p>\u5f00\u59cb\u4f7f\u7528</p> <pre><code>cd path/to/your/project\nclaude # \u968f\u540e\u6839\u636e\u63d0\u793a\u8fdb\u884c\u767b\u9646\n</code></pre> </li> <li> <p>\u5e38\u7528\u547d\u4ee4</p> \u547d\u4ee4 \u529f\u80fd \u793a\u4f8b <code>claude</code> \u542f\u52a8\u4ea4\u4e92\u6a21\u5f0f <code>claude</code> <code>claude \"task\"</code> \u8fd0\u884c\u4e00\u6b21\u6027\u4efb\u52a1 <code>claude \"fix the build error\"</code> <code>claude -p \"query\"</code> \u8fd0\u884c\u4e00\u6b21\u6027\u67e5\u8be2\uff0c\u7136\u540e\u9000\u51fa <code>claude -p \"explain this function\"</code> <code>claude -c</code> \u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u7ee7\u7eed\u6700\u8fd1\u7684\u5bf9\u8bdd <code>claude -c</code> <code>claude -r</code> \u6062\u590d\u4e4b\u524d\u7684\u5bf9\u8bdd <code>claude -r</code> <code>claude commit</code> \u521b\u5efa Git \u63d0\u4ea4 <code>claude commit</code> <code>/clear</code> \u6e05\u9664\u5bf9\u8bdd\u5386\u53f2 <code>/clear</code> <code>/help</code> \u663e\u793a\u53ef\u7528\u547d\u4ee4 <code>/help</code> <code>exit</code> / <code>Ctrl+C</code> \u9000\u51fa Claude Code <code>exit</code> </li> </ul> </li> <li> <p>\u5728 VSCode \u4e2d\u4f7f\u7528</p> <p>\u4e0d\u9700\u8981 \u5b89\u88c5 Claude Code CLI\uff0c\u9664\u975e\u9700\u8981 tool-using\uff08\u4f7f\u7528 MCP \u534f\u8bae\uff09</p> <ul> <li> <p>\u5b89\u88c5 <code>Claude Code for VS Code</code></p> </li> <li> <p>\u5c55\u5f00 GUI\uff1a\u70b9\u51fb\u6587\u4ef6\u53f3\u4e0a\u89d2\u7684\u76ae\u71d5\u5b50 / \u5728\u547d\u4ee4\u9762\u677f\uff08<code>Cmd+Shift+P</code>\uff09\u4e2d\u641c\u7d22 <code>Claude Code</code></p> </li> <li> <p>\u5f00\u542f\u7ec8\u7aef\u6a21\u5f0f\uff1a\u5728\u8bbe\u7f6e\uff08<code>Cmd+,</code>\uff09\u4e2d\u52fe\u9009 \"\u6269\u5c55-ClaudeCode-\u4f7f\u7528\u7ec8\u7aef\"</p> </li> <li> <p>\u4f7f\u7528\u7b2c\u4e09\u65b9\u670d\u52a1\u5546</p> <ul> <li>\u5728\u63d2\u4ef6\u5e02\u573a\u70b9\u51fb\u53f3\u4e0b\u89d2\u9f7f\u8f6e - \u8bbe\u7f6e - Environment Variables - \u5728 settings.json \u4e2d\u7f16\u8f91</li> <li>\u91cd\u542f\u540e\uff0c\u5373\u53ef\u65e0\u767b\u5f55\u4f7f\u7528 Claude</li> </ul> settings.json<pre><code>\"claudeCode.environmentVariables\": [\n    {\n        \"name\": \"ANTHROPIC_BASE_URL\",\n        \"value\": \"\u4f60\u7684\u4ee3\u7406\u5730\u5740\"\n    },\n    {\n        \"name\": \"ANTHROPIC_AUTH_TOKEN\",\n        \"value\": \"\u4f60\u7684 API KEY\"\n    }\n],\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#codex","title":"Codex","text":"<p>Codex \u4f9d\u8d56\u4e8e NodeJS\uff0c\u9700\u8981\u63d0\u524d\u5b89\u88c5</p> <ol> <li> <p>\u5b89\u88c5 &amp; \u9a8c\u8bc1</p> <pre><code>npm install -g @openai/codex@latest\nbrew install codex # for MacOS only\n\ncodex --version # validate\n</code></pre> </li> <li> <p>\u914d\u7f6e\u6587\u4ef6</p> <p>Codex CLI \u5c06\u81ea\u52a8\u8bfb\u53d6 <code>~/.codex</code> \u4e0b\u7684\u914d\u7f6e\u4fe1\u606f\u3001\u91cd\u542f\u7ec8\u7aef\u540e \u751f\u6548\uff1a</p> <ul> <li> <p><code>auth.json</code>\uff1a\u5b58\u653e API KEY</p> <pre><code>{\n    \"OPENAI_API_KEY\": \"sk-xxxx\"\n}\n</code></pre> </li> <li> <p><code>config.toml</code>\uff1a\u5b58\u653e\u6a21\u578b\u4e0e\u7f51\u5173\u914d\u7f6e</p> <pre><code>wire_api = \"responses\"\nmodel_provider = \"rightcode\"\nmodel = \"gpt-5.2-codex\" # \u6839\u636e\u9700\u6c42\u66ff\u6362\nmodel_reasoning_effort = \"xhigh\"\nnetwork_access = \"enabled\"\ndisable_response_storage = true\nwindows_wsl_setup_acknowledged = true\nmodel_verbosity = \"high\"\n\n# \u9700\u8981\u548c model_provider \u5bf9\u5e94\n[model_providers.rightcode]\nname = \"rightcode\"\nbase_url = \"https://right.codes/codex/v1\"\nwire_api = \"responses\"\nrequires_openai_auth = true\n</code></pre> </li> </ul> </li> <li> <p>\u4f7f\u7528</p> <ul> <li> <p>CLI\uff1a</p> <pre><code>codex # \u76f4\u63a5\u542f\u52a8\n\ncodex \\\n    -m \"model_name\" \\ # \u624b\u52a8\u5207\u6362\u6a21\u578b\uff08\u6700\u597d\u522b\u8fd9\u4e48\u5e72\uff09\n    -c model_reasoning_effort=\"xhigh\"\n</code></pre> </li> <li> <p>VSCode \u63d2\u4ef6\uff1a\u641c\u7d22 <code>codex</code> \u8fdb\u884c\u5b89\u88c5\uff0c\u968f\u540e\u4f1a\u5728\u5de6\u4fa7\u51fa\u73b0\u5bf9\u5e94 icon</p> <p>\u4f1a\u81ea\u52a8\u4ece <code>~/.codex</code> \u8bfb\u53d6\u914d\u7f6e\uff0c\u4e0d\u7528\u91cd\u65b0\u5199\u4e86</p> </li> </ul> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#miniconda","title":"Miniconda","text":"<p>\u5177\u4f53\u65b9\u5f0f\u53ef\u4ee5\u53c2\u7167 \u6587\u6863\uff0c\u8fd9\u8fb9\u9009\u7528\u4e86\u6bd4\u8f83\u624b\u52a8\u7684\u65b9\u5f0f</p> <p>\u8fd9\u73a9\u610f\u513f\u4e0d\u652f\u6301\u632a\u52a8\u8def\u5f84\uff08\u5b89\u88c5\u8def\u5f84\u5df2\u7ecf\u786c\u7f16\u7801\u8fdb\u53bb\u4e86\uff09</p> <p>\u82e5\u4e0d\u614e\u6e05\u7a7a <code>~/.bashrc</code>\uff0c \u53ef\u4ee5\u901a\u8fc7 <code>./bin/conda init</code> \u91cd\u65b0\u521d\u59cb\u5316</p> <ol> <li> <p>\u5728\u6bd4\u8f83\u65b9\u4fbf\u7684\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>miniconda3</code> \u7684\u6587\u4ef6\u5939</p> <pre><code>mkdir miniconda3\n</code></pre> </li> <li> <p>\u4e0b\u8f7d\u5b89\u88c5\u811a\u672c</p> <pre><code># \u540e\u9762\u7684 ~/miniconda3/miniconda.sh \u8bb0\u5f97\u4fee\u6539\u524d\u7f00\u8def\u5f84\nwget \\\nhttps://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh \\\n-O SOMEWHERE/miniconda3/miniconda.sh\n</code></pre> </li> <li> <p>\u8fd0\u884c\u5b89\u88c5\u811a\u672c</p> <pre><code>bash ./miniconda3/miniconda.sh -b -u -p ./miniconda3\n</code></pre> </li> <li> <p>\u5220\u9664\u811a\u672c\u6587\u4ef6</p> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#pip","title":"\u627e\u4e0d\u5230 Pip","text":"<ol> <li> <p>\u4e0b\u8f7d <code>get-pip</code> \u811a\u672c</p> <pre><code>curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\n</code></pre> </li> <li> <p>\u8fd0\u884c\u811a\u672c\uff0c\u5b89\u88c5 <code>Pip</code></p> <pre><code>python get-pip.py\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#hugging-face","title":"Hugging Face","text":"<p>Huggin Face \u7684\u4e3b\u5e72\u5e93\u5206\u4e3a\u4e09\u90e8\u5206\uff1a</p> <ol> <li> <p>Transformer \u6a21\u578b\u5e93</p> <pre><code>pip install transformers \\\n--trusted-host pypi.tuna.tsinghua.edu.cn # \u4ece\u6e05\u534e\u6e90\u5b89\u88c5\n</code></pre> <p>\u53ef\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5f15\u5165 &amp; \u6821\u9a8c\u7248\u672c\u53f7\uff0c\u4ece\u800c\u9a8c\u8bc1\u662f\u5426\u6210\u529f\u5b89\u88c5</p> <pre><code>import transformers\ntransformers.__version__\n</code></pre> </li> <li> <p>Dataset \u6570\u636e\u96c6\u5e93\uff1a\u63d0\u4f9b\u4e86\u4e0b\u8f7d &amp; \u9884\u5904\u7406</p> </li> <li> <p>Tokenizer \u5206\u8bcd\u5e93\uff1a\u5c06 Seq \u8f6c\u6362\u4e3a ID \u5e8f\u5217</p> <p>\u52a0\u8f7d Tokenizer \u7684\u65f6\u5019\u9700\u8981\u4f20\u4e0e\u9884\u6d4b\u6a21\u578b\u4e00\u81f4\u7684 name\uff08\u6bcf\u4e2a\u9884\u6d4b\u6a21\u578b\u5747\u5bf9\u5e94\u4e86\u5355\u72ec\u7684 Tokenizer\uff09</p> </li> </ol> <p>\u4ee5 <code>bert-base-chinese</code>\u7684\u4f7f\u7528\u4e3a\u4f8b</p>"},{"location":"Nulling/Server/Install_Apps/#_3","title":"\u6a21\u578b\u4e0b\u8f7d","text":"<p>\u4e0b\u8f7d\u652f\u6301\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u624b\u52a8\u4e0b\u8f7d\uff1a\u5728 \u94fe\u63a5 \u4e2d\u627e\u5230 Files \u9009\u9879\u5361\uff08\u4f46\u597d\u50cf\u5f97\u628a\u91cc\u9762\u7684\u6587\u4ef6\u5168\u90fd\u4e0b\u8fc7\u6765 ...\uff09</p> </li> <li> <p>\u901a\u8fc7\u5b98\u65b9\u547d\u4ee4\u884c\u5de5\u5177\u4e0b\u8f7d\uff1a\u9700\u8981\u989d\u5916\u5b89\u88c5\u4f9d\u8d56\uff0c\u4ee5\u53ca\u5f97\u6ce8\u518c\u767b\u5f55\uff08\u9700\u8981\u7528\u5230 token\uff09</p> <pre><code>pip install -U huggingface_hub\n</code></pre> \u7528\u4e8e\u4e0b\u8f7d\u7684\u811a\u672c<pre><code>import os\nfrom huggingface_hub import snapshot_download\n\n# \u8bbe\u7f6e\u56fd\u5185\u955c\u50cf\nos.environ[\"HF_ENDPOINT\"] = \"https://hf-mirror.com\"\n\nmodel_name = \"google-bert/bert-base-chinese\"\nwhile True: # \u9632\u6b62\u65ad\u8054\ntry:\n    snapshot_download(\n        repo_id=model_name,\n        local_dir_use_symlinks=True,# \u5728local-dir\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u90fd\u662f\u4e00\u4e9b\u201c\u94fe\u63a5\u6587\u4ef6\u201d\n        ignore_patterns=[\"*.bin\"],  # \u5ffd\u7565\u4e0b\u8f7d\u54ea\u4e9b\u6587\u4ef6\n        # \u5b9e\u9645\u6b64\u5904\u4e0d\u80fd\u5ffd\u7565 .bin\uff08\u4e0d\u7136\u53ea\u6709 tensorflow \u6743\u91cd\uff09\n        local_dir='./model',        # \u50a8\u5b58\u8def\u5f84\n        token=\"*******\",            # huggingface\u7684token\n        resume_download=True\n    )\n    break\nexcept: pass\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#_4","title":"\u5206\u8bcd\u5668","text":"<ol> <li> <p>\u7b80\u5355\u7f16\u7801\u5668\uff08 <code>tokenizer.encode</code> \uff09</p> <ul> <li> <p>BERT \u53ea\u63a5\u53d7\u4e00\u6b21\u8f93\u5165 1 \u6216 2 \u4e2a\u53e5\u5b50</p> </li> <li> <p>\u7531\u4e8e\u4eba\u4e3a\u8bbe\u7f6e <code>maxLen=30</code>\uff0c\u6240\u4ee5\u6bcf\u53e5\u8bdd\u90fd\u4f1a\u88ab Pad \u5230 <code>len=30</code>\uff08\u8d85\u51fa\u88ab\u622a\u65ad\uff09</p> </li> </ul> <pre><code>from transformers import BertModel, BertTokenizer\n\n# load from local\ntokenizer = BertTokenizer('./model/vocab.txt')\n\n# use Tokenizer\nsentences = [ '\u7a97\u524d\u660e\u6708\u5149', '\u7591\u662f\u5730\u4e0a\u971c']\noutputs = tokenizer.encode(\n    text=sentences[0],\n    text_pair=sentences[1],\n    truncation=True,      # &gt; maxLen, cut\n    padding='max_length', # pad =&gt; maxLen\n    add_special_tokens=True,\n    max_length=30,\n    return_tensors=None\n)\nprint(tokenizer.decode(outputs))\n\"\"\" \u5f00\u5934\u6807\u8bc6\u4e3a [CLS]\u3001\u7ed3\u5c3e\u4e3a [SEP]\uff0c\u586b\u5145\u7684\u7edf\u4e00\u4e3a [PAD]\n[CLS] \u7a97 \u524d \u660e \u6708 \u5149 [SEP] \u7591 \u662f \u5730 \u4e0a \u971c [SEP] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD] [PAD]\n\"\"\"\n</code></pre> </li> <li> <p>\u589e\u5f3a\u7f16\u7801\u5668\uff08 <code>tokenizer.encode_plus</code> \uff09</p> <p>\u652f\u6301\u6307\u5b9a\u8fd4\u56de\u7684 tensor \u7c7b\u578b\u3001token \u7684\u6807\u8bc6\u7c7b\u578b\u3001mask \u7c7b\u578b\u3001\u7279\u6b8a\u6807\u8bc6\u7c7b\u578b\u3001\u8fd4\u56de\u957f\u5ea6 etc</p> <pre><code># use Tokenizer\nsentences = [ '\u7a97\u524d\u660e\u6708\u5149', '\u7591\u662f\u5730\u4e0a\u971c']\noutputs = tokenizer.encode_plus(\n    text=sentences[0],\n    text_pair=sentences[1],\n    truncation=True,\n    padding='max_length',\n    add_special_tokens=True,\n    max_length=30,\n    return_tensors=None,             # \u53ef\u9009 tf: tensorflow, pt: pytorch, np: numpy, None\n    return_token_type_ids=True,      # 1st Sentence &amp; special_token = 0, 2nd Sentence = 1\n    return_attention_mask=True,      # padding = 0, else = 1 \n    return_special_tokens_mask=True, # special_token = 1, else = 0\n    return_length=True # \u8fd4\u56de\u957f\u5ea6\n)\n\nfor k,v in outputs.items():\n    print(k,';', v)\n# \u82e5\u9009\u62e9 return_tensors='pt' \uff0c\u8fd9\u4e00\u6b65\u4f1a bug\nprint(tokenizer.decode(outputs['input_ids']))\n</code></pre> </li> <li> <p>\u6279\u91cf\u7f16\u7801\u5668\uff08 <code>tokenizer.batch_encode_plus</code> \uff09</p> <p>\u4e00\u6b21\u4e00\u53e5/\u4e24\u53e5\u7684\u7f16\u7801\u8fd8\u662f\u592a\u6162\u4e86\uff0c\u6211\u4eec\u80fd\u4e0d\u80fd\u641e\u70b9\u6279\u53d1\uff08\u80fd\u7684\uff09</p> <p>\u4e3b\u8981\u662f\u5c06\u4f20\u5165\u53c2\u6570 <code>(text, text_pair)</code> \u4fee\u6539\u4e3a <code>batch_text_or_text_pairs</code></p> <pre><code>sentences = [ '\u7a97\u524d\u660e\u6708\u5149', '\u7591\u662f\u5730\u4e0a\u971c', '\u4e3e\u5934\u671b\u660e\u6708', '\u4f4e\u5934\u601d\u6545\u4e61']\noutputs = tokenizer.batch_encode_plus(\n    # \u5b9a\u4e49\u4e86 \u4e24\u4e2a Single+ \u4e00\u5bf9 Pair\n    batch_text_or_text_pairs=[\n        sentences[0], (sentences[1], sentences[2]), sentences[3]\n    ],  \n    truncation=True,\n    padding='max_length',\n    add_special_tokens=True,\n    max_length=30,\n    return_tensors=None,\n    return_token_type_ids=True,\n    return_attention_mask=True,\n    return_special_tokens_mask=True,\n    return_length=True\n)\n\nfor k,v in outputs.items():\n    print(k,';', v)\nfor idx in range(len(outputs['input_ids'])):\n    print(tokenizer.decode(outputs['input_ids'][idx]))\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#_5","title":"\u5b57\u5178\u7f16\u8f91","text":"<p>BertCN \u5728\u8bad\u7ec3\u65f6\u662f\u4ee5 \u5355\u4e2a\u6c49\u5b57 \u4f5c\u4e3a token \u7684\u3001\u8fd9\u56de\u5bfc\u81f4\u4e00\u4e9b\u8bcd\u8bed\u88ab\u62c6\u5f00</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u8bcd\u5178\u4e2d\u589e\u52a0 token \u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898</p> <pre><code>tokenizer = BertTokenizer('path/to/vocab.txt')\nvocabDict = tokenizer.get_vocab()         # \u5305\u542b token + special_token\n\ntokenizer.add_tokens(new_tokens=['\u6708\u5149'])  # \u666e\u901a token\ntokenizer.add_special_tokens({            # \u7279\u6b8a token\n  'eos_token': '[EOS]'\n})\n</code></pre>"},{"location":"Nulling/Server/Install_Apps/#_6","title":"\u6362\u6e90","text":""},{"location":"Nulling/Server/Install_Apps/#pip_1","title":"Pip","text":"<ol> <li> <p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> <pre><code>mkdir -p ~/.pip\ntouch  ~/.pip/pip.conf\n</code></pre> </li> <li> <p>\u5199\u5165\u6e05\u534e\u6e90</p> <pre><code>[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\ntrusted-host = pypi.tuna.tsinghua.edu.cn\n</code></pre> </li> <li> <p>\u9a8c\u8bc1</p> <pre><code>pip config list # \u89c2\u5bdf\u662f\u5426\u8f93\u51fa\u6e05\u534e\u6e90\uff0c\u6216\u8005\u76f4\u63a5\u5b89\u88c5\u3001\u770b\u6709\u6ca1\u6709\u52a0\u901f\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#conda","title":"Conda","text":"<ol> <li> <p>Conda \u7684\u914d\u7f6e\u6587\u4ef6\u662f <code>~/.condarc</code>\uff0c\u53ef\u4ee5\u5148\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5907\u4efd\u4e3a <code>.condarc.bak</code>\uff1a</p> <pre><code>mv ~/.condarc ~/.condarc.bak 2&gt;/dev/null\n</code></pre> </li> <li> <p>\u5199\u5165\u6e05\u534e\u6e90</p> <pre><code>channels:\n    - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\n    - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n    - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\n    - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/     # \u5982\u9700 PyTorch\n    - defaults                                                         # \u4fdd\u7559 defaults, \u907f\u514d\u67d0\u4e9b\u5305\u5728\u955c\u50cf\u4e2d\u7f3a\u5931\nshow_channel_urls: true\nssl_verify: true\n</code></pre> </li> <li> <p>\u9a8c\u8bc1</p> <pre><code>conda config --show channels # \u67e5\u770b\u5f53\u524d\u914d\u7f6e\nconda search numpy           # \u5c1d\u8bd5\u641c\u7d22\u5305\uff08\u89c2\u5bdf URL \u662f\u5426\u542b tuna\uff09\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#2","title":"2 \u7f51\u76d8\u540c\u6b65","text":""},{"location":"Nulling/Server/Install_Apps/#bypy","title":"bypy\uff08\u767e\u5ea6\u7f51\u76d8\u4e0b\u8f7d\uff09","text":"<ol> <li> <p>\u5b89\u88c5</p> <pre><code>pip install bypy\n</code></pre> </li> <li> <p>\u6388\u6743\uff1a\u968f\u4fbf\u8f93\u5165\u4e00\u4e2a\u547d\u4ee4\uff0c\u6bd4\u5982 <code>bypy info</code>\uff0c\u968f\u540e\u4f1a\u51fa\u73b0\u4e00\u4e2a\u767e\u5ea6\u7f51\u76d8\u767b\u5f55\u7f51\u5740 =&gt; \u590d\u5236\u7c98\u8d34\u767b\u5f55\u540e\u83b7\u5f97\u7684 token\uff0c\u6572\u51fb\u56de\u8f66\u5373\u53ef</p> </li> <li> <p>\u57fa\u672c\u64cd\u4f5c</p> <p><code>bypy</code> \u80fd\u591f\u540c\u6b65\u7684\u6570\u636e\u4f4d\u4e8e <code>\u6211\u7684\u5e94\u7528\u6570\u636e/bypy</code> \u4e0b</p> <pre><code>bypy help # \u663e\u793a\u5e2e\u52a9\uff08\u57fa\u672c\u90fd\u80fd\u5728\u8fd9\u91cc\u770b\uff09\nbypy list # \u5217\u51fa\u7f51\u76d8\u4e0a\u5bf9\u5e94\u4f4d\u7f6e\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n\n## \u4e0a\u4f20\nbypy upload [localpath] [remotepath] [ondup]      # \u4e0a\u4f20\u6587\u4ef6/\u9012\u5f52\u4e0a\u4f20\u8def\u5f84\nbypy syncup [localdir] [remotedir] [deleteremote] # \u4e0a\u4f20\u672c\u5730\u7684\u6574\u4e2a\u6587\u4ef6\u5939\n\n## \u4e0b\u8f7d\nbypy downdir [remotedir] [localdir]                 # \u9012\u5f52\u4e0b\u8f7d\u6307\u5b9a\u8def\u5f84\nbypy downfile &lt;remotefile&gt; [localpath]              # \u4e0b\u8f7d\u6307\u5b9a\u6587\u4ef6\nbypy download [remotepath] [localpath]              # \u4e0b\u8f7d\u6307\u5b9a\u6587\u4ef6/\u9012\u5f52\u4e0b\u8f7d\u8def\u5f84\nbypy syncdown [remotedir] [localdir] [deletelocal]  # \u628a\u8fdc\u7a0b\u6240\u6709\u4e1c\u897f\u62c9\u4e0b\u6765\n</code></pre> <p>\u5176\u4e2d\uff0c\u4e0b\u8f7d\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a <code>--downloader aria2</code> \u8fdb\u884c\u52a0\u901f\uff08\u53ef\u4ee5\u901a\u8fc7 <code>conda install aria2</code> \u5b89\u88c5\uff09</p> </li> <li> <p>\u62a5\u9519\u5904\u7406</p> </li> <li> <p><code>Slice MD5 mismatch</code>\uff08\u5c0f\u6587\u4ef6\u6ca1\u95ee\u9898\uff0c\u89c1 Issue#741\uff09</p> <ul> <li> <p>\u539f\u56e0\uff1a <code>bypy</code> \u9ed8\u8ba4\u4f1a\u5728\u6587\u4ef6\u4e0a\u4f20\u540e\u6267\u884c MD5 \u6821\u9a8c\uff08\u6bd4\u8f83\u672c\u5730\u8ba1\u7b97\u548c\u767e\u5ea6\u670d\u52a1\u5668\u56de\u4f20\u7ed3\u679c\uff09\uff0c\u4f46\u767e\u5ea6\u65b9\u9762\u7684\u5b9e\u73b0\u53d8\u4e86</p> </li> <li> <p>\u89e3\u51b3\uff1a\u5efa\u8bae\u8be5\u7528 BaiduPCS-Go</p> </li> </ul> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#rclonegoogle-drive","title":"Rclone\uff08Google Drive\uff09","text":"<ol> <li> <p>\u5b89\u88c5\uff08\u7565\uff09</p> </li> <li> <p>\u914d\u7f6e Google Drive</p> </li> </ol> <pre><code>rclone config # \u8fd0\u884c\u914d\u7f6e\u5411\u5bfc\n[\u8f93\u5165] n       # New Remote\n[\u8f93\u5165] GDrive  # \u8d77\u4e2a\u540d\u5b57\n[\u8f93\u5165] 22      # \u53ef\u80fd\u53d1\u751f\u53d8\u52a8\uff0c\u5bf9\u5e94 Google Drive (drive)\n[\u8f93\u5165] \u56de\u8f66     # \u9ed8\u8ba4 client_id\n[\u8f93\u5165] \u56de\u8f66     # \u9ed8\u8ba4 client_secret\n[\u8f93\u5165] 1       # Full access\n[\u8f93\u5165] \u56de\u8f66     # \u9ed8\u8ba4 service_account_file\n[\u8f93\u5165] n       # \u4e0d\u5bf9 advanced config \u8fdb\u884c\u914d\u7f6e\n[\u8f93\u5165] n       # \u8fdc\u7a0b\u670d\u52a1\u5668\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528 Web Browser \u8fdb\u884c\u9a8c\u8bc1\n# \u89c1 Step 3 \u7684\u9a8c\u8bc1\u64cd\u4f5c\n[\u8f93\u5165] y       # Keep\uff08\u4fdd\u5b58\uff09\u6b64\u6b21\u914d\u7f6e\n[\u8f93\u5165] q       # \u9000\u51fa Config \u7f16\u8f91\n</code></pre> <ol> <li>\u5728\u4e3b\u529b\u673a\u5b89\u88c5 <code>rclone</code>\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u6307\u4ee4</li> </ol> <p>\u9700\u8981\u63d0\u524d\u5f00\u542f\u7ec8\u7aef\u4ee3\u7406\uff0c\u5426\u5219\u4f1a\u56e0\u8d85\u65f6\u5931\u8d25</p> <pre><code>rclone authorize \"drive\" # \u7136\u540e\u4f1a\u81ea\u52a8\u5f39\u51fa\u7f51\u9875\uff0c\u547d\u4ee4\u884c\u663e\u793a Wating for code...\n</code></pre> <p>\u968f\u540e\uff0c\u5c06\u663e\u793a\u7684\u6574\u4e2a JSON \u7c98\u8d34\u5230\u670d\u52a1\u5668\u4e0a</p> <pre><code>Got code\nPaste the following into your remote machine ---&gt;\n{\"access_token\": \"\", ..., \"expires_in\":xxxx}\n</code></pre> <ol> <li>\u4e0a\u4f20\u6587\u4ef6\uff1a\u53ef\u4ee5\u7528 <code>--progress</code> \u663e\u793a\u5b9e\u65f6\u8fdb\u5ea6</li> </ol> <pre><code># \u4e0a\u4f20\u6574\u4e2a\u76ee\u5f55\uff1acopy \u53ea\u4f1a\u590d\u5236\u65b0\u6587\u4ef6\uff0c\u4f46 sync \u4f1a\u5220\u9664\u591a\u4f59\u6587\u4ef6\nrclone copy /local/path GDrive:remote/path\n\n# \u4e0a\u4f20\u5355\u4e2a\u6587\u4ef6\nrclone copy /paht/to/local/file GDrive:remote/path/\n</code></pre>"},{"location":"Nulling/Server/Install_Apps/#3-dbms","title":"3 DBMS","text":""},{"location":"Nulling/Server/Install_Apps/#mysql","title":"MySQL","text":"<ol> <li> <p>\u4e0b\u8f7d\uff1a\u8bf7\u81f3 \u5b98\u7f51 \u9009\u62e9\u5408\u9002\u7248\u672c\uff0c\u6b64\u5904\u9009\u7528 v5.7.29\uff08OS \u9700\u8981\u9009  <code>Linux Generic</code>\uff09</p> <p>emmmmm <code>v8.0.18</code> \u4ee5\u4e0a\u624d\u652f\u6301 <code>EXPLAIN ANALYSE</code></p> <pre><code>wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.29-linux-glibc2.12-x86_64.tar\n\n# \u89e3\u538b &amp; \u91cd\u547d\u540d\ntar -zxvf mysql-5.7.29-linux-glibc2.12-x86_64.tar \n# \u62a5 gzip: stdin: not in gzip format \u53ef\u4ee5\u6539\u6210 -xvf\uff0c\u5f97\u5230\uff1a\n# - \u4e3b\u7a0b\u5e8f\uff1amysql-5.7.29-linux-glibc2.12-x86_64.tar.gz (&lt;- \u7ee7\u7eed\u5904\u7406\u8fd9\u4e2a)\n# - \u6d4b\u8bd5\u5957\u4ef6\uff1amysql-test-5.7.29-linux-glibc2.12-x86_64.tar.gz\nmv mysql-5.7.29-linux-glibc2.12-x86_64 mysql\n</code></pre> </li> <li> <p>\u7f16\u5199\u914d\u7f6e\u6587\u4ef6\uff1a\u5c06 $INSTALL_PREFIX \u66ff\u6362\u4e3a\u5b9e\u9645\u5b89\u88c5\u8def\u5f84</p> <p>\u56e0\u4e3a MySQL \u4e0d\u4f1a\u626b\u63cf\u81ea\u5b9a\u4e49\u8def\u5f84\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6700\u597d\u521b\u5efa\u5728 HOME \u76ee\u5f55\u4e0b\uff1a<code>~/.my.cnf</code></p> mysql/my.cnf<pre><code>[client]   \nport=3306  \nsocket=$INSTALL_PREFIX/mysql/mysql.sock  \n\n[mysqld]\nport=3306\nbasedir=$INSTALL_PREFIX/mysql\ndatadir=$INSTALL_PREFIX/mysql/data\npid-file=$INSTALL_PREFIX/mysql/mysql.pid\nsocket=$INSTALL_PREFIX/mysql/mysql.sock\nlog_error=$INSTALL_PREFIX/mysql/error.log\nserver-id=100\nlower_case_table_names=1 # \u8bbe\u7f6e\u5927\u5c0f\u5199\u4e0d\u654f\u611f\n</code></pre> </li> <li> <p>\u5b89\u88c5\uff1a\u4e0d\u6253\u5370\u4efb\u4f55\u6d88\u606f\u5373\u4e3a\u5b89\u88c5\u6210\u529f\uff0c\u6b64\u5904\u7684 USER_NAME \u4e3a\u7cfb\u7edf\u7528\u6237\u540d</p> <pre><code>bin/mysqld \\\n# \u524d\u9762\u914d\u7f6e\u6587\u4ef6\u4e3a ~/.my.cnf \u7684\u8bdd\uff0c\u4fee\u6539\u4e3a\u5bf9\u5e94\u8def\u5f84\n--defaults-file=$INSTALL_PREFIX/mysql/my.cnf \\\n--initialize \\\n--user=USER_NAME \\\n--basedir=$INSTALL_PREFIX/mysql \\\n--datadir=$INSTALL_PREFIX/mysql/data\n</code></pre> </li> <li> <p>\u542f\u52a8\u670d\u52a1</p> <pre><code>cd $INSTALL_PREFIX/mysql\n./bin/mysqld_safe \\\n# \u524d\u9762\u914d\u7f6e\u6587\u4ef6\u4e3a ~/.my.cnf \u7684\u8bdd\uff0c\u4fee\u6539\u4e3a\u5bf9\u5e94\u8def\u5f84\n--defaults-file=$INSTALL_PREFIX/mysql/my.cnf \\\n--user=USER_NAME &amp;\n</code></pre> </li> <li> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u628a <code>bin</code> \u52a0\u5165 <code>$PATH</code> \u53d8\u91cf\uff09</p> ~/.bashrc<pre><code>export PATH=\"$PATH:/path/to/mysql/client\"\n</code></pre> </li> <li> <p>\u83b7\u53d6\u521d\u59cb\u5bc6\u7801\uff1a</p> <ul> <li> <p>\u968f\u673a\u5bc6\u7801\u5728 <code>error.log</code> \u6587\u4ef6\u4e2d\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u67e5\u770b</p> <pre><code>cat error.log | grep root@localhost\n</code></pre> </li> <li> <p>\u4f60\u53ef\u4ee5\u5728\u767b\u5f55\u540e\u901a\u8fc7\u4ee5\u4e0b SQL \u6307\u4ee4\u8fdb\u884c\u4fee\u6539</p> <pre><code># \u8bbe\u7f6e\u65b0\u5bc6\u7801\nSET PASSWORD FOR 'root'@'localhost' = PASSWORD('neo_pwd');\n# v8.0.30 \u5e94\u8be5\u4e3a\nSET PASSWORD FOR 'root'@'localhost' = 'neo_pwd';\n\n# \u4f7f\u7528\u6237root\u80fd\u88ab\u4efb\u4f55host\u8bbf\u95ee\nupdate mysql.user set host = '%' where user = 'root';\n# \u5237\u65b0\u7cfb\u7edf\u6743\u9650\nflush privileges;\n</code></pre> </li> </ul> </li> <li> <p>\u62a5\u9519\u5904\u7406</p> <ol> <li> <p>\u82e5\u901a\u8fc7 <code>mysql -u [User] -p</code> \u767b\u5f55\u62a5\u9519\uff1a<code>Command 'mysql' not found</code>\uff0c\u5219\u5c06 <code>$INSTALL_PREFIX/mysql/bin</code> \u52a0\u5165\u73af\u5883\u53d8\u91cf <code>$PATH</code></p> <pre><code># @ ~/.bashrc\nexport PATH=\"$PATH:$INSTALL_PREFIX/mysql/bin\"\n</code></pre> </li> <li> <p>\u767b\u5f55\u62a5\u9519\uff1a<code>Can't connect to local MySQL server through socket '/tmp/mysql.sock'</code></p> <p>\u6700\u597d\u901a\u8fc7 <code>mysql --print-defaults</code> \u68c0\u9a8c\u4e00\u4e0b\u5ba2\u6237\u7aef\u914d\u7f6e\u662f\u5426\u751f\u6548\uff08\u6253\u5370\u4e3a\u7a7a\u8bf4\u660e\u672a\u751f\u6548\uff09</p> <ul> <li> <p>\u4e34\u65f6\uff1a\u6307\u5b9a\u8fde\u63a5\u4f7f\u7528\u7684 socket \u6587\u4ef6</p> <pre><code>mysql --socket=$INSTALL_PREFIX/mysql/mysql.sock -u root -p\n</code></pre> </li> <li> <p>\u957f\u671f\uff1a\u5148 kill \u6389\u6240\u6709 mysql \u76f8\u5173\u8fdb\u7a0b\uff0c\u7136\u540e\u628a <code>my.cnf</code> \u632a\u5230 HOME \u76ee\u5f55\u540e\u91cd\u542f\u670d\u52a1</p> </li> </ul> </li> </ol> </li> <li> <p>\uff08\u6e29\u548c\u7684\uff09\u5173\u95ed\u670d\u52a1</p> <pre><code>mysqladmin -u root -p shutdown # \u8be5\u547d\u4ee4\u53ef\u4ee5\u9632\u6b62\u6570\u636e\u635f\u574f\npkill mysqld                   # \u4e5f\u80fd\u7528\n# \u76ee\u6d4b\u4e0d\u5982\u628a mysql_safe \u90a3\u4e2a\u8fdb\u7a0b\u7ed9 KILL \u6389\uff08\u53ea KILL mysqld \u4f1a\u88ab\u8fd9\u4e2a\u62c9\u8d77\u6765\uff09\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#_7","title":"\u5361\u987f\u5904\u7406","text":"<ul> <li> <p>\u8868\u73b0\uff1a\u53ef\u4ee5\u767b\u5f55\uff0c\u4f46\u6267\u884c <code>show databases</code> / <code>use DB</code> \u7b49\u57fa\u672c\u547d\u4ee4\u5747\u65e0\u54cd\u5e94</p> </li> <li> <p>\u5904\u7406\uff1a</p> </li> <li> <p>\u6ce8\u610f\uff0c\u6267\u884c <code>KILL</code> \u4e0d\u4f1a\u7acb\u523b \u6740\u6b7b\u7ebf\u7a0b\uff08Command \u5df2\u6807\u8bb0\u4e3a <code>killed</code>\uff0c\u4f46 Satate \u4ecd\u4e3a <code>executing</code>\uff09     \u53ea\u6709\u5728\u8fbe\u5230\u7279\u5b9a\u7684 safe point\uff0c\u8fd9\u4e9b\u7ebf\u7a0b\u624d\u4f1a\u771f\u6b63\u9000\u51fa</p> </li> <li>\u4f60\u53ef\u4ee5\u5173\u6ce8\u5176\u4e2d\u7684 Time \u662f\u5426\u589e\u957f\u8fdb\u884c\u786e\u8ba4\uff08\u4e0d\u884c\u5c31\u91cd\u542f\u5427\uff09</li> </ul> <pre><code>SHOW PROCESSLIST       # \u68c0\u67e5\u6b63\u5728\u6392\u961f\u7684\u8fdb\u7a0b\nKILL QUERY [therad_id] # \u76f4\u63a5 KILL xxx \u4f1a\u5bfc\u81f4\u65ad\u5f00\u8fde\u63a5\n</code></pre>"},{"location":"Nulling/Server/Install_Apps/#_8","title":"\u91cd\u88c5\u7cfb\u7edf\u540e\u65e0\u6cd5\u6b63\u5e38\u767b\u5f55","text":"<ul> <li> <p>\u8868\u73b0\uff1a\u5728\u901a\u8fc7 <code>error.log</code> \u63d0\u4f9b\u7684\u521d\u59cb\u5bc6\u7801\u767b\u5f55\u65f6\uff0c\u4e00\u76f4\u63d0\u793a   <pre><code>ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\n</code></pre></p> </li> <li> <p>\u4fee\u590d\u8fc7\u7a0b</p> </li> <li> <p>\u4f7f\u7528\u5b89\u5168\u6a21\u5f0f\u91cd\u542f\u3001\u8df3\u8fc7\u5bc6\u7801\u9a8c\u8bc1</p> <pre><code>./bin/mysqld_safe \\\n   --defaults-file=/home/yunfengshen/.my.cnf \\\n  --skip-grant-tables \\ # \u8df3\u8fc7\u5bc6\u7801\u9a8c\u8bc1\n  --skip-networking \\   # \u4ec5\u672c\u5730\u8fde\u63a5\n  --datadir=/data-2/yunfengshen/apps/mysql-8.0.30/data \\\n  --socket=/data-2/yunfengshen/apps/mysql-8.0.30/mysql.sock \\\n  &amp;\n</code></pre> </li> <li> <p>\u65e0\u5bc6\u7801\u767b\u5f55</p> <pre><code>./bin/mysql -u root -S ./mysql.sock\n</code></pre> </li> <li> <p>\u4fee\u6539 <code>root</code> \u7684\u5bc6\u7801</p> <pre><code>FLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY '123456';\n</code></pre> <p>\u6b64\u65f6\u4f9d\u7136\u62a5\u9519\uff1a<code>Operation ALTER USER failed for 'root'@'localhost'</code>\uff0c\u8fdb\u4e00\u6b65\u6392\u67e5</p> <pre><code>SELECT User, Host FROM mysql.user WHERE User = 'root';\n+------+------+\n| User | Host |\n+------+------+\n| root | %    | -- \u4e0d\u5b58\u5728 Host = localhost \u7684\u7528\u6237\n+------+------+ \n</code></pre> </li> <li> <p>\u521b\u5efa <code>root@localhost</code></p> <pre><code>CREATE USER 'root'@'localhost' IDENTIFIED BY '123456';\n-- \u62a5\u9519: ERROR 1396 (HY000): Operation CREATE USER failed for 'root'@'localhost'\n-- \u539f\u56e0\uff1a\u6ca1\u5378\u8f7d\u5e72\u51c0\uff0c\u9700\u8981\u5148\u6267\u884c DROP USER IF EXISTS 'root'@'localhost';\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION;\n\n-- \u5237\u65b0\u5e76\u9000\u51fa\nFLUSH PRIVILEGES;\nEXIT;\n</code></pre> </li> <li> <p>\u968f\u540e\u9000\u51fa\u65e0\u5bc6\u7801\u6a21\u5f0f <code>pkill mysqld</code>\uff0c\u5e76\u91cd\u65b0\u542f\u52a8\u666e\u901a\u670d\u52a1</p> </li> </ul>"},{"location":"Nulling/Server/Install_Apps/#sqlite3","title":"SQLite3","text":"<p>SQLite \u4f9d\u8d56\u4e8e <code>gcc</code> \u548c <code>make</code>\uff0c\u8bf7\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5</p> <ol> <li> <p>\u4e0b\u8f7d\u6e90\u7801</p> <pre><code># \u521b\u5efa\u5de5\u4f5c\u76ee\u5f55\nmkdir -p ~/sqlite-build &amp;&amp; cd ~/sqlite-build\n\n# \u4e0b\u8f7d\u6e90\u7801\uff08\u8bf7\u68c0\u67e5 https://www.sqlite.org/download.html \u83b7\u53d6\u6700\u65b0\u7248\u672c\uff09\nwget https://www.sqlite.org/2025/sqlite-amalgamation-3500400.zip\n\n# \u89e3\u538b\nunzip sqlite-amalgamation-*.zip\ncd sqlite-amalgamation-*/\n</code></pre> </li> <li> <p>\u7f16\u8bd1\u5e76\u5b89\u88c5\u5230\u6307\u5b9a\u76ee\u5f55</p> <pre><code># \u521b\u5efa\u5b89\u88c5\u76ee\u5f55 =&gt; \u4e4b\u4f1a\u6e05\u7406\nmkdir -p $INSTALL_PREFIX/sqlite3\n\n# \u5728\u89e3\u538b\u8def\u5f84\u4e0b\u7f16\u8bd1\u9759\u6001\u5e93\ngcc -o sqlite3 -DSQLITE_ENABLE_FTS5 -DSQLITE_ENABLE_JSON1 \\\n    -I. shell.c sqlite3.c -lpthread -lm -ldl\n\nmkdir -p $INSTALL_PREFIX/sqlite3/include\nmkdir -p $INSTALL_PREFIX/sqlite3/lib\ncp sqlite3 $INSTALL_PREFIX/sqlite3/bin/ # \u590d\u5236\u53ef\u6267\u884c\u6587\u4ef6\n\n# [\u53ef\u9009] \u7f16\u8bd1\u5171\u4eab\u5e93\ngcc -shared -fPIC -o libsqlite3.so sqlite3.c -lpthread -ldl\ncp sqlite3.h $INSTALL_PREFIX/sqlite3/include/\ncp libsqlite3.so $INSTALL_PREFIX/sqlite3/lib/\n</code></pre> </li> <li> <p>\u7f16\u8f91\u73af\u5883\u53d8\u91cf</p> <pre><code># \u5c06 $INSTALL_PREFIX/sqlite3/bin \u52a0\u5165 PATH\uff08\u6c38\u4e45\u751f\u6548\uff09\necho 'export PATH=\"$INSTALL_PREFIX/sqlite3/bin:$PATH\"' &gt;&gt; ~/.bashrc\n\n# \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\nsource ~/.bashrc\n</code></pre> </li> </ol> <p>OK\uff0c\u8fd9\u5c31\u88c5\u597d\u4e86\u3002\u4e0d\u653e\u5fc3\u7684\u8bdd\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u9a8c\u8bc1</p> <pre><code>sqlite3 --version\n</code></pre>"},{"location":"Nulling/Server/Install_Apps/#postgresql","title":"PostgreSQL","text":"<ol> <li> <p>\u4e0b\u8f7d\u5b89\u88c5\u5305\u5e76\u89e3\u538b</p> <pre><code>wget https://ftp.postgresql.org/pub/source/v15.4/postgresql-15.4.tar.gz\ntar -zxvf postgresql-15.4.tar.gz\n</code></pre> </li> <li> <p>\u914d\u7f6e\u5b89\u88c5\u8def\u5f84</p> <pre><code>cd postgresql-15.4\n./configure \\\n--prefix=$INSTALL_PREFIX/postgresql-15.4 \\\n--quiet --without-readline\n</code></pre> </li> <li> <p>\u7f16\u8bd1\uff1a\u8be5\u547d\u4ee4\u5c06\u5728 <code>$INSTALL_PREFIX/bin</code> \u4e0b\u751f\u6210 <code>/bin &amp; /share</code></p> <pre><code>make &amp;&amp; make install # \u8fd8\u662f\u5728\u89e3\u538b\u8def\u5f84\n</code></pre> </li> <li> <p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff08\u4ee5\u652f\u6301\u76f4\u63a5\u901a\u8fc7 <code>psql</code> \u547d\u4ee4\u8fdb\u884c\u8fde\u63a5\uff09</p> <pre><code>echo 'export PATH=\"$INSTALL_PREFIX/bin:$PATH\"' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre> </li> <li> <p>\u521d\u59cb\u5316\u6570\u636e\u5e93\uff08\u96c6\u7fa4\uff09</p> <pre><code>cd $INSTALL_PREFIX/bin\n./initdb -D [path/to/store/db]\n</code></pre> <p>\u5176\u4e2d\uff0c\u53c2\u6570 <code>-D</code> \u7528\u4e8e\u6307\u5b9a DB \u5b58\u50a8\u8def\u5f84\uff08\u5fc5\u586b\uff09\uff0c<code>-U</code> \u7528\u4e8e\u6307\u5b9a\u7ba1\u7406\u5458\u7528\u6237\u540d\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7684\u7cfb\u7edf\u7528\u6237\u540d\uff09\uff0c<code>-W</code> \u7528\u4e8e\u6307\u5b9a\u7ba1\u7406\u5458\u8d26\u6237\u5bc6\u7801\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff09</p> </li> <li> <p>\u542f\u52a8\u670d\u52a1</p> <pre><code>pg_ctl -D [path/to/store/db] start\npg_ctl -D [path/to/store/db] stop # \u5173\u95ed\u96c6\u7fa4\n</code></pre> </li> <li> <p>\u8fde\u63a5\u6570\u636e\u5e93</p> <ul> <li> <p>\u5f53\u7528\u6237\u540d\u5e76\u975e <code>postgres</code> \u65f6\uff0c\u5c06\u62a5\u9519 <code>database doesn't exist</code></p> </li> <li> <p>\u9700\u8981\u5148\u8fde\u63a5\u81f3 <code>psql postgres</code>\uff0c\u968f\u540e\u521b\u5efa\u5176\u4ed6\u6570\u636e\u5e93</p> </li> </ul> <pre><code>psql                 # \u8fde\u63a5\u4e0e\u7cfb\u7edf\u7528\u6237\u540d\u76f8\u540c\u7684\u6570\u636e\u5e93\npsql [database_name] # \u8fde\u63a5\u6307\u5b9a\u6570\u636e\u5e93\n</code></pre> </li> </ol>"},{"location":"Nulling/Server/Install_Apps/#pgloader","title":"PGLoader","text":"<p>\u6700\u9ebb\u70e6\u7684\u4e00\u96c6</p> <ul> <li> <p>\u672c\u4f53\u5b89\u88c5\u4e09\u90e8\u66f2\uff08\u5012\u662f\u7b80\u5355\uff09</p> <pre><code># 1 \u4e0b\u8f7d\u6e90\u7801\ngit clone git@github.com:dimitri/pgloader.git\ncd pgloader\n\n# 2 \u7f16\u8bd1\nmake pgloader\n\n# 3 \u79fb\u52a8\u53ef\u6267\u884c\u6587\u4ef6\nmv ./build/bin/pgloader $INSTALL_PREFIX/bin/\n</code></pre> </li> <li> <p>\u5269\u4e0b\u4f1a\u6709\u5343\u5947\u767e\u602a\u7684\u4f9d\u8d56\u62a5\u9519\uff0c\u770b\u4e0b\u9762\u51e0\u4e2a\u5c0f\u8282\u5427</p> </li> </ul>"},{"location":"Nulling/Server/Install_Apps/#sbcl","title":"SBCL","text":"<ul> <li> <p>\u6700\u7ec8\u9009\u62e9 v2.1.0 \u7248\u672c\u8fdb\u884c\u5b89\u88c5</p> <ul> <li>\u8fd9\u4e1c\u897f\u5bf9\u672c\u5730\u7684 GCC \u7248\u672c\u6709\u8981\u6c42\uff0c\u6700\u65b0\u7248\u8981\u6c42 <code>glibc &gt;= 2.32</code></li> <li><code>pgloader</code> \u9700\u8981\u7684 <code>DEFINE-ALIEN-CALLABLE</code> \u8981\u6c42 <code>sbcl &gt;= 2.1.10</code></li> </ul> </li> <li> <p>\u53ef\u80fd\u7684\u62a5\u9519\uff1a<code>Unable to load libsybdb.so</code></p> <p><code>libsybdb.so</code> \u662f FreeTDS \u5e93\u7684\u4e00\u90e8\u5206\uff0c\u9700\u8981\u5168\u88c5\u4e0a</p> <pre><code># \u4e0b\u8f7d\nwget -c http://ibiblio.org/pub/Linux/ALPHA/freetds/stable/freetds-stable.tgz\ntar -zxvf freetds-stable.tgz\n\n# \u5b89\u88c5\ncd freetds-0.91\n./configure \u3001\n--prefix=$INSTALL_PREFIX/freetds \\\n--with-tdsver=8.0 --enable-msdblib\nmake &amp;&amp; make install\n\n# \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\nLD_LIBRARY_PATH=\"$INSTALL_PREFIX/freetds/lib:$LD_LIBRARY_PATH\"\n</code></pre> </li> <li> <p>\u672c\u4f53\u5b89\u88c5</p> <ol> <li> <p>\u4e0b\u8f7d \u6700\u65b0\u4e8c\u8fdb\u5236\u5305\uff0c\u6216 \u8f83\u65e7\u7248\u672c</p> </li> <li> <p>\u89e3\u538b &amp; \u6307\u5b9a\u5b89\u88c5\u8def\u5f84\uff08\u9ed8\u8ba4\u5728 <code>/usr/local</code>\uff09</p> <pre><code>INSTALL_ROOT=$INSTALL_PREFIX/sbcl sh install.sh\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Server/Install_Apps/#libpqxx","title":"LibPQXX","text":"<ol> <li> <p>\u4e0b\u8f7d\u6e90\u7801</p> <p><code>libpqxx</code> \u5bf9 g++ \u7248\u672c\u6709\u4e00\u5b9a\u8981\u6c42\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>git checkout [Version]</code> \u8fdb\u884c\u5207\u6362</p> <pre><code>git clone git@github.com:jtv/libpqxx.git\ncd libpqxx\n</code></pre> </li> <li> <p>\u8bd5\u4e00\u4e0b configue + \u5b89\u88c5</p> <pre><code>./configure \\\n    --prefix=$INSTALL_PREFIX/libpqxx \\\n    --with-postgres-include=$INSTALL_PREFIX/postgresql-15.4/include \\\n    --with-postgres-lib=$INSTALL_PREFIX/postgresql-15.4/lib \\\n    --disable-documentation # \u8fd9\u6837\u5c31\u4e0d\u7528\u88c5 xmlto \u4e86\n\n# \u4e0d\u62a5\u9519\uff08C++\u7248\u672c\u592a\u4f4e\uff09\u5c31\u53ef\u4ee5\u5b89\u88c5\u4e86\nmake &amp;&amp; make install\n</code></pre> </li> <li> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u4f46 LD \u597d\u50cf\u4e00\u76f4\u627e\u4e0d\u5230\uff09</p> <p>\u6ce8\u610f\u4e00\u4e0b\u683c\u5f0f\uff0c\u5728 <code>~/.bashrc</code> \u91cc\u9700\u8981\u52a0 <code>\"</code></p> <pre><code>export LD_LIBRARY_PATH=$INSTALL_PREFIX/libpqxx/lib:$LD_LIBRARY_PATH\nexport PKG_CONFIG_PATH=$INSTALL_PREFIX/libpqxx/lib/pkgconfig:$PKG_CONFIG_PATH\n</code></pre> </li> <li> <p>\u5b89\u88c5\u9a8c\u8bc1</p> <pre><code>pkg-config --exists libpqxx &amp;&amp; echo \"OK\" || echo \"Still missing\"\n</code></pre> </li> <li> <p>\u53ef\u80fd\u4f1a\u62a5\u9519\uff1a<code>No package 'libpq' found</code></p> </li> <li> <p>\u4ece PostgreSQL \u6e90\u7801\u8fdb\u884c\u7f16\u8bd1\uff08\u4ec5 \u5ba2\u6237\u7aef <code>libpq</code> \u90e8\u5206\uff09</p> <pre><code>./configure \\\n--prefix=$INSTALL_PREFIX/libpq \\\n--without-readline --without-zlib\nmake -C src/interfaces/libpq\nmake -C src/include\n</code></pre> </li> <li> <p>\u5c06  <code>libpq</code> \u5b89\u88c5\u5230\u6307\u5b9a\u76ee\u5f55</p> <pre><code>make -C src/interfaces/libpq install\nmake -C src/include install\n</code></pre> <p>\u6b64\u65f6\uff1a</p> <ul> <li><code>libpq</code> \u5934\u6587\u4ef6\u5b89\u88c5\u5728 (1) \u4e2d\u6307\u5b9a\u76ee\u5f55\u7684 <code>include</code> \u4e0b</li> <li><code>libpq</code> \u5e93\u5b89\u88c5\u5728 (1) \u4e2d\u6307\u5b9a\u76ee\u5f55\u7684 <code>lib/libpq.so</code></li> </ul> </li> <li> <p>\u914d\u7f6e\u73af\u5883\u53d8\u91cf</p> ~/.bashrc<pre><code>export PATH=\"$INSTALL_PREFIX/libpq:$PATH\"\nexport LD_LIBRARY_PATH=\"$INSTALL_PREFIX/libpq/lib:$LD_LIBRARY_PATH\"\nexport PKG_CONFIG_PATH=\"$INSTALL_PREFIX/libpq/lib/pkgconfig:$PKG_CONFIG_PATH\"\n</code></pre> </li> <li> <p>\u9a8c\u8bc1\u662f\u5426\u53ef\u7528</p> <pre><code>pkg-config --exists libpq &amp;&amp; echo \"OK\" || echo \"Still missing\" # \u663e\u793a OK \u5373\u53ef\n</code></pre> </li> </ol>"},{"location":"Nulling/Tool/Axios/","title":"Axios","text":""},{"location":"Nulling/Tool/Axios/#_1","title":"\u7b80\u5355\u642d\u5efa\u670d\u52a1","text":"<p>\u4f7f\u7528 Json-Server \u5feb\u901f\u642d\u5efa HTTP \u670d\u52a1</p> <ol> <li> <p>\u5b89\u88c5   <pre><code>  npm install -g json-server\n</code></pre></p> </li> <li> <p>\u521b\u5efa <code>db.json</code> <pre><code>{\n  \"posts\": [\n    { \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n  ],\n  \"comments\": [\n    { \"id\": 1, \"body\": \"some comment\", \"postId\": 1 }\n  ],\n  \"profile\": { \"name\": \"typicode\" }\n}\n</code></pre></p> </li> <li> <p>\u542f\u52a8\u670d\u52a1\uff08\u5de5\u4f5c\u8def\u5f84\u4e0e <code>db.json</code> \u6240\u5728\u4f4d\u7f6e\u4e00\u81f4\uff09    <pre><code> json-server --watch db.json\n</code></pre></p> </li> <li>\u8bbe\u7f6e\u54cd\u5e94\u5ef6\u65f6     ```bash     # \u4f7f\u7528\u4e0b\u5217\u547d\u4ee4\u8fdb\u884c\u542f\u52a8</li> </ol> <p> \u7ea6 346 \u4e2a\u5b57  163 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <pre><code>json-server --delay 2000\n```\n</code></pre>"},{"location":"Nulling/Tool/Axios/#axios","title":"Axios","text":"<p>Github \u9879\u76ee\u5730\u5740</p>"},{"location":"Nulling/Tool/Axios/#1-set-up","title":"1 Set Up","text":"<ul> <li>\u9879\u76ee\uff1a<code>npm install axios</code></li> <li>\u5355\u9875\u9762\u6446\u70c2\uff1a   <code>&lt;script src=\"https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js\"/&gt;</code></li> </ul>"},{"location":"Nulling/Tool/Axios/#2-axios","title":"2 \u57fa\u672c\u4f7f\u7528(axios\u672c\u4f53)","text":""},{"location":"Nulling/Tool/Axios/#getreadonly","title":"GET(ReadOnly)","text":"<pre><code>axios({\n    method: 'GET',\n    // \u662f Json-Server \u7684 url \u5730\u5740\n    url: 'http://localhost:3000/posts/1'\n}).then( res =&gt; {} )\n</code></pre>"},{"location":"Nulling/Tool/Axios/#postinsert","title":"POST(Insert)","text":"<pre><code>axios({\n    method: 'POST',\n    url: 'http://localhost:3000/posts',\n    data: {\n        title: 'This is title',\n        author: 'Tom'\n    }\n}).then( res =&gt; {} )\n</code></pre>"},{"location":"Nulling/Tool/Axios/#putupdate","title":"PUT(Update)","text":"<pre><code>axios({\n    method: 'PUT',\n    // 2 - \u9700\u8981\u4fee\u6539\u8bb0\u5f55\u7684 id\n    url: 'http://localhost:3000/posts/2',\n    data: {\n        title: 'New World',\n        author: 'Jack'\n    }\n}).then( res =&gt; console.log(res))\n</code></pre>"},{"location":"Nulling/Tool/Axios/#delete","title":"DELETE","text":"<pre><code>axios({\n    method: 'DELETE',\n    // 1 - \u9700\u8981\u5220\u9664\u8bb0\u5f55\u7684 id\n    url: 'http://localhost:3000/posts/1'\n}).then(res=&gt;{})\n</code></pre>"},{"location":"Nulling/Tool/Axios/#3","title":"3 \u5176\u4ed6\u65b9\u6cd5","text":""},{"location":"Nulling/Tool/Axios/#axiosrequest","title":"axios.request","text":"<pre><code>axios.request({\n    method: 'GET',\n    url: 'http://localhost:3000/cpmments',\n}).then(res =&gt; {})\n</code></pre>"},{"location":"Nulling/Tool/Axios/#axiospost","title":"axios.post","text":"<pre><code>axios.post(\n    'url',\n    // data\n    {\n        'body': 'sth',\n        'postId': 2\n    }\n).then(res=&gt;{})\n</code></pre>"},{"location":"Nulling/Tool/Axios/#axiosall","title":"axios.all \u5e76\u53d1\u53d1\u9001\u8bf7\u6c42","text":"<pre><code>function getUserAccount() {  \n  return axios.get('/user/12345');  \n}  \n\nfunction getUserPermissions() {  \n  return axios.get('/user/12345/permissions');  \n}  \n\naxios.all([getUserAccount(), getUserPermissions()])  \n  .then(axios.spread(function (acct, perms) {  \n    // \u5c06\u5728\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u8bf7\u6c42\u5b8c\u6210\u540e\u7edf\u4e00\u6267\u884c\u56de\u8c03\n  }));\n</code></pre>"},{"location":"Nulling/Tool/Axios/#4","title":"4 \u54cd\u5e94\u7ed3\u6784","text":"<ul> <li><code>config</code>  \u914d\u7f6e\u5bf9\u8c61</li> <li><code>data</code> \u670d\u52a1\u5668\u8fd4\u56de\u7684\u7ed3\u679c</li> <li><code>headers</code> \u54cd\u5e94\u5934\u7684\u4fe1\u606f</li> <li><code>request</code> \u539f\u751f ajax \u5b9e\u4f8b\u5bf9\u8c61</li> <li><code>status</code> \u54cd\u5e94\u72b6\u6001\u5417</li> <li><code>statusText</code> \u54cd\u5e94\u72b6\u6001\u5b57\u7b26\u4e32</li> </ul>"},{"location":"Nulling/Tool/Axios/#5","title":"5 \u914d\u7f6e\u5bf9\u8c61","text":"<pre><code>{\n    url: '/comments',\n    method: 'get/post',\n    basURL: 'http://localhost:3000', // axios \u81ea\u5df1\u4f1a\u8fdb\u884c\u62fc\u63a5\n    transformRequest: [function (data, headers) {\n        // \u5bf9\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u5904\u7406\uff0c\u6700\u540e\u4f1a\u53d1\u9001\u5904\u7406\u8fc7\u7684\u6570\u636e\n        return data\n    }],\n    transformResponse: [function (data) {\n        // \u5bf9\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u5c3d\u6027\u4e00\u4e9b\u5904\u7406\n        return data\n    }],\n    headers: { // \u914d\u7f6e\u4e00\u4e9b header\uff0c\u4f20\u6587\u4ef6/\u8de8\u57df\u53ef\u80fd\u4f1a\u7528\u5230\n        'X-Requested-With': 'XMLHttpRequest'\n    },\n    params: { // \u8bbe\u7f6e\u8ddf\u5728 url \u540e\u9762\u7684 params \u53c2\u6570\n        ID:12345\n    },\n    paramsSerializer: function(params) {\n        // \u670d\u52a1\u5668\u8981\u6c42\u7684\u683c\u5f0f\u53ef\u80fd\u662f post/a.100/b.200\n    },\n    data: {},\n    // \u5bf9\u8c61 / \u5b57\u7b26\u4e32\u5747\u53ef\uff0c\u5bf9\u8c61\u4f1a\u8f6c\u6210 json \u4f20\u9012\uff0c\u5b57\u7b26\u4e32\u4f1a\u76f4\u63a5\u4f20\u9012\n}\n</code></pre>"},{"location":"Nulling/Tool/Axios/#6","title":"6 \u9ed8\u8ba4\u914d\u7f6e","text":"<p>\u8fdb\u884c\u4e00\u4e9b\u901a\u7528\u914d\u7f6e\u9879\u7684\u4e66\u5199</p> <pre><code>// \u8fdb\u884c\u4e86\u4e00\u4e2a\u5168\u5c40\u7684\u914d\u7f6e\naxios.defaults.baseURL == 'http://localhost:3000'\n// \u8fd9\u6837\u5199\u4e4b\u540e\u7684\u9ed8\u8ba4\u65b9\u5f0f\u5c31\u662fGET\uff08\u53ef\u4ee5\u4e0d\u5199\u4e86\uff09\uff0c\u5176\u4ed6\u65b9\u6cd5\u5c31\u72ec\u7acb\u914d\u7f6e\u76d6\u8fc7\u53bb\naxios.defaults.method = 'GET'\n// 3s\u540e\u65e0\u54cd\u5e94\u5c31\u53d6\u6d88\u8bf7\u6c42\naxios.defaults.timeout = 3000\n// \u5176\u4ed6\u914d\u7f6e\u9879\u4e5f\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u6210 defaults \u7684\uff01\n</code></pre>"},{"location":"Nulling/Tool/Axios/#7","title":"7 \u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61","text":"<pre><code>// \u6b64\u5904\u4f20\u5165\u7684 config \u53ea\u5bf9\u5b9e\u4f8b\u5bf9\u8c61 a \u8d77\u4f5c\u7528\nconst a = axios.create({\n    baseURL: 'http://localhost:3000',\n    timeout: 2000\n})\n// \u7136\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u7528\u5b9e\u4f8b\u5bf9\u8c61\u53bb\u53d1\u8bf7\u6c42\uff08\u7528\u8d77\u6765\u548c\u76f4\u63a5\u6293 axios \u672c\u4f53\u5dee\u4e0d\u591a\uff09\na({url:'/comments'}).then(res=&gt;{})\na.get('/getSth').then(res=&gt;{})\n\n// \u5728\u5bf9\u4e0d\u540c\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5b9e\u4f8b\uff08\u5c11\u5199\u4e00\u4e9b baseURL\uff09\n</code></pre>"},{"location":"Nulling/Tool/Axios/#8","title":"8 \u62e6\u622a\u5668","text":"<p>\u51c6\u5907\u53d1\u9001 -&gt; \u8bf7\u6c42\u62e6\u622a\u5668\uff08\u901a\u8fc7\uff09-&gt; \u53d1\u9001\u8bf7\u6c42 -&gt; \u54cd\u5e94\u62e6\u622a\u5668 -&gt; .then \u5904\u7406\u8fd4\u56de\u7ed3\u679c</p> <p>\u4f7f\u7528 <code>forEach</code> \u904d\u5386 <code>handlers</code> \u6570\u7ec4\uff08\u6240\u4ee5\u662f\u5f80\u524d\u63d2\u5165\uff09 </p>"},{"location":"Nulling/Tool/Axios/#81","title":"8.1 \u8bf7\u6c42\u62e6\u622a\u5668","text":"<p>\u56e0\u4e3a\u7528 <code>unshift</code> \u5f80 <code>handlers</code> \u91cc\u653e\uff08\u524d\u63d2\u5165\uff09\uff0c\u540e\u5b9a\u4e49\u5148\u6267\u884c</p> <p>\u5728\u300c\u53d1\u9001\u524d\u300d\u5bf9\u8bf7\u6c42\u7684 \u5185\u5bb9/\u53c2\u6570 \u8fdb\u884c \u5904\u7406/\u68c0\u6d4b\uff0c\u6ca1\u6709\u95ee\u9898\u518d\u53d1\u51fa\u53bb\uff08\u5426\u5219\u76f4\u63a5\u53d6\u6d88\uff09</p> <pre><code>axios.interceptors.request.use\n// \u5206\u522b\u4e3a \u6210\u529f/\u5931\u8d25 \u6307\u5b9a\u56de\u8c03\n    config =&gt; { // \u53ef\u4ee5\u8c03\u6574\u4e00\u4e0b config\n        config.timeout = 2000\n        return config\n    },\n    err =&gt; {\n        return Promise.reject(err)\n    }\n)\n</code></pre>"},{"location":"Nulling/Tool/Axios/#82","title":"8.2 \u54cd\u5e94\u62e6\u622a\u5668","text":"<p>\u56e0\u4e3a\u7528 <code>push</code> \u5f80 <code>handlers</code> \u91cc\u653e\uff08\u540e\u8ffd\u52a0\uff09\uff0c\u5148\u5b9a\u4e49\u5148\u6267\u884c</p> <p>\u5728 then \u5904\u7406\u524d\uff0c\u5148\u7528\u54cd\u5e94\u62e6\u622a\u5668\u8fdb\u884c\u5904\u7406</p> <pre><code>axios.interceptors.response.use(\n    res =&gt; {\n        return res\n        // \u6211\u4e5f\u53ef\u4ee5 return res.data -&gt; .then \u5c31\u53ea\u80fd\u770b\u89c1 data \u7684\u5185\u5bb9\u4e86\n    },\n    err =&gt; {\n        return Promise.reject(err)\n    }\n)\n</code></pre>"},{"location":"Nulling/Tool/Axios/#9","title":"9 \u53d6\u6d88\u8bf7\u6c42","text":"<pre><code>var cancel = null; // \u5fc5\u987b\u662f\u5168\u5c40\u53d8\u91cf\n// \u9996\u5148\u8981\u4e3a\u8bf7\u6c42\u5bf9\u8c61\u914d\u7f6e cancelToken\naxios({\n    method: 'GET',\n    url: 'http://localhost:3000/posts',\n    cancelToken: new axios.CancelToken(function(c) {\n        cancel = c;\n    })\n}).then(res=&gt;{})\n\n// \u5728\u7ed1\u5b9a\u4e86\u53d6\u6d88\u4e8b\u4ef6\u7684\u6309\u94ae\u91cc\u6267\u884c\u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\u5c31\u884c\ncancel()\n</code></pre> <p>\u7136\u540e\u5b9e\u73b0\uff1a\u5728\u4e0a\u4e00\u4e2a\u8bf7\u6c42\u8fd8\u6ca1\u6709\u8fd4\u56de\u524d\uff0c\u53d6\u6d88\u524d\u4e00\u4e2a\u8bf7\u6c42\uff08\uff1f\uff09 <pre><code>var cancel = null;\n// cancel \u4e0d\u4e3a null \u65f6\uff0c\u8bf4\u660e\u4e0a\u4e00\u6b21\u8bf7\u6c42\nif(cancel !== null) cancel();\naxios({\n    methods: 'GET',\n    url: 'http://localhost:3000/comments',\n    cancelToken: new axios.CancelToken(c =&gt; cancel=c)\n}).then(\n     res =&gt; {\n         cancel = null;\n     }\n)\n</code></pre></p>"},{"location":"Nulling/Tool/Axios/#axios_1","title":"Axios \u6e90\u7801\u9274\u8d4f","text":""},{"location":"Nulling/Tool/Axios/#1","title":"1 \u6587\u4ef6\u7ed3\u6784","text":"<pre><code> - /dist # \u6253\u5305\u540e\u7684\u6587\u4ef6\uff0c\u5305\u62ec axios.js\n - /lib  # \u6240\u6709\u7684\u6e90\u4ee3\u7801\n     - /adapters # \u9002\u914d\u5668\u76f8\u5173\uff08\u4f1a\u9009\u4e00\u4e2a\u7528\uff09\n         - http.js # \u7528\u4e8e\u5728 node.js \u5411\u8fdc\u7aef\u53d1\u9001 http \u8bf7\u6c42\n         - xhr.js  # \u7528\u4e8e\u53d1\u9001 ajax \u8bf7\u6c42\n     - /cancel # \u53d6\u6d88\u76f8\u5173\n         - Cancel.js\n         - CancelToken.js # \u7528\u4e8e\u521b\u5efa\u53d6\u6d88\u5bf9\u8c61\u5b9e\u4f8b\n         - isCancel.js # \u901a\u8fc7 __CANCEL__ \u5224\u65ad\u662f\u5426\u4e3a cancel \u5b9e\u4f8b\n     - /core # \u6838\u5fc3\u529f\u80fd\n         - Axios.js # axios \u6784\u9020\u51fd\u6570\n     - /helper # \u4e00\u4e9b\u529f\u80fd\u51fd\u6570\n     - axios.js # \u5165\u53e3\u6587\u4ef6\n     - defaults.js # \u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\n     - utils.js # \u5de5\u5177\u51fd\u6570\n</code></pre>"},{"location":"Nulling/Tool/Git/","title":"Git","text":"<p> \u7ea6 277 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Nulling/Tool/Git/#1","title":"1. \u521b\u5efa\u65b0\u4ed3\u5e93","text":"<ol> <li>\u521b\u5efa\u65b0\u7684\u6587\u4ef6\u5939</li> <li>\u6267\u884c <code>git init</code></li> </ol>"},{"location":"Nulling/Tool/Git/#2","title":"2. \u514b\u9686\u4ed3\u5e93","text":"<ul> <li>\u514b\u9686 \u672c\u5730 \u4ed3\u5e93 <code>git clone path_to_local/repository</code></li> <li>\u514b\u9686 \u8fdc\u7a0b \u4ed3\u5e93 <code>git clone usrname@host:path_to_remote/repository</code></li> </ul>"},{"location":"Nulling/Tool/Git/#3","title":"3. \u5de5\u4f5c\u6d41","text":"<p>\u672c\u5730\u4ed3\u5e93\u7531 <code>git</code> \u7ef4\u62a4\u7740 \u4e09\u68f5\u6811\uff1a</p> <ul> <li><code>working dir</code> \u5de5\u4f5c\u76ee\u5f55\uff1a\u6301\u6709 \u5b9e\u9645 \u6587\u4ef6</li> <li><code>index</code> \u6682\u5b58\u533a\uff1a\u4e34\u65f6 \u4fdd\u5b58\u6539\u52a8</li> <li><code>HEAD</code> \uff1a\u4fdd\u5b58 \u6700\u8fd1\u4e00\u6b21 <code>commit</code> \u7ed3\u679c</li> </ul>"},{"location":"Nulling/Tool/Git/#4-commit","title":"4. \u6682\u5b58 &amp; \u63d0\u4ea4 <code>commit</code>","text":""},{"location":"Nulling/Tool/Git/#41-index","title":"4.1 \u6dfb\u52a0\u6539\u52a8\u5230\u6682\u5b58\u533a <code>index</code>","text":"<ul> <li>\u63d0\u4ea4\u5355\u6587\u4ef6\u6539\u52a8 <code>git add &lt;file_name&gt;</code></li> <li>\u63d0\u4ea4\u6240\u6709\u6587\u4ef6\u6539\u52a8 <code>git add *</code></li> </ul>"},{"location":"Nulling/Tool/Git/#42-head","title":"4.2 \u63d0\u4ea4\u6539\u52a8\u5230 <code>HEAD</code>","text":"<ul> <li><code>git commit -m \"\u5907\u6ce8\"</code></li> <li>\u8fd9\u4e00\u6307\u4ee4\u5c06\u6682\u5b58\u7684\u6539\u52a8\u63d0\u4ea4\u81f3 <code>HEAD</code>\uff0c\u4f46 \u5e76\u672a\u540c\u6b65\u81f3\u8fdc\u7aef</li> </ul>"},{"location":"Nulling/Tool/Git/#5-push","title":"5. \u63a8\u9001 <code>push</code>","text":"<ul> <li><code>git push origin \u5206\u652f\u540d\u79f0</code></li> <li>\u82e5\u8fd8\u6ca1\u6709\u514b\u9686\u73b0\u6709\u4ed3\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u5c06\u8be5\u4ed3\u5e93\u94fe\u63a5\u81f3\u8fdc\u7aef     <code>git remote add origin &lt;server_info&gt;</code></li> </ul>"},{"location":"Nulling/Tool/Git/#6-branch","title":"6. \u5206\u652f <code>branch</code>","text":"<ul> <li>\u521b\u5efa\u4ed3\u5e93\u65f6\u7684\u9ed8\u8ba4\u5206\u652f\u4e3a <code>master</code></li> <li>\u521b\u5efa\u5206\u652f\u5e76\u5207\u6362  <code>git checkout -b neo_branch_name</code></li> <li>\u5207\u6362\u56de\u4e3b\u5206\u652f <code>git checkout master</code></li> <li>\u5220\u9664\u5206\u652f <code>git branch -d delete_branch_name</code></li> <li>\u63a8\u9001\u5206\u652f\u81f3\u8fdc\u7aef <code>git push origin to_b_pulled_branch</code><ul> <li>\u672c\u5730\u5206\u652f\u88ab\u63a8\u9001\u81f3\u8fdc\u7aef\u524d\uff0c\u5bf9\u4ed6\u4eba \u4e0d\u53ef\u89c1</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/Mocha/","title":"Mocha \u5355\u5143\u6d4b\u8bd5","text":"<p> \u7ea6 313 \u4e2a\u5b57  112 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <ul> <li> <p>Macha \u662f JS \u7684\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\uff0c\u53ef\u4ee5\u81ea\u52a8\u8fd0\u884c\u6240\u6709\u5df2\u7f16\u5199\u7684\u6d4b\u8bd5\u5e76\u8fd4\u56de\u6d4b\u8bd5\u7ed3\u679c\u3002</p> </li> <li> <p>\u652f\u6301\u5bf9\u7b80\u5355 JS \u51fd\u6570\u4e0e\u5f02\u6b65\u51fd\u6570\u7684\u6d4b\u8bd5</p> </li> <li> <p>\u652f\u6301\u8fd0\u884c\u6240\u6709\u6d4b\u8bd5\uff0c\u6216\u4ec5\u8fd0\u884c\u7279\u5b9a\u6d4b\u8bd5</p> </li> <li> <p>\u652f\u6301\u901a\u8fc7 <code>before/after</code>, <code>beforeEach/afterEach</code> \u7b49\u94a9\u5b50\u51fd\u6570\u6307\u5b9a\u8fd0\u884c\u7b56\u7565</p> </li> <li> <p>WHY Mocha\uff1f</p> </li> </ul> <p>NodeJS \u5185\u7f6e\u7684\u65ad\u8a00\u65b9\u6cd5 <code>assert.strictEqual(func(params), expectedRes)</code> \u4ec5\u5728\u9884\u671f\u4e0e\u5b9e\u9645\u5b9e\u884c\u7ed3\u679c\u4e0d\u7b26\u65f6\u624d\u4f1a\u62a5\u9519\uff0c\u5e76\u4e14\u4f1a\u76f4\u63a5\u629b\u51fa\u5f02\u5e38\u3001\u5f71\u54cd\u540e\u7eed\u6d4b\u8bd5\u6267\u884c\u3002</p> <ul> <li>How to start?</li> </ul> <pre><code>npm install mocha\n</code></pre> <p>\u6700\u597d\u5728 <code>package.json</code> \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6307\u4ee4</p> <pre><code>{\n  'scripts': {\n    ...,\n    'test': 'mocha', # \u4f60\u53ef\u4ee5\u901a\u8fc7 npm run test \u8fd0\u884c /test \u4e0b\u7684\u6d4b\u8bd5\u4e86\n  }\n}\n</code></pre>"},{"location":"Nulling/Tool/Mocha/#1-sample","title":"1 Sample","text":"<pre><code>// @ test/test1.js\nvar assert = require('assert');\n\n// \u5b9a\u4e49\u4e00\u7ec4\u6d4b\u8bd5\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f1a\u88ab print \u5728\u63a7\u5236\u53f0\u4e0a\ndescribe('GroupName1', () =&gt; {\n  // \u8fd8\u53ef\u4ee5\u5d4c\u5957\u54e6\n  describe('GroupName1-1', () =&gt; {\n    // \u5b9a\u4e49\u5355\u4e2a\u6d4b\u8bd5\n    it('sum() \u5e94\u8be5\u8fd4\u56de 0', () =&gt; {\n      assert.strictEqual(sum(), 0)\n    })\n    it('sum(1) \u5e94\u8be5\u8fd4\u56de 1', () =&gt; {\n      assert.strictEqual(sum(1), 1)\n    })\n    it('sum(1,2,3) \u5e94\u8be5\u8fd4\u56de 6', () =&gt; {\n      assert.strictEqual(sum(1,2,3), 6)\n    })\n    })\n})\n</code></pre>"},{"location":"Nulling/Tool/Mocha/#2-chai","title":"2 Chai \u65ad\u8a00\u5e93","text":"<p>\u5b9e\u9645\u4e0a\uff0cMocha \u5141\u8bb8\u4f60\u4f7f\u7528\u4efb\u4f55\u504f\u597d\u7684\u65ad\u8a00\u5e93\uff08\u53ea\u8981\u8fd9\u4e2a\u4e1c\u897f\u80fd\u629b\u51fa\u9519\u8bef\uff09</p> <p>Chai \u65ad\u8a00\u5e93\u5305\u542b\u4e86 <code>expect</code>\uff0c<code>assert</code> \u548c <code>should</code> \u98ce\u683c\u7684\u65ad\u8a00\uff0c\u4f60\u9700\u8981\u901a\u8fc7 NPM \u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>npm install chai\n</code></pre> <pre><code>var chai = require('chai');\nvar assert = chai.assert;  // \u7528\u7684\u4e0d\u662f Node \u81ea\u5e26\u7684\u4e86\nchai.should();\nvar expect = chai.expect;\n\ndescribe('Demo', () =&gt; {\n  it('use assert', () =&gt; {\n    var val = 'hello';\n    assert.typeOf(val, 'string');\n    assert.equal(val, 'hello');\n    assert.lengthOf(val, 5);\n  })\n  // \u6709\u70b9\u78e8\u53fd\u4e86\u5c31\u662f\u8bf4\n  it('use should', () =&gt; {\n    var val = 'hello';\n    val.should.exist\n      .and.equal('hello')\n        .and.have.length(5)\n        .and.be.a('string');\n    /* \u5176\u5b9e\u4e5f\u53ef\u4ee5\u62c6\u5f00\u5199\n        val.should.be.a('string')\n        val.should.equal('hello')\n        val.should.not.euqal('hello1') */\n  })\n  it('use expect', () =&gt; {\n    var val = 'hello';\n    var num = 3;\n    expect(num).to.be.at.most(5);\n    expect(num).to.be.at.least(3);\n    expect(num).to.be.within(1, 4);\n\n    expect(val).to.exist;\n    expect(val).to.be.a('string');\n    expect(val).to.equal('hello');\n    expect(val).to.not.equal('\u4f60\u597d');\n    expect(val).to.have.length(5);\n  })\n})\n</code></pre>"},{"location":"Nulling/Tool/Mocha/#3","title":"3 \u5f02\u6b65\u6d4b\u8bd5","text":"<ul> <li>\u76f4\u63a5\u6309\u4e0a\u9762\u7684\u903b\u8f91\u5199\u5f02\u6b65\u51fd\u6570\u6d4b\u8bd5\u4f1a\u6709\u4e00\u70b9 bug</li> </ul> <p>\u5148\u62a5 \u2705\uff08\u4e0d\u7b49\u8fd4\u56de\u76f4\u63a5\u8dd1\u5b8c\u4e86\uff09\uff0c\u8fc7\u4e00\u4f1a\u513f\u53c8\u62a5 \u274c\uff08\u6570\u636e\u62ff\u56de\u6765\u4e86\uff09</p> <pre><code>// \u7528 done \u56de\u8c03\uff08\u6709\u70b9\u62bd\u8c61\uff09\ndescribe('test Async', () =&gt; {\n  it('read File', (done) =&gt; {\n    fs.readFile('./1.txt', 'utf8', (err, data) =&gt; {\n      if (err) {\n        done(err)\n      } else {\n        assert.strictEqual(data, 'hello')\n        done()\n      }\n    })\n  })\n})\n\n// \u5176\u5b9e\u4e5f\u53ef\u4ee5\u7528 async-await \u98ce\u683c\u5904\u7406\ndescribe('test Async', async () =&gt; {\n  it('read File', (done) =&gt; {\n    var data = await fs.readFile('./1.txt', 'utf8');\n    assert.strictEqual(data, 'hello');\n  })\n})\n</code></pre> <p>\u6240\u4ee5\uff0c\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u89e3\u51b3\u5f02\u6b65\u64cd\u4f5c\u9891\u53d1\u7684\u7f51\u7edc\u8bf7\u6c42\u6d4b\u8bd5\u4e86\uff1a</p> <pre><code>var axios = require('axios');\n\ndescribe('HTTP test', () =&gt; {\n  it('\u8fd4\u56de HTML \u7247\u6bb5', async () =&gt; {\n    var res = await axios.get('API');\n    assert.strictEqual(res.data, '&lt;h1&gt;Hello&lt;/h1&gt;')\n  })\n})\n</code></pre> <p>\u4f46\u4e0a\u9762\u8fd9\u4e2a\u65b9\u6cd5\u5f97 \u4e00\u76f4\u624b\u52a8\u522e\u7740\u540e\u7aef\u670d\u52a1\uff0c\u6709\u6ca1\u6709\u4ec0\u4e48\u81ea\u542f\u52a8\u7684\u89e3\u51b3\u5462\uff1f\uff08\u6709\u7684\uff09</p> <pre><code>const request = require('supertest'); // \u8bb0\u5f97\u88c5\nconst app     = require('../app');    // express \u5b9a\u4e49\u7684\u670d\u52a1\u5668\n\ndescribe('test Express app', () =&gt; {\n  // \u5148\u542f\u52a8\u4e00\u4e0b\u540e\u7aef\u670d\u52a1\n  let server = app.listen(8080);\n\n  it('#GET', async () =&gt; {\n  await request(server)\n            .get('/')\n        .expect('Content-Type', /text\\/html/)\n        .expect(200, '&lt;h1&gt;Hello&lt;/h1&gt;')\n  });\n  // AfterALL: \u524d\u9762\u7684\u4e32\u884c\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u6267\u884c after()\n  after(() =&gt; {\n    server.close();\n  });\n})\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/","title":"WebSocket","text":"<p> \u7ea6 1524 \u4e2a\u5b57  279 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Nulling/Tool/WebSocket/#0-intro","title":"0 Intro","text":"<p><code>WebSocket</code> \u662f\u4e00\u79cd\u57fa\u4e8e TCP \u7684 \u5e94\u7528\u5c42 \u7f51\u7edc\u534f\u8bae\u3001\u63d0\u4f9b\u4e86 \u5168\u53cc\u5de5 \u901a\u9053\uff08HTTP \u662f \u534a\u53cc\u5de5\uff09\uff0c\u5176 Feature \u5982\u4e0b\uff1a</p> <ul> <li>\u826f\u597d\u517c\u5bb9 HTTP \u534f\u8bae\uff08\u9ed8\u8ba4\u7aef\u53e3\u4e5f\u662f 80 / 443\uff09\uff0c\u63e1\u624b\u65f6\u91c7\u7528 HTTP\u3001\u4e0d\u5bb9\u6613\u88ab\u5c4f\u853d</li> <li>\u6570\u636e\u683c\u5f0f\u8f7b\u91cf\uff08 <code>header</code> \u6bd4\u8f83\u77ed\uff09\u3001\u6027\u80fd\u5f00\u9500\u5c0f\uff0c\u652f\u6301\u53d1\u9001 \u6587\u672c / \u4e8c\u8fdb\u5236 \u6570\u636e</li> <li>\u6ca1\u6709 Same-Origin \u9650\u5236\uff0c\u652f\u6301 Client \u4e0e\u4efb\u610f\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#01-websocket","title":"0.1 \u6211\u4eec\u4e3a\u4ec0\u4e48\u9700\u8981 WebSocket\uff1f","text":"<p>\u5728 HTTP \u4e2d\uff0c\u901a\u4fe1 \u53ea\u80fd\u7531 Client \u4e3b\u52a8\u53d1\u8d77\u3001\u670d\u52a1\u7aef\u4e0d\u5177\u5907\u4e3b\u52a8\u63a8\u9001\u80fd\u529b\u3002</p> <p>\u5728 WebSocket \u51fa\u73b0\u4ee5\u524d\uff0cClient \u4e0e\u670d\u52a1\u7aef\u95f4\u7684\u53cc\u901a\u9053\u901a\u4fe1\u53ea\u80fd\u901a\u8fc7\u4e0d\u65ad\u8f6e\u8be2\u5b9e\u73b0\u3002\u8fd9\u4f1a\u5bfc\u81f4\uff1a</p> <ul> <li>\u670d\u52a1\u7aef\u88ab\u8feb\u7ef4\u6301\u6765\u81ea\u591a\u4e2a\u4e0d\u540c\u5ba2\u6237\u7aef\u7684\u5927\u91cf\u8fde\u63a5</li> <li>\u5927\u91cf\u7684\u8f6e\u8be2\u8bf7\u6c42\u4f1a\u5bfc\u81f4\u6781\u5927\u7684\u5f00\u9500\uff08\u591a\u4f59\u7684 <code>header</code> \u4f1a\u9020\u6210\u65e0\u7528\u7684\u6570\u636e\u4f20\u8f93\uff09</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#02-websocket-http","title":"0.2 WebSocket \u7684\u4f18\u7f3a\u70b9\uff08\u76f8\u8f83\u4e8e HTTP\uff09","text":"<p>\u4f18\u70b9\uff1a</p> <ul> <li>\u66f4\u9ad8\u7684 \u5b9e\u65f6 \u6027\u80fd\uff1aWebSocket \u5141\u8bb8\u8fdb\u884c \u5b9e\u65f6 \u53cc\u5411\u901a\u4fe1</li> <li>\u66f4\u5c11\u7684\u7f51\u7edc\u5f00\u9500\uff1aWebSocket \u5728\u540c\u4e00\u4e2a\u8fde\u63a5\u4e2d\u5b9e\u73b0\u53cc\u5411\u901a\u4fe1\uff08HTTP \u201c\u8bf7\u6c42-\u54cd\u5e94\u201d \u9700\u8981\u4f20\u8f93\u989d\u5916\u6570\u636e\uff09</li> <li>\u66f4\u7075\u6d3b\u7684\u901a\u4fe1\u65b9\u5f0f\uff1aWebSocket \u5141\u8bb8\u901a\u8fc7 Push / \u4e8b\u4ef6\u63a8\u9001 \u7b49\u591a\u79cd\u65b9\u5f0f\u8fdb\u884c\u901a\u4fe1\uff08HTTP \u4e2d\u7684\u8bf7\u6c42\u4e0e\u54cd\u5e94\u901a\u5e38\u4e00\u4e00\u5bf9\u5e94\uff09</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u4e0d\u652f\u6301\u65e0\u8fde\u63a5\uff1aWebSocket \u672c\u8eab\u662f\u4e00\u79cd\u6301\u4e45\u5316\u534f\u8bae\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u8d44\u6e90\u6cc4\u6f0f</li> <li>\u652f\u6301\u8f83\u5dee\uff1a\u662f HTML 5 \u4e2d\u7684\u6807\u51c6\u534f\u8bae\u3001\u4e00\u4e9b\u53e4\u8001\u6d4f\u89c8\u5668\u5e76\u4e0d\u652f\u6301\uff08\u70b9\u540d IE\uff09</li> <li>\u6570\u636e\u6d41\u4e0d\u517c\u5bb9\uff1aWebSocket \u7684\u6570\u636e\u6d41\u683c\u5f0f\u4e0e HTTP \u5b58\u5728\u4e00\u5b9a\u5dee\u5f02\uff0c\u5728\u4e0d\u540c\u7684\u7f51\u7edc\u73af\u5883\u4e0b\u53ef\u80fd\u5b58\u5728\u4e0d\u540c\u8868\u73b0</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#1","title":"1 \u5de5\u4f5c\u6d41\u7a0b\uff1a\u8fde\u63a5\u5efa\u7acb\u4e0e\u5173\u95ed","text":"<p>\u5c31\u662f\u5f88 TCP \u5566\uff0c\u4f46\u662f\u521a\u5f00\u59cb\u8fd8\u662f\u8981\u501f\u52a9\u4e00\u4e0b HTTP \u7684</p>"},{"location":"Nulling/Tool/WebSocket/#11","title":"1.1 \u63e1\u624b\u9636\u6bb5","text":"<ol> <li><code>C-&gt;S</code> \uff1a\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001\u5efa\u7acb WebSocket \u8fde\u63a5\u7684\u8bf7\u6c42\uff08\u5305\u542b <code>Sec-WebSocket-Key</code>\uff09\uff0c\u751f\u6210\uff08\u672c\u5730\uff09\u968f\u673a\u5bc6\u94a5\u3002</li> </ol> <pre><code># \u4e00\u4e2a\u5e38\u89c1\u7684 ws \u63e1\u624b\u62a5\u6587\u957f\u4e0b\u9762\u8fd9\u6837\nGET /chat HTTP/1.1\nHost: server.com\n\n# \u544a\u8bc9 Server \u6211\u8981\u5347\u7ea7\u6210 ws \u534f\u8bae\u4e86\nUpgrade: websocket\nConnection: Upgrade\n\nSec-WebSocket-Key: xxxxxx                 # \u968f\u673a base64 \u503c\nSec-WebSocket-Protocol: chat, superchat   # \u7528\u6237\u5b9a\u4e49\uff0c\u6307\u5b9a\u670d\u52a1\u7c7b\u578b\nSec-WebSocket-Version: 13                 # \u73b0\u5728\u57fa\u672c\u56fa\u5b9a\u7528 13 \u4e86\n\nOrigin: http://xxx\n</code></pre> <ol> <li><code>S-&gt;C</code>\uff1a\u670d\u52a1\u7aef\u57fa\u4e8e <code>Sec-WebSocket-Key</code> \u751f\u6210\uff08\u672c\u5730\uff09\u968f\u673a\u5bc6\u94a5\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u751f\u6210 <code>Sec-WebSocket-Accept</code> \u53d1\u7ed9\u5ba2\u6237\u7aef</li> </ol> <pre><code># \u8fd9\u662f\u5e38\u89c1\u7684\u670d\u52a1\u5668\u54cd\u5e94\u62a5\u6587\nHTTP/1.1 101 Switching Protocols\n\n# \u58f0\u660e\u5df2\u7ecf\u6210\u529f\u5207\u6362\u534f\u8bae\nUpgrade: websocket\nConnection: Upgrade\n\nSec-WebSocket-Accpet: xxxxxx\nSec-WebSocket-Protocol: chat  # \u6700\u7ec8\u4f7f\u7528\u7684\u534f\u8bae\n</code></pre> <ol> <li><code>C-&gt;S</code>\uff1a\u5ba2\u6237\u7aef\u57fa\u4e8e\uff08\u672c\u5730\uff09\u968f\u673a\u5bc6\u94a5\u548c\u63a5\u6536\u7684 <code>Sec-WebSocket-Accept</code> \uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684 <code>Sec-WebSocket-Accept(neo)</code> \u5e76\u53d1\u9001\u7ed9\u670d\u52a1\u7aef\u7528\u4e8e\u6570\u636e\u4f20\u8f93 </li> </ol>"},{"location":"Nulling/Tool/WebSocket/#12","title":"1.2 \u6570\u636e\u4f20\u8f93\u9636\u6bb5","text":"<p>\u5728 WebSocket \u4e2d\uff0c\u6bcf\u6761\u6d88\u606f\u53ef\u80fd\u4f1a\u88ab\u62c6\u5206\u6210\u591a\u4e2a frame\uff08\u6700\u5c0f\u5355\u4f4d\uff09\uff1a\u53d1\u9001\u7aef\u4f1a\u628a\u6d88\u606f\u5207\u6210\u591a\u4e2a\u5e27\u4e22\u8fc7\u53bb\u3001\u63a5\u53d7\u7aef\u4f1a\u81ea\u884c\u8fdb\u884c\u62fc\u88c5\u3002</p> <p>\u5176\u4e2d <code>C-&gt;S</code> \u7684\u64cd\u4f5c\u53eb ping\uff0c<code>S-&gt;C</code> \u7684\u64cd\u4f5c\u53eb pong\u3002</p>"},{"location":"Nulling/Tool/WebSocket/#13","title":"1.3 \u5173\u95ed\u9636\u6bb5","text":"<ol> <li><code>C-&gt;S</code>\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u5173\u95ed\u8bf7\u6c42\uff08\u5305\u542b\u4e00\u4e2a ws \u968f\u673a\u5bc6\u94a5\uff09</li> <li><code>S-&gt;C</code>\uff1a\u670d\u52a1\u7aef\u8fd4\u56de\u5173\u95ed\u54cd\u5e94\uff08\u5305\u542b\u670d\u52a1\u7aef\u751f\u6210\u7684\u968f\u673a\u5bc6\u94a5\uff09</li> <li><code>C-&gt;S</code>\uff1a\u5ba2\u6237\u7aef\u6536\u5230\u5173\u95ed\u54cd\u5e94\u3001\u5173\u95ed ws \u8fde\u63a5</li> </ol>"},{"location":"Nulling/Tool/WebSocket/#2","title":"2 \u6570\u636e\u5e27\u4e0e\u63a7\u5236\u5e27","text":""},{"location":"Nulling/Tool/WebSocket/#21","title":"2.1 \u6570\u636e\u5e27","text":"<pre><code>      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-------+-+-------------+-------------------------------+\n     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n     |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n     | |1|2|3|       |K|             |                               |\n     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n     |     Extended payload length continued, if payload len == 127  |\n     + - - - - - - - - - - - - - - - +-------------------------------+\n     |                               |Masking-key, if MASK set to 1  |\n     +-------------------------------+-------------------------------+\n     | Masking-key (continued)       |          Payload Data         |\n     +-------------------------------- - - - - - - - - - - - - - - - +\n     :                     Payload Data continued ...                :\n     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n     |                     Payload Data continued ...                |\n     +---------------------------------------------------------------+\n</code></pre> <p>\u5176\u4e2d  <code>header</code> \u90e8\u5206\uff1a</p> <ul> <li> <p><code>FIN</code> \u8868\u660e\u5f53\u524d\u7684 frame \u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u7247\u6bb5</p> </li> <li> <p><code>RSV1~3</code> \u4e3a\u4fdd\u7559\u5b57\u6bb5\uff1a\u5fc5\u987b\u8bbe\u7f6e\u4e3a 0\uff08\u9664\u975e\u81ea\u884c\u6269\u5c55\uff09\uff0c\u5f53\u6536\u5230\u672a\u6269\u5c55\u7684\u975e0\u503c\u65f6\u3001\u63a5\u6536\u7aef\u5c06\u65ad\u5f00\u94fe\u63a5</p> </li> <li> <p><code>Opcode</code>\uff1a\u5b9a\u4e49\u6709\u6548\u8d1f\u8f7d\u7684\u7c7b\u578b\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u7ea6\u5b9a\u503c</p> </li> </ul> <p><code>%x0</code> - \u6301\u7eed\u5e27\uff0c<code>%x1</code> - \u6587\u672c\u5e27\uff0c<code>%x2</code> - \u4e8c\u8fdb\u5236\u5e27\uff0c<code>%x8</code> - \u8fde\u63a5\u5173\u95ed\u5305\uff0c<code>%x9</code> - ping\u5305\uff0c<code>%xA</code> - pong\u5305</p> <ul> <li><code>Mask</code>\uff1a\u6709\u6548\u8d1f\u8f7d\u662f\u5426\u6dfb\u52a0\u63a9\u7801\uff0c\u8bbe\u4e3a <code>1</code> \u65f6\u9700\u8981\u4f7f\u7528 Masking-key</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#22","title":"2.2 \u63a7\u5236\u5e27","text":"<ul> <li>Ping \u5e27 / Pong \u5e27\uff1a\u7528\u4e8e\u6d4b\u8bd5 \u5ba2\u6237\u7aef-\u670d\u52a1\u7aef\u4e4b\u95f4\u7684\u8fde\u63a5\u72b6\u6001\uff0c\u5728\u6536\u5230\u5ba2\u6237\u53d1\u9001\u7684 Ping \u5e27\u540e\u3001\u670d\u52a1\u7aef\u9700\u8981\u7acb\u5373\u7528 Pong \u5e27\u8fdb\u884c\u54cd\u5e94</li> <li>Close \u5e27\uff1a\u7528\u4e8e\u5173\u95ed\u8fde\u63a5</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#3-js-websocket","title":"3 \u5bf9 JS \u4f7f\u7528 WebSocket \u7f62","text":"<p>\u5728 JS \u4e2d\uff0c\u4e00\u4e2a WebSocket \u5bf9\u8c61\u901a\u5e38\u4ee3\u8868\u4e86\u4e00\u4e2a\u65b0\u7684 ws \u8fde\u63a5\u3002</p> <p>\u5728\u88ab\u7a81\u53d1\u4e8b\u4ef6\u75db\u51fb\u65f6\uff0cws \u5bf9\u8c61\u4f1a\u4ea7\u751f\u56db\u79cd\u56de\u8c03\uff1a<code>onopen</code>\uff0c<code>onmessage</code>\uff0c<code>onerror</code>\uff0c<code>onclose</code>\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8c03\u7528\u7b80\u5355\u7684\u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff08<code>.send()</code>\uff09\u6216\u5173\u95ed\u8fde\u63a5\uff08<code>.close()</code>\uff09\u3002</p>"},{"location":"Nulling/Tool/WebSocket/#31-ws","title":"3.1 \u5efa\u7acb\u8fde\u63a5\uff0c\u7ec4\u4e00\u8f88\u5b50 ws \u5427","text":"<pre><code>// \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 ws \u5bf9\u8c61\nvar socket = new WebSocket('url'); // url: \u9700\u8981\u8fde\u63a5\u7684\u670d\u52a1\u5668\n\n// \u68c0\u67e5\u662f\u5426\u8fde\u63a5\u6210\u529f\nsocket.onopen = function() { console.log('ws connected'); }\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#32","title":"3.2 \u6765\u4e92\u76f8\u6536\u53d1\u6d88\u606f\u5427","text":"<pre><code>// \u63a5\u6536\u6765\u81ea ws \u7684\u4fe1\u606f\nsocket.onmessage = function(event) {\n  console.log('recv msg: ', event.data);\n}\n\n// \u5411 ws \u8f93\u9001\u5783\u573e\nsocket.send('hello, world!');\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#33","title":"3.3 \u6211\u662f\u6765\u7ed3\u675f\u8fd9\u4e00\u5207\u7684","text":"<pre><code>// \u4e3a ws \u732e\u4e0a\u526a\u5207\u7ebf\nsocket.close();   // \u4f1a\u89e6\u53d1 socket.onclose\uff0c\u4f46\u4e0d\u91cd\u8981\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#34","title":"3.4 \u9519\u8bef\u5904\u7406","text":"<p>\u5f53\u7136\u53ef\u4ee5\u4e0d\u5904\u7406</p> <ul> <li><code>WebSocket is not supported</code> \uff1a\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 ws\uff08\u5efa\u8bae\u7528\u6237\u6362\u4e00\u4e2a\uff09</li> <li>\u5728 <code>onclose</code> \u4e2d\u5904\u7406\uff1a<code>WebSocket connection closed</code> / <code>WebSocket closed by ...</code></li> <li>\u5728 <code>ontimeout</code> \u4e2d\u5904\u7406\uff1a<code>WebSocket timeout</code>\uff0c\u603b\u4e4b\u662f\u8fde\u63a5\u8d85\u65f6</li> <li>\u5728 <code>onerror</code> \u4e2d\u5904\u7406\uff1a<code>WebSocket error</code>\uff0c\u603b\u4e4b\u62a5\u9519\uff08\u5f53\u6ca1\u770b\u89c1\u5427\uff09</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#4-nodejs","title":"4 \u57fa\u4e8e NodeJS \u7684\u7f51\u7edc\u804a\u5929\u5ba4","text":"<p>\u6ca1\u6709\u5199\u65ad\u7ebf\u91cd\u8fde</p> <p>\u56e0\u4e3a\u6709\u4eba\u5199\u597d\u8f6e\u5b50\u4e86\uff0c\u6240\u4ee5\u7528 npm \u88c5\u4e00\u4e0b\u5c31\u597d\u529b</p> <pre><code>npm install ws\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#41","title":"4.1 \u670d\u52a1\u5668\u5b9e\u73b0","text":"<p>\u8fd9\u8fb9\u8fd8\u662f\u57fa\u4e8e express \u5199\u4e86</p> <pre><code>const WebSocket = require('ws');\nconst WebSocketServer = WebSocket. WebSocketServer;\nconst wss = new WebSocketServer({ port: 8080 }); // \u548c\u5ba2\u6237\u7aef\u5bf9\u5e94\n\nconst WebSocketType = {\n  Error: 0,\n  GroupList: 1, // \u83b7\u53d6\u5217\u8868\n  GroupChat: 2,\n  SingleChat: 3\n}\n\n// \u8fd4\u56de JSON \u5b57\u7b26\u4e32\nfunction createMsg(type, usr, data) {\n  return JSON.stringify({\n    type, usr, data\n  })\n}\n\n// \u5411\u5176\u4ed6\u5ba2\u6237\u7aef\u5e7f\u64ad\nfunction broadcast(me, data, isBinary) {\n  wss.clients.forEach(function each(client) {\n    if (\n      client !== me &amp;&amp;\n      client.readyState === WebSocket.OPEN // \u8fd8\u4fdd\u6301\u7740\u8fde\u63a5\n    ) { \n      client.send(createMsg(\n        WebSocketType.GroupChat,\n        ws.user.username,\n        data\n      )), {binary: isBinary});\n    }\n  })\n}\n\n// \u6bcf\u5f53\u6709\u5ba2\u6237\u7aef\u8fde\u63a5\uff0cws \u662f\u6765\u81ea\u4e0d\u540c\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\nwss.on('connection', function connection(ws, req) {\n  // \u9a8c\u8bc1\u5ba2\u6237\u7aef token\n  const myURL = new URL(req.url, 'host:3000'); // \u8fd8\u662f HTTP \u7684\u7aef\u53e3\n  const token = myURL.searchParams.get('token');\n  const payload = JWT.verify(payload, secret);\n  if (payload) {\n    // \u50a8\u5b58\u7528\u6237\u7279\u5b9a\u4fe1\u606f\n    ws.user = payload;\n    // \u5411\u5ba2\u6237\u7aef\u53d1\u9001\u4fe1\u606f\n    ws.send(createMsg(\n      WebSocketType.GroupChat,\n      null,\n      'Welcome'\n    ));\n    // \u544a\u8bc9\u6240\u6709\u5ba2\u6237\u7aef\u6709\u51e0\u4e2a\u6d3b\u4eba\n    broadcast(\n      null,\n      Array.from(wss.clients).map(item =&gt; item.user.username),\n      false\n    );\n  } else {createMsg(\n      WebSocketType.Error,\n      null,\n      'Invalid Token'\n    ));\n  }\n    // \u76d1\u542c\u7279\u5b9a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n  ws.on('message', function message(data, isBinary) {\n    const msgObj = JSON.parse(data);\n    swtich(msgObj.type) {\n      case WebSocketType.Error:\n        localStorage.removeItem('token');\n        location.url = '/login';\n        break;\n      case WebSocketType.GroupList:\n        ws.send(createMsg(\n          WebSocketTypeGroupList,\n          null,\n          Array.from(wss.clients).map(item =&gt; item.user.username)\n        ));\n        break;\n      case WebSocketType.GroupChat:\n        broadcast(ws, data, isBinary);\n        break;\n      case WebSocketType.SingleChat:\n        wss.clinets.forEach(function each(client) {\n          if (\n            client.user.username == msgObj.to &amp;&amp;\n            client.readyState === WebSocket.OPEN\n          ) {\n            client.send(createMsg(\n              WebSocketType.SingleChat,\n              ws.user.username,\n              msgObj.data\n            ))\n          }\n        })\n        break;\n    }\n  });\n  // \u76d1\u542c\u7528\u6237\u65ad\u8fde\n  ws.on('close', () =&gt; {\n    console.log('[offline] %s', ws.user.username);\n    wss.clients.delete(ws.user);\n    // \u544a\u8bc9\u6240\u6709\u5ba2\u6237\u7aef\u6709\u7528\u6237\u4e0b\u7ebf\n    broadcast(\n      null,\n      Array.from(wss.clients).map(item =&gt; item.user.username),\n      false\n    );\n  })\n});\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#42","title":"4.2 \u5ba2\u6237\u7aef\u5b9e\u73b0","text":"<p>\u8fd9\u4e00\u6bb5\u5199\u5728 HTML \u7684 <code>&lt;script&gt;</code> \u6807\u7b7e\u91cc\uff0c\u56e0\u4e3a\u540e\u9762\u8d70\u7684\u90fd\u662f WS \u534f\u8bae\u3001\u6240\u4ee5\u4e0d\u4f1a\u88ab\u540e\u7aef\u7684 HTTPServer \u4e2d\u7684 token \u62e6\u622a\u5668\u6293\u4f4f\u3002</p> <pre><code>const WebSocketType = {\n  Error: 0,\n  GroupList: 1,\n  GroupChat: 2,\n  SingleChat: 3\n}\n\n// \u590d\u5236\u4e00\u4e0b\uff1a\u53e5\u67c4\u91cc\u5df2\u7ecf\u6709 user \u4fe1\u606f\u4e86\nfunction createMsg(type, data, to) {}\n\n// \u5176\u5b9e ws \u8fde\u63a5\u4e5f\u80fd\u5e26\u53c2\u6570\u7684\nvar ws = new WebSocket(\n  `ws://localhost:8080?token=${localStorage.getItem('token')}`\n);\n\nws.onopen = () =&gt; {\n  console.log('connected');\n}\n\nws.onmesage = (msgObj) =&gt; {\n  msgObj = JSON.parse(magObj);\n  swtich(msgObj.type) {\n    case WebSocketType.Error:\n        localStorage.removeItem('token');\n        location.url = '/login';\n        break;\n    case WebSocketType.GroupList:\n        console.msg(msgObj.data);\n        // \u53ef\u80fd\u9700\u8981\u91cd\u65b0 JSON.parse(msgObj.data)\n        break;\n    case WebSocketType.GroupChat:\n    case WebSocketType.SingleChat:\n        console.msg('[%s] %s', msgObj.user?msgObj.user:'\u5e7f\u64ad', msgObj.data);\n        break;\n  }\n}\n\nws.onerror = () =&gt; {\n  console.log('\u5bc4\uff01');\n}\n\nbtn.onclick = () =&gt; {\n  if (select.value === 'all') { // \u7fa4\u53d1\n    ws.send(createMsg({\n      WebSocketType.GroupChat,\n      text.value,\n      null\n    }))\n  } else {\n    ws.send(createMsg({\n      WebSocketType.SingleChat,\n      text.value,\n      select.value\n    }))\n  }\n}\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#5-socketio","title":"5 SocketIO \u6a21\u5757\uff1a\u81ea\u5b9a\u4e49\u4e8b\u4ef6","text":"<p>SocketIO \u4f1a\u5224\u65ad\u5f53\u524d\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 WS \u534f\u8bae\uff08\u4e0d\u652f\u6301\u7684\u8bdd\u4f1a\u81ea\u52a8\u8d70\u8f6e\u8be2\uff09\uff0c\u800c\u4e14\u670d\u52a1\u5668\u8dea\u6389\u4e4b\u540e client \u4f1a\u81ea\u52a8\u5c1d\u8bd5\u91cd\u8fde</p>"},{"location":"Nulling/Tool/WebSocket/#51","title":"5.1 \u670d\u52a1\u5668","text":"<pre><code>// \u7701\u7565\u679a\u4e3e\u7c7b\u578b WebSocketType\nconst app = require('express')();\nconst server = require('http').createServer(app); // \u5171\u7528 HTTP \u670d\u52a1\nstart(server);\n\nfunction start(server) {\n  const io = require('socket.io')(server);\n  io.on('connection', (socket) =&gt; {\n    const token = socket.handshake.query.token; \n    // \u7701\u7565\u4e00\u4e9b JWT \u6821\u9a8c\n    if (payload) {\n      socket.user = payload;\n      // welcome\uff01\n      socket.emit(WebSocketType.GroupChat, {\n        user: null,\n        data: 'Welcome'\n      });\n      // \u83b7\u53d6\u5217\u8868\n      socket.on(WebSocketType.GroupList, () =&gt; {\n         socket.emit(WebSocketType.GroupChat, {\n            user: null,\n            data: Array.from(io.sockets.sockets)\n                        .map(item=&gt;item[1].user.username)\n                        .filter(item=&gt;item) // \u8fc7\u6ee4 undefined\n         });\n      })\n      // \u7fa4\u53d1\n      socket.on(WebSocketType.GroupChat, (msg) =&gt; {\n        // \u8fd9\u79cd\u662f\u5305\u62ec\u81ea\u5df1\u7684\n        io.sockets.emit(WebSocketType.GroupChat, {\n          user: socket.user.username,\n          data: msg.data\n        })\n        // \u8fd9\u79cd\u662f\u4e0d\u5305\u62ec\u81ea\u5df1\u7684\n        socket.broadcast.emit(WebSocketType.GroupChat, {\n          user: socket.user.username,\n          data: msg.data\n        })\n      })\n      // \u7ed3\u675f\n      socket.on('disconnect', () =&gt; {\n        // \u4f1a\u81ea\u52a8 delete\uff0c\u53ea\u8981\u91cd\u53d1\u7528\u6237\u5217\u8868\u5c31\u884c\n        // \u4ee5\u53ca\u5355\u53d1\u7684\u65f6\u5019\u4e0d\u7528\u6821\u9a8c\u5bf9\u9762\u7528\u6237\u72b6\u6001 == OPEN\n      })\n    } else {\n\n    }\n  })\n}\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#52","title":"5.2 \u5ba2\u6237\u7aef","text":"<pre><code>// \u7701\u7565\u679a\u4e3e\u7c7b\u578b WebSocketType\n\n// \u9700\u8981\u5f15\u5165 socketio \u7684 JS \u4ee3\u7801\uff08\u81ea\u5df1\u53bb GitHub \u62ff\uff09\n&lt;script src='/js/socket.io.js.min'&gt;&lt;/script&gt;\n// \u8fde\u63a5\u670d\u52a1\u5668\nconst socket = io(`ws://localhost:8080?token=${localStorage.getItem('token')}`);\n\n// \u76d1\u542c\u7fa4\u53d1\nsocket.on(WebSocketType.GroupChat, (msgObj) =&gt; {\n  console.log('[%s] %s', msgObj.user?msgObj.user:'\u7fa4\u53d1', msgObj.data);\n})\n// \u53d1\u6d88\u606f\u4e5f\u7528 socket.emit([eventName], msgObj) \u5c31\u884c\n</code></pre>"},{"location":"Nulling/Tool/WebSocket/#6","title":"6 \u65ad\u7ebf\u91cd\u8fde","text":""},{"location":"Nulling/Tool/WebSocket/#61","title":"6.1 \u79bb\u7ebf\u5224\u65ad","text":"<ul> <li>\u9996\u6b21\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u4f1a\u5728\u7b2c\u4e00\u6b21\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\u5e26\u4e0a UUID + timestamp\uff0c\u670d\u52a1\u7aef\u5e94\u8be5\u53bb DB/\u7f13\u5b58 \u91cc\u67e5\u627e UUID\uff08\u4e0d\u5b58\u5728\u5c31\u5b58\u4e00\u4e0b\uff09</li> <li>\u540e\u7eed\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u8fd8\u662f\u4f1a\u5e26\u4e0a UUID + \u672c\u6b21 timestamp'\uff0c\u670d\u52a1\u7aef\u8ba1\u7b97\u4e24\u6b21\u65f6\u95f4\u6233\u4e4b\u5dee\u662f\u5426\u5927\u4e8e\u7ed9\u5b9a\u503c</li> </ul>"},{"location":"Nulling/Tool/WebSocket/#62-heartbeat","title":"6.2 HeartBeat","text":"<p>WS \u5728\u8d85\u65f6\u6ca1\u6709\u6d88\u606f\u65f6\u4f1a\u81ea\u52a8\u65ad\u5f00\u94fe\u63a5\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff1a\u5ba2\u6237\u7aef\u4e3b\u52a8\u53d1\u9001\u4e0a\u884c\u5fc3\u8df3\u5305 / \u670d\u52a1\u7aef\u4e3b\u8981\u53d1\u9001\u4e0b\u884c\u5fc3\u8df3\u5305</p> <p>\u5fc3\u8df3\u5305\u4e00\u822c\u5728\u6309\u7167\u56fa\u5b9a\u65f6\u95f4\u95f4\u9694\u53d1\u9001\uff0c\u7528\u6765\u544a\u8bc9\u670d\u52a1\u7aef\u5ba2\u6237\u8fd8\u6d3b\u7740\u3002\u56e0\u4e3a\u53ea\u7528\u4e8e\u4fdd\u6d3b\uff0c\u6240\u4ee5\u4e00\u822c\u662f\u5f88\u5c0f\u7684\u5305\uff08\u6bd4\u5982\u53ea\u6709\u5305\u5934\u7684\u7a7a\u5305\uff09\u3002</p> <ul> <li> <p>\u5ba2\u6237\u7aef\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li> <p>\u5ba2\u6237\u7aef\u6bcf\u9694\u56fa\u5b9a interval \u5c31\u7ed9\u670d\u52a1\u7aef\u53d1\u4e00\u4e2a\u63a2\u6d4b\u5305\u3001\u540c\u65f6\u542f\u52a8 timeout \u8ba1\u65f6\u5668</p> </li> <li> <p>\u670d\u52a1\u7aef\u6536\u5230\u63a2\u6d4b\u5305\u540e\uff0c\u7acb\u5373\u56de\u5e94\u4e00\u4e2a\u5305</p> </li> <li> <p>\u5ba2\u6237\u7aef\u5728 timeout \u5185\u6536\u5230\u5e94\u7b54\u5305\uff1a\u670d\u52a1\u5668\u6b63\u5e38\u3001\u5220\u9664 timeout \u8ba1\u65f6\u5668</p> <p>\u5ba2\u6237\u7aef\u5728 timeout \u5185\u672a\u80fd\u6536\u5230\uff1a\u670d\u52a1\u5668\u6302\u6389\u4e86</p> </li> <li> <p>\u670d\u52a1\u7aef\u5b95\u673a\u65b9\u6848\uff1a</p> </li> <li> <p>\u5ba2\u6237\u7aef\u901a\u8fc7 <code>onclose</code> \u5173\u95ed\u8fde\u63a5</p> </li> <li> <p>\u670d\u52a1\u7aef\u91cd\u65b0\u4e0a\u7ebf\u65f6 \u6e05\u9664\u7f13\u5b58\u6570\u636e</p> <p>\u26a0\ufe0f \u670d\u52a1\u7aef\u5904\u7406\u65b9\u5f0f\u5b58\u7591</p> </li> </ul>"},{"location":"Nulling/Tool/igem-uploads/","title":"Igem Uploads","text":"<p> \u7ea6 1132 \u4e2a\u5b57  19 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>For <code>Version 0.1.1</code>\uff0c\u70b9\u6b64\u524d\u5f80GitHub \u9879\u76ee\u3002</p> <p><code>igem-uploads</code> \u5305\u7531 HBUT-China \u5f00\u53d1\uff0c\u65e8\u5728\u4fbf\u6377\u5730\u7ba1\u7406\u6258\u7ba1\u5728  Igem \u670d\u52a1\u5668\u4e0a\u7684\u6587\u4ef6\u3002</p> \u4e3b\u89c2\u8bc4\u4ef7 <ol> <li> <p>\u4e0a\u4f20</p> <ul> <li> <p><code>Igem</code> \u81ea\u8eab\u662f\u652f\u6301\u62d6\u52a8 \u6587\u4ef6\u5939/\u5355\u4e2a\u6587\u4ef6 \u8fdb\u5165\u7f51\u9875\u8fdb\u884c \u4e0a\u4f20\u7684</p> <p>\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u6587\u4ef6\u5939\uff0c\u800c\u662f\u628a\u6240\u6709\u6587\u4ef6\uff08\u5305\u62ec\u5b50\u76ee\u5f55\u4e0b\u7684\uff09\u5e73\u94fa\u5728\u5f53\u524d\u8def\u5f84\u4e0b</p> </li> <li> <p><code>igem-uploads</code> \u5305\u4f1a\u81ea\u52a8\u521b\u5efa\u6587\u4ef6\u5939\uff08\u5305\u62ec\u5b50\u76ee\u5f55\u4e0b\u7684\uff09 =&gt; \u597d\u8036</p> <ul> <li>\u8f93\u7edd\u5bf9\u8def\u5f84\u591a\u5c11\u6709\u70b9\u75db\u82e6\u9762\u5177 orz</li> <li>\u540c\u540d\u8986\u76d6\u6709\u4e00\u4e9b\u95ee\u9898\uff1a\u663e\u793a\u4e0a\u4f20\u6210\u529f\uff0c\u4f46\u6587\u4ef6\u8fd8\u662f\u65e7\u7684</li> </ul> </li> </ul> </li> <li> <p>\u5220\u9664</p> <ul> <li>\u6e05\u7a7a\u6587\u4ef6\u5939\u597d\u814b\uff01</li> <li>\u5220\u5355\u4e2a\u6587\u4ef6\u53bb\u670d\u52a1\u5668\u4e0a\u624b\u70b9\u53ef\u80fd\u4f1a\u597d\u4e00\u4e9b\uff08\u53ef\u4ee5\u5148\u9884\u89c8\u518d\u5220\u9664\uff09</li> </ul> </li> <li> <p>\u5176\u4ed6</p> <ul> <li>\u653e\u5728 <code>Jupyter</code> \u91cc\u7528\u611f\u89c9\u5999\u5999\u7684\uff08\u6bd4\u63a7\u5236\u53f0\u663e\u793a\u6548\u679c\u66f4\u597d\uff09</li> <li>\u611f\u89c9\u8fd4\u56de\u503c\u4e0d\u592a\u5fc5\u8981\uff08\u57fa\u672c\u90fd <code>print</code> \u51fa\u6765\u4e86\uff0c\u518d\u8fd4\u56de <code>list</code> \u611f\u89c9\u6709\u70b9\u591a\u4f59\uff09</li> </ul> </li> </ol>"},{"location":"Nulling/Tool/igem-uploads/#1","title":"1 \u5b89\u88c5\u4e0e\u8fd0\u884c","text":""},{"location":"Nulling/Tool/igem-uploads/#11","title":"1.1 \u5b89\u88c5","text":"<p>\u8bf7\u786e\u4fdd\u60a8\u5df2\u5b89\u88c5 <code>Python</code> \u548c <code>pip</code>\uff0c\u968f\u540e\u4f7f\u7528\u4e0b\u5217\u547d\u4ee4\u5b89\u88c5 <code>igem-uploads</code>\uff1a</p> <pre><code># \u5b89\u88c5\u5305\npip install igem-uploads # \u6216 pip3 install igem-uploads\n\n# \u9a8c\u8bc1\u5b89\u88c5\u7ed3\u679c -&gt; \u67e5\u770b\u5df2\u5b89\u88c5\u5305\u5217\u8868\u4e2d\u662f\u5426\u5b58\u5728 igem-uploads\npip list # \u6216 pip3 list\n</code></pre>"},{"location":"Nulling/Tool/igem-uploads/#12","title":"1.2 \u7b80\u5355\u8fd0\u884c","text":"<p>\u73b0\u5728\u60a8\u5df2\u7ecf\u6210\u529f\u7684\u5b89\u88c5\u4e86 <code>igem-uploads</code> \uff0c\u4f46\u53ef\u80fd\u4ecd\u7f3a\u5c11\u90e8\u5206\u4f9d\u8d56 -&gt; \u7b80\u5355\u9a8c\u8bc1\u4e00\u4e0b\u5427\uff01</p> <ol> <li>\u968f\u4fbf\u65b0\u5efa\u4e00\u4e2a <code>Python</code> \u6587\u4ef6\uff08\u5c31\u53eb <code>test.py</code> \u597d\u4e86\uff09</li> <li> <p>\u5728 <code>test.py</code> \u4e2d\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\u5e76\u4fdd\u5b58\u4fee\u6539\uff1a</p> <p><pre><code>import uploads # \u6ca1\u9519\u53ea\u6709\u4e00\u884c -&gt; \u5c31\u5c1d\u8bd5\u5bfc\u4e00\u4e0b\u5305\n</code></pre> 3. \u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\u6307\u4ee4 <code>python test.py</code> \u5c1d\u8bd5\u8fd0\u884c\u6587\u4ef6</p> <ul> <li> <p>\u82e5\u6ca1\u6709\u8f93\u51fa\u4efb\u4f55\u4fe1\u606f\uff0c\u90a3\u4e48\u606d\u559c\u4f60\uff0c\u53ef\u4ee5\u8fdb\u5165\u4e0b\u4e00\u6b65\u4e86</p> </li> <li> <p>\u82e5\u63d0\u793a <code>No module named 'XXX'</code>\uff0c\u5219\u9700\u8981\u6267\u884c <code>pip install XXX</code> \u5b89\u88c5\u5fc5\u8981\u4f9d\u8d56</p> <ul> <li> <p>\u82e5\u7f3a\u5c11\u591a\u9879\u4f9d\u8d56\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u91cd\u590d\u6267\u884c\u672c\u6b65</p> </li> <li> <p>\u60a8\u4e5f\u53ef\u4ee5\u4e0b\u8f7d\u8be5\u6587\u4ef6\uff0c\u968f\u540e\u5728\u5bf9\u5e94\u8def\u5f84\u4e0b\u6267\u884c <code>pip install -r requirements.txt</code> \u8fdb\u884c\u4e00\u6b65\u5230\u80c3\u7684\u8865\u5168\u64cd\u4f5c\uff08\u4f46\u901a\u5e38\u6ca1\u6709\u5fc5\u8981\uff09</p> </li> </ul> </li> </ul> </li> </ol>"},{"location":"Nulling/Tool/igem-uploads/#2","title":"2 \u5f00\u59cb\u4f7f\u7528","text":""},{"location":"Nulling/Tool/igem-uploads/#21-igem","title":"2.1 \u767b\u5f55 <code>igem</code> \u8d26\u53f7\uff08\u5fc5\u8981\uff09","text":"<p>\u5728\u64cd\u4f5c\u6587\u4ef6\u524d\uff0c\u60a8\u5fc5\u987b\u767b\u5f55\u60a8\u7684 <code>Igem</code> \u8d26\u53f7\uff08\u800c\u975e <code>GitLab</code> \u8d26\u53f7\uff09</p> <pre><code>import uploads\nclient = uploads.Session()                     # \u521b\u5efa Session\nclient.login('igem_username', 'igem_password') # \u767b\u5f55\u8d26\u53f7\n</code></pre> <ul> <li> <p>\u8f93\u51fa\u793a\u4f8b</p> <ol> <li> <p>\u6210\u529f\u767b\u5f55</p> <pre><code>Your team: [team-id] [team-name]\nYour role: [team-role]\n</code></pre> </li> <li> <p>\u7528\u6237\u540d\u9519\u8bef</p> <pre><code>UserWarning: That username is not valid.\n</code></pre> </li> <li> <p>\u5bc6\u7801\u9519\u8bef</p> <pre><code>UserWarning: That username is valid, but the password is not or the emailed password has expired.\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Tool/igem-uploads/#22","title":"2.2 \u5f00\u59cb\u64cd\u4f5c","text":"<p>\u82e5\u63d0\u793a <code>'Not logged in, please login first'</code>\uff0c\u8bf7\u5728\u5f00\u5934\u8865\u4e00\u4e0b\u7528\u6237\u767b\u5f55</p>"},{"location":"Nulling/Tool/igem-uploads/#221","title":"2.2.1 \u4e0a\u4f20","text":""},{"location":"Nulling/Tool/igem-uploads/#_1","title":"\u4e0a\u4f20\u5355\u4e2a\u6587\u4ef6","text":"<pre><code>client.upload('\u672c\u673a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff08\u7edd\u5bf9\uff09\u8def\u5f84')                    # \u4e0a\u4f20\u81f3 \u6839\u8def\u5f84\nclient.upload('\u672c\u673a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff08\u7edd\u5bf9\uff09\u8def\u5f84', '\u76ee\u6807\u8def\u5f84')         # \u663e\u793a\u4e0a\u4f20\u540e\u7236\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u5217\u8868\nclient.upload('\u672c\u673a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff08\u7edd\u5bf9\uff09\u8def\u5f84', '\u76ee\u6807\u8def\u5f84', false)  # \u4e0d\u663e\u793a\u4e0a\u4f20\u540e\u7236\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u5217\u8868\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f \u7edd\u5bf9 \u8def\u5f84</p> <ul> <li>\u8fd4\u56de\u6210\u529f\u4e0a\u4f20\u7684\u6587\u4ef6 URL</li> <li> <p>\u8f93\u51fa\u793a\u4f8b</p> <ol> <li> <p>\u4e0a\u4f20\u6210\u529f</p> <pre><code>[\u5f85\u4e0a\u4f20\u6587\u4ef6\u540d] uploaded [\u4e0a\u4f20\u540e\u7684\u6587\u4ef6 URL]\n\n# \u82e5\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a false \u5219\u4e0d\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\n[\u7236\u8def\u5f84] found: [\u6587\u4ef6+\u5b50\u76ee\u5f55\u603b\u6570]\n+----------+-------------------+------------------------------------------------------------+\n|   Type   |        Name       |                    DirectoryKey/FileURL                    |\n+----------+-------------------+------------------------------------------------------------+\n</code></pre> </li> <li> <p>\u4e0a\u4f20\u5931\u8d25</p> <pre><code>Upload failed [\u62a5\u9519\u4fe1\u606f] # \u4e0d\u592a\u6e05\u695a\u63a5\u53e3\u8fd4\u56de\u7684\u5565 orz\n</code></pre> </li> <li> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f\u6587\u4ef6</p> <pre><code>Invalid file path: [\u672c\u673a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff08\u7edd\u5bf9\uff09\u8def\u5f84]\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Tool/igem-uploads/#_2","title":"\u4e0a\u4f20\u6574\u4e2a\u6587\u4ef6\u5939","text":"<pre><code>client.upload_dir('\u672c\u673a\u5f85\u4e0a\u4f20\uff08\u7edd\u5bf9\uff09\u8def\u5f84')            # \u4e0a\u4f20\u81f3 \u6839\u8def\u5f84\nclient.upload_dir('\u672c\u673a\u5f85\u4e0a\u4f20\uff08\u7edd\u5bf9\uff09\u8def\u5f84', '\u76ee\u6807\u8def\u5f84') # \u4e0a\u4f20\u81f3 \u6307\u5b9a\u8def\u5f84\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f \u7edd\u5bf9 \u8def\u5f84</p> <ul> <li>\u8fd4\u56de\u4e0a\u4f20\u6210\u529f\u540e\u76ee\u6807\u8def\u5f84\u4e0b\u6240\u6709 \u6587\u4ef6+\u76ee\u76ee\u5f55\u6784\u6210\u7684 <code>list</code></li> <li>\u4f1a \u9012\u5f52\u521b\u5efa\u5b50\u76ee\u5f55\u5e76\u4e0a\u4f20\u5b50\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6</li> <li>\u4e0d\u4f1a \u4e3a\u7a7a\u8def\u5f84\u521b\u5efa\u6587\u4ef6\u5939\uff08\u5176\u5b9e\u662f <code>Igem</code> \u4e0d\u5141\u8bb8\u5b58\u5728\u7a7a\u8def\u5f84 orz\uff09</li> <li> <p>\u8f93\u51fa\u5b9e\u4f8b</p> <ol> <li> <p>\u4e0a\u4f20\u201c\u6210\u529f\u201d</p> <pre><code># \u5bf9\u6bcf\u4e00\u4e2a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff0c\u663e\u793a\u4e0b\u5217\u4e09\u6761\u63d0\u793a\u4e4b\u4e00\uff1a\n1. [\u5f85\u4e0a\u4f20\u6587\u4ef6\u540d] uploaded [\u4e0a\u4f20\u540e\u7684\u6587\u4ef6 URL]\n2. Upload failed [\u62a5\u9519\u4fe1\u606f] # \u4e0d\u592a\u6e05\u695a\u63a5\u53e3\u8fd4\u56de\u7684\u5565 orz\n3. Invalid file path: [\u672c\u673a\u5f85\u4e0a\u4f20\u6587\u4ef6\uff08\u7edd\u5bf9\uff09\u8def\u5f84]\n</code></pre> </li> <li> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f\u8def\u5f84</p> <pre><code>Invalid directory path: [\u672c\u673a\u5f85\u4e0a\u4f20\uff08\u7edd\u5bf9\uff09\u8def\u5f84]\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Tool/igem-uploads/#222","title":"2.2.2 \u5220\u9664","text":""},{"location":"Nulling/Tool/igem-uploads/#_3","title":"\u5220\u9664\u5355\u4e2a\u6587\u4ef6","text":"<pre><code>client.delete('\u6587\u4ef6\u540d')                    # \u5220\u9664 \u6839\u8def\u5f84 \u4e0b\u7684\u6587\u4ef6\nclient.delete('\u6587\u4ef6\u540d', '\u6587\u4ef6\u7236\u8def\u5f84')        # \u663e\u793a\u5220\u9664\u540e\u7236\u8def\u5f84\u4e0b\u5269\u4f59\u7684\u6587\u4ef6\u5217\u8868\nclient.delete('\u6587\u4ef6\u540d', '\u6587\u4ef6\u7236\u8def\u5f84', false) # \u4e0d\u663e\u793a\u5220\u9664\u540e\u7236\u8def\u5f84\u4e0b\u5269\u4f59\u7684\u6587\u4ef6\u5217\u8868\n</code></pre> <ul> <li> <p>\u8f93\u51fa\u793a\u4f8b</p> <ol> <li> <p>\u5220\u9664\u6210\u529f</p> <pre><code>[\u6587\u4ef6\u5b8c\u6574\u8def\u5f84] deleted\n# \u82e5\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a false \u5219\u4e0d\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\n[\u7236\u8def\u5f84] found: [\u6587\u4ef6+\u5b50\u76ee\u5f55\u603b\u6570]\n+----------+-------------------+------------------------------------------------------------+\n|   Type   |        Name       |                    DirectoryKey/FileURL                    |\n+----------+-------------------+------------------------------------------------------------+\n</code></pre> </li> <li> <p>\u5220\u9664\u5931\u8d25</p> <pre><code>[\u6587\u4ef6\u5b8c\u6574\u8def\u5f84] deleted failed\n</code></pre> </li> </ol> </li> </ul>"},{"location":"Nulling/Tool/igem-uploads/#_4","title":"\u6e05\u7a7a\u6587\u4ef6\u5939","text":"<pre><code>client.truncate_dir('\u76ee\u6807\u8def\u5f84')\n</code></pre> <p>\u8f93\u5165\u7a7a\u4e32 <code>''</code> \u4f5c\u4e3a\u53c2\u6570\u5c06\u4ea7\u751f\u7c7b\u4f3c <code>rm -rf*</code> \u7684\u6548\u679c</p> <ul> <li>\u8fd4\u56de\u6e05\u7a7a\u540e\u76ee\u6807\u8def\u5f84\u4e0b\u6240\u6709 \u6587\u4ef6+\u76ee\u76ee\u5f55\u6784\u6210\u7684 <code>list</code></li> <li>\u4f1a \u9012\u5f52\u5220\u9664\u6240\u6709\u5b50\u76ee\u5f55\uff08\u53ca\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff09</li> <li>\u4e0d\u4f1a \u5220\u9664\u4f5c\u4e3a\u53c2\u6570\u7684\u76ee\u5f55</li> <li>\u5c06\u663e\u793a \u5b8c\u6210\u9752\u7a7a\u64cd\u4f5c\u540e \u76ee\u6807\u8def\u5f84\u4e0b\u7684 \u6587\u4ef6+\u76ee\u5f55 \u5217\u8868\uff08\u7406\u8bba\u4e0a\u662f\u7a7a\u7684\uff09</li> </ul>"},{"location":"Nulling/Tool/igem-uploads/#223","title":"2.2.3 \u67e5\u8be2\u6307\u5b9a\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55","text":"<pre><code>client.query('\u76ee\u6807\u8def\u5f84')\n</code></pre> <ul> <li>\u8fd4\u56de\u76ee\u6807\u8def\u5f84\u4e0b\u6240\u6709 \u6587\u4ef6+\u76ee\u76ee\u5f55\u6784\u6210\u7684 <code>list</code>\uff0c\u5f62\u5982 <code>[{}, {}, ...]</code></li> <li>\u82e5\u9700\u8981\u67e5\u8be2\u6839\u8def\u5f84\uff0c\u8bf7\u8f93\u5165\u7a7a\u4e32 <code>''</code> \u4f5c\u4e3a\u53c2\u6570</li> <li>\u4e0d\u4f1a \u9012\u5f52\u67e5\u8be2\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6</li> <li> <p>\u8f93\u51fa\u793a\u4f8b</p> <pre><code>[\u8def\u5f84] found: [\u6587\u4ef6+\u5b50\u76ee\u5f55\u603b\u6570]\n+----------+-------------------+------------------------------------------------------------+\n|   Type   |        Name       |                    DirectoryKey/FileURL                    |\n+----------+-------------------+------------------------------------------------------------+\n| File-jpg |    413-1-3.jpg    |    https://static.igem.wiki/teams/4628/wiki/413-1-3.jpg    |\n+----------+-------------------+------------------------------------------------------------+\n</code></pre> <p>\u82e5\u663e\u793a <code>[\u8def\u5f84] found: 0</code> \uff0c\u60a8\u53ef\u80fd\u9700\u8981\u68c0\u67e5\u8f93\u5165\u8def\u5f84\u662f\u5426\u6709\u8bef</p> </li> </ul>"},{"location":"Nulling/Tool/%E5%B8%B8%E7%94%A8%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/","title":"\u5e38\u7528\u9879\u76ee\u521b\u5efa","text":"<p> \u7ea6 127 \u4e2a\u5b57  46 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Nulling/Tool/%E5%B8%B8%E7%94%A8%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/#venv","title":"Venv","text":"<pre><code># \u521b\u5efa\u865a\u62df\u73af\u5883 \npython -m venv [name]\n\n# \u6fc0\u6d3b\u865a\u62df\u73af\u5883 \nsource ./bin/activate\n\n# \u5173\u95ed\u865a\u62df\u73af\u5883 \ndeactivate\n</code></pre>"},{"location":"Nulling/Tool/%E5%B8%B8%E7%94%A8%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/#mkdocs","title":"MkDocs","text":"<ol> <li> <p>\u5b89\u88c5</p> <pre><code>pip install mkdocs\nmkdocs --version # \u9a8c\u8bc1\u5b89\u88c5\u7ed3\u679c\n</code></pre> </li> <li> <p>\u5e38\u7528\u547d\u4ee4</p> <pre><code># \u521b\u5efa\u9879\u76ee\nmkdocs new project_name\n\n# \u542f\u52a8\u672c\u5730\u670d\u52a1\nmkdocs serve\n\n# \u90e8\u7f72\u5230\u4ed3\u5e93\u7684 gh-pages \u5206\u652f\nmkdocs gh-deploy\n</code></pre> </li> <li> <p>\u4f7f\u7528 material \u4e3b\u9898\uff1a</p> <ol> <li>\u5b89\u88c5      <pre><code>pip install mkdocs-material\n</code></pre></li> <li>\u4fee\u6539\u914d\u7f6e      mkdocs.yml<pre><code>theme: \n    name: material\n</code></pre></li> </ol> </li> </ol>"},{"location":"Nulling/Tool/%E5%B8%B8%E7%94%A8%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/#vant","title":"Vant \u7ec4\u4ef6\u5e93","text":"<ol> <li>\u5b89\u88c5 <code>npm i vant@latest-v2</code></li> <li> <p>\u5168\u91cf\u5f15\u5165</p> <pre><code>import Vant from 'vant'\nimport 'vant/lib/index.css'\nVue.use(Vant)\n</code></pre> </li> <li> <p>\uff08\u81ea\u52a8\uff09\u6309\u9700\u5f15\u5165</p> <p>\u914d\u5408 <code>babel-plugin-import</code> \u63d2\u4ef6</p> <ol> <li>\u5b89\u88c5 <code>npm i babel-plugin-import -D</code></li> <li>\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\uff1a     babel.config.js<pre><code>module.exports = {\n    plugins: [[\n        'import', \n        {\n            libraryName: 'vant',\n            libraryDirectory: 'es',\n            style: true\n        }, \n        'vant'\n    ]]\n};\n</code></pre></li> </ol> </li> <li> <p>\u5728\u4ee3\u7801\u4e2d\u76f4\u63a5\u5f15\u5165\u9700\u8981\u7684 Vant \u7ec4\u4ef6\uff0c\u968f\u540e\u8fdb\u884c <code>use</code></p> <pre><code>import {ComponentName} from 'vant'\n</code></pre> </li> </ol>"},{"location":"Nulling/Tool/%E5%B8%B8%E7%94%A8%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/#jupyter-notebook","title":"Jupyter Notebook","text":"<ol> <li>\u5b89\u88c5 <code>pip3 install jupyter</code></li> <li>\u89e3\u51b3 <code>command not found</code><ol> <li>\u67e5\u770b\u5b89\u88c5\u8def\u5f84 <code>pipe show jupyter</code></li> <li>\u6dfb\u52a0 PATH     <pre><code>vi ~/.zshrc\n# \u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff08\u53d6\u5230 Python \u7248\u672c\u53f7\u4e3a\u6b62\u7684\u8def\u5f84\uff09\nexport PATH=\"/Users/shen/Library/Python/3.9/bin:$PATH\"\n\n# \u91cd\u8f7d\u547d\u4ee4\nsource ~/.zshrc\n</code></pre></li> </ol> </li> <li>\u542f\u52a8\u670d\u52a1      <pre><code># \u9ed8\u8ba4\u7aef\u53e3\uff088888\uff09\njupyter notebook\n# \u6307\u5b9a\u7aef\u53e3\njupyter notebook --port 8080\n</code></pre></li> <li> <p>\u5220\u9664\u5355\u5143\u683c</p> <p>\u9009\u4e2d\u5355\u5143\u683c\u4f7f\u5176\u5448\u84dd\u8272\uff0c\u8f93\u5165 <code>dd</code></p> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","title":"1 \u5feb\u901f\u4e0a\u624b","text":"<ul> <li>\u57fa\u672c\u5e94\u7528\u573a\u666f - \u201c\u4e09\u9ad8\u201d<ul> <li>High Performance</li> <li>High Storage</li> <li>High Scalability &amp; Availability</li> </ul> </li> <li>\u5177\u4f53\u573a\u666f\uff1a\u793e\u4ea4 / \u6e38\u620f / \u7269\u6d41 / \u7269\u8054\u7f51 / \u89c6\u9891</li> <li>\u5e94\u7528\u7279\u5f81\uff1a\u6570\u636e\u91cf\u5927\uff0c\u8bfb\u5199\u64cd\u4f5c\u9891\u7e41\uff0c\u6570\u636e\u4ef7\u503c\u4f4e\uff0c\u4e8b\u52a1\u8981\u6c42\u4f4e</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_1","title":"\u7b80\u4ecb","text":"<ul> <li>Mongo DB \u662f\u4e00\u4e2a\u65e0\u6a21\u5f0f\u7684\u6587\u6863\u578b \u00b7 \u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93</li> <li>\u4f7f\u7528 <code>BSON</code> \u683c\u5f0f\uff08 \u7c7b <code>JSON</code> \uff09\u8fdb\u884c\u5b58\u50a8\uff0c\u652f\u6301\u6bd4\u8f83\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b</li> <li>Mongo DB \u4e2d\u7684\u8bb0\u5f55\uff08\u5bf9\u6807 row\uff09\u662f\u4e00\u4e2a\u7531\u952e\u503c\u5bf9\u6784\u6210\u7684\u300c\u6587\u6863\u300d\uff0c\u4e00\u4e2a\u6587\u6863\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a Object\u3002<ul> <li><code>key</code> \uff1a\u5b57\u7b26\u578b</li> <li><code>value</code> \uff1a\u57fa\u672c\u6570\u636e\u7c7b\u578b / \u6570\u7ec4 / \u6587\u6863 / \u6587\u6863\u6570\u7ec4</li> </ul> </li> <li>\u4e0d\u652f\u6301 Join \u64cd\u4f5c =&gt; \u901a\u8fc7\u5d4c\u5165\u5f0f\u6587\u6863\u4ee3\u66ff\u591a\u8868\u8fde\u63a5</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#1","title":"1 \u542f\u52a8","text":""},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#windows","title":"Windows","text":"<ol> <li>\u4e0b\u8f7d Mongo DB - MSI \u7248\u672c\u9700\u8981\u5b89\u88c5\uff0cZIP \u7248\u672c\u89e3\u538b\u5373\u53ef\u4f7f\u7528</li> <li>\uff08ZIP\uff09\u89e3\u538b\u6587\u4ef6\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u5728 bin \u540c\u7ea7\u76ee\u5f55\u4e0b\u521b\u5efa <code>data/db</code> \u7528\u4e8e\u5b58\u653e\u6570\u636e</li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_2","title":"\u542f\u52a8\u670d\u52a1","text":"<ul> <li> <p>\u547d\u4ee4\u884c\u65b9\u5f0f <code>mongod --dbpath=..\\data\\db</code></p> <p>\u6307\u5b9a\u7684 path \u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84 / \u76f8\u5bf9\u4e8e\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u76f8\u5bf9\u8def\u5f84\u597d\u50cf\u4f1a\u5bc4\uff09</p> <p>\u9ed8\u8ba4\u7aef\u53e3\u4e3a 27017\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>--port</code> \u53c2\u6570\u91cd\u65b0\u6307\u5b9a\u7aef\u53e3</p> </li> <li> <p>\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f (\u5b98\u65b9\u6587\u6863)</p> <p>\u5728 bin \u540c\u7ea7\u76ee\u5f55\u4e0b\u65b0\u5efa <code>/config/mongog.conf</code> \u53c2\u8003\u5185\u5bb9\u5982\u4e0b\uff1a ```yaml storage:     # the directory where mongodb instance store data.Default Value </p> </li> </ul> <p> \u7ea6 3089 \u4e2a\u5b57  140 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <pre><code>    dbPath: path\\to\\mongodb\\data\\db\n```\n\u968f\u540e\u901a\u8fc7 `mongod -f ../config/mongod.conf` / `mongod --config` \u542f\u52a8\n</code></pre>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_3","title":"\u8fde\u63a5\u670d\u52a1","text":"<p>\u9700\u8981\u53e6\u5f00\u4e00\u4e2a\u7a97\u53e3\u64cd\u4f5c\uff08\u542f\u52a8\u670d\u52a1\u7684\u7a97\u53e3\u9700\u8981\u4e00\u76f4\u6302\u7740\uff09</p> <p>\u5728 Mongo DB6 \u540e\u4e0d\u518d\u5b89\u88c5 mongo \u547d\u4ee4\uff0c\u9700\u8981\u81ea\u884c\u5b89\u88c5 mongoshell</p> <ul> <li>Shell \u8fde\u63a5     <code>mongo</code> / <code>mongo --host=127.0.0.1 --port=27017</code><ul> <li>\u67e5\u770b\u5df2\u6709\u6570\u636e\u5e93 <code>show databases</code></li> <li>\u9000\u51fa <code>exit</code></li> <li>\u66f4\u591a\u53c2\u6570\u53ef\u901a\u8fc7 <code>mongo --help</code> \u67e5\u770b</li> </ul> </li> <li>Compass \u56fe\u5f62\u5316\u754c\u9762<ul> <li>\u9996\u5148\u8981 \u5b89\u88c5 Compass</li> <li>\u5728 GUI \u4e2d\u8f93\u5165 Hostname\uff0cPort \u5373\u53ef\u5efa\u7acb\u8fde\u63a5\uff08\u4f7f\u7528\u9ed8\u8ba4\u7684\u4e5f\u884c\uff09     \u65b0\u7248 Compass \u8c8c\u4f3c\u4f7f\u7528 URL \u8fde\u63a5\u7684\uff0c\u7528\u9ed8\u8ba4\u7684\u5c31\u884c     \u8fde\u63a5\u6210\u529f\u4f1a\u770b\u5230 admin\uff0cconfig\uff0clocal \u4e09\u4e2a database</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#linux","title":"Linux","text":"<ol> <li>\u4e0b\u8f7d Monogo DB \u7684 Linux \u7248\u672c\uff08tgz\u7248\u672c\uff09</li> <li>\u4f7f\u7528\u547d\u4ee4\u8fdb\u884c\u89e3\u538b <code>tar -xvf xxxxxx.tgz</code></li> <li>\u4f7f\u7528\u547d\u4ee4\u79fb\u5230\u6307\u5b9a\u76ee\u5f55\u4e2d <code>mv xxxxx /usr/local/mongodb</code>      \u963f\u5df4\u8fd9\u91cc\u6211\u76f4\u63a5\u4e22\u5230<code>/app</code> \u4e0b\u9762\u53bb\u4e86</li> <li> <p>\u65b0\u5efa\u76ee\u5f55\u7528\u4e8e\u5b58\u50a8\u6570\u636e\u548c\u65e5\u5fd7\uff08\u6839\u8def\u5f84\u4e0b\uff09      <code>bash      # \u6570\u636e\u5b58\u50a8\u76ee\u5f55      mkdir -p /data/db      # \u65e5\u5fd7\u5b58\u50a8\u76ee\u5f55      mkdir -p /data/logs      # \u521b\u5efa\u65e5\u5fd7\u6587\u4ef6      touch /data/logs/mongodb.log</code></p> <p>\u56e0\u4e3a\u6700\u65b0\u7248\u672c\u53c8\u6ca1\u6709\u547d\u4ee4\u884c\u4e86\uff0c\u6240\u4ee5\u8981\u5355\u72ec\u5b89\u88c5\uff08\u89c1\u53c2\u8003\u6587\u732e)</p> <ol> <li>\u4e0b\u8f7d\u538b\u7f29\u5305 <code>wget https://downloads.mongodb.com/compass/mongosh-1.6.0-linux-x64.tgz</code></li> <li>\u89e3\u538b\u5230\u5f53\u524d\u8def\u5f84 <code>tar -zxvf mongosh-1.6.0-linux-x64.tgz</code></li> <li>\u8fdb\u5165\u89e3\u538b\u76ee\u5f55 <code>cd mongosh-1.6.0-linux-x64/bin</code></li> <li> <p>\u79fb\u52a8 bin \u4e0b\u7684\u4e24\u4e2a\u6587\u4ef6\uff08\u6211\u4e22\u5230 <code>mongodb/bin</code> \u4e0b\u9762\u4e86\uff09</p> <p><code>sudo cp mongosh /app/bin/</code> <code>sudo cp mongosh_crypt_v1.so /app/bin</code></p> </li> </ol> </li> <li> <p>\u5728 <code>/app/bin</code> \u4e0b\u4f7f\u7528 <code>/mongosh</code>\uff0c\u542f\u7528\u8fde\u63a5        \u53ef\u4ee5\u4f7f\u7528 <code>show dbs</code> \u6253\u5370\u6240\u6709 db \u8fdb\u884c\u6d4b\u8bd5\uff0c\u9ed8\u8ba4\u5b58\u5728\u4ee5\u4e0b\u4e09\u4e2a\u6570\u636e\u5e93</p> <ul> <li><code>admin</code>        \u76f8\u5f53\u4e8e <code>root</code> \u6570\u636e\u5e93\uff0c\u5b58\u653e\u7528\u6237\u53ca\u6743\u9650\u3002        \u5c06\u7528\u6237\u6dfb\u52a0\u81f3\u8be5\u6570\u636e\u5e93\u540e\uff0c\u5c06\u7ee7\u627f\u5bf9\u6240\u6709\u6570\u636e\u5e93\u7684\u6743\u9650\u3002        \u4e00\u4e9b\u7279\u5b9a\u7684\u670d\u52a1\u7aef\u547d\u4ee4\u53ea\u80fd\u901a\u8fc7\u8be5\u6570\u636e\u5e93\u8fd0\u884c\uff08\u5982\uff1ashow dbs / \u5173\u95ed\u670d\u52a1\u5668\uff09\u3002</li> <li><code>local</code>        \u6c38\u8fdc\u4e0d\u4f1a\u88ab\u96c6\u7fa4\u4e2d\u7684\u5176\u4ed6\u670d\u52a1\u5668\u590d\u5236\uff0c\u7528\u4e8e\u5b58\u50a8\u4ec5\u9650\u4e8e\u672c\u5730\u5355\u53f0\u670d\u52a1\u5668\u4f7f\u7528\u7684\u96c6\u5408</li> <li><code>config</code>        \u8bbe\u7f6e\u5206\u7247\u65f6\uff0c\u7528\u4e8e\u4fdd\u5b58\u5206\u7247\u7684\u76f8\u5173\u4fe1\u606f</li> </ul> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#2","title":"2 \u57fa\u672c\u5e38\u7528\u6307\u4ee4","text":""},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_4","title":"\u6570\u636e\u5e93","text":"<ul> <li>\u521b\u5efa\u5e76\u9009\u62e9\u6570\u636e\u5e93 <code>use db_name</code>     \u82e5\u6570\u636e\u5e93\u4e0d\u5b58\u5728\u5219\u81ea\u52a8\u521b\u5efa\uff08\u7136\u540e\u9009\u62e9\uff09<ul> <li>\u65b0\u521b\u5efa\u7684\u6570\u636e\u5e93\u4ec5\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\uff08\u65e0\u6cd5\u901a\u8fc7 <code>show dbs</code> \u67e5\u770b\uff09     \u63d2\u5165\u6570\u636e\u540e\u5c06\u88ab\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d</li> <li>\u6570\u636e\u5e93\u547d\u540d\u89c4\u5219<ul> <li>\u4e0d\u80fd\u662f\u7a7a\u5b57\u7b26\u4e32</li> <li>\u4e0d\u80fd\u5305\u542b\uff1a\u7a7a\u683c <code>. $ / \\ \\0</code> \uff08<code>\\0</code> \u662f\u7a7a\u5b57\u7b26\uff09</li> <li>\u5168\u5c0f\u5199</li> <li>\u6700\u957f 64 Byte</li> </ul> </li> </ul> </li> <li>\u67e5\u770b\uff08\u6709\u6743\u9650\u67e5\u770b\u7684\uff09\u6240\u6709\u6570\u636e\u5e93     <code>show dbs / show databases</code></li> <li>\u67e5\u770b\u6b63\u5728\u4f7f\u7528\u7684\u6570\u636e\u5e93 <code>db</code>     \u9ed8\u8ba4\u4f7f\u7528 <code>test</code> \u6570\u636e\u5e93 -&gt; \u521b\u5efa\u7684 table\uff08\u96c6\u5408\uff09\u5c06\u9ed8\u8ba4\u5b58\u653e\u5728 <code>test</code> \u6570\u636e\u5e93\u4e2d</li> <li>\u5220\u9664\u6570\u636e\u5e93 <code>db.dropDatabase()</code>     \u7528\u4e8e\u5220\u9664 \u5df2\u7ecf\u88ab\u6301\u4e45\u5316 \u7684\u6570\u636e\u5e93</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_5","title":"\u96c6\u5408\uff08\u8868\uff09","text":"<ul> <li> <p>\u67e5\u770b\u5f53\u524d db \u4e0b\u7684\u6240\u6709\u96c6\u5408 <code>show collections / show tables</code></p> </li> <li> <p>\u521b\u5efa\u96c6\u5408</p> <ul> <li> <p>\u663e\u5f0f\u521b\u5efa\uff08\u4e0d\u7ba1\u6709\u6ca1\u6709\u6570\u636e\uff0c\u5148\u628a\u8868\u641e\u51fa\u6765\uff09 <code>db.createCollection(\"colection_name\")</code></p> </li> <li> <p>\u9690\u5f0f\u521b\u5efa\uff08\u76f4\u63a5\u63d2\u5165\u6570\u636e\uff0c\u4e0d\u5b58\u5728\u5c31\u5efa\u4e00\u4e2a\u8868\uff09</p> </li> <li>\u96c6\u5408\u547d\u540d\u89c4\u5219<ul> <li>\u4e0d\u80fd\u662f\u7a7a\u4e32</li> <li>\u4e0d\u80fd\u5305\u542b <code>\\0</code> -&gt; \u7528\u4e8e\u8868\u793a\u96c6\u5408\u540d\u7684\u7ed3\u675f</li> <li>\u4e0d\u80fd\u4ee5 <code>system.</code> \u5f00\u5934\uff08\u7cfb\u7edf\u4fdd\u7559\u524d\u7f00\uff09</li> </ul> </li> </ul> </li> <li> <p>\u5220\u9664\u96c6\u5408 <code>db.collection.drop() / db.collection_name.drop()</code></p> <p>\u8fd4\u56de\u503c\u4e3a bool \u7c7b\u578b\uff1a\u6210\u529f\u8fd4\u56de <code>true</code>\uff0c\u53cd\u4e4b\u8fd4\u56de <code>false</code></p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#crud","title":"\u6587\u6863\u7684 CRUD \u64cd\u4f5c","text":"<p>\u6587\u6863\u91c7\u7528 BSON \u683c\u5f0f\u8fdb\u884c\u5b58\u50a8</p>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_6","title":"\u63d2\u5165","text":"<ol> <li> <p>\u63d2\u5165\u5355\u4e2a\u6587\u6863</p> <p>\u4f7f\u7528 <code>insert() / save()</code></p> <p><pre><code>db.collection_name.insert( // collection_name \u5373\u4e3a\u5f85\u63d2\u5165\u7684\u8868\u540d\uff08\u5305\u542b\u9690\u5f0f\u521b\u5efa\uff09\n     &lt;document / array of documents&gt;, // \u9700\u8981\u63d2\u5165\u7684\u6587\u6863/\u6587\u6863\u6570\u7ec4\uff08JSON\u683c\u5f0f\uff09\n     {\n         writeConcern: &lt;document&gt;, // \u6027\u80fd\u53ca\u53ef\u9760\u6027\u7ea7\u522b\n         ordered: &lt;boolean&gt; // \u9ed8\u8ba4\u4e3a true\n         // true\uff1a\u987a\u5e8f\u63d2\u5165\u6587\u6863\uff0c\u51fa\u9519\u540e\u4e0d\u5904\u7406\u5269\u4f59\u90e8\u5206\n         // false\uff1a\u65e0\u5e8f\u63d2\u5165\uff0c\u51fa\u9519\u540e\u7ee7\u7eed\u5904\u7406\u5269\u4f59\u6587\u6863\n     }\n )\n</code></pre> \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a <pre><code>db.comment.insert( // \u5411 comment \u8868\u4e2d\u63d2\u5165\u6570\u636e\n    {\n        \"articleid\": \"10001\",\n        \"content\": \"Ok, fine.\",\n        \"userid\": \"27017\",\n        \"nickname\": \"Jack\",\n        \"createtime\": new Date(),\n        \"likenum\": NumberInt(10),\n        \"state\": null\n    }\n)\n// \u8fd4\u56de writeResult({\"nInserted\": 1}) \u5373\u63d2\u5165\u6210\u529f\n</code></pre></p> <ul> <li>Mongo DB \u4e2d\u7684\u6570\u5b57\u9ed8\u8ba4\u4e3a double \u7c7b\u578b\uff0c\u82e5\u60f3\u5b58\u653e\u6574\u578b\uff0c\u5fc5\u987b\u4f7f\u7528\u51fd\u6570 <code>NumberInt(\u6570\u5b57)</code></li> <li>\u4f7f\u7528 <code>nwe Date()</code> \u63d2\u5165\u5f53\u524d\u65e5\u671f</li> <li>\u82e5\u6ca1\u6709\u4e3a\u63d2\u5165\u7684\u6570\u636e\u6307\u5b9a <code>_id</code>\uff0c\u5219\u4f1a\u81ea\u52a8\u751f\u6210\u4e3b\u952e</li> <li>\u82e5\u5b57\u6bb5\u503c\u4e3a\u7a7a\uff0c\u53ef\u4ee5\u8d4b\u503c\u4e3a null\uff0c\u6216\u76f4\u63a5\u4e0d\u5199 </li> </ul> </li> <li> <p>\u6279\u91cf\u63d2\u5165</p> <pre><code> db.collection_name.insertMany(\n     [&lt;document1&gt;, &lt;document2&gt;, ...], // \u5f85\u63d2\u5165\u7684\u8bb0\u5f55\n     {\n         writeConcern: &lt;document&gt;,\n         ordered: &lt;boolean&gt;\n     }\n )\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a <pre><code>db.comment.insertMany(\n    [{\n        \"_id\": \"1\",\n        \"articleid\": \"1001\",\n        \"content\": \"the 1st sentence\",\n        \"userid\": \"231\",\n        \"nickname\": \"Tom\",\n        \"createtiem\": new Date(\"2019-08-05T22:15.522Z\"),\n        \"likenum\": NumberInt(1000),\n        \"state\": \"1\"\n    },{\n        \"_id\": \"2\",\n        \"articleid\": \"1002\",\n        \"content\": \"the 2nd sentence\",\n        \"userid\": \"235\",\n        \"nickname\": \"Jack\",\n        \"createtiem\": new Date(\"2019-08-18T22:15.522Z\"),\n        \"likenum\": NumberInt(637),\n        \"state\": \"1\"\n    }]\n)\n</code></pre></p> <ul> <li> <p>\u82e5\u63d2\u5165\u65f6\u663e\u5f0f\u5236\u5b9a\u4e86 <code>_id</code> \u5b57\u6bb5\u7684\u503c\uff08ObjectID \u6216 \u5176\u4ed6\u4efb\u610f\u652f\u6301\u7c7b\u578b\uff09\uff0c\u5219\u4ee5\u8be5\u503c\u4f5c\u4e3a\u4e3b\u952e</p> <p>\u82e5\u6ca1\u6709\u663e\u793a\u6307\u5b9a\uff0c\u5219 Mongo DB \u4f1a\u81ea\u52a8\u521b\u5efa ObjectID \u7c7b\u578b\u7684 <code>_id</code> \u5b57\u6bb5\u4f5c\u4e3a\u4e3b\u952e</p> </li> <li> <p>\u82e5\u4e2d\u95f4\u67d0\u6761\u6570\u636e\u63d2\u5165\u5931\u8d25\uff0c\u5219\u6574\u4e2a\u63d2\u5165\u64cd\u4f5c\u7ec8\u6b62\uff08\u5df2\u7ecf\u6210\u529f\u7684\u90e8\u5206\u4e0d\u4f1a\u56de\u6eda\uff09</p> </li> <li>\u7531\u4e8e\u6279\u91cf\u63d2\u5165\u65f6\u6bd4\u8f83\u5bb9\u6613\u4ea7\u751f\u9519\u8bef\uff0c\u6545\u53ef\u4ee5\u7528 <code>try-catch</code> \u8fdb\u884c\u6355\u83b7\u5904\u7406     <pre><code>try {\n    db.collection_name.insertMany(\n        {record1}, {record2}, ...\n    )\n} catch (err) {\n    print(err) // and do sth\n}\n</code></pre></li> </ul> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_7","title":"\u67e5\u8be2","text":"<p>\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\uff1a<code>db.collection_name.find(&lt;query&gt;,[projection])</code></p> Parameter Type Description <code>query</code> document \u53ef\u9009\uff0cselect all \u65f6\u5ffd\u7565/\u4f20\u5165\u7a7a\u53c2\u6570<code>{}</code> <code>projection</code> documrnt \u53ef\u9009\uff0c\u6307\u5b9a\u8fd4\u56de\u7684\u5b57\u6bb5\uff08\u8fd4\u56de\u6240\u6709\u5b57\u6bb5\u65f6\u7701\u7565\uff09 <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\uff1a</p> <ul> <li>\u67e5\u8be2\u6307\u5b9a\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e     <code>db.collection_name.find()</code> / <code>db.collection_name.find({})</code></li> <li>\u67e5\u8be2 ID \u4e3a\u6307\u5b9a\u503c\u7684\u8bb0\u5f55\uff08\u53c2\u6570\u4e3a JSON \u683c\u5f0f\uff09     <code>db.collection_name.find({ key: 'value' })</code></li> <li>\u53ea\u8fd4\u56de\u67e5\u8be2\u7684\u7b2c\u4e00\u6761\u7ed3\u679c\uff08\u9700\u8981\u7528\u5230 <code>findOne</code>\uff09\u547d\u4ee4     <code>db.collection_name.findOne( { key: 'value' })</code></li> <li>\u4ec5\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u7684\u90e8\u5206\u5b57\u6bb5\u5185\u5bb9\uff08\u9700\u8981\u7528\u5230 \u300cProjection Query \u6295\u5f71\u300d\uff09<ul> <li>\u6211\u4eec\u67e5\u627e userid = 1003 \u7684\u7ed3\u679c\uff0c\u4e14\u4ec5\u8fd4\u56de userid &amp; nickname \u5b57\u6bb5     <pre><code>db.collection_name.find(\n    { userid: \"1003\"},\n    {\n        userid: 1,\n        nickname: 1\n    }\n)\n</code></pre>      \u4e0a\u8ff0\u67e5\u8be2\u9ed8\u8ba4\u4f1a\u8fd4\u56de <code>_id</code> \u5b57\u6bb5\uff0c\u82e5\u4e0d\u60f3\u8981\u6539\u6570\u636e\uff0c\u53ef\u4ee5\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u8fdb\u884c\u663e\u5f0f\u58f0\u660e     <pre><code>db.collection_name.find(\n    { userid: \"1003\"},\n    {\n        userid: 1,\n        nickname: 1,\n        _id: 0\n    }\n)\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_8","title":"\u66f4\u65b0","text":"<pre><code>db.collection_name.update(query, update, options);\ndb.collection_name.update(\n    &lt;query&gt;,\n    &lt;update&gt;,\n    {\n        upsert: &lt;boolean&gt;,\n        multi: &lt;boolean&gt;,\n        weiteConcern: &lt;document&gt;,\n        collaction: &lt;document&gt;,\n        arrayFilters: [&lt;filter1&gt;,...],\n        hint: &lt;document / string&gt;\n    }\n)\n</code></pre> <p>\u4e3b\u8981\u5173\u6ce8\u524d\u56db\u4e2a\u53c2\u6570</p> Parameter Type Description <code>query</code> document \u9009\u62e9\u6761\u4ef6\uff08\u53ef\u4f7f\u7528\u4e0e find \u76f8\u540c\u7684\u67e5\u8be2\u9009\u62e9\u5668\uff09 <code>update</code> document \u5e94\u7528\u7684\u4fee\u6539\uff0c\u53ef\u4ee5\u662f\u66f4\u65b0\u8fd0\u7b97\u7b26\u8868\u8fbe\u5f0f / \u4ec5\u5305\u542b key-val \u7684\u66ff\u6362\u6587\u6863 <code>upsert</code> boolean \u53ef\u9009\uff0c\u4e3a true \u65f6\u5728\u65e0\u5339\u914d\u7ed3\u679c\u65f6\u63d2\u5165\u5bf9\u5e94\u7684\u65b0\u8bb0\u5f55 <code>multi</code> boolean \u53ef\u9009\uff0c\u4e3a true \u65f6\u66f4\u65b0\u6240\u6709\u7b26\u5408\u8981\u6c42\u7684\u8bb0\u5f55\uff1b\u9ed8\u8ba4\u4e3a false\uff0c\u4ec5\u66f4\u65b0\u4e00\u6761\u5339\u914d\u7684\u8bb0\u5f55 <code>writeConcern</code> document \u53ef\u9009\uff0c\u6807\u8bc6\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b <code>collation</code> document \u53ef\u9009\uff0c\u6307\u5b9a\u7528\u4e8e\u64cd\u4f5c\u7684\u6821\u5bf9\u89c4\u5219 <code>hint</code> document/string \u53ef\u9009\uff0c\u6307\u5b9a\u7528\u4e8e\u652f\u6301\u67e5\u8be2\u7d22\u5f15\u7684\u6587\u6863\u6216\u5b57\u7b26\u4e32 <ul> <li> <p>\u8986\u76d6\u5f0f\u7684\u4fee\u6539\uff08\u4f7f\u7528\u4e00\u4e2a\u65b0\u7684\u8bb0\u5f55\u5bf9\u8c61\u53d6\u4ee3\u65e7\u7684\u8bb0\u5f55\u5bf9\u8c61\uff09</p> <p><code>db.collection_name.update({ _id:\"1\"}, {likenum:NumberInt(1001)})</code></p> <p>\u66f4\u6539\u5b8c\u6210\u540e\uff0c\u9664\u4e86 <code>likenum</code> \u5916\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u4f1a\u6d88\u5931</p> </li> <li> <p>\u5c40\u90e8\u4fee\u6539\uff08\u6790\u6784\u540e\u8986\u76d6\u90e8\u5206\u6570\u636e\uff09-&gt; \u6b64\u5904\u9700\u8981\u4f7f\u7528 <code>$set</code> \u65b9\u6cd5</p> <p><code>db.collection_name.update({_id:\"1\"},{$set:({likenum:NumberInt(1001)}))</code></p> <p>\u6b64\u65f6\u4ec5\u5bf9 <code>likenum</code> \u7684\u5185\u5bb9\u8fdb\u884c\u4fee\u6539\uff0c\u5176\u4ed6\u952e\u503c\u5bf9\u4fdd\u6301\u4e0d\u53d8</p> </li> <li> <p>\u6279\u91cf\u4fee\u6539</p> <p>\u6b64\u5904\u5c1d\u8bd5\u628a\u300c\u6240\u6709\u300d<code>userid=\"1003\"</code> \u7684\u7528\u6237\u7684 <code>nickname</code> \u66f4\u65b0\u4e3a <code>Fynn</code></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53ea\u4fee\u6539\u7b2c\u4e00\u6761\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u7b2c\u4e09\u4e2a\u53c2\u6570 <code>multi:true</code> <pre><code>// \u901a\u8fc7\u8bbe\u7f6e multi:true \u6765\u4fee\u6539\u300c\u6240\u6709\u300d\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\ndb.collection_name.update(\n    { userid: \"1003\" },       // \u6761\u4ef6\n    {$set(nickname: \"Fynn\")}, // \u5c40\u90e8\u66f4\u65b0\u5185\u5bb9\n    { multi: true }           // \u66f4\u65b0\u300c\u6240\u6709\u300d\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\n)\n</code></pre></p> </li> <li> <p>\u952e\u503c\u589e\u957f\uff08 based on old_value \uff09     \u9700\u8981\u4f7f\u7528 <code>$inc</code> \u8fd0\u7b97\u7b26     <pre><code>// \u6bcf\u6b21\u4f7f\u5f97 _id = 3 \u7684\u8bb0\u5f55 likenum++\ndb.collection_name.update(\n    { _id: \"3\" },                // \u6761\u4ef6\n    {$inc(likenum:NumberInt(1))} // \u9012\u589e 1\n)\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_9","title":"\u5220\u9664","text":"<p>\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\uff1a<code>db.collection_name.remove(\u6761\u4ef6)</code></p> <ul> <li>\u5220\u9664\u8868\u4e2d\u7684\u300c\u6240\u6709\u8bb0\u5f55\u300d- \u4e0d\u5220\u9664\u8868\u672c\u8eab     <code>db.collection_name.remove({})</code></li> <li>\u5220\u9664\u8868\u4e2d <code>_id=\"1\"</code> \u7684\u8bb0\u5f55     <code>db.collection_name.remove({_id:\"1\"})</code></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_10","title":"\u5206\u9875\u67e5\u8be2","text":""},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_11","title":"\u7edf\u8ba1\u67e5\u8be2","text":"<p>\u57fa\u672c\u8bed\u6cd5\uff1a<code>db.collection_name.count(query, option)</code></p> <ul> <li>\u7edf\u8ba1 comment \u8868\u4e2d\u7684\u8bb0\u5f55\u603b\u6570     <code>db.comment.count()</code></li> <li>\u7edf\u8ba1 comment \u8868\u4e2d <code>userid = \"1003\"</code> \u7684\u8bb0\u5f55\u6761\u6570     <code>db.comment.count({ userid: \"1003\" })</code></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_12","title":"\u5206\u9875\u5217\u8868\u67e5\u8be2","text":"<p>\u57fa\u672c\u8bed\u6cd5\uff1a<code>db.collection_name.find().limit(n_limit).skip(n_skip)</code></p> <ul> <li> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>init(N_LIMIT)</code> \u65b9\u6cd5\u53d6\u51fa TOP(N_LIMIT) \u6761\u8bb0\u5f55\uff0c\u9ed8\u8ba4\u4e3a TOP20</p> <p><code>db.collection.name.find().limit(3)</code></p> </li> <li> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>skip(N_SKIP)</code> \u65b9\u6cd5\u8df3\u8fc7\u6307\u5b9a\u6570\u91cf\u7684\u8bb0\u5f55\uff0c\u9ed8\u8ba4\u4e3a 0</p> <p><code>db.collection_name.skip(3)</code></p> </li> </ul> <p>\u4e0b\u9762\u4f7f\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u5b9e\u73b0\u300c\u5206\u9875\u67e5\u8be2\u300d</p> <ul> <li>\u5047\u8bbe\u6bcf\u9875\u5305\u542b 2 \u6761\u6570\u636e</li> <li>\u4ece P2 \u5f00\u59cb\uff0c\u6bcf\u4e00\u9875\u9700\u8981\u8df3\u8fc7 <code>(n-1)*2</code> \u6761\u8bb0\u5f55</li> </ul> <pre><code>// \u5176\u5b9e\u53ef\u4ee5\u5148\u7528 count \u8ba1\u7b97\u6700\u5927\u9875\u6570\nmax_page = floor(db.comment.count() / 2)\n// P1\ndb.comment.find().skip(0).limit(2)\n// P2\ndb.comment.find().skip(2).limit(2)\n// P3\ndb.comment.find().skip(4).limit(2)\n</code></pre>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_13","title":"\u6392\u5e8f\u67e5\u8be2","text":"<p>\u6211\u4eec\u4f7f\u7528 <code>sort()</code> \u6765\u6307\u5b9a\u9700\u8981\u6392\u5e8f\u7684\u5b57\u6bb5\uff0c\u4f20\u5165 <code>1/-1</code> \u5206\u522b\u8868\u793a\u5347\u964d\u5e8f\u6392\u5217\uff1a</p> <pre><code>db.colletion_name.find().sort({ key_name: 1 })\n// \u8bbe\u7f6e\u53ef\u4ee5\u8bbe\u7f6e\u57fa\u4e8e\u591a\u5217\u8fdb\u884c\u6392\u5e8f\uff08\u7b2c\u4e00\u4e2akey\u4e3a\u9996\u8981\u5173\u952e\u5b57\uff09\ndb.collection_name.find().sort({\n    userid: -1,\n    likenum: 1\n}\n)\n</code></pre> <p>\u5728 <code>limit, skip, sort</code> \u540c\u65f6\u5b58\u5728\u65f6\uff1a</p> <p>\u9996\u5148\u6267\u884c <code>sort</code> \uff0c\u968f\u540e\u6267\u884c <code>skip</code>\uff0c\u6700\u540e\u6267\u884c <code>limit</code> -&gt; \u4e0e\u547d\u4ee4\u4e66\u5199\u987a\u5e8f\u65e0\u5173</p>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_14","title":"\u590d\u6742\u67e5\u8be2","text":""},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_15","title":"\u6b63\u5219\u6761\u4ef6\u67e5\u8be2","text":"<ul> <li> <p>Mongo DB \u7684\u6a21\u7cca\u67e5\u8be2\u662f\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9e\u73b0\u7684</p> </li> <li> <p>\u57fa\u672c\u683c\u5f0f\uff1a<code>db.collection_name.find({ key: /\u6b63\u5219\u8868\u8fbe\u5f0f/ })</code></p> </li> <li> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\uff1a</p> <ul> <li>\u67e5\u8be2\u6240\u6709\u5185\u5bb9 \u5305\u542b\u201c\u5f00\u6c34\u201d \u7684\u6587\u6863     <code>db.comment.find({ content:/\u5f00\u6c34/ })</code></li> <li>\u67e5\u8be2\u5185\u5bb9 \u4ee5\u201c\u4e13\u5bb6\u201d\u5f00\u5934 \u7684\u6587\u6863     <code>db.comment.find({ content: /^\u4e13\u5bb6/ })</code></li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_16","title":"\u6bd4\u8f83\u67e5\u8be2","text":"<pre><code>db.collection.find({\"key\": { $gt : value}}) // \u5927\u4e8e\ndb.collection.find({\"key\": { $lt : value}}) // \u5c0f\u4e8e\ndb.collection.find({\"key\": { $gte : value}}) // \u5927\u4e8e\u7b49\u4e8e\ndb.collection.find({\"key\": { $lte : value}}) // \u5c0f\u4e8e\u7b49\u4e8e\ndb.collection.find({\"key\": { $ne : value}})  // \u4e0d\u7b49\u4e8e\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u67e5\u8be2\u8bc4\u8bba\u6570\u5927\u4e8e700\u7684\u8bb0\u5f55\uff1a <code>db.comment.find({ likenumL { $gt: NumberInt(700) }})</code></p>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_17","title":"\u5305\u542b\u67e5\u8be2","text":"<ul> <li> <p>\u67e5\u8be2 userid \u5b57\u6bb5\u4e2d\u5305\u542b 1003/1004 \u7684\u6587\u6863 <code>$in</code></p> <p><code>db.comment.find({ userid : { $in: [\"1003\", \"1004\"]}})</code></p> </li> <li> <p>\u67e5\u8be2 userid \u5b57\u6bb5\u4e2d\u4e0d\u5305\u542b 1003/1004 \u7684\u6587\u6863 <code>$nin</code></p> <p><code>db.comment.find({ userid : { $nin: [\"1003\", \"1004\"]}})</code></p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_18","title":"\u6761\u4ef6\u8fde\u63a5\u67e5\u8be2","text":"<ul> <li> <p>\u4e0e</p> <p>\u9700\u8981\u8bb0\u5f55\u540c\u65f6\u751a\u81f3\u6ee1\u8db3\u591a\u4e2a\uff08&gt;=2\uff09\u4e2a\u6761\u4ef6\u65f6\uff0c\u4f7f\u7528 <code>$and: [{},{},{}]</code></p> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u67e5\u8be2 700 &lt;= likenum &lt; 2000 \u7684\u8bc4\u8bba <pre><code>db.comment.find($and:[\n    {\n        likenum: {$gte: NumberInt(700)}\n    },{\n        likenum: {$lt: NumberInt(2000)}\n    }\n])\n</code></pre></p> </li> <li> <p>\u6216</p> <p>\u9700\u8981\u8bb0\u5f55\u540c\u65f6\u751a\u81f3\u6ee1\u8db3\u591a\u4e2a\uff08&gt;=2\uff09\u6761\u4ef6\u65f6\uff0c\u4f7f\u7528 <code>$or: [{},{},{}]</code></p> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u67e5\u8be2 userid = \"1003\" \u6216 likenum&lt;1000 \u7684\u8bc4\u8bba <pre><code>db.comment.find($or:[\n    {\n        userid: \"1003\"\n    },{\n        likenum: {$lt: 1000}\n    }\n])\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#3","title":"3 \u7d22\u5f15","text":"<p>\u5b98\u7f51\u76f8\u5173\u6587\u6863</p> <ul> <li>\u5728\u7f3a\u5c11\u7d22\u5f15\u7684\u60c5\u51b5\u4e0b\uff0cMongo DB \u7684\u6bcf\u4e00\u6b21\u67e5\u8be2\u90fd\u4f1a\u8fdb\u884c\u300c\u5168\u8868\u626b\u63cf\u300d</li> <li>Mongo DB \u4f7f\u7528 B- Tree \u4f5c\u4e3a\u505a\u7d22\u5f15\uff08MYSQL \u4f7f\u7528 B+ Tree\uff09</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_19","title":"\u7d22\u5f15\u7c7b\u578b","text":"<ul> <li>\u5355\u5b57\u6bb5\u7d22\u5f15 Single Field Index<ul> <li>Mongo DB \u652f\u6301\u7528\u6237\u5728\u6587\u6863\u7684\u5355\u4e2a\u5b57\u6bb5\u4e0a\u5b9a\u4e49 \u5347\u5e8f/\u964d\u5e8f \u7d22\u5f15</li> <li>\u5176\u5b9e\u5347\u964d\u5e8f\u672c\u8eab\u5e76\u4e0d\u91cd\u8981 -&gt; Mongo DB \u672c\u8eab\u53ef\u4ee5\u4ece\u4efb\u4f55\u65b9\u5411\u904d\u5386\u7d22\u5f15</li> </ul> </li> <li> <p>\u7b26\u5408\u7d22\u5f15 Compound Index</p> <ul> <li>\u652f\u6301\u5728\u591a\u4e2a\u5b57\u6bb5\u4e0a\u5b9a\u4e49\u7d22\u5f15</li> <li> <p>\u5728\u7b26\u5408\u7d22\u5f15\u4e2d \u5b57\u6bb5\u987a\u5e8f\u6709\u610f\u4e49</p> <p>\u5bf9\u4e8e <code>{userid: 1, score: -1}</code> \uff0c\u9996\u5148\u6309\u7167 <code>userid</code> \u5347\u5e8f\u6392\u5e8f\uff1b\u8be5\u5b57\u6bb5\u76f8\u540c\u65f6\u518d\u6309\u7167 <code>score</code> \u964d\u5e8f\u6392\u5e8f</p> </li> </ul> </li> <li> <p>\u5730\u7406\u7a7a\u95f4\u7d22\u5f15 Geospatial Index</p> <p>\u652f\u6301\u5bf9\u5730\u7406\u7a7a\u95f4\u5750\u6807\u7684\u6709\u6548\u7d22\u5f15\uff0c\u53ef\u4ee5\u8fd4\u56de \u5e73\u9762/\u7403\u9762\u51e0\u4f55 \u7684\u4e8c\u4f4d\u7d22\u5f15</p> </li> <li> <p>\u6587\u672c\u7d22\u5f15 Text Index</p> <p>\u652f\u6301\u641c\u7d22\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u7684 \u8bcd\u6839\uff08\u5254\u9664\u4e86\u9ad8\u9891\u7684\u505c\u6b62\u8bcd\uff0c\u5e76\u5c06\u8bcd\u5e72\u62bd\u8c61\u4e3a\u8bcd\u6839\uff09</p> </li> <li> <p>\u54c8\u5e0c\u7d22\u5f15</p> <p>\u652f\u6301\u57fa\u4e8e\u6563\u5217\u7684\u5206\u7247\uff0c\u5bf9\u5b57\u6bb5\u7684 hash value \u8fdb\u884c\u7d22\u5f15</p> <p>\u53ea\u652f\u6301\u7b49\u503c\u67e5\u8be2\uff0c\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_20","title":"\u7d22\u5f15\u7ba1\u7406","text":"<ul> <li>\u67e5\u770b\u67d0\u4e2a\u8868\u4e0a\u7684\u6240\u6709\u7d22\u5f15 <code>db.collection_name.getIndexes()</code></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_21","title":"\u521b\u5efa\u7d22\u5f15","text":"<p>\u57fa\u7840\u8bed\u6cd5\uff1a<code>db.collection_name.createIndex(keys, options)</code></p> <p>\u4e0b\u9762\u662f\u53ef\u9009 option \u53c2\u6570\u7684\u4fe1\u606f\uff1a</p> Parameter Type Description background boolean \u53ef\u9009\uff0c\u5efa\u7acb\u7d22\u5f15\u9ed8\u8ba4\u4f1a block \u5176\u4f59\u7684\u64cd\u4f5c\uff0c\u8bbe\u7f6e\u4e3a true \u53ef\u4ee5\u66f4\u6539\u4e3a\u540e\u53f0\u64cd\u4f5c unique boolean \u53ef\u9009\uff0c\u5efa\u7acb\u7684\u7d22\u5f15\u662f\u5426\u552f\u4e00 name string \u7d22\u5f15\u540d\u79f0\uff0c\u672a\u6307\u5b9a\u65f6 Mongo DB \u4f1a\u57fa\u4e8e\u5b57\u6bb5\u540d\u4e0e\u6392\u5e8f\u65b9\u5f0f\u751f\u6210\u4e00\u4e2a\u540d\u79f0 sparse boolean \u5bf9\u8bb0\u5f55\u4e2d\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u4e0d\u542f\u7528\u7d22\u5f15 -&gt; \u4f7f\u7528\u7d22\u5f15\u5c06\u65e0\u6cd5\u67e5\u8be2\u4e0d\u5305\u542b\u76f8\u5e94\u5b57\u6bb5\u7684\u8bb0\u5f55 expireAfterSeconds integer \u5355\u4f4d\u4e3as\uff0c\u8bbe\u7f6e\u8868\u7684 TTL v index version \u7d22\u5f15\u7684\u7248\u672c\u53f7\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528 mongod \u521b\u5efa\u7d22\u5f15\u65f6\u7684\u8fd0\u884c\u7684\u7248\u672c weights document [1,99999]\uff0c\u8868\u793a\u76f8\u5bf9\u4e8e\u5176\u4ed6\u7d22\u5f15\u5b57\u6bb5\u7684\u6743\u91cd default_language string \u6307\u5b9a\u6587\u672c\u7d22\u5f15\u4f7f\u7528\u7684 stop word &amp; \u8bcd\u5e72\u89c4\u5219\u5217\u8868\uff0c\u9ed8\u8ba4\u4e3a EN language_override string \u6307\u5b9a\u6587\u672c\u7d22\u5f15\u5305\u542b\u5728\u8868\u4e2d\u7684\u5b57\u6bb5\u540d\uff0c\u8986\u76d6\u9ed8\u8ba4\u7684 language \uff1f <p>\u5728 3.0.0 \u4ee5\u524d\u7684\u7248\u672c\u4f7f\u7528 <code>ensureIndex()</code> \u521b\u5efa\u7d22\u5f15 \u73b0\u5728\u4ecd\u53ef\u4ee5\u4f7f\u7528\uff08\u53ea\u662f\u4f5c\u4e3a <code>createIndex()</code> \u7684\u522b\u540d\uff09</p> <ul> <li>\u5c1d\u8bd5\u5bf9 <code>userid</code> \u5b57\u6bb5\u5efa\u7acb\u5355\u5b57\u6bb5\u7d22\u5f15     <pre><code>db.comment.createIndex({userid: 1}) // \u4e5f\u53ef\u4ee5\u4f20\u5165-1\u5efa\u7acb\u964d\u5e8f\u7d22\u5f15\n</code></pre></li> <li>\u5c1d\u8bd5\u5bf9 <code>userid</code> &amp; <code>nickname</code> \u5b57\u6bb5\u5efa\u7acb\u590d\u5408\u7d22\u5f15     <pre><code>db.comment.createIndex({userid:1, nickname:-1})\n</code></pre></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_22","title":"\u79fb\u9664\u7d22\u5f15","text":"<ul> <li>\u79fb\u9664\u6307\u5b9a\u7d22\u5f15<ul> <li>\u57fa\u672c\u8bed\u6cd5\uff1a<code>db.comment.dropIndex(index)</code></li> <li>\u53c2\u6570 <code>index</code> \u53ef\u4ee5\u4e3a string/document \u7c7b\u578b\uff0c\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\u6216\u7d22\u5f15\u89c4\u8303\u6587\u6863</li> <li>\u5220\u9664\u6587\u672c\u7d22\u5f15\u5fc5\u987b\u6307\u5b9a\u7d22\u5f15\u540d\u79f0</li> <li>\u4e0b\u9762\u662f\u4e00\u4e2a\u901a\u8fc7\u7d22\u5f15\u89c4\u8303\u6587\u6863\u5220\u9664\u6307\u5b9a\u7d22\u5f15\u7684\u6848\u4f8b\uff1a     <code>db.comment.dropIndex({userid:1})</code></li> </ul> </li> <li>\u5220\u9664\u6240\u6709\u7d22\u5f15<ul> <li>\u57fa\u672c\u8bed\u6cd5\uff1a<code>db.comment.dropIndexes()</code></li> <li>\u5176\u4e2d <code>_id</code> \u5b57\u6bb5\u4e0a\u7684\u7d22\u5f15\u65e0\u6cd5\u88ab\u5220\u9664</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_23","title":"\u7d22\u5f15\u4f7f\u7528","text":""},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_24","title":"\u6267\u884c\u8ba1\u5212","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u300c\u652f\u4ed8\u8ba1\u5212\u300d\u6765\u67e5\u770b\u5efa\u7acb\u7684\u7d22\u5f15\u662f\u5426\u6709\u6548 / \u6548\u679c\u5982\u4f55</p> <ul> <li> <p>\u57fa\u672c\u8bed\u6cd5\uff1a<code>db.comment.find(query, options).explain(options)</code></p> </li> <li> <p>\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\uff1aCOLLSCAN \u8868\u793a\u201c\u5168\u8868\u626b\u63cf\u201d\uff0cFETCH \u8868\u793a\u201c\u4f7f\u7528\u7d22\u5f15\u201d</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#covered-queries","title":"\u6db5\u76d6\u7684\u67e5\u8be2 Covered Queries","text":"<ul> <li>\u5f53\u67e5\u8be2 \u6761\u4ef6&amp;\u7d22\u5f15 \u4ec5\u5305\u542b\u7d22\u5f15\u5b57\u6bb5\u65f6\uff0cMongo DB \u5c06\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u8fd4\u56de\u7ed3\u679c\uff08\u800c\u4e0d\u4f1a\u5c1d\u8bd5\u626b\u63cf/\u5c06\u4efb\u4f55\u6587\u6863\u8bfb\u5165\u5185\u5b58\uff09</li> <li>\u76f8\u5173\u6587\u6863\u89c1\u6b64\u5904</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/","title":"2 \u6162\u901f\u4e0a\u5934","text":""},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#1-replica-sets","title":"1 \u526f\u672c\u96c6 Replica Sets","text":"<ul> <li>\u201c\u526f\u672c\u96c6\u201d\u662f\u4e00\u7ec4\u7ef4\u62a4\u300c\u76f8\u540c\u6570\u636e\u96c6\u300d\u7684 Mongo DB \u670d\u52a1\uff0c\u80fd\u591f\u63d0 \u5197\u4f59 &amp; \u9ad8\u53ef\u7528\u6027</li> <li>Mongo DB \u4e2d\u7684\u526f\u672c\u96c6\u5305\u542b\u4e86 \u591a\u4e2a\u6570\u636e\u627f\u8f7d\u8282\u70b9 + \u4e00\u4e2a\u4ef2\u88c1\u8282\u70b9\uff08\u53ef\u9009\uff09<ul> <li>\u6570\u636e\u627f\u8f7d\u8282\u70b9\u4e2d\uff0c\u53ea\u6709\u4e00\u4e2a\u4f5c\u4e3a\u201c\u4e3b\u8282\u70b9\u201d\uff0c\u5176\u4f59\u5747\u4e3a\u201c\u4ece\u8282\u70b9\u201d</li> <li>\u4e3b\u8282\u70b9\u300c\u63a5\u6536\u300d\u6240\u6709 Write \u64cd\u4f5c\uff08<code>oplog</code> \u5c06\u4f5c\u4e3a\u65e5\u5fd7\u8bb0\u5f55\u6240\u6709\u5bf9\u6570\u636e\u96c6\u7684\u66f4\u6539\uff09</li> <li>\u4ece\u8282\u70b9\u901a\u8fc7\u590d\u5236 <code>oplog</code> \u4ee5\u540c\u6b65\u64cd\u4f5c</li> </ul> </li> <li>\u4e0e\u4e00\u822c\u7684\u300c\u4e3b\u4ece\u590d\u5236\u300d\u4e0d\u540c\u7684\u662f\uff0c\u300c\u526f\u672c\u96c6\u300d\u4e2d\u4e0d\u5b58\u5728\u56fa\u5b9a\u7684\u4e3b\u8282\u70b9\uff08\u51fa\u610f\u5916\u65f6\u5c31\u91cd\u65b0\u9009\u4e3e\uff09</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#11","title":"1.1 \u526f\u672c\u96c6\u4e2d\u7684\u4e09\u79cd\u89d2\u8272","text":"<ul> <li>\u4e24\u79cd\u7c7b\u578b<ul> <li><code>Primary</code>\uff1a\u6570\u636e\u64cd\u4f5c\u7684\u4e3b\u8981\u8282\u70b9\uff0c\u652f\u6301 Write &amp; Read</li> <li><code>Secondaries</code>\uff1a\u6570\u636e\u5197\u4f59\u5907\u4efd\u8282\u70b9\uff0c\u652f\u6301 Read &amp; \u9009\u4e3e</li> </ul> </li> <li> <p>\u4e09\u79cd\u89d2\u8272</p> <p>\u526f\u672c\u6210\u5458 \u4e0e \u4ef2\u88c1\u8005 \u4e4b\u95f4\u901a\u8fc7 <code>Heartbeat</code> \u786e\u5b9a\u5b58\u6d3b\u60c5\u51b5</p> <ul> <li> <p><code>Primary</code> \u4e3b\u8981\u6210\u5458</p> <p>\u5c31\u662f\u4e3b\u8282\u70b9\uff0c\u63a5\u6536\u6240\u6709 Read &amp; Write \u64cd\u4f5c</p> </li> <li> <p><code>Replicate</code> \u526f\u672c\u6210\u5458\uff08default\uff09</p> <p>\u4ece\u4e3b\u8282\u70b9\u590d\u5236\u300c\u64cd\u4f5c\u300d\u4ee5\u5907\u4efd\u6570\u636e\uff0c\u652f\u6301 Read\uff08\u9700\u8981\u914d\u7f6e\uff09\uff0c\u4e0d\u652f\u6301 Write</p> </li> <li> <p><code>Arbiter</code> \u4ef2\u88c1\u8005</p> <p>\u4e0d\u4fdd\u5b58\u4efb\u4f55\u6570\u636e\u526f\u672c\uff0c\u53ea\u6709\u9009\u4e3e\u529f\u80fd\uff08\u4f46\u53ef\u4ee5\u8ba9\u526f\u672c\u6210\u5458\u517c\u4efb\uff09</p> </li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_1","title":"\u6570\u636e\u5907\u4efd\u5de5\u4f5c\u539f\u7406","text":"<p>\u526f\u672c\u96c6\u4e2d\u5e94\u5b58\u5728 &gt;= 2 \u4e2a\u8282\u70b9\uff0c\u5176\u4e2d\u4e00\u4e2a\u4e3a\u4e3b\u8282\u70b9\uff0c\u5176\u4f59\u5747\u4e3a\u5907\u4efd\u8282\u70b9</p> <ul> <li>\u4e3b\u8282\u70b9\u6267\u884c\u6240\u6709\u5199\u64cd\u4f5c\uff0c\u8bb0\u5f55\u5728 <code>oplog</code></li> <li>\u4ece\u8282\u70b9\u5b9a\u671f\u8f6e\u8be2 <code>oplog</code> \u5e76\u5728\u81ea\u5df1\u7684\u6570\u636e\u526f\u672c\u4e0a\u6267\u884c</li> </ul> oplog <ul> <li><code>oplog</code> \u53ea\u8bb0\u5f55\u5f15\u8d77\u6570\u636e\u53d8\u5316\u7684\u64cd\u4f5c\uff08 Read \u5c31\u4e0d\u7ba1\u4e86\uff09</li> <li> <p>\u5b58\u50a8\u524d\u4f1a\u505a\u5e42\u7b49\u53d8\u6362\uff0c\u5bf9\u4e8e context \u8fdb\u884c\u89e3\u8026\uff0c\u91cd\u590d\u6309\u5e8f\u6267\u884c\u7ed3\u679c\u4e00\u81f4</p> <p>\u6bd4\u5982 <code>$inc</code> \u4f1a\u88ab\u6362\u6210 <code>$set</code>\uff08\u4e0d\u6536\u5230 old_value \u7684\u5f71\u54cd\uff09</p> </li> <li> <p><code>oplog</code> \u5b58\u50a8\u5728 <code>local</code> \u6570\u636e\u5e93\u7684 <code>oplog.$main</code> \u8868\u683c\u4e2d\uff0c\u6bcf\u4e2a\u8bb0\u5f55\u90fd\u4ee3\u8868\u4e00\u9879\u64cd\u4f5c\u3002\u8bb0\u5f55\u5305\u542b\u7684\u5b57\u6bb5\u5982\u4e0b\uff1a</p> <ul> <li><code>ts</code> \u65f6\u95f4\u6233\uff0c\u7528\u4e8e\u8ddf\u8e2a\u64cd\u4f5c\u6267\u884c\u65f6\u95f4</li> <li><code>op</code> \u64cd\u4f5c\u7c7b\u578b\uff0c\u53ea\u6709 1 Byte</li> <li><code>ns</code> \u64cd\u4f5c\u6267\u884c\u7684 table \u540d\u79f0</li> <li><code>o</code> \u88ab\u6267\u884c\u7684\u5185\u5bb9\uff08\u5982\u63d2\u5165\u7684\u5177\u4f53\u5185\u5bb9\uff09</li> </ul> </li> </ul> \u6570\u636e\u540c\u6b65 <ul> <li>\u5907\u4efd\u8282\u70b9\u9996\u6b21\u542f\u52a8\u65f6\u4f1a\u8fdb\u884c\u300c\u5b8c\u6574\u6570\u636e\u540c\u6b65\u300d\uff0c\u4e4b\u540e\u901a\u8fc7\u540c\u6b65 <code>oplog</code> \u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</li> <li>\u4e3a\u4e86\u907f\u514d\u4ece\u8282\u70b9\u4e00\u76f4\u8d76\u4e0d\u4e0a\uff0c\u8981\u4fdd\u8bc1\u7ed9 <code>oplog</code> \u7684\u7a7a\u95f4\u8db3\u591f\u5927\uff08\u8ffd\u4e0a\u524d\u4e0d\u4f1a\u88ab\u8986\u5199\uff09</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#12","title":"1.2 \u521b\u5efa\u526f\u672c\u96c6","text":"<p>\u6b64\u5904\u5b9e\u73b0\uff1a1 * \u4e3b\u8282\u70b9 + 1 * \u526f\u672c + 1 * \u4ef2\u88c1 \u7684\u7ed3\u6784</p>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#121","title":"1.2.1 \u521b\u5efa\u8282\u70b9","text":"<p>\u56e0\u4e3a\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u6a21\u62df\u96c6\u7fa4\uff0c\u6b64\u5904\u901a\u8fc7\u7aef\u53e3\u53f7\u533a\u5206\u4e0d\u540c\u8282\u70b9</p> <ul> <li> <p>\u521b\u5efa\u4e3b\u8282\u70b9</p> <ol> <li>\u5efa\u7acb\u5b58\u653e\u6570\u636e\u548c\u65e5\u5fd7\u7684\u76ee\u5f55     ```bash     # \u4e3b\u8282\u70b9 port: 27017</li> </ol> </li> </ul> <p> \u7ea6 3488 \u4e2a\u5b57  197 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 14 \u5206\u949f</p> <pre><code>    mkdir -p /mongodb/replica_sets/myrs_27017/log\n    mkdir -p /mongodb/replica_sets/myrs_27017/data/db\n    ```\n\n2. \u65b0\u5efa\u914d\u7f6e\u6587\u4ef6\n    ```yaml\n    # @/mongodb/replica_sets/myrs_27017/mongod.conf\n    systemLog:\n        destination: file\n        path: \"/mongodb/replica_sets/myrs_27017/log/mongod.log\"\n        logAppend: true\n    storage:\n        dbPath: \"/mongodb/replica_sets/myrs_27017/data/db\"\n        journal:\n            enabled: true # \u542f\u7528\u6301\u4e45\u6027\u65e5\u5fd7\uff0c\u4fdd\u8bc1\u6709\u6548\u6027&amp;\u53ef\u6062\u590d\u6027\n    processManagement:\n        # \u542f\u7528\u5728\u540e\u53f0\u8fd0\u884c mongod\n        fork: true\n        pidFilePath: \"/mongodb/replica_sets/myrs_27017/log/mongod.pid\"\n    net:\n        bindIP: localhost\n        port: 27017\n    replication:\n        replSetName: myrs # \u526f\u672c\u96c6\u540d\u79f0\n    ```\n\n3. \u542f\u7528\u670d\u52a1 `mogod -f path/to/conf`\n</code></pre> <ul> <li> <p>\u521b\u5efa\u526f\u672c\u8282\u70b9</p> <p>\u57fa\u672c\u6d41\u7a0b\u4e00\u81f4</p> <ul> <li>\u5b58\u653e\u8def\u5f84\u4e3a <code>myrs_27018</code></li> <li>\u4fee\u6539\u7aef\u53e3\u53f7\u4e3a 27018</li> </ul> </li> <li> <p>\u521b\u5efa\u4ef2\u88c1\u8282\u70b9</p> <p>\u57fa\u672c\u6d41\u7a0b\u4e00\u81f4</p> <ul> <li>\u5b58\u653e\u8def\u5f84\u4e3a <code>myrs_27019</code></li> <li>\u4fee\u6539\u7aef\u53e3\u53f7\u4e3a 27019</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#122","title":"1.2.2 \u521d\u59cb\u5316\u526f\u672c\u96c6\u4e0e\u4e3b\u8282\u70b9","text":"<ul> <li>\u4f7f\u7528\u5ba2\u6237\u7aef\u547d\u4ee4\u8fde\u63a5\u8282\u70b9 <code>mongo --host=localhost --port=27017</code></li> <li> <p>\u521d\u59cb\u5316\u526f\u672c\u96c6 <code>rs.initiate(configuration)</code> </p> <ul> <li>\u6b64\u5904\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\uff1a<code>rs.initiate()</code></li> <li>\u8fd4\u56de\u503c\u4e2d <code>\"ok\": 1</code> \u8bf4\u660e\u521b\u5efa\u6210\u529f</li> <li>\u8f93\u5165\u4e24\u6b21\u56de\u8f66\u540e\uff0c\u884c\u9996\u51fa\u73b0 <code>myrs: PRIMARY</code>\uff08\u4e2d\u95f4\u4f1a\u6709\u4e00\u4e2a\u526f\u672c\u8282\u70b9\u7684\u56fd\u5ea6\u72b6\u6001\uff09</li> </ul> </li> <li> <p>\u67e5\u770b\u526f\u672c\u96c6\u914d\u7f6e\u5185\u5bb9</p> <p>\u57fa\u672c\u8bed\u6cd5\uff1a<code>rs.conf(configuration)</code>\uff0c\u522b\u540d\u4e3a <code>rs.config()</code></p> <ul> <li><code>configuration</code> \u53c2\u6570\u53ef\u9009\uff0c\u7a7a\u7f3a\u65f6\u4f7f\u7528\u4e3b\u8282\u70b9\u914d\u7f6e</li> <li>\u8fd4\u56de\u503c<ul> <li><code>\"_id\": \"myrs\"</code> \u526f\u672c\u96c6\u914d\u7f6e\u6570\u636e\u5b58\u50a8\u7684\u4e3b\u952e\u540d\u79f0\uff0c\u9ed8\u8ba4\u4f7f\u7528\u526f\u672c\u96c6\u540d</li> <li><code>\"members\"</code> \u526f\u672c\u96c6\u6210\u5458\u6570\u7ec4\uff08\u6b64\u65f6\u4ec5\u5305\u542b\u7aef\u53e3\u53f7\u4e3a27017\u7684\u4e3b\u8282\u70b9\uff09<ul> <li><code>\"arbiterOnly\": false</code> \u8868\u660e\u5f53\u524d\u8282\u70b9\u4e0d\u662f\u4e00\u4e2a\u4ef2\u88c1\u8282\u70b9</li> <li><code>\"priority\": 1</code> \u8868\u660e\u5f53\u524d\u8282\u70b9\u7684\u4f18\u5148\u7ea7</li> </ul> </li> <li><code>\"settings\"</code> \u526f\u672c\u96c6\u7684\u53c2\u6570\u914d\u7f6e</li> </ul> </li> </ul> </li> <li> <p>\u67e5\u770b\u526f\u672c\u96c6\u72b6\u6001</p> <p>\u57fa\u672c\u8bed\u6cd5\uff1a<code>rs.status()</code></p> <ul> <li>\u8fd4\u56de\u5305\u542b\u72b6\u6001\u4fe1\u606f\u7684\u6587\u6863\uff08\u4ece\u5fc3\u8df3\u5305\u4e2d\u83b7\u53d6\u526f\u672c\u96c6\u4e2d\u5176\u4ed6\u6210\u5458\u7684\u5f53\u524d\u72b6\u6001\u4fe1\u606f\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#123","title":"1.2.3 \u6dfb\u52a0\u526f\u672c\u8282\u70b9\u4e0e\u4ef2\u88c1\u8282\u70b9","text":"<p>\u5728\u4e3b\u8282\u70b9\u547d\u4ee4\u884c\u4e0b\u64cd\u4f5c\uff08\u884c\u9996\u4e3a <code>myrs: PRIMARY</code>\uff09</p>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_2","title":"\u6dfb\u52a0\u526f\u672c\u8282\u70b9","text":"<ul> <li>\u57fa\u672c\u8bed\u6cd5\uff1a<code>rs.add(host, arbiterOnly)</code></li> <li>\u53c2\u6570\u4fe1\u606f\u5982\u4e0b\u8868\u6240\u793a\uff1a</li> </ul> Parameter Type Description <code>host</code> string / document \u5b57\u7b26\u4e32\u7c7b\u578b\u9700\u8981\u6307\u5b9a\u4e3b\u673a\u540d&amp;\u7aef\u53e3\u53f7\u6587\u6863\u9700\u8981\u6307\u5b9a\u5728 members \u6570\u7ec4\u4e2d\u7684\u914d\u7f6e\u6587\u6863 <code>arbiterOnly</code> boolean \u53ef\u9009\uff0c\u5c3d\u5728 <code>host</code> \u4e3a string \u7c7b\u578b\u65f6\u4f7f\u7528\u4e3a true \u65f6\u5c06\u8282\u70b9\u8bbe\u7f6e\u4e3a\u4ef2\u88c1\u8005 <ul> <li> <p>\u4e00\u4e2a\u901a\u8fc7 string \u7c7b\u578b\u6dfb\u52a0\u7684\u4f8b\u5b50\uff1a<code>rs.add(\"localhost:27018\")</code></p> <p>\u8fd4\u56de <code>\"ok\": 1</code> \u8bf4\u660e\u6dfb\u52a0\u6210\u529f</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_3","title":"\u6dfb\u52a0\u4ef2\u88c1\u8282\u70b9","text":"<p>\u5176\u5b9e\u4f7f\u7528 <code>rs.add(&lt;host&gt;, true)</code> \u4e5f\u884c</p> <ul> <li>\u57fa\u672c\u8bed\u6cd5\uff1a<code>rs.addArb(&lt;host&gt;)</code></li> <li>\u6b64\u5904\u7684\u4f8b\u5b50\uff1a<code>rs.addArb(\"localhost:27019\")</code>\uff0c\u8fd4\u56de <code>\"ok\":1</code> \u8868\u793a\u6dfb\u52a0\u6210\u529f</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#13","title":"1.3 \u6570\u636e\u8bfb\u5199\u64cd\u4f5c","text":""},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_4","title":"\u4e3b\u8282\u70b9\u6570\u636e\u64cd\u4f5c","text":"<ul> <li>\u767b\u5f55\u4e3b\u8282\u70b9 <code>mongo --host=localhost --port=27017</code></li> <li>\u64cd\u4f5c\u6570\u636e     <pre><code>use articledb\n// =&gt; switch to articledb\ndb\n// =&gt; articledb\ndb.coment.insert(\n    {\n        \"articleid\": \"100001\",\n        \"content\": \"do not go gently into sth\",\n        \"userid\": \"1829\",\n        \"createdatetime\": new Date()\n    }\n)\n// =&gt; writeResult({\"nInstered\": 1})\ndb.comment.find()\n// =&gt; \u4e0a\u9762\u63d2\u5165\u7684 document\n</code></pre></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_5","title":"\u526f\u672c\u8282\u70b9\u6570\u636e\u64cd\u4f5c","text":"<ul> <li>\u767b\u5f55\u526f\u672c\u8282\u70b9 <code>mongo --host=ocalhost --port=27018</code></li> </ul> <p>\u6211\u4eec\u53d1\u73b0\u5f53\u524d\u65e0\u6cd5\u6267\u884c <code>show dbs</code> </p> <p>\u8fd9\u662f\u56e0\u4e3a\u5f53\u524d\u8282\u70b9\u53ea\u662f\u4e00\u4e2a\u300c\u5907\u4efd\u300d\u800c\u4e0d\u662f\u300c\u5974\u96b6\u8282\u70b9\u300d\uff0c\u4e0d\u5141\u8bb8\u8bfb\u53d6\u6570\u636e</p> <p>=&gt; \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u975e\u4e3b\u8282\u70b9\u300c\u6ca1\u6709\u8bfb\u5199\u6743\u9650\u300d\uff0c\u8bfb\u6743\u9650\u9700\u8981\u989d\u5916\u624b\u52a8\u914d\u7f6e</p> <ul> <li>\u914d\u7f6e\u8bfb\u53d6\u6743\u9650\uff08\u8bbe\u7f6e\u4e3a\u5974\u96b6\u8282\u70b9\uff09\uff1a<code>rs.slaveOk() / rs.slaveOk(true)</code></li> </ul> <p>\u5b9e\u9645\u4e0a\u662f <code>db.getMongo().setSlaveOk()</code> \u7684\u7b80\u5316\u547d\u4ee4</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>rs.slaveOk(false)</code> \u53d6\u6d88\u5176\u4f5c\u4e3a\u5974\u96b6\u8282\u70b9\u7684\u6743\u9650</p> <ul> <li>\u4e4b\u540e\u5c31\u53ef\u4ee5\u6b63\u5e38\u6267\u884c\u547d\u4ee4\u4e86\uff08\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5728\u4e3b\u8282\u70b9\u4e2d\u63d2\u5165\u7684\u6570\u636e\uff09<ul> <li><code>use articledb</code></li> <li><code>db.comment.find()</code></li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_6","title":"\u4ef2\u88c1\u8005\u8282\u70b9\u64cd\u4f5c","text":"<p>\u4ef2\u88c1\u8005\u8282\u70b9\u4e0d\u5b58\u653e\u4efb\u4f55\u4e1a\u52a1\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6d41\u7a0b\u8fdb\u884c\u9a8c\u8bc1</p> <ul> <li>\u767b\u5f55\u4ef2\u88c1\u8282\u70b9<code>mongo --host=localhost --port=27019</code></li> <li>\u5c1d\u8bd5\u8fdb\u884c\u64cd\u4f5c     <pre><code>rs.slaveOk()\nshow dbs\n// =&gt; local 0.000GB\uff08\u6ca1\u6709 articledb\uff09\nuse local\n// =&gt; switch to local\nshow collections\n// =&gt; \u53ea\u6709\u4e00\u4e9b\u5b58\u653e\u914d\u7f6e\u4fe1\u606f\u7684\u8868\n</code></pre></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#14","title":"1.4 \u4e3b\u8282\u70b9\u9009\u4e3e\u539f\u5219","text":"<p>\u5728 Mongo DB \u4e2d\uff0c\u89e6\u53d1\u4ee5\u4e0b\u6761\u4ef6\u5c06\u5f15\u8d77\u6ce8\u89e3\u70b9\u9009\u4e3e\uff1a</p> <ul> <li>\u539f\u6709\u7684\u4e3b\u8282\u70b9\u6545\u969c</li> <li>\u539f\u6709\u7684\u4e3b\u8282\u70b9\u7f51\u7edc\u4e0d\u53ef\u8fbe\uff08 heartbeat \u9ed8\u8ba4\u65f6\u957f\u4e3a 10s\uff09</li> <li>\u4eba\u5de5\u5e72\u9884\uff0c\u5982 <code>rs.stepDown(600)</code></li> </ul> <p>\u9009\u4e3e\u89c4\u5219\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u7968\u6570\u6700\u9ad8\uff0c\u4e14\u83b7\u5f97 &gt; N/2 + 1 \u6210\u5458\u6295\u7968\u7684\u8282\u70b9\u5f53\u9009</p> <p>\u82e5\u5f97\u7968\u6570 &lt; N/2 + 1\uff0c\u5219\u65e0\u6cd5\u9009\u51fa Primary\uff08\u53ea\u63d0\u4f9b Read\uff0c\u4e0d\u63d0\u4f9b Write\uff09</p> </li> <li> <p>\u82e5\u4e24\u8005\u7968\u6570\u76f8\u7b49\uff0c\u4e14\u5747 &gt; N/2 + 1\uff0c\u5219\u6570\u636e\u8f83\u65b0\u7684\u8282\u70b9\u83b7\u80dc\uff08\u6bd4\u8f83 <code>oplog</code>\uff09</p> </li> <li> <p>\u4f18\u5148\u7ea7\u5bf9\u4e8e\u6295\u7968\u7684\u5f71\u54cd</p> <ul> <li>\u8282\u70b9\u53ef\u4ee5\u901a\u8fc7\u8f83\u9ad8\u7684\u4f18\u5148\u7ea7\u83b7\u5f97\u989d\u5916\u7684\u7968\u6570</li> <li>\u4f18\u5148\u7ea7\u7684\u53d6\u503c\u8303\u56f4\u4e3a [0\uff0c1000] \uff08\u4e3a\u81ea\u5df1\u989d\u5916\u589e\u52a0 0-1k \u7968\uff09</li> <li>\u5177\u6709\u8f83\u9ad8\u4f18\u5148\u7ea7\u7684\u6210\u5458\u66f4\u53ef\u80fd\u83b7\u5f97\u6700\u591a\u7968\u6570\uff08\u4e5f\u5bfc\u81f4\u53ef\u80fd\u591a\u4e2a\u8282\u70b9\u90fd\u83b7\u5f97\u8d85\u8fc7\u534a\u6570\u9009\u7968\uff09</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8282\u70b9\u7684\u4f18\u5148\u7ea7\u4e3a 1\uff08\u4ef2\u88c1\u8282\u70b9\u4f18\u5148\u7ea7\u4e3a 0\uff09</li> </ul> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#15","title":"1.5 \u5176\u4ed6\u8fde\u63a5\u65b9\u5f0f","text":""},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#compass","title":"Compass \u8fde\u63a5","text":"<ul> <li>\u9700\u8981\u624b\u52a8\u8bbe\u7f6e\u526f\u672c\u96c6\u540d\u79f0\u4e3a <code>myrs</code></li> <li>\u9700\u8981\u6839\u636e\u8282\u70b9\u60c5\u51b5\u914d\u7f6e <code>Read Preference</code>\uff1aPrimary / Secondary</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#springdate","title":"SpringDate \u8fde\u63a5","text":"<ul> <li> <p>\u6b64\u5904\u4f7f\u7528 URI \u914d\u7f6e\u8fde\u63a5 </p> <p><code>mongodb://host1,host2,host3/?connect=replicaSet&amp;slaveOk=true&amp;replicaSet=myrs</code></p> <ul> <li>host1 ~ host3 \u7684\u683c\u5f0f\u4e3a <code>ip_addr:port</code>\uff08\u5fc5\u987b\u5305\u542b\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u8282\u70b9\uff09</li> <li><code>slaveOk=true</code> \u8868\u793a\u5f00\u542f\u526f\u672c\u8282\u70b9\u7684\u8bfb\u53d6\u529f\u80fd</li> <li><code>connect=replicaSet</code> \u5728\u4e3b\u8282\u70b9\u4e2d\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u5728\u526f\u672c\u8282\u70b9\u4e2d\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#2-shared-cluster","title":"2 \u5206\u7247\u96c6\u7fa4 Shared Cluster","text":"<p>\u300c\u526f\u672c\u96c6\u300d\u5c06\u5b8c\u6574\u7684\u6570\u636e\u96c6\u5728\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u8fdb\u884c\u540c\u6b65</p> <p>\u300c\u5206\u7247 Sharing\u300d\u5219\u5c06 db / table \u8fdb\u884c\u62c6\u5206\uff0c\u5728\u4e0d\u540c\u673a\u5668\u4e0a\u4ec5\u5b58\u50a8\u90e8\u5206\u6570\u636e</p>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#21","title":"2.1 \u5206\u7247\u96c6\u7fa4\u5305\u542b\u7684\u7ec4\u4ef6","text":"<ul> <li> <p>\u5206\u7247\uff08\u5b58\u50a8\uff09</p> <p>\u6bcf\u4e2a\u5206\u7247\u5305\u542b\u88ab\u5206\u7247\u6570\u636e\u7684\u5b50\u96c6\uff0c\u53ef\u4ee5\u5355\u72ec\u4f5c\u4e3a\u526f\u672c\u96c6\u5355\u4f4d</p> <p>Mongo DB \u5728 <code>collection</code> \u7ea7\u522b\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7247</p> </li> <li> <p><code>mongos</code>\uff08\u8def\u7531\uff09</p> <p>\u7531 <code>mongos</code> \u62c5\u4efb\u67e5\u8be2\u8def\u7531\u5668\uff0c\u5728 Client \u4e0e \u5206\u7247\u96c6\u7fa4 \u95f4\u8fdb\u884c\u534f\u8c03</p> </li> <li> <p><code>config servers</code>\uff08\u914d\u7f6e\u670d\u52a1\u5668\uff09</p> <p>\u914d\u7f6e\u670d\u52a1\u96c6\u7fa4\u7684\u5143\u6570\u636e &amp; \u914d\u7f6e\u8bbe\u7f6e</p> <p>\u4ece 3.4 \u8d77\u5fc5\u987b\u5c06\u914d\u7f6e\u670d\u52a1\u5668\u90e8\u7f72\u4e3a\u201cCSRS\u201d\u526f\u672c\u96c6</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#22","title":"2.2 \u5206\u7247\u96c6\u7fa4\u642d\u5efa","text":"<p>\u4e3a\u5b9e\u73b0\u5bb9\u9519\u5bb9\u707e\uff0c\u6211\u4eec\u53ef\u4ee5\u642d\u5efa\u4ee5\u4e0b\u67b6\u6784\u7684\u7b80\u5355\u5206\u7247\u96c6\u7fa4\uff1a</p> <ul> <li>Mongos Routers \u4e3a\u4fdd\u8bc1\u5bb9\u707e\uff0c\u914d\u7f6e mongos1 &amp; mongos2 \u4e24\u4e2a Router</li> <li>Config Server\uff08\u672c\u8eab\u662f\u4e00\u4e2a\u526f\u672c\u96c6\uff09<ul> <li>1 * Primary Config</li> <li>2 * Secondary Config</li> </ul> </li> <li>Shared\uff08\u5206\u7247\u96c6\u7fa4\uff09<ul> <li>Shared1\uff08\u672c\u8eab\u662f\u4e00\u4e2a\u526f\u672c\u96c6\uff09<ul> <li>1 * Primary </li> <li>1 * Secondary</li> <li>1 * Arbiter</li> </ul> </li> <li>Shared2\uff08\u672c\u8eab\u662f\u4e00\u4e2a\u526f\u672c\u96c6\uff0c\u67b6\u6784\u548c 1 \u76f8\u540c\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#221-shared-1-2","title":"2.2.1 \u642d\u5efa Shared 1 &amp; 2","text":"<p>\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u653e\u5230 <code>shared_cluster</code> \u5bf9\u5e94\u7684\u5b57\u76ee\u5f55\u4e0b\uff0c\u6587\u4ef6\u540d\u4e3a <code>mongod.conf</code></p> <p>\u4e0b\u9762\u4ee5\u642d\u5efa Shared1 \u526f\u672c\u96c6\u4e3a\u4f8b\uff08\u4e3b\u3001\u4ece\u3001\u4ef2\u88c1\u7aef\u53e3\u5206\u522b\u4e3a 27018\uff0c27118\uff0c27218\uff09</p> <ul> <li>\u51c6\u5907\u5b58\u653e\u6570\u636e\u548c\u65e5\u5fd7\u7684\u76ee\u5f55\uff08\u4ee5 Shared1.Primary \u4e3a\u4f8b\uff09     <pre><code>mkdir -p /mongodb/shared_cluster/mysharedrs01_27018/log\nmkdir -p /mongodb/shared_cluster/mysharedrs01_27018/data/db\n</code></pre></li> <li>\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 <code>/mongodb/shared_cluster/mysharedrs01_27018/mongod.conf</code> <pre><code>systemLog:\n    destination: file\n    path: \"/mongodb/shared_cluster/mysharedrs01_27018/log/mongod.log\"\n    logAppend: true\nstorage:\n    dbPath: \"/mongodb/shared_cluster/mysharedrs01_27018/data/db\"\n    journal:\n        enabled: true\nprocessManagement:\n    fork: true\n    pidFilePath: \"/mongodb/shared_cluster/mysharedrs01_27018/log/mongod.pid\"\nnet:\n    bindIp: localhost\n    port: 27018\nreplication:\n    replSetName: mysharedrs01\nsharding:\n    # \u5206\u7247\u89d2\u8272\uff0c\u652f\u6301 configsvr / shardsvr\n    clusterRole: shardsvr\n</code></pre></li> <li>\u641e\u5b9a\u540e\u4f9d\u6b21\u542f\u52a8\u4e09\u4e2a\u8282\u70b9\u7684\u670d\u52a1     <pre><code>mongod -f path/to/mongod.conf\n# \u68c0\u67e5\u670d\u52a1\u662f\u5426\u542f\u52a8\nps -ef |grep mongod\n</code></pre></li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#222-config-server","title":"2.2.2 \u642d\u5efa Config Server","text":"<ul> <li>\u51c6\u5907\u5b58\u653e\u6570\u636e\u548c\u65e5\u5fd7\u7684\u76ee\u5f55\uff08\u4ee5 Shared1.Primary \u4e3a\u4f8b\uff09     <pre><code>mkdir -p /mongodb/shared_cluster/myconfigrs_27019/log\nmkdir -p /mongodb/shared_cluster/myconfigrs_27019/data/db\n</code></pre></li> <li> <p>\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 <code>/mongodb/shared_cluster/myconfigrs_27019/mongod.conf</code></p> <p>\u628a <code>clusterRole</code> \u6539\u6210 <code>configsvr</code> \u5c31\u884c</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#223","title":"2.2.3 \u521d\u59cb\u5316\u526f\u672c\u96c6","text":"<ul> <li>\u4f7f\u7528\u5ba2\u6237\u7aef\u547d\u4ee4\u8fde\u63a5\u4e3b\u8282\u70b9 <code>mongo --host=localhost --port=27018</code></li> <li>\u6267\u884c\u521d\u59cb\u5316\u526f\u672c\u96c6\u547d\u4ee4 <code>rs.initiate()</code></li> <li>\u4e3a\u672c\u96c6\u5408\u6dfb\u52a0\u526f\u672c\u8282\u70b9 <code>rs.add(\"localhost:27118\")</code></li> <li>\u4e3a\u672c\u96c6\u5408\u6dfb\u52a0\u4ef2\u88c1\u8282\u70b9 <code>rs.addArb(\"localhost:27218\")</code></li> </ul> <p>Config Server \u76f4\u63a5\u6dfb\u52a0\u4e24\u4e2a\u526f\u672c\u8282\u70b9\u5c31\u884c</p>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#224","title":"2.2.4 \u8def\u7531\u8282\u70b9\u64cd\u4f5c","text":""},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_7","title":"\u521b\u5efa\u8def\u7531\u8282\u70b9","text":"<ul> <li>\u521b\u5efa\u7528\u4e8e\u5b58\u653e\u6570\u636e\u548c\u65e5\u5fd7\u7684\u76ee\u5f55     <pre><code>mkdir -p /mongodb/shared_cluster/mongos_27017/log\nmkdir -p /mongodb/shared_cluster/mongos_27017/data/db\n</code></pre></li> <li>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff08\u53ea\u6709 <code>sharding</code> \u914d\u7f6e\u4e0d\u540c\uff09     <pre><code>sharding:\n    # \u6307\u5b9a\u914d\u7f6e\u8282\u70b9\u6240\u5c5e\u7684\u526f\u672c\u96c6\uff08\u800c\u975e\u5206\u7247\u89d2\u8272\uff09\n    configs: myconfigs/localhost:27019,localhost:27119,localhost:27219\n    # \u9700\u8981\u5305\u542b\u914d\u7f6e\u526f\u672c\u96c6\u4e2d\u7684\u6240\u6709\u8282\u70b9\n</code></pre></li> <li>\u542f\u52a8 mongos\uff08\u6b64\u65f6\u5c1a\u4e14\u4e0d\u80fd\u6267\u884c Write \u64cd\u4f5c\uff09</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_8","title":"\u6dfb\u52a0\u5206\u7247","text":"<ul> <li>\u57fa\u672c\u547d\u4ee4\uff1a<code>sh.addShard(\"IP_addr:port\")</code> <pre><code>// \u6dfb\u52a0\u7b2c\u4e00\u5957\u5206\u7247\u526f\u672c\u96c6\nsh.addShard(\"myshardrs01/localhost:27018,localhost:27118,localhost:27218\")\n</code></pre></li> <li>\u6dfb\u52a0\u5931\u8d25\u65f6\uff0c\u9700\u8981\u624b\u52a8\u79fb\u9664\u5206\u7247\u540e\u518d\u6b21\u6dfb\u52a0     <pre><code>// \u79fb\u9664\u5206\u7247\u547d\u4ee4\nuse admin\ndb.runCOmmand({removeShard: \"myshardrs02\"})\n</code></pre><ul> <li>\u4ec5\u5269\u4e0b\u4e00\u4e2a shard \u65f6\u65e0\u6cd5\u624b\u52a8\u8fdb\u884c\u5220\u9664</li> <li>\u5220\u9664\u5206\u7247\u65f6\u4f1a\u81ea\u52a8\u8f6c\u79fb\u5206\u7247\u6570\u636e\uff0c\u9700\u8981\u4e00\u5b9a\u65f6\u95f4 =&gt; \u8f6c\u79fb\u5b8c\u6210\u540e\u518d\u6b21\u6267\u884c\u547d\u4ee4\u624d\u80fd\u771f\u6b63\u5220\u9664</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_9","title":"\u5f00\u542f\u5206\u7247\u529f\u80fd","text":"<ul> <li> <p>\u5f00\u542f\u5206\u7247\u529f\u80fd</p> <ul> <li> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u914d\u7f6e articledb \u4e3a\u5206\u7247\u6570\u636e\u96c6</p> <p><code>sh.enableSharing(\"articledb\")</code>\uff0c\u8fd4\u56de <code>\"ok\": 1</code> \u5373\u4e3a\u914d\u7f6e\u6210\u529f</p> </li> <li> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>sh.status()</code> \u67e5\u770b\u5206\u7247\u72b6\u6001</p> </li> </ul> </li> <li> <p>\u914d\u7f6e\u96c6\u5408\u5206\u7247</p> <p>\u5bf9\u96c6\u5408\u8fdb\u884c\u5206\u7247\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u4e00\u4e2a Shard Key\uff08\u4e14\u4e00\u4e2a table \u53ea\u80fd\u6709\u4e00\u4e2a \u7247\u952e\uff09\u4e14\u5206\u7247\u540e\u8be5\u952e\u503c\u5bf9\u4e0d\u53ef\u6539\u52a8</p> <p>\u6bcf\u6761\u8bb0\u5f55\u90fd\u5fc5\u987b\u5305\u542b\u8be5 Key\uff0c\u4e14\u5efa\u7acb\u4e86\u5173\u4e8e\u8be5\u952e\u7684\u5355\u72ec/\u7b26\u5408\u7d22\u5f15</p> <p>Mongo \u5c06\u57fa\u4e8e\u8be5 Key \u5212\u5206\u6570\u636e\u5757\uff0c\u5e76\u4f7f\u5176\u5747\u8861\u5206\u5e03\u5230\u6240\u6709\u5206\u7247\u4e2d</p> <p>\u652f\u6301\u7684\u5212\u5206\u65b9\u5f0f\u6709\uff1aHash\u5206\u7247\uff08\u968f\u673a\u5e73\u5747\u5206\u914d\uff09\u4e0e \u57fa\u4e8e\u6570\u503c\u8303\u56f4\u5206\u7247</p> <ul> <li>\u6211\u4eec\u9700\u8981\u901a\u8fc7 <code>sh.shardCollection(namespace, key, unqiue)</code> \u6307\u5b9a\u96c6\u5408\u4e0e\u5206\u7247\u952e</li> <li>\u53c2\u6570\u7684\u76f8\u5173\u4fe1\u606f\u5982\u4e0b\uff1a</li> </ul> </li> </ul> Parameter Type Description <code>namespace</code> string \u683c\u5f0f\u4e3a <code>db_name.collection_name</code> <code>key</code> document \u4f5c\u4e3a\u5206\u7247\u7d22\u5f15\u7684\u89c4\u8303\u6587\u6863\uff0c\u51b3\u5b9a\u5982\u4f55\u5728 Shard \u4e4b\u95f4\u5206\u53d1 Table <code>unique</code> boolean \u9ed8\u8ba4\u4e3a false\uff0c\u8bbe\u4e3a true \u540e\u4f1a\u4fdd\u8bc1\u7d22\u5f15\u552f\u4e00\uff1bHash\u7b56\u7565\u4e0d\u652f\u6301\u552f\u4e00\u7d22\u5f15 <pre><code>// \u4f7f\u7528 Hash \u5206\u7247\u7b56\u7565\u7684\u4f8b\u5b50 -&gt; \u76f8\u8fd1\u7684\u503c\u88ab\u5206\u6563\u5230\u4e0d\u540c\u6570\u636e\u5757\u4e2d\nsh.shardCollection(\n    \"articledb.comment\",\n    {\n        \"nickname\": \"hashed\"\n    }\n)\n// \u4f7f\u7528 \u503c\u8303\u56f4 \u5206\u7247\u7b56\u7565\u7684\u4f8b\u5b50 -&gt; \u76f8\u8fd1\u7684\u503c\u8d8b\u5411\u4e8e\u88ab\u5b58\u50a8\u5728\u76f8\u540c\u6570\u636e\u5757\u4e2d\nsh.shardCollection(\n    \"articledb.comment\",\n    {\n        \"age\": 1\n    }\n)\n</code></pre>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#23","title":"2.3 \u7b2c\u4e09\u65b9\u5de5\u5177\u8fde\u63a5\u5206\u7247\u5206\u7247","text":"<ul> <li> <p>Compass \u8fde\u63a5\u5206\u7247</p> <p>\u8bbe\u7f6e host &amp; port \u540e\uff08\u5176\u4f59\u9ed8\u8ba4\uff09\uff0c\u8fde\u63a5 Router \u5373\u53ef</p> </li> <li> <p>SpringData \u8fde\u63a5\u5206\u7247</p> <p>\u901a\u8fc7 URI \u8fde\u63a5\u5373\u53ef <code>uri: mongodb://localhost:27017,localhost:27117/articledb</code></p> <p>\u9700\u8981\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u8def\u7531\u8282\u70b9\uff08SpringBoot \u81ea\u5e26\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\uff09</p> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#3","title":"3 \u5b89\u5168\u8ba4\u8bc1","text":"<ul> <li>Mongo DB \u9ed8\u8ba4\u4e0d\u542f\u7528\u7528\u6237\u8ba4\u8bc1\uff1b\u53ef\u4ee5\u5728\u542f\u52a8\u547d\u4ee4\u4e2d\u901a\u8fc7 <code>--auth</code> \u9009\u9879\uff0c\u6216\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0 <code>auth=true</code></li> <li> <p>Mongo DB \u4f7f\u7528 RBAC\uff0c\u901a\u8fc7\u6388\u4e88\u7528\u6237 &gt;= 1 \u4e2a\u89d2\u8272\u5b9e\u73b0\u6743\u9650\u63a7\u5236\uff08\u88ab\u5206\u914d\u89d2\u8272\u524d\u65e0\u6743\u8bbf\u95ee\u5b9e\u4f8b\uff09</p> <ul> <li> <p>\u6bcf\u4e2a\u89d2\u8272\u62e5\u6709\u7684\u6743\u9650\u53ef\u4ee5\u8fdb\u884c\u663e\u5f0f\u6307\u5b9a\uff0c\u6216\u7ee7\u627f\u5176\u4ed6\u5df2\u6709\u89d2\u8272\uff08&gt;=1\u4e2a\uff09\u7684\u6743\u9650</p> <p>\u5728 <code>admin</code> \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7684\u89d2\u8272\u62e5\u6709\u6240\u6709\u6743\u9650</p> </li> <li> <p>\u6743\u9650 = \u6570\u636e\u5e93\u8d44\u6e90 + \u5141\u8bb8\u7684\u64cd\u4f5c</p> <ul> <li>\u8d44\u6e90\uff1adatabase\uff0ccollection\uff0c\u96c6\u7fa4</li> <li>\u64cd\u4f5c\uff1a\u589e\u5220\u6539\u67e5</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_10","title":"\u67e5\u770b\u89d2\u8272\u6743\u9650","text":"<pre><code>// \u67e5\u770b\u6240\u6709\u81ea\u5b9a\u4e49\u89d2\u8272\u6743\u9650\ndb.runCommand({ rolesInfo: 1 })\n// \u67e5\u770b\u5305\u62ec\u5185\u7f6e\u89d2\u8272\u5728\u5185\u7684\u6240\u6709\u89d2\u8272\u6743\u9650\ndb.runCommand({\n    rolesInfo: 1,\n    showBuildinROles: true\n})\n// \u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6307\u5b9a\u89d2\u8272\u6743\u9650\ndb.runCommand({ rolesInfo: \"role_name\" })\n// \u67e5\u770b\u5176\u4ed6\u6570\u636e\u5e93\u4e2d\u7684\u6307\u5b9a\u89d2\u8272\u6743\u9650\ndb.runCommand({\n    rolesInfo: {\n        role: \"role_name\",\n        db: \"db_name\"\n    }\n})\n</code></pre> <ul> <li>\u5e38\u7528\u5185\u7f6e\u89d2\u8272<ul> <li>\u6570\u636e\u5e93\u7528\u6237\u89d2\u8272\uff1aread / readWrite</li> <li>\u6240\u6709\u6570\u636e\u5e93\u7528\u6237\u89d2\u8272\uff1areadAnyDatabase / readWriteAnyDatabase / userAdminAnyDatabase / dbAdminAnyDatabase</li> <li>\u6570\u636e\u5e93\u7ba1\u7406\u89d2\u8272\uff1adbAdmin / dbOwner / userAdmin</li> <li>\u96c6\u7fa4\u7ba1\u7406\u89d2\u8272\uff1aclusterAdmin / clusterManager / clusterMonitor / hostManager</li> <li>\u5907\u4efd\u6062\u590d\u89d2\u8272\uff1a backup / restore</li> <li>\u8d85\u7ea7\u7528\u6237\u89d2\u8272\uff1a root</li> <li>\u5185\u90e8\u89d2\u8272\uff1asystem</li> </ul> </li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#31","title":"3.1 \u5355\u5b9e\u4f8b\u73af\u5883","text":"<p>\u672a\u5f00\u542f\u526f\u672c\u96c6 / \u5206\u7247\u529f\u80fd</p> <ol> <li> <p>\u5173\u95ed\u5df2\u5f00\u542f\u7684\u670d\u52a1\uff08\u670d\u52a1\u642d\u5efa\u540e\u518d\u6dfb\u52a0\u9274\u6743\u529f\u80fd\uff09</p> <ul> <li> <p>\u5feb\u901f\u5173\u95ed </p> <p>\u4f7f\u7528 <code>ps -ef |grep mongo</code> \u67e5\u770b\u8fdb\u7a0b\u53f7\u540e\uff0c\u4f7f\u7528 <code>kill -2 54410</code> \uff0c\u76f4\u63a5\u901a\u8fc7\u8fdb\u7a0b\u53f7 kill</p> <p>\u82e5\u5f3a\u5236\u5173\u95ed\u540e\u51fa\u9519\uff0c\u5219\u9700\u8981\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u5220\u9664 lock \u6587\u4ef6 <code>rm -f /mongodb/single/data/db/*.lock*</code></li> <li>\u4fee\u590d\u6570\u636e <code>mongod --repair --dbpath=/mongodb/single/data/db</code></li> </ol> </li> <li> <p>\u6807\u51c6\u5173\u95ed     <pre><code>// \u901a\u8fc7\u5ba2\u6237\u7aef\u767b\u5f55\u670d\u52a1\nmongo --port 27017\nuse admin\n// \u5173\u95ed\u670d\u52a1\ndb.shutdownServer()\n</code></pre></p> </li> </ul> </li> <li> <p>\u6dfb\u52a0\u7528\u6237\u53ca\u5176\u6743\u9650\uff08\u5c31\u662f\u628a\u7528\u6237\u6dfb\u52a0\u5230\u5bf9\u5e94\u6570\u636e\u5e93\u7684\u8868\u4e2d\uff09</p> <p>Mongo DB \u4e2d\u6240\u6709\u7528\u6237\u7684\u4fe1\u606f\u5c06\u4fdd\u5b58\u5728 admin \u6570\u636e\u5e93\u7684\u8868 system.user \u4e2d</p> <p>\u82e5\u4e0d\u6307\u5b9a\u751f\u6548\u7684\u6570\u636e\u5e93\uff0c\u6743\u9650\u5c06\u5728\u6240\u6709\u6570\u636e\u5e93\u4e0a\u751f\u6548</p> <ol> <li>\u6309\u7167\u65e0\u6388\u6743\u8ba4\u8bc1\u914d\u7f6e <code>mongod.conf</code></li> <li>\u6309\u7167\u8be5\u6807\u51c6\u65b9\u5f0f\u542f\u52a8\u670d\u52a1 <code>mongod -f path/to/mongod.conf</code></li> <li>\u4f7f\u7528 Mongo\u300c\u5ba2\u6237\u7aef\u300d\u767b\u5f55 <code>mongo --host=localhost --port=27017</code></li> <li>\u521b\u5efa\u4e24\u4e2a\u7ba1\u7406\u5458\u8d26\u6237     <pre><code> use admin\n // \u521b\u5efa\u7cfb\u7edf\u8d85\u7ea7\u7528\u6237 myroot\uff0c\u5bc6\u7801 123456\uff0c\u89d2\u8272\u4e3a root\n db.createUser({\n     user: \"myroot\",\n     pwd: \"123456\",\n     roles: [\"root\"]\n })\n // \u521b\u5efa\u7528\u4e8e\u7ba1\u7406 admin \u6570\u636e\u5e93\u7684\u7528\u6237 myadmin\n db.createUser({\n     user: \"myadmin\",\n     pwd: \"123456\",\n     roles: [{\n         role: \"userAdminAnyDatabase\",\n         db: \"admin\"\n     }]\n })\n // \u67e5\u770b\u5df2\u521b\u5efa\u7528\u6237\u4fe1\u606f\n db.system.users.find()\n // \u5220\u9664\u7528\u6237\n db.dropUser(\"myadmin\")\n // \u4fee\u6539\u5bc6\u7801\n db.changeUserPassword(\"myroot\", \"12345\")\n</code></pre></li> </ol> </li> <li> <p>\u8ba4\u8bc1\u6d4b\u8bd5     <pre><code> use admin\n // \u5bc6\u7801\u9519\u8bef\u7684\u60c5\u5f62\n db.auth(\"myroot\", \"54321\")\n // =&gt; Error: Authentication failed.\n // =&gt; 0\n // \u5bc6\u7801\u6b63\u786e\u7684\u60c5\u5f62\n db.auth(\"myroot\", \"123456\")\n // =&gt; 1\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u666e\u901a\u7528\u6237</p> <p>\u82e5\u5e0c\u671b\u5728\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\u670d\u52a1\u540e\u521b\u5efa\u666e\u901a\u7528\u6237\uff0c\u5219\u9700\u8981\u5148\u4f7f\u7528 admin \u89d2\u8272\u767b\u5f55\uff0c\u518d\u4f7f\u7528\u5176\u6743\u9650\u521b\u5efa</p> <pre><code>// \u5207\u6362\u5230\u9700\u8981\u64cd\u4f5c\u7684\u6570\u636e\u5e93 articledb\nuse articledb\n// \u521b\u5efa\u7528\u6237\uff0c\u5177\u6709 articledb \u7684\u8bfb\u5199\u6743\u9650\ndb.createUser({\n    user: \"test\",\n    pwd: \"12345\",\n    roles: [{\n        role: \"readWrite\",\n        db: \"articledb\"\n    }]\n})\n// \u6d4b\u8bd5\u662f\u5426\u53ef\u7528\ndb.auth(\"test\", \"12345\")\n</code></pre> </li> <li> <p>\u670d\u52a1\u7aef\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1</p> <ol> <li> <p>\u53c2\u6570\u65b9\u5f0f\u5f00\u542f</p> <p>\u5728\u542f\u52a8\u65f6\u6dfb\u52a0\u53c2\u6570 <code>--auth</code> \uff0c\u5982 <code>mongod -f path/to/config -auth</code></p> </li> <li> <p>\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f\u5f00\u542f</p> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a     <pre><code> security:\n     authorization: enabled\n</code></pre></p> </li> </ol> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_11","title":"\u767b\u5f55\u8ba4\u8bc1","text":""},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#_12","title":"\u5ba2\u6237\u7aef\u767b\u5f55\u8ba4\u8bc1","text":"<ol> <li> <p>\u5148\u8fde\u63a5\u540e\u8ba4\u8bc1     <pre><code>// \u5efa\u7acb\u8fde\u63a5\nmongo --host=localhost --port=27017\n// \u8ba4\u8bc1\u7528\u6237 myroot\nuse admin\ndb.auth(\"myroot\", \"123456\")\n// \u8ba4\u8bc1 articledb \u4e0a\u7684\u666e\u901a\u7528\u6237 test\nuse articledb\ndb.auth(\"test\", \"12345\")\n</code></pre></p> </li> <li> <p>\u767b\u5f55\u65f6\u8ba4\u8bc1\uff08\u88ab\u8df3\u8fc7\u4e86\uff09</p> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#springdata","title":"SpringData \u767b\u5f55\u8ba4\u8bc1","text":"<p>\u4f7f\u7528 URI \u8fdb\u884c\u914d\u7f6e <pre><code>spring:\n    data:\n        mongodb:\n            # \u57fa\u672c\u683c\u5f0f\u4e3a\uff1amongodb://user_name:password@host:port/db_name\n            uri: mongodb://test:12345@localhost:27017/articledb\n</code></pre></p>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#compass_1","title":"Compass \u767b\u5f55\u8ba4\u8bc1","text":"<ul> <li>\u914d\u7f6e<ul> <li>Authentication = Username / Password</li> <li>\u586b\u5165 username &amp; password</li> <li>\u9009\u62e9\u5bf9\u5e94\u7684Authentication Database</li> </ul> </li> <li>\u5176\u4f59\u9009\u9879\u9ed8\u8ba4</li> </ul>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#32","title":"3.2 \u526f\u672c\u96c6\u73af\u5883","text":"<p>\u5404\u8282\u70b9\u5747\u7ef4\u62a4 key \u6587\u4ef6\uff08\u5185\u5bb9\u4e00\u81f4\uff09\uff0c\u901a\u8fc7 key \u6587\u4ef6\u6765\u9a8c\u8bc1\u8eab\u4efd</p> <ul> <li>\u4e00\u822c\u6765\u8bf4\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u751f\u6210\uff0c\u968f\u540e\u62f7\u8d1d\u5230\u96c6\u7fa4\u5185\u7684\u5176\u4ed6\u673a\u5668\u4e0a\uff08\u5fc5\u987b\u62e5\u6709\u8bfb\u6743\u9650\uff09</li> <li>\u5bc6\u94a5\u5185\u5bb9\u5fc5\u987b\u4e00\u81f4\uff0c\u4f4d\u7f6e\u968f\u4fbf\uff08\u65b9\u4fbf\u8d77\u89c1\u653e\u5728\u56fa\u5b9a\u8def\u5f84\u4e0b\uff09</li> </ul> <ol> <li>\u5173\u95ed\u539f\u6709\u670d\u52a1</li> <li>\u542f\u52a8\u526f\u672c\u96c6 <code>mongod -f /mongo/replica_sets/myres27017~27019/mongod.conf</code></li> <li> <p>\u5f00\u542f\u8ba4\u8bc1\u670d\u52a1\u524d\uff0c\u5728\u4e3b\u8282\u70b9\u4e0a\u6dfb\u52a0\u7ba1\u7406\u5458\u8d26\u6237</p> <p>\u4e3b\u8282\u70b9\u4e0a\u6dfb\u52a0\u7684\u7528\u6237\u4f1a\u5728\u526f\u672c\u4e0a\u81ea\u52a8\u540c\u6b65</p> <pre><code>use admin\ndb.createUser({\n    user: \"myroot\",\n    roles: [\"root\"]\n})\n</code></pre> </li> <li> <p>\u521b\u5efa\u7528\u4e8e\u526f\u672c\u96c6\u8ba4\u8bc1\u7684 key \u6587\u4ef6</p> <p>\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\u751f\u6210 key\uff08\u4e0b\u9762\u4f7f\u7528 openssl \u751f\u6210\u5bc6\u94a5\uff0c\u5e76\u901a\u8fc7 chmod \u66f4\u6539\u6743\u9650\uff09</p> <pre><code>openssl rand -base64 90 -out ./mongo.keyfile\nchmod 400 ./mongo.keyfile # \u4ec5\u6587\u4ef6\u6240\u6709\u8005\u53ef\u8bfb\nll mongo.keyfile\n</code></pre> <p>\u7531\u4e8e\u662f\u5728\u5355\u673a\u4e0a\u6a21\u62df\uff0c\u76f4\u63a5 copy \u5230\u5404\u8282\u70b9\u7684\u6839\u76ee\u5f55\u4e0b\u5373\u53ef</p> </li> <li> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4ee5\u6307\u5b9a keyfile</p> <p>\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a <pre><code>security:\n    keyFile: /mongodb/replica_sets/myrs_27017/mongo.keyfile\n    authorization: enabled\n</code></pre></p> </li> <li> <p>\u91cd\u65b0\u542f\u52a8\u526f\u672c\u96c6</p> </li> <li> <p>\u5728\u4e3b\u8282\u70b9\u4e0a\u6dfb\u52a0\u666e\u901a\u7528\u6237\u8d26\u53f7      <code>js      // \u8fde\u63a5\u4e3b\u8282\u70b9      mongo --host=localhost --port=27017      // \u7531\u4e8e\u5f00\u542f\u4e86\u7528\u6237\u8ba4\u8bc1\uff0c\u5fc5\u987b\u901a\u8fc7\u7ba1\u7406\u5458\u8d26\u6237\u521b\u5efa      use admin      db.use(\"myroot\", \"123456\")      // \u521b\u5efa articledb \u4e0a\u5177\u6709\u8bfb\u5199\u6743\u9650\u7684\u666e\u901a\u7528\u6237 bobo      use articledb      db.createUser({          user: \"bobo\",          pwd: \"123\",          roles: [\"readWrite\"]      })</code></p> </li> </ol>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#springdata_1","title":"SpringData \u767b\u5f55\u526f\u672c\u96c6","text":"<pre><code>uri: mongodb://bobo:123@localhost:27017,localhost:27018,localhost:27019/articledb?connect=replicaSet&amp;slaveOk=true&amp;reokucaSet=myrs\n</code></pre>"},{"location":"Nulling/Tool/MongoDB/%E6%85%A2%E9%80%9F%E4%B8%8A%E5%A4%B4/#33","title":"3.3 \u5206\u7247\u96c6\u7fa4\u73af\u5883","text":"<p>\u7c7b\u4f3c\u4e8e\u526f\u672c\u96c6\uff0c\u6bcf\u4e2a\u8282\u70b9\u4e22\u4e00\u4e2a key \u5c31\u884c</p>"},{"location":"Nulling/Tool/NodeJS/1_Intro/","title":"NodeJS","text":"<p> \u7ea6 1032 \u4e2a\u5b57  403 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>\u5728 NodeJS \u91cc\uff0c\u4f60\u641e\u4e0d\u4e86 DOM/BOM\uff0c\u4f46\u53ef\u4ee5\u4f7f\u52b2\u56af\u56af\u672c\u5730\u6587\u4ef6\u3002</p>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_1","title":"\u6a21\u5757\u5316\uff1a\u4f60\u4e0d\u662f\u5355\u6587\u4ef6\u6218\u795e","text":""},{"location":"Nulling/Tool/NodeJS/1_Intro/#commonjs","title":"CommonJS \u89c4\u8303","text":"<ul> <li>CommonJS \u5c06\u6bcf\u4e2a JS \u6587\u4ef6\u89c6\u4e3a\u5355\u72ec\u7684\u6a21\u5757</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5916\u754c\u65e0\u6cd5\u8bbf\u95ee\u6a21\u5757\u5185\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3001\u5fc5\u987b\u8fdb\u884c\u66b4\u9732</li> <li>\u4e0d\u5bfc\u51fa\u7684 \u65b9\u6cd5/\u5c5e\u6027 \u90fd\u662f \u79c1\u6709\u7684 =&gt; \u65e0\u8bba\u547d\u540d\u683c\u5f0f\u662f\u4e0d\u662f <code>_funcName()</code>\u3002</li> </ul> <pre><code>// @ file_1.js\nconst name = 'file1';\nconst printName = () =&gt; {\n  console.log(name);\n}\n\nconsole.log('@file1'); // \u5bfc\u5165\u65f6\u6267\u884c\n\n// \u66b4\u9732\u65b9\u6cd5 1\nmodule.exports = {\n  name, // \u4e0d\u8fdb\u884c\u91cd\u547d\u540d\n  say: printName\n}\n// \u66b4\u9732\u65b9\u6cd5 2\nexports.say = printName\n</code></pre> <p>\u597d\u7684\uff0c\u73b0\u5728\u6211\u4eec\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u91cc\u8fdb\u884c\u5f15\u5165</p> <pre><code>// @ file_2.js\nconst m1 = require('/path/to/file_1');\nm1.say();\n</code></pre> <p>\u4ee5\u53ca JS \u5e76\u4e0d\u4f1a\u51fa\u73b0\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\uff1a\u5047\u5982\u5b58\u5728 <code>C-&gt;B-&gt;A</code> \u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u540c\u65f6\u5728 <code>C &amp; B</code> \u4e2d\u5f15\u5165 <code>module A</code> \u5e76\u4e0d\u4f1a\u62a5\u9519\u3002</p> <p>\u53cd\u6b63\u54ea\u91cc\u8981\u7528\u5c31\u5728\u54ea\u91cc\u5f15\u7528\u4e00\u4e0b\uff08\u591a\u6b21\u5f15\u7528\u4e0d\u4f1a\u591a\u6b21\u89e6\u53d1\uff09\u3002</p>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#es","title":"ES \u89c4\u8303","text":"<p>NodeJS \u9ed8\u8ba4\u652f\u6301\u7684\u662f CommonJS\uff0c\u5982\u679c\u8981\u7528 ES \u7684\u8bdd\u5f97\u914d\u7f6e\u4e00\u4e0b\uff1a</p> <pre><code>// @ package.json\n{\n  \"type\": \"module\" // \u9ed8\u8ba4\u503c\u662f \"commonjs\"\n}\n</code></pre> <p>\u5728\u6a21\u5757\u66b4\u9732\u548c\u5f15\u5165\u90e8\u5206\u5c31\u5f88\u4f20\u7edf\u6d4f\u89c8\u5668\u4e86\uff1a</p> <pre><code>// @ module A\nconst name = 'mod A';\nconst moduleA = {\n  sayMyName(){ console.log(name); }\n}\nexport default moduleA; // \u8fd9\u8fb9\u5bfc\u51fa\u7684\u662f\u4e00\u4e2a\u6574\u4f53\n\n// @ module B\nconst moduleB = {\n  sayMyName() { console.log('mod B'); }\n}\nexport {\n    moduleB               // \u5bfc\u51fa\u6307\u5b9a\u63a5\u53e3\n}\n\n// @ index\nimport  moduleA  from './moduleA.js';\nimport {moduleB} from './moduleB.js'; // \u9700\u8981\u89e3\u6784\nmoduleA.sayMyName();\nmoduleB.sayMyName();\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_2","title":"\u5305\u7ba1\u7406\uff1a\u6211\u8865\u836f\u9020\u8f6e\u5b50\u53e3\u7259","text":""},{"location":"Nulling/Tool/NodeJS/1_Intro/#npm","title":"NPM","text":"<p>\u603b\u4e4b\u5217\u4e00\u4e9b\u5e38\u7528\u7684\u547d\u4ee4\u5427\uff1a</p> <pre><code>npm init # \u521d\u59cb\u5316\u5f53\u524d\u76ee\u5f55\uff0c\u751f\u6210 package.json\n\n# \u4ee5\u4e0b\u547d\u4ee4\u4e2d\u7684 install \u5747\u53ef\u66ff\u6362\u4e3a uninstall, update\nnpm install [packageName]@[version]  # \u5b89\u88c5\u6307\u5b9a\u7248\u672c\nnpm install [packageName] -g         # \u5168\u5c40\u5b89\u88c5\nnpm install [packageName] --save     # \u56fa\u5b9a\u4f9d\u8d56\u7248\u672c\uff0c\u751f\u6210 package-lock.json\nnpm install [packageName] --save-dev # \u5f00\u53d1\u73af\u5883\u4f9d\u8d56\uff0c\u4e0d\u53c2\u4e0e\u6253\u5305\n\nnpm list    # \u5217\u4e3e\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u5305\nnpm list -g # \u5217\u4e3e\u5168\u5c40\u73af\u5883\u4e0b\u7684\u5305\n\nnpm info [packageName]         # \u83b7\u53d6\u6307\u5b9a\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\nnpm info [packageName] version # \u83b7\u53d6\u6307\u5b9a\u5305\u7684\u6700\u65b0\u7248\u672c\n\nnpm outdated                   # \u5217\u4e3e\u8fc7\u65f6\u4f9d\u8d56\n</code></pre> <p>\u4e0b\u9762\u662f <code>package.json</code> \u4e2d\u7248\u672c\u53f7\u7684\u4e00\u4e9b\u8bf4\u660e\uff1a</p> <pre><code>// @ package.json\n{\n  \"dependencies\": {\n    \"md5\": \"2.1.0\",  // \u5b89\u88c5 2.1.0 \u7248\u672c\n    \"md5\": \"^2.1.0\", // \u5b89\u88c5 2.*.* \u4e2d\u7684\u6700\u65b0\u7248\u672c\n    \"md5\": \"~2.1.0\", // \u5b89\u88c5 2.1.* \u4e2d\u7684\u6700\u65b0\u7248\u672c\n    \"md5\": \"*\",      // \u5b89\u88c5\u5168\u5c40\u6700\u65b0\u7248\u672c\n  }\n}\n</code></pre> <p>\u6362\u6e90\uff1a</p> <ul> <li>\u6211\u4eec\u5fc5\u5b9a\u80fd\u591f\u624b\u52a8\u6362\u6e90\uff0cbelike\uff1a</li> </ul> <pre><code>npm config set registry [URL]\n</code></pre> <ul> <li>\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7 NPM \u955c\u50cf\u7ba1\u7406\u5de5\u5177\uff08NRM\uff09\u8fdb\u884c\u7ba1\u7406\uff0c\u5e76\u5728\u591a\u4e2a NPM \u6e90\u4e4b\u95f4\u8fdb\u884c\u7075\u6d3b\u5207\u6362</li> </ul> <pre><code>npm install -g nrm # \u5168\u5c40\u5b89\u88c5 NRM\n\nnrm ls             # \u67e5\u770b\u53ef\u9009\u6e90\u5934\uff0c\u5e26 * \u7684\u662f\u5f53\u524d\u4f7f\u7528\u6e90\nnrm use [repoName] # \u5207\u6362\u5230\u6307\u5b9a\u6e90\nnrm test           # \u6d4b\u8bd5\u54cd\u5e94\u65f6\u95f4\n</code></pre> <ul> <li>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u4f7f\u7528 CNPM</li> </ul> <pre><code>npm install -g cnpm --registry=https://registry.npmmirror.com\n# \u4e4b\u540e\u88c5\u5305\u547d\u4ee4\u90fd\u6539\u6210 cnpm xxx\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#yarn","title":"Yarn","text":"<p>\u6ca1\u60f3\u5230\u5427\uff0c\u8fd9\u4e1c\u897f\u8fd8\u662f\u5f97\u901a\u8fc7 NPM \u5b89\u88c5</p> <pre><code>npm install -g yarn\n</code></pre> <p>\u76f8\u6bd4\u4e8e NPM\uff0c\u6211\u4eec Yarn \u3055\u3093\uff1a</p> <ul> <li>\u901f\u5ea6\u8d85\u5feb\uff1aYarn \u7f13\u5b58\u4e86\u6240\u6709\u4e0b\u8f7d\u8fc7\u7684\u5305\uff08\u65e0\u9700\u91cd\u590d\u4e0b\u8f7d\uff09\uff0c\u4e14\u652f\u6301\u5e76\u884c\u4e0b\u8f7d\uff08NPM \u53ea\u80fd\u4e32\u884c\uff09</li> <li>\u66f4\u5b89\u5168\uff1aYarn \u4f1a\u6821\u9a8c\u5305\u7684\u5b8c\u6574\u6027</li> </ul> <p>\u597d\u7684\uff0c\u4e0b\u9762\u53c8\u662f\u4e00\u4e9b\u5e38\u89c1\u547d\u4ee4\uff1a</p> <pre><code># \u521d\u59cb\u5316\u9879\u76ee\uff08\u597d\u719f\u6089\uff09\nyarn init \n# \u5b89\u88c5\u5168\u90e8\u4f9d\u8d56\nyarn install\n\n# \u6dfb\u52a0\u4f9d\u8d56\nyarn add [packageName]\nyarn add [packageName]@[version] # \u4f1a\u751f\u6210 yarn.lock \u9501\u5b9a\u7248\u672c\nyarn add [packageName] --dev\n\n# \u5347\u7ea7\u4f9d\u8d56\nyarn upgrade [packageName]@[version]\n\n# \u79fb\u9664\u4f9d\u8d56\nyarn remove [packageName]\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_3","title":"\u5185\u7f6e\u6a21\u5757\uff1a\u6715\u7684\u540e\u7aef\u6846\u67b6\u4f55\u5728","text":""},{"location":"Nulling/Tool/NodeJS/1_Intro/#http","title":"HTTP \u6a21\u5757","text":"<pre><code>// \u5f15\u5165\u5185\u7f6e\u4f9d\u8d56\nconst http = require('http'); \n\n// \u8bf7\u6c42\u7684 URL \u662f\u5426\u5408\u6cd5\nfunction renderStatus(url) {\n  // \u5904\u7406\u7684\u76f8\u5f53 naiive =&gt; \u6ca1\u529e\u6cd5\u5904\u7406\u5e26\u53c2\u6570\u7684\n  const  valid_url = ['/home', '/list'];\n  return valid_url.includes(url)?200:404;\n}\n\n// \u521b\u5efa\u672c\u5730\u670d\u52a1\u5668\nconst server = http.createServer((req, res) =&gt; {\n  // req: \u6d4f\u89c8\u5668\u4f20\u5165\u7684\u53c2\u6570\uff0cres: \u670d\u52a1\u7aef\u8fd4\u56de\u7684\u6570\u636e\n\n  // req.url \u7ed9\u7684\u662f\u4e0d\u5e26 \u57df\u540d&amp;\u7aef\u53e3\u53f7 \u7684\u540e\u7f00\n  if(req.url == '/favicon.ico') {return;} // \u4e0d\u7ed9\u56fe\u6807\n\n  res.writeHead(\n    renderStatus(req.url),\n    {'Content-Type': 'application/json;charset=utf-8',} \n    // \u4e0d\u52a0 UTF-8 \u53ef\u80fd\u5bfc\u81f4\u4e2d\u6587\u4e71\u7801\n    // \u5f53\u4f20\u8f93\u7531 `` \u5305\u88f9\u7684 HTML \u5185\u5bb9\u65f6\uff0c\u9700\u8981\u6807\u6ce8 contentType = text/html\n  );\n  // \u6700\u540e\u5fc5\u987b\u6709\u4e00\u4e2a res.end()\uff0c\u5426\u5219\u4f1a\u62a5\u8d85\u65f6\n  res.end(JSON.stringify({\n    data: 'Hello World!'\n  }))\n  // \u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528 res.end(params) \u6765\u5199\u666e\u901a\u6570\u636e\uff08\u5b57\u7b26\u4e32\uff0c\u6570\u7ec4...\uff09\n});\n\nserver.listen( \n  8080,                           // \u76d1\u542c 8080 \u7aef\u53e3\n  ()=&gt;{ console.log(\"server on\")} // \u8dd1\u8d77\u6765\u4e4b\u540e\u9a6c\u4e0a\u8c03\u7528\n);\n</code></pre> <p>\u554a\u5176\u5b9e\u6709\u4e2a\u7b49\u6548\u5199\u6cd5\uff08\u8bf4\u6765 <code>createServer()</code> \u91cc\u7684\u51fd\u6570\u662f\u6bcf\u6b21\u8bf7\u6c42\u5c31\u4f1a\u56de\u8c03\u7684\uff09</p> <pre><code>const server = createServer(); // \u8fd9\u91cc\u5565\u4e5f\u4e0d\u7528\u914d\nserver.on('request', (req, res) =&gt; {\n  // \u6bcf\u6b21\u6536\u5230 request \u65f6\u6267\u884c\u7684\u56de\u8c03\n})\nserver.listen(8080);           // \u5f00\u59cb\u76d1\u542c\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_4","title":"\u8de8\u57df","text":""},{"location":"Nulling/Tool/NodeJS/1_Intro/#jsonp","title":"JSONP","text":"<p>JSON with Padding\uff08JSONP\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u89e3\u51b3\u6d4f\u89c8\u5668\u540c\u6e90\u9650\u5236\u7684\u8de8\u57df\u6570\u636e\u8bf7\u6c42\u6280\u672f\uff0c\u901a\u8fc7\u52a8\u6001\u521b\u5efa <code>&lt;script&gt;</code> \u6807\u7b7e\u4ee5\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u3001\u5e76\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u5904\u7406\u8fd4\u56de\u7684\u6570\u636e\u3002</p> <p>\u5176\u4e00\u822c\u6d41\u7a0b\u957f\u4e0b\u9762\u8fd9\u6837\uff1a</p> <ol> <li>\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\uff1a\u5ba2\u6237\u7aef\u9700\u8981\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u901a\u8fc7 <code>&lt;script&gt;</code> \u6807\u7b7e\u7684 src \u5c5e\u6027\u5411\u540e\u7aef\u8bf7\u6c42\u6570\u636e\uff08\u5e76\u9644\u4e0a\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u540d\u79f0\uff09</li> </ol> <pre><code>&lt;script&gt;\n // \u5b9a\u4e49\u56de\u8c03\u51fd\u6570\n  function handleResponse(data) { console.log(data); }\n&lt;/script&gt;\n&lt;!-- \u5141\u8bb8\u6267\u884c\u901a\u8fc7 src \u52a0\u8f7d\u7684\u8de8\u57df JS \u6587\u4ef6 --&gt;\n&lt;script src=\"https://server.com:442/api?cb=handleResponse\"&gt;&lt;/script&gt;\n</code></pre> <ol> <li>\u670d\u52a1\u5668\u54cd\u5e94\uff1a\u8fd4\u56de\u4e00\u4e2a\u4ee5\u6307\u5b9a\u6570\u636e\u4e3a\u56de\u8c03\u51fd\u6570\u5b9e\u53c2\u7684 JS \u6587\u4ef6</li> </ol> <pre><code>return handleResponse({ name: 'aaa', age: 12})\n// \u5177\u4f53\u884c\u4e3a\u7531\u524d\u7aef\u5b9a\u4e49\uff0c\u53cd\u6b63\u628a data \u4f5c\u4e3a\u5b9e\u53c2\u4f20\u56de\u53bb\u5c31\u884c\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u5904\u7406\uff1a\u52a0\u8f7d\u5e76\u6267\u884c\u8fd4\u56de\u7684 JS \u6587\u4ef6</li> </ol> <p>\u8fd9\u4e2a Step 2 \u7528 NodeJS \u5199\u5c31\u662f\u4e0b\u9762\u8fd9\u4e2a\u611f\u89c9\uff1a</p> <pre><code>var JSON_data = {name: 'John Doe'};\n\nserver.on('request', (req, res) =&gt; {\n    const url = URL.parse(req.url, true);\n    // \u524d\u7aef\u7684\u8bf7\u6c42\u662f /api?cb=handleResponse\n    switch(url.pathname) {\n        case '/api':\n            res.end(\n              // \u7b2c\u4e00\u4e2a ${} \u652f\u6301\u524d\u7aef\u81ea\u884c\u6267\u884c callback \u51fd\u6570\u540d\n              `${url.query.cb}(${JSON.stringify(JSON_data)})`\n            );\n            break;\n    }\n});\n// \u8fd4\u56de\u7684\u662f handleResponse({\"name\": \"John Doe\"});\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#cors","title":"CORS","text":"<pre><code>// \u603b\u4e4b\u8981\u5199\u4e00\u4e0b\u5305\u5934\nserver.on('request', (req, res) =&gt; {\n  res.writeHead(200, {\n    'Content-Type': 'applications/json;charset=utf-8',\n    'access-control-allow-origin': '*', // CORS \u90e8\u5206\uff1a\u5141\u8bb8\u6240\u6709\u57df\u901a\u8fc7\n  })\n  res.end(...); // \u5199\u70b9\u6570\u636e\n});\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_5","title":"\u4e2d\u95f4\u4ef6\uff1a\u53cd\u6b63\u540e\u7aef\u4e4b\u95f4\u4e0d\u8de8\u57df","text":"<p>\u5982\u679c API \u5206\u522b\u5e03\u5728\u4e0d\u540c\u670d\u52a1\u5668\u4e0a\uff0c\u524d\u7aef\u5c31\u5f97\u4e00\u4e2a\u4e2a\u914d\u7f6e\u8de8\u57df\uff08\u7d2f\u7684\u8981\u6b7b\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Node \u670d\u52a1\u5668\u5411\u5176\u4ed6\u670d\u52a1\u5668\u53d1\u9001 GET/POST \u8bf7\u6c42\uff08\u8fd9\u6837\u5c31\u53ea\u7528\u5728\u5f53\u524d\u7684 Node \u4e2d\u95f4\u4ef6\u4e0a\u914d\u7f6e\u4e00\u6b21\u8de8\u57df\u4e86\uff09\u3002</p> <pre><code>const https = require('https');\n\nhttpGET('https://api_url', (data) =&gt; {\n  res.end(data); // \u628a\u6570\u636e\u585e\u56de\u524d\u7aef\u7ed9\u7684\u8bf7\u6c42\u91cc\n})\n\nfunction httpGET(API, callback) {\n  var data = \"\";\n  // \u5982\u679c\u5bf9\u9762\u7684 API \u662f http \u534f\u8bae\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 http.get() \u8fdb\u884c\u8bf7\u6c42\n  // \u5982\u679c\u5bf9\u9762\u7528\u7684 https \u7684\u8bdd\uff0c\u5c31\u8981\u5f15\u5165 https \u6a21\u5757\u4e86\n  https.get(API, (res) =&gt; {\n    res.on('data', (chunk) =&gt; { \n      // \u8fd9\u8fb9\u8fd4\u56de\u7684\u662f\u6570\u636e\u6d41\uff0c\u9700\u8981\u81ea\u5df1\u7528 buffer \u88c5\u4e00\u4e0b\n      data += chunk;\n    })\n    res.on('end', () =&gt; {\n      // \u6240\u6709\u6570\u636e\u4f20\u8f93\u5b8c\u6bd5\n      callback(data);\n    })\n  })\n}\n\n// \u6a21\u62df\u524d\u7aef\u586b\u5b8c\u8868\u5355\u627e\u540e\u7aef\u8981\u6570\u636e =&gt; \u6240\u4ee5\u662f POST \u54c7\nfunction httpPOST(API, callback) {\n  var data = \"\";\n  var options = {  // \u8fd9\u4e2a\u662f post \u63a5\u53e3\u8981\u6c42\u7684\n    hostname: 'server.com',\n    port:     443, // \u7528\u7684 HTTPS\n    path:     '/api/getcustomer',\n    method:   'POST',\n    headers:  {    // \u6a21\u62df\u8868\u5355 \n      'Content-Type': 'application/json'\n      /* \u4e5f\u53ef\u80fd\u662f\u8fd9\u4e2a\u683c\u5f0f: 'x-www-form-urlencoded'\n         \u5bf9\u5e94\u4e0b\u9762\u7684 write \u5185\u5bb9: 'id=1&amp;age=100' */\n    }\n  }\n  // \u79bb\u8c31\u7684\u662f\u4e0d\u53eb POST\uff0c\u53eb request\n  var req = https.request(options, (res) =&gt; {\n    res.on('data', (chunk) =&gt; { data += chunk; })\n    res.on('end',  ()      =&gt; { callback(data);})\n  });\n  // \u8fd9\u8fb9\u662f\u4e3a\u4e86 req \u80fd\u771f\u6b63\u53d1\u51fa\u53bb\uff08\u5fc5\u987b\u6709 end \uff09\n  req.write( // \u628a\u8981\u6c42\u7684\u8868\u5355\u6570\u636e\u6413\u8fdb\u5305\u91cc\n    JSON.stringify([{},{'baseParam': {'ypClient':1}}])\n  );\n  req.end();\n}\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_6","title":"\u722c\u866b","text":"<p>\u89e3\u6790 HTML\uff0c\u63d0\u53d6\u9700\u8981\u7684\u6570\u636e</p> <pre><code>var cheerio = require('cheerio'); // \u8fd9\u662f\u7b2c\u4e09\u65b9\u6a21\u5757\n\nvar html_content = httpGET(URL, (data) =&gt; spider(data));\n\nfunction spider(data) { // \u62ff\u6b63\u5219\u641e\u4e00\u4e9b\u9700\u8981\u7684\u6807\u7b7e\n  let $ = cheerio.load(data);         // \u8fd9\u4e0b\u50cf\u662f jQuery \u4e86\n  let movies = [];\n\n  let $movieList = $('.col.content'); // \u53cd\u6b63\u662f\u9009\u62e9\u5668\n    $movieList.forEach((idx, item) =&gt; {\n    // \u628a item \u53d8\u6210 jQ \u5bf9\u8c61 =&gt; \u627e\u5230\u91cc\u9762\u7684 .title \u5143\u7d20 =&gt; \u83b7\u53d6\u6587\u672c\n    movies.push({\n      title: $(item).find('.title').text(),\n      actpr: $(item).find('.actor').text()\n    });\n  })\n  return JSON.stringify(movies);\n}\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#url","title":"URL \u6a21\u5757","text":""},{"location":"Nulling/Tool/NodeJS/1_Intro/#_7","title":"\u65e7\u7248\uff08\u5df2\u5f03\u7528\uff09","text":"<p>\u6765\u6765\u6765\uff0c\u89e3\u6790\u524d\u7aef\u8bf7\u6c42\u8def\u7531\uff1a</p> <pre><code>const url = require('url');\n\n// req.url = /api/list?a=1&amp;b=2\nvar url_obj = url.parse(req.url);\nurl_obj.pathname = '/api/list';      // base URL\nurl_obj.query    = 'a=1&amp;b=2';        // GET \u53c2\u6570\n// \u5982\u679c\u9700\u8981\u8fdb\u4e00\u6b65\u89e3\u6790 query \u53c2\u6570\u7684\u8bdd\uff0c\u9700\u8981\u8bbe\u7f6e\u7b2c\u4e8c\u4e2a\u5b9e\u53c2\u4e3a true\nvar url_obj = url.parse(req.url, true);\nurl_obj.query = { a: '1', b: '2' };  // \u597d\u7528\u7684 JSON \uff01\n</code></pre> <p>\u90a3\u4e48\u540e\u7aef\u8981\u600e\u4e48\u628a URL \u62fc\u56de\u53bb\u5462\uff08\u4f46\u6211\u89c9\u5f97\u633a\u9e21\u808b\u7684\uff09\uff1a</p> <pre><code>const urlObjcet = {\n  protocol: 'https',\n  slashes:  true,\n  auth:     null,\n  host:     'www.host.com:443',\n  port:     443,\n  hostname: 'www.host.com',\n  hash:     '#tag=110',\n  search:   '?a=1',\n  query:    { a: '1' },\n  pathname: '/ad/index.html',\n  path:     '/ad/index.html?a=1'\n}\nconst parsedURL = url.format(urlObject); \n// res = https://www.host.com:443/ad/index.html?a=1\n</code></pre> <p>\u5730\u5740\u62fc\u63a5\uff08\u66f4\u62bd\u8c61\u4e86\uff09\uff1a</p> <pre><code>url.resolve('/one/two/', 'three'); // /one/two/three\uff08\u672b\u5c3e\u8ffd\u52a0\uff09\nurl.resolve('one/two/', 'three');  // one/three      (\u66ff\u6362\u9996\u4e2a\u659c\u6760\u540e\u6240\u6709)\n\n// \u66ff\u6362\u9996\u4e2a\u659c\u6760\u540e\u6240\u6709\nurl.resolve('http://www.sample/com/', '/two');\nurl.resolve('http://www.sample/com/one', '/two');\n// \u4e0a\u9762\u4fe9\u90fd\u8f93\u51fa http://www.sample/com/two\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#_8","title":"\u65b0\u7248","text":"<pre><code>// \u521b\u5efa URL \u5bf9\u8c61\uff0creq.url = /api?a=1\nconst URL_obj = new URL(req.url, 'https://server.com:port');\n\n// Parse\nURL_obj.pathname = '/api';\n// \u662f\u8fed\u4ee3\u5668\uff08\u7c7b\u4f3c\u4e8e Py \u91cc\u7684 map\uff09\nURL_obj.searchParams = URLSearchParams { 'a' =&gt; '1' }; \nfor (let [key, val] of URL_obj.searchParams) {} // ... \u505a\u4e00\u4e9b\u904d\u5386\u64cd\u4f5c\nURL_obj.searchParams.get('a');                  // \u83b7\u53d6\u6307\u5b9a\u5c5e\u6027\u503c\n\n// Format\nurl.format(URL_obj, {\n  unicode: true,  // \u4e2d\u6587\u662f\u5426\u7528 unicode \u7f16\u7801\n  auth:    false, // \u53bb\u6389 server:port \u90e8\u5206\n  fragment:false, // \u662f\u5426\u4fdd\u7559 # \u540e\u7684\u5185\u5bb9\n  search:  true,  // \u662f\u5426\u4fdd\u7559 ? \u540e\u7684\u5185\u5bb9\n})\n\n// Resolve\nURL_obj.href = \"https://server.com:port/api?a=1\"; // \u62fc\u63a5\u7ed3\u679c\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#querystring","title":"QueryString","text":"<p>query \u5b57\u7b26\u4e32 x \u7ed3\u6784\u4f53\u4e4b\u95f4\u7684\u4e92\u76f8\u8f6c\u6362\uff08\u4e0d\u8fc7\u662f\u5728\u5207\u5b57\u7b26\u4e32\u7f62\u4e86\uff09</p> <p>MD\uff0c\u8fd9\u548c JSON \u6a21\u5757\u6709\u4ec0\u4e48\u533a\u522b\u5417\uff1f</p> <pre><code>const querystring = require('querystring');\n\nvar query_obj = { x: 3, y: 4 };\nquerystring.stringify = 'x=3&amp;y=4';\n\nvar query_str = 'name=aaa&amp;age=15';\nquerystring.parse(query_str) = { name: 'aaa', age: '15' s};\n\n// \u8f6c\u4e49\u5b57\u7b26\uff08\u9632\u6ce8\u5165\uff09\uff1a\u603b\u4e4b\u659c\u6760\u3001\u4e2d\u6587\u4ec0\u4e48\u7684\u90fd\u88ab\u521b\u98de\u4e86\nescaped  = querystring.escape(query_str);\noriginal = quertstring.unescape(escaped); // \u8fd8\u539f\u4e00\u4e0b\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#events","title":"Events \u6a21\u5757","text":"<p>\u6211\u4eec\u53ef\u4ee5\u628a\u9879\u76ee\u89e3\u8026\u6210\u201c\u8ba2\u9605-\u53d1\u5e03\u201d\u6a21\u5f0f</p> <pre><code>const EventsEmitter = require('events');\nconst event = new EventsEmitter();\n\nvar eventName = 'play';\nevent.on(eventName, (data) =&gt; {\n  // do sth\n})\n// \u4e0a\u9762\u7684\u56de\u8c03\u4f1a\u5728\u6bcf\u6b21 event.emit(eventName, data) \u65f6\u88ab\u89e6\u53d1\n</code></pre> <p>\u770b\u8d77\u6765\u6ca1\u5565\u5927\u7528\u4e0d\u662f\u5417\uff1f\u4f46\u662f\u8fd9\u4e1c\u897f\u652f\u6301\u5f02\u6b65\u5904\u7406\u8bf6</p> <pre><code>/* \u6bcf\u5f53\u6536\u5230\u524d\u7aef\u8bf7\u6c42\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a event\n   \u4e0d\u7136\u6bcf\u6b21\u89e6\u53d1\u5206\u652f\u90fd\u4f1a \u65b0\u5efa \u4e00\u4e2a\u5bf9 ok \u7684\u76d1\u542c\uff08\u7c7b\u4f3c\u4e8e timer \u53e0\u52a0\uff09*/\nvar event = new EventsEmitter();\n// \u5f00\u59cb\u76d1\u542c 'ok' \u4e8b\u4ef6\nevent.on('ok', data=&gt;res.end(data)); // \u7ed9\u524d\u7aef\u53d1\u56de\u6570\u636e\nhttpGET(API); // \u8fd9\u8fb9\u7684 end() \u9700\u8981\u8c03\u7528 event.emit('ok', data)\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#fs","title":"FS \u6587\u4ef6\u64cd\u4f5c","text":"<p>\u56e0\u4e3a\u5e95\u5c42\u662f\u7528 C++ \u5199\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u55ef\u9020\u672c\u5730\u6587\u4ef6</p> <p>\u76ee\u5f55\u5904\u7406\uff0c\u559c\u95fb\u4e50\u89c1\u4e86\uff1a</p> <pre><code>const fs = require('fs');\n\n// \u7ecf\u5178\u65b0\u5efa\u76ee\u5f55\uff08\u4e0d\u963b\u585e\uff09\n// mkdirSync() \u65b9\u6cd5\u4f1a\u963b\u585e\uff0c\u9700\u8981\u52a0 try-catch \u5904\u7406\nfs.mkdir('./avatar', (err) =&gt; {\n  // \u5982\u679c\u6210\u529f\u7684\u8bdd\u4f1a\u662f null\n  if (err) { console.log(err); }\n})\n// \u540c\u7406\uff0c\u6211\u4eec\u6709\u719f\u6089\u7684\u5220\u9664\u76ee\u5f55\uff08\u4e0d\u80fd\u5220\u975e\u7a7a\u76ee\u5f55\uff09\nfs.rmdir('./avatar', (err) =&gt; {...})\n\n// \u5220\u9664\u6587\u4ef6\uff08\u4e0d\u963b\u585e\uff09\uff0c\u53ef\u4ee5\u7528 unlinkSync()\nfs.unlink('path/to/file', (err) =&gt; {...})\n\n// \u7f57\u5217\u6307\u5b9a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff08\u8fd4\u56de \u6587\u4ef6\u540d arr\uff09\nfs.readdir('targetDir', (err, data) =&gt; {...})\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u6413\u51fa\u4e00\u4e2a\u9012\u5f52\u5220\u9664\u76ee\u5f55\u7684\u51fd\uff08\u6211\u81ea\u5df1\u6413\u7684\uff0c\u4e0d\u4fdd\u8bc1\u5bf9\uff09\uff1a</p> <pre><code>// forEach \u65b9\u6cd5\u4e0d\u4f1a\u963b\u585e\uff0c\u6211\u4eec\u5f97\u60f3\u4e00\u4e2a\u5f02\u6b65\u8c03\u7528\u7684\u529e\u6cd5\nfunction rrmdir(baseDir) {\n  fs.promise.readdir(baseDir).then(async (data) =&gt; {\n    await Promise.all(data.map(item =&gt; {\n      let cur = path.join(baseDir, item);\n      fs.stat(cur, (err, res) =&gt; {\n        if (res.isFile()) {\n          fs.unlink(cur, err=&gt;{...});\n        } else {\n          rrmdir(cur);         \n        }\n      })\n    }));\n    await fs.rmdir(baseDir);\n  })\n}\n</code></pre> <p>\u6587\u4ef6\u5904\u7406\uff1a</p> <pre><code>// \u7ecf\u5178\u91cd\u547d\u540d\uff08\u4e0d\u77e5\u9053\u80fd\u4e0d\u80fd\u5f53 mv \u7528\uff09\nfs.rename('./oldName', './neoNAme', (err) =&gt; {...})\n\n// \u5199\u6587\u4ef6\uff08\u4f1a\u8986\u76d6\u54e6\uff09\nfs.writeFile('path/to/file', content, (err) =&gt; {...})\n// \u8ffd\u52a0\uff08\u4e0d\u8986\u76d6\uff09\nfs.appendFile('path/to/file', content, (err) =&gt; {...})\n\n// \u8bfb\u6587\u4ef6\uff08\u5f02\u6b65\uff09\nfs.readFile('path/to/file', (err, data) =&gt; {\n  // \u56e0\u4e3a\u8fd9\u8fb9\u9ed8\u8ba4\u8bfb\u51fa\u6765\u7684\u662f\u4e8c\u8fdb\u5236\n  if (!err) { console.log(data.toString('utf-8')) }\n})\n// \u4e5f\u53ef\u4ee5\u63d0\u524d\u6307\u5b9a\u7528 utf-8 \u683c\u5f0f\u8bfb\u53d6\nfs.readFile('path/to/file', 'utf-8', (err, data) =&gt; {...})\n\n// \u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9e\u73b0 Promise \u98ce\u683c\u7684\u5f02\u6b65\u8bfb\u53d6\nfs.promise.readFile('path/to/file', 'utf-8').then(res=&gt;{...})\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#stream","title":"Stream \u8f93\u5165\u8f93\u51fa\u6d41","text":"<p>\u56e0\u4e3a\u6587\u4ef6\u5927\u7684\u65f6\u5019\u4e0d\u65b9\u4fbf\u76f4\u63a5\u5f02\u6b65\u561b\uff0c\u6240\u4ee5\u6211\u4eec\u518d\u6765\u770b\u770b\u6d41\u5f0f\u8f93\u5165\u8f93\u51fa\u6a21\u5757 Stream</p> <pre><code>var rs = fs.createReadStream('targetFile', 'utf-8');\nrs.on('data', (chunk) =&gt; {})\nrs.on('end', () =&gt; console.log('finished'))\nrs.on('error', (err) =&gt; {...})\n\nvar ws = fs.createWriteStream('targetFile', 'utf-8');\nws.write(part1);\nws.write(part2);\nws.end();\n</code></pre> <p>\u4f46\u662f\u5728\u590d\u5236\u8f83\u5927\u6587\u4ef6\u65f6\uff0c\u8bfb\u5199\u4e24\u8fb9\u7684\u6d41\u901f\u53ef\u80fd\u5bf9\u4e0d\u9f50\uff08\u8ba9\u6211\u4eec\u7528 pipe \u8fde\u63a5\u4e00\u4e0b\uff09</p> <pre><code>// copy f1 -&gt; f2\nvar rs = fs.createReadStream('f1', 'utf-8');\nvar ws = fs.createWriteStream('f2', 'utf-8');\n\n// \u7528\u7ba1\u9053\u8fde\u4e00\u4e0b\nrs.pipe(ws); // \u641e\u5b8c\u4ed6\u4f1a\u81ea\u5df1\u628a\u6d41\u5173\u6389\u7684\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#zlib","title":"Zlib \u538b\u7f29\u4e0e\u89e3\u538b\u7f29","text":"<pre><code>const zlib = require('zlib');\nconst gzip = zlib.createGzip();\n\n// \u5176\u5b9e readStream \u4e5f\u53ef\u4ee5\u4e32\u5230\u670d\u52a1\u5668\u8fd4\u56de\u4e0a\nserver.on('request', (req, res) =&gt; {\n  const rs = fs.createReadStream('targetFile', 'utf-8');\n  res.writeHead(200, {\n    'Content-Type': 'pliantext',\n    'Content-Encoding': 'gzip' // \u4e0d\u7136\u524d\u7aef\u6ca1\u6cd5\u6b63\u5e38\u89e3\u538b\u7f29\n  });\n  rs.pipe(gzip).pipe(res); // \u5148\u538b\u7f29\uff0c\u518d\u4f20\u9001\n});\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/1_Intro/#crypto","title":"Crypto \u52a0\u5bc6\u597d\u554a","text":"<p>\u7528 C++ \u5b9e\u73b0\u4e86\u901a\u7528\u7684\u54c8\u5e0c\u548c\u52a0\u5bc6\u7b97\u6cd5\uff0c\u603b\u4e4b\u6548\u7387\u5927\u63d0\u5347\u3002</p> <p>\u9996\u5148\u6765\u770b\u4e00\u4e9b\u7528\u4e8e\u7b7e\u540d\u7684\u65b9\u6cd5\uff1a</p> <pre><code>const crypto = require('crypto');\n// \u628a\u53c2\u6570\u6539\u6210 sha1 \u5c31\u53ef\u4ee5\u6362\u53e6\u4e00\u79cd\u4e86\nconst MD5    = crypto.createHash('md5');\n\nMD5.update(plain_text);         // \u9ed8\u8ba4 utf-8\uff0c\u4e5f\u53ef\u4ee5\u7528 buffer\nconsole.log(MD5.digest('hex')); // \u4ee5\u5341\u516d\u8fdb\u5236\u663e\u793a\n\n// \u8fd8\u652f\u6301 Hmac\uff0c\u4f46\u9700\u8981\u63d0\u4f9b\u5bc6\u94a5\uff08\u6709\u79cd\u52a0\u76d0\u7684\u7f8e\u611f\uff09\nconst HMAC = crypto.createHmac('sha256', secret_key);\n// \u4e0b\u9762\u4e5f\u662f update + digest\n</code></pre> <p>Crypto \u4e5f\u652f\u6301\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff08AES\uff09\uff0c\u603b\u4e4b\u52a0\u89e3\u5bc6\u7528\u4e00\u6837\u7684\u5bc6\u94a5</p> <pre><code>const MOD = 'aes-128-cbc';\n\nfunction encrypt(key, iv, data) {\n  // iv \u662f\u521d\u59cb\u5411\u91cf\uff08\u95ee\u9898\u4e0d\u5927\uff09\n  // \u7528\u7684 AES 128\uff0c\u6240\u4ee5 len(key) = 8\n  let dep = crypto.createCipheriv(MOD, key, iv);\n  return dep.update(data, 'binary', 'hex') + dep.final('hex');\n}\n\nfunction decrypt(key, iv, encrypted) {\n  crypted = Buffer.from(crypted, 'hex').toString('binary');\n  let dep = crypto.createDecipheriv(MOD, key, iv);\n  return dep.update(crypted, 'binary', 'utf8') + dep.infal('utf8');\n}\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/","title":"\u6765\u5199\u9879\u76ee\u5427","text":"<p> \u7ea6 1556 \u4e2a\u5b57  562 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_2","title":"\u4e0d\u5f97\u4e0d\u88c5\u7684\u4f9d\u8d56","text":"<pre><code># \u4f60\u60f3\u62e5\u6709\u4e00\u4e2a\u70ed\u66f4\u65b0\u7684\u540e\u7aef\u5417\nnpm i -g nodemon          # node-dev \u4e5f\u884c\nnodemon /path/to/index.js\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#restful","title":"RESTful \u63a5\u53e3\u89c4\u8303","text":"<p>\u63a5\u53e3\u5730\u5740\u53ea\u5305\u542b\u8868\u793a\u8d44\u6e90\u7684\u540d\u8bcd\uff0c\u5177\u4f53\u64cd\u4f5c\u7531 HTTP \u52a8\u4f5c\u8868\u793a\uff1a</p> <pre><code>\u539f\uff1aGET  /blog/addArticle\n\u73b0\uff1aPOST /blog/article\n</code></pre> <p>\u672c\u6765\u4f60\u53ef\u80fd\u5168\u7528 GET\uff0c\u7136\u540e\u5728 API \u91cc\u5199 get/add/edit/delete</p> <p>\u73b0\u5728\u4f60\u5206\u522b\u7528\u4f7f\u7528 <code>GET-\u83b7\u53d6</code>, <code>POST-\u6dfb\u52a0</code>, <code>PUT-\u4fee\u6539</code>, <code>DELETE-\u5220\u9664</code></p>"},{"location":"Nulling/Tool/NodeJS/2_Project/#mvc","title":"MVC \u4e1a\u52a1\u5206\u5c42","text":"<p>\u6ca1\u4e8b\uff0c\u7fc1\u607a\u8bfe\u4e0a\u5c31\u6ca1\u5b66\u4f1a\uff08\u603b\u4e4b\u5f88 JAVA\uff09</p> <ul> <li>\u8def\u7531\uff1a<code>router.js</code>\uff0c\u8d1f\u8d23\u5c06\u8bf7\u6c42\u5206\u53d1\u7ed9 C \u5c42</li> </ul> <pre><code>router.post('/book', BookController.addBook)\n</code></pre> <ul> <li><code>Controller</code> C \u5c42\uff1a\u8d1f\u8d23\u5904\u7406\u4e1a\u52a1\u903b\u8f91 \u2014\u2014 \u8c03\u7528 V &amp; C\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c</li> </ul> <pre><code>module.exports = const BookController {\n  addBook: async (req, res, next) =&gt; {\n    const {name, num} = req.body;\n    await BookService.addBook(name, num);\n    res.send({ok:1});\n  }\n}\n</code></pre> <ul> <li><code>Service</code>\uff1a\u6211\u4e0d\u77e5\u9053\u6709\u4ec0\u4e48\u7528 ...</li> </ul> <pre><code>module.exports = const BookService {\n  addBook: (name, num) =&gt; {\n    return BookModel.create({name, num})\n  }\n}\n</code></pre> <ul> <li> <p><code>Views</code> V \u5c42\uff1a\u53ea\u662f\u524d\u7aef\u6a21\u7248\u9875\u9762</p> </li> <li> <p><code>Model</code> M \u5c42\uff1a\u5904\u7406\u6570\u636e\uff08CURD \u64cd\u4f5c\uff09\uff0c\u5b9a\u4e49\u4e86\u6570\u636e\u7ed3\u6784\u4e4b\u7c7b\u7684\u4e1c\u897f</p> </li> </ul>"},{"location":"Nulling/Tool/NodeJS/2_Project/#apidoc","title":"APIDOC\uff1a\u81ea\u52a8\u751f\u6210\u63a5\u53e3\u6587\u6863","text":"<p>APIDOC \u652f\u6301\u81ea\u52a8\u751f\u6210 RESTful \u98ce\u683c API \u7684\u6587\u6863\u3002\u5f53\u7136\uff0c\u8fd9\u9700\u8981\u4f60\u7684\u4ee3\u7801\u6ce8\u91ca\u7b26\u5408\u7279\u5b9a\u683c\u5f0f\u3002</p> <p>\u6ce8\u91ca\u683c\u5f0f\u633a\u9ebb\u70e6\u7684\uff0c\u53ef\u4ee5\u5728 VSCode \u91cc\u88c5\u4e00\u4e2a <code>ApiDoc Snippets</code> \u63d2\u4ef6</p> <pre><code>/**\n  * @api {post} /api/user user\n  * @apiName addUser\n  * @apiGroup userGroup\n  * @apiVersion 1.0.0\n  *\n  * @apiParamExample {multipart/form-data} Request-Sample:\n  * {\n  *     username: 'admin',\n  *   password: '123'\n  * }\n  * \n  * @apiParam {String} username \u7528\u6237\u540d\n  * @apiParam {String} password \u5bc6\u7801\n  *\n  * @apiSuccessExample {bool} Success-Response:\n  * {\n  *     ok: true\n  * }\n  *\n  * @apiSuccess (200) {bool} ok \u6807\u8bc6\u662f\u5426\u6210\u529f\n  **/\n</code></pre> <p>\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u547d\u4ee4\u4e00\u952e\u751f\u6210\u6587\u6863\u5230 <code>./doc</code> \u76ee\u5f55\uff1a</p> <pre><code>api -i [srcDir] -o ./doc\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_3","title":"\u8def\u7531\u642d\u5efa","text":"<pre><code>// \u6839\u636e\u524d\u7aef\u8bf7\u6c42\u8def\u7531\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684 HTML \u6587\u4ef6 / \u540e\u7aef\u6570\u636e\nconst MIME = require('mime'); // \u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u7528\u4e8e\u5224\u65ad\u5305\u5934\u7528\u5565 type\n// \u5408\u5e76\u8def\u7531\nfunction use(obj) { Object.assign(route, obj) }\nconst route = {}; // \u4e5f\u53ef\u4ee5\u901a\u8fc7 route = {...r1, ...r2} \u6765\u5408\u5e76\nroute.use(PageRouter);\nroute.use(APIRouter);s\n\n// \u540e\u7aef\u670d\u52a1\uff0c\u542f\u52a8\uff01\nserver.on('request', (req, res) =&gt; {\n  const myURL = new URL(req.url, host);\n    try {\n    route[myURL.pathname](res, req);\n  } catch (err) {\n    route['/404'](res, req);\n  }\n  res.end();\n})\n\nfunction renderHTML(state, res, path, type=\"\") {\n  res.writeHaed(state, {\n    'Content-Type': `${type?type:'text/html'};charset=utf8`\n  });\n  res.write(fa.readFileSync(path), 'utf-8');\n}\n\n// ? \u5b58\u5728\u9759\u6001\u8d44\u6e90\u5417\nfunction isExistStaticResource(pathname) {\n  if (fs.existsSync(pathname)) {return true}\n  else {return false}\n}\n\n// \u7565\u663e\u62bd\u8c61\uff1a\u8fd4\u56de\u6307\u5b9a\u7684 HTML \u6587\u4ef6\nconst PageRouter = {\n  '/': (res) =&gt; { // \u91cd\u5b9a\u5411\u5230 home\n    renderHTML(200, res, './static/home.html')\n  },\n  '/home': (res) =&gt; {\n    renderHTML(200, res, './static/home.html')\n  },\n  '/favion.ico': (res) =&gt; {\n    renderHTML(200, res, './static/favicon.ico', 'image/x-icon');\n  }\n  '/404': (res\uff0creq) =&gt; {\n    // \u5224\u65ad /static \u4e0b\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u8d44\u6e90\uff08\u5b9e\u9645\u4e0a icon \u4e5f\u80fd\u5904\u7406\uff09\n    let pathname = new URL(req.url, host).pathname;\n    pathname = path.join(__dirname, 'static', pathname); // \u62fc\u63a5\u7edd\u5bf9\u8def\u5f84\n    if (isExistStaticResource(pathname)) {\n      // \u4f7f\u7528 MIME\uff0c\u57fa\u4e8e\u6269\u5c55\u540d\u5224\u65ad\u9700\u8981\u7684\u5305\u5934\u7c7b\u578b\n      renderHTML(200, res, pathname, MIME.getType(pathname.split('.')[1]))\n      return;\n    }\n\n    renderHTML(404, res, './static/404.html');\n  }\n}\n\n// \u62fc\u63a5\u8fd4\u56de\u7684\u6570\u636e\nfunction renderJSON(state, res, data, type=\"\") {\n  res.writeHaed(state, {\n    'Content-Type': `${type?type:'application/json'};charset=utf8`\n  });\n  res.write(data);\n}\n// \u4ec5\u7528\u4e8e\u767b\u9646\u9a8c\u8bc1\nfunction validateUsr(usrname, pws) {\n  if (usrName === 'CB' &amp;&amp; pwd == '123') {\n    renderJSON(200, res, `{\"ok\": true}`)\n  } else {\n    renderJSON(200, res, `{'ok': false}`)\n  }\n}\nconst APIRouter = {\n  // GET \u8bf7\u6c42\u5904\u7406\n  '/api/login': (res, req) =&gt; {\n    // \u83b7\u53d6 query \u53c2\u6570\n    let params  = new URL(req.url, host).searchParams;\n    let usrName = params.get('username');\n    let pwd     = params.get('password');\n    validateUsr(usrName, pwd);\n  },\n  // POST \u8bf7\u6c42\u5904\u7406\n  '/api/post': (res, req) =&gt; {\n    var data = \"\"\n    req.on('data', chunk =&gt; data += chunk);\n    res.on('end', () =&gt; {\n      data = JSON.parse(data);\n        let usrName = data.username;\n      let pws     = data.password;\n      validateUsr(usrName, pwd);\n    })\n  }\n}\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#express","title":"Express \u6846\u67b6","text":"<p>\u662f\u4e0d\u662f\u89c9\u5f97\u7528\u539f\u751f Node \u63d0\u53c2\u6570\u5f88\u58a8\u8ff9\uff1f\u7528 Epress \u5c31\u5bf9\u4e86</p> <pre><code>const express = require('express'); // \u662f\u7b2c\u4e09\u65b9\uff0c\u8bb0\u5f97\u88c5\n\nconst app = express(); // \u521b\u5efa\u670d\u52a1\u5668 \n\n// \u6bcf\u4e2a get() \u5bf9\u5e94\u4e86\u5355\u4e00\u8def\u7531\u5904\u7406\u903b\u8f91\uff0c\u8def\u7531\u652f\u6301\uff1astring\uff0c\u5b57\u7b26\u4e32\u6a21\u5f0f\uff0c\u6b63\u5219\napp.get('/home', (req, res, next) =&gt; {\n  res.send('hello'); // \u7b49\u4ef7\u4e8e write + end\uff0c\u800c\u4e14\u80fd\u81ea\u52a8\u5199\u5305\u5934\n  // \u4f60\u751a\u81f3\u53ef\u4ee5\u7ed9\u4ed6\u4e32\u591a\u4e2a\u987a\u5e8f\u7684\u5904\u7406\u51fd\u6570\n  next(); // \u53ea\u6709\u8c03 next() \u624d\u4f1a\u987a\u4e0b\u53bb\n}, (req, res) =&gt; {})\n// \u4e5f\u53ef\u4ee5\u7528\u6570\u7ec4\u6765\u585e\napp.get('/home', [cb1, cb2, ...]) // \u751a\u81f3 ('/path', [func1], (req, res)=&gt;{})\napp.get('/ab?cd', () =&gt; {})   // [\u6a21\u5f0f] //abcd \u6216 /acd\napp.get('/log/:id', () =&gt; {}) // [\u6a21\u5f0f] /id/****\uff08\u7b97\u662f\u5360\u4f4d\u7b26\uff09\u4e5f\u53ef\u4ee5 /:id1/:id2 \u5957\u5a03\napp.get(/.*\\.txt$/,   () =&gt; {}) // [\u6b63\u5219] \u4ee5 .txt \u7ed3\u5c3e\n\napp.listen(8080, () =&gt; {...})\n</code></pre> <p>\u5e94\u7528\u7ea7\u4e2d\u95f4\u4ef6\uff1a\u5982\u679c\u6bcf\u4e2a\u8def\u7531\u524d\u9762\u90fd\u8981\u9274\u6743\uff0c\u90a3\u5fc5\u4e0d\u53ef\u80fd\u5168\u624b\u8c03\u4e00\u904d\u54c7\uff1a</p> <pre><code>const isValid = (req, res, next) =&gt; {}\napp.use(isValid); // \u4e8e\u662f\u6240\u6709\u8def\u7531\u524d\u9762\u90fd\u4f1a\u5148\u8c03\u7528 isValid()\n</code></pre> <p>\u4ee5\u53ca\u4e66\u5199\u987a\u5e8f MATTERS\uff08\u5982\u679c\u4f60\u653e\u5728 login \u524d\u9762\u7684\u8bdd\uff0c\u90a3\u6c38\u8fdc\u68c0\u6d4b\u4e0d\u8fc7\u4e86\uff09\uff0c\u6240\u4ee5\u5e94\u8be5\u662f\uff1a</p> <pre><code>app.get('/login', ()=&gt;{})\napp.use(isValid)         // app.use('/home/*', [isValid]) \u4ec5\u4f5c\u7528\u4e8e /home/****\napp.get('/afterLog', ()=&gt;{})\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\u4e00\u5768 <code>get()</code> \u53e0\u4e00\u8d77\u4e5f\u5f88\u96be\u770b\uff0c\u6240\u4ee5 Express \u8fd8\u63d0\u4f9b\u4e86\u8def\u7531\u4e2d\u95f4\u4ef6\uff08\u4f60\u53ef\u4ee5\u62ff\u6765\u5957\u5a03\uff09\uff1a</p> <pre><code>app.use('/page', PageRouter); // \u8fd9\u91cc\u8fd8\u662f\u5e94\u7528\u7ea7\uff0c\u6d45\u6d45\u6302\u8f7d\u4e00\u4e0b\n\nconst PageRouter = express.Router();  // \u8def\u7531\u7ea7\u522b\uff0c\u5339\u914d /page/**\nPageRouter.get('/', (req, res) =&gt; {});// \u5b9e\u9645\u4e0a\u5339\u914d\u7684\u5c31\u662f /page\n</code></pre> <p>\u7136\u540e\u6574\u4e2a APP \u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u515c\u5e95\u7684\u9519\u8bef\u5904\u7406\u51fd\u6570\uff08\u4e5f\u53ef\u4ee5\u7528\u4e2d\u95f4\u4ef6\uff09\uff1a</p> <pre><code>app.use(...)\n// Router \u90fd\u6ce8\u518c\u597d\u4e86\napp.use((req, res) =&gt; {\n  res.status(404).send('error'); // \u4e0d\u89c4\u5b9a\u7684\u8bdd\uff0c\u9ed8\u8ba4\u8fd4\u56de 200\n})\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_4","title":"\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570","text":"<p>\u554a\u5b9e\u65f6\u4e0a\u76f4\u63a5\u7528 <code>req.body</code> \u62ff\u5230\u7684 POST \u53c2\u6570\u4e0d\u592a\u597d\u7528\uff0c\u8fd9\u91cc\u5f97\u914d\u7f6e\u4e00\u4e0b\u5185\u7f6e\u7684\u4e2d\u95f4\u4ef6</p> <pre><code>// @ index.js\n\n// \u7528\u4e8e\u5904\u7406 form \u7f16\u7801\u683c\u5f0f\u7684\u62fc\u63a5\u53c2\u6570 usr=aaa&amp;age=12\napp.use(express.urlencoded({extended:false}));\n// \u7528\u4e8e\u5904\u7406 JSON \u683c\u5f0f\u7684 POST \u53c2\u6570 {usrname:'aaa', age:12}\napp.use(express.json())\n\n// \u540e\u9762\u518d\u6ce8\u518c\u8def\u7531\napp.use(LoginRouter)\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u62ff GET / POST \u8bf7\u6c42\u53c2\u6570\u7684\u793a\u4f8b</p> <pre><code>// @ LoginRouter.js\nconst router = express.Router();\n\n// \u5b9e\u9645\u4e0a\u5904\u7406\u7684\u662f /login \u7684 GET \u8bf7\u6c42\nrouter.get('/', (req, res) =&gt; {\n  var data = req.query; // \u62ff\u5230\u7684\u662f\u7ed3\u6784\u4f53\n  var usrname = data.username;\n  var pws     = data.password;\n})\n// \u7136\u540e\u4f60\u540c\u65f6\u53ef\u4ee5\u54cd\u5e94 /login \u7684 POST \u8bf7\u6c42\nrouter.post('/', (req, res) =&gt; {\n  var data = req.body; // \u4f1a\u88ab\u7edf\u4e00\u6210\u7ed3\u6784\u4f53\n  var {username, password} = data; // \u5176\u5b9e\u662f\u7b49\u4ef7\u7684\n})\n\nmodules.exports = router;\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_5","title":"\u9759\u6001\u8d44\u6e90\u6258\u7ba1","text":"<p>\u53ea\u8981\u914d\u7f6e\u4e00\u4e0b\u4e2d\u95f4\u4ef6\u5c31\u597d\u4e86\uff1a</p> <pre><code>// @ index.js\n// \u914d\u7f6e\u591a\u4e2a\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u5939\napp.use(express.static('static'))\napp.use(express.static('public'))\n</code></pre> <p>\u90a3\u4e48\u5bf9\u4e8e\u4e0b\u9762\u7684\u6587\u4ef6\u7ed3\u6784\uff1a</p> <pre><code>\u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 home.html\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 login.html\n\u2514\u2500\u2500 test.ts\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>host/home.html</code> &amp; <code>host/login.html</code> \u76f4\u63a5\u8bbf\u95ee\uff08\u4e0d\u7528\u6253\u76ee\u5f55\uff09\uff1b</p> <p>\u5f53\u7136\uff0c\u5982\u679c\u4e00\u5b9a\u60f3\u8981\u6253\u76ee\u5f55\u7684\u8bdd\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u683c\u5f0f\u6ce8\u518c</p> <pre><code>app.use('/static', express.static('public'))\n// \u7136\u540e\u5c31\u53ef\u4ee5\u7528 host/static/login.html \u8bbf\u95ee\u4e86\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_6","title":"\u670d\u52a1\u7aef\u6e32\u67d3","text":"<p>\u53ef\u4ee5\u88ab\u722c\u866b\u5b8c\u6574\u722c\u51fa\u6765\uff08\u4f46\u524d\u540e\u7aef\u5206\u79bb\u7684\u8bdd\uff0c\u53ea\u80fd\u722c\u5230\u7a7a\u58f3\uff09\uff0c\u4f46\u662f\u9996\u5148\u5f97\u88c5\u70b9\u63d2\u4ef6</p> <pre><code>npm install ejs\n</code></pre> <p>\u7136\u540e\u4f60\u5f97\u914d\u70b9\u73af\u5883\uff1a\u6a21\u7248\u5b58\u5728\u54ea\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u554a\uff1f\u7528\u4ec0\u4e48\u5f15\u64ce\u89e3\u6790\u6a21\u677f\u554a\uff1f</p> <pre><code>// @ index.js\napp.set('views', './views');    // \u653e\u5728 ./views \u8def\u5f84\u4e0b\napp.set('view engine', 'ejs');  // \u4f7f\u7528 ejs \u4f5c\u4e3a\u89e3\u6790\u5f15\u64ce\n</code></pre> <p>\u554a\u90a3\u4e48\u5bf9\u4e8e\u4e0b\u9762\u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u4f1a\u627e\u5230 <code>./views/login.ejs</code> \u6e32\u67d3\u597d\u9875\u9762</p> <pre><code>router.get('/login', (req, res) =&gt; {\n  res.render('login', {title: 'Hello'});  // ./views/login.ejs\n})\n</code></pre> <p>\u597d\u7684\uff0c\u6765\u770b\u770b EJS \u6a21\u7248\uff08\u5176\u5b9e\u662f\u628a <code>&lt;%=[varname]%&gt;</code> \u66ff\u6362\u6210\u4f20\u5165\u7684\u53c2\u6570\uff09\uff1a</p> <pre><code>&lt;h1&gt;\n  \u63a8\u8350\u5546\u54c1\uff1a&lt;%=title%&gt; \n&lt;/h1&gt;\n\n&lt;text&gt;\n  &lt;%= isShow?'\u4e5f\u652f\u6301\u4e09\u76ee\u6765\u7740':''%&gt;\n&lt;/text&gt;\n\u4e5f\u53ef\u4ee5\u53d8\u6210\u4e0b\u9762\u8fd9\u6837\uff08\u4e0d\u4f1a\u6709 text \u6807\u7b7e\u4e86\uff09\n&lt;% if(isShow) { %&gt;\n &lt;text&gt;\u4e5f\u652f\u6301\u4e09\u76ee\u6765\u7740&lt;/text&gt;  \n&lt;% } %&gt;\n\n&lt;ul&gt;\n  \u4e5f\u652f\u6301 for \u5faa\u73af\u6765\u7740\uff08\u4e0d\u52a0\u7b49\u53f7\uff01\uff09\n  &lt;%for(let i=0;i&lt;list.length;i++){%&gt;\n    &lt;li&gt;&lt;%= list[i] %&gt;&lt;/li&gt; \u8fd9\u91cc\u662f\u53d8\u91cf\n  &lt;% } %&gt;\n&lt;/ul&gt;\n\n\u4f46\u4e5f\u6709\u8981\u7528 - \u7684\u65f6\u5019\uff08\u8981\u89e3\u6790 HTML \u7247\u6bb5\uff09\n&lt;%- htmlFragment %&gt;\n\nHTML \u7684\u6ce8\u91ca &lt;!--- ---&gt; \u4f1a\u88ab\u53d1\u7ed9\u524d\u7aef\n\u4f46 EJS \u81ea\u5df1\u7684\u6ce8\u91ca\u4e0d\u4f1a &lt;%# balabala %&gt;\n\n\u4ee5\u53ca\u7ecf\u5178\u6a21\u7248\u62fc\u63a5 \u2014\u2014 \u4f60\u4e5f\u4e0d\u60f3\u6bcf\u4e2a\u9875\u9762\u91cd\u5199 header \u7f62\n&lt;%-include('./footer.ejs'), {showTitle: false} %&gt;\n</code></pre> <p>\u7136\u540e EJS \u4e5f\u63d0\u4f9b\u4e86\u91cd\u5b9a\u5411\u529f\u80fd\uff1a</p> <pre><code>router.post('/login', (req, res) =&gt; {\n  if (isValid) {\n    res.redirect('/home'); // \u4f1a\u6267\u884c /home \u7684\u56de\u8c03\n  }\n})\n</code></pre> <p>\u7ed9\u51fa HTML \u6587\u4ef6\uff0c\u4f60\u80fd\u76f4\u63a5\u7ed9\u6211\u628a EJS \u6a21\u7248\u7aef\u4e0a\u6765\u5417\uff1f</p> <p>\u53ef\u4ee5\u7684\uff0c\u9996\u5148\u6211\u4eec\u8981\u91cd\u65b0\u914d\u7f6e\u4e00\u4e0b</p> <pre><code>app.set('views', './views');\napp.set('view engine', 'html');\napp.engine('html', require('ejs').renderFile);\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_7","title":"\u9879\u76ee\u751f\u6210\u5668","text":"<p>\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u5f97\u5b89\u88c5\u4e00\u4e0b\uff08\u4f46\u600e\u4e48\u662f\u901a\u8fc7 <code>npx</code> ?)</p> <pre><code>npx install express-generator\n# \u8001\u7248\u672c\u5f97\u7528 npm \u8fdb\u884c\u5168\u5c40\u5b89\u88c5\nnpm install -g express-generator\n</code></pre> <p>\u7136\u540e\u4f60\u53ef\u4ee5\u7528 <code>express [prjName] --view=ejs</code>  \u4e00\u952e\u751f\u6210\uff08\u9ed8\u8ba4\u7528\u7684\u662f jade \u6a21\u7248\uff09</p> <p>\u8fd9\u4e2a\u9879\u76ee\u9700\u8981\u901a\u8fc7 <code>node ./bin/www</code> \uff08\u6216\u8005 <code>npm run start</code>\uff09\u542f\u52a8</p>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_8","title":"\u767b\u5f55\u9274\u6743","text":""},{"location":"Nulling/Tool/NodeJS/2_Project/#cookie-x-session","title":"Cookie x Session","text":"<pre><code>// @ index.js\nconst session = require('express-session'); // \u5f15\u5165\napp.use(session({                           // \u6ce8\u518c\n  name: '',\n  secret: '',\n  cookie: {\n    maxAge: 1000*60*60, // \u8fc7\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\u662f ms\n    secure: false       // \u4e3a true \u65f6\uff0c\u53ea\u6709\u4f7f\u7528 HTTPS \u624d\u80fd\u83b7\u53d6\n  },\n  resave: true,           // \u6bcf\u6b21\u91cd\u8bbe session \u90fd\u91cd\u7f6e\u65f6\u95f4\n  saveUninitialized: true // \u65e0\u8bba\u662f\u5426\u767b\u5f55\u6210\u529f\uff0c\u9996\u6b21\u8bbf\u95ee\u90fd\u7ed9\n})); \n// \u653e\u5728 Router \u6ce8\u518c\u4e4b\u524d\n</code></pre> <p>Cookie \u5b58\u5728\u524d\u7aef\u4f5c\u4e3a Session-ID\uff08\u7279\u522b\u5bb9\u6613\u88ab\u4f2a\u9020\uff09\uff0c\u6240\u4ee5\u5728\u540e\u7aef\uff08\u5185\u5b58\u6216\u6570\u636e\u5e93\uff09\u518d\u5b58\u4e00\u4e2a Session</p> <p>\u6d4f\u89c8\u5668\u53d1\u8bf7\u6c42\u4f1a\u81ea\u52a8\u5e26\u4e0a Cookie &amp; Express \u4f1a\u81ea\u52a8\u8bbe\u7f6e Cookie\uff0c\u6240\u4ee5\u5e95\u5c42\u5168\u90fd\u770b\u4e0d\u5230\uff08\u90a3\u592a\u597d\u4e86\uff09</p> <p>Cookie \u8fc7\u671f\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u4e5f\u4f1a\u81ea\u52a8\u5220\u6389\uff08\u90a3\u4e5f\u592a\u597d\u4e86\uff09</p> <ul> <li>\u8fd9\u8fb9\u6211\u4eec\u914d\u4e86 <code>saveUninitialized: true</code>\uff0c\u6240\u4ee5\u5c31\u7b97\u662f\u8def\u4eba\u4e5f\u4f1a\u88ab\u53d1\u4e00\u4e2a Cookie    \u6211\u4eec\u4ec0\u4e48\u65f6\u5019\u518d\u4e3a\u8def\u4eba\u914d\u7f6e Session \u5462\uff1f\u7528\u6237\u767b\u5f55\u6210\u529f\u7684\u65f6\u5019\uff1a</li> </ul> <pre><code>const UserController = {\n  login: async (req, res) =&gt; {\n    const {usrname, pwd} = req.body;\n    const data = await UserService.login({usrname, pwd});\n    if (data.length === 0) {\n      res.send({ok: false})\n    } else { // \u767b\u5f55\u6210\u529f\n      // \u8bbe\u7f6e session =&gt; \u5f80\u91cc\u9762\u6302\u5b57\u6bb5\uff08\u9ed8\u8ba4\u5b58\u5728\u5185\u5b58\u91cc\uff09\n      req.session.usr = data[0];\n      res.send({ok: true})\n    }\n  }\n}\n</code></pre> <ul> <li>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5728 render \u7684\u65f6\u5019\u5224\u65ad session \u91cc\u9762\u662f\u5426\u6709\u5bf9\u5e94\u503c</li> </ul> <pre><code>// req.session \u4f1a\u81ea\u52a8\u5339\u914d cookie\uff08\u6bcf\u4e2a\u4eba\u4e0d\u4e00\u6837\uff09\nrouter.get('/', (req, res) =&gt; {\n  if (req.session.usr) {    // \u5df2\u7ecf\u767b\u5f55\n    res.render('index');\n  } else {\n    res.redirect('/login'); // \u53c9\u51fa\u53bb\u767b\u5f55\n  }\n})\n</code></pre> <p>\u4f46\u4e0a\u9762\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u5728\u8bbf\u95ee <code>/</code> \u7684\u65f6\u5019\u6821\u9a8c\u4e86\uff0c\u4f46\u662f\u5176\u4ed6 API \u90fd\u6ca1\u7ba1 =&gt; \u6211\u4eec\u9700\u8981\u5e94\u7528\u7ea7\u7684\u9274\u6743\u4e2d\u95f4\u4ef6\uff01</p> <pre><code>// @ index.js\napp.use(session({}));\n\n// \u8bbe\u7f6e\u9274\u6743\u4e2d\u95f4\u4ef6\napp.use((req, res, next) =&gt; {\n  if (req.url.includes('login') || req.session.usr) {\n    // \u91cd\u8bbe session &amp; \u66f4\u65b0 Cookie \u8fc7\u671f\u65f6\u95f4\n    req.session.date = Date.now(); \n    next(); // \u51c6\u5907\u767b\u5f55 or \u5df2\u7ecf\u767b\u5f55 \u7684\u90fd\u653e\u8fc7\u53bb\n  } else {  // \u53c9\u51fa\u53bb\u767b\u5f55\n    /* \u4f46\u662f\u524d\u7aef\u7528 AJAX/fetch \u53d1\u8bf7\u6c42\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u7ba1\u540e\u7aef\u6709\u6ca1\u6709\u8ba9\u4ed6\u91cd\u5b9a\u5411\n       \u5982\u679c\u662f \u63a5\u53e3\uff1a\u8fd4\u56de\u9519\u8bef\u7801\uff0c\u524d\u7aef\u81ea\u5df1\u641e\uff0c\u4e0d\u662f\u63a5\u53e3\uff08\u8def\u7531\uff09\uff1a\u91cd\u5b9a\u5411 */\n    // \u4f46 Axios \u5c31\u53ef\u4ee5\uff0c\u5f88\u795e\u5947\u5427\n    if (req.url.includes('api')) {\n      // \u8fd9\u6837\u524d\u7aef\u5728\u6bcf\u4e2a ajax \u8bf7\u6c42\u91cc\u90fd\u5f97\u6821\u9a8c\n      res.status(401).send({ok: false});\n    } else {\n      res.redirect('/login'); \n    }\n  }\n})\n\napp.use(routers);\n</code></pre> <p>\u9500\u6bc1 Session\uff1a\u7528\u6237\u4e3b\u52a8\u9000\u51fa\u767b\u5f55\u65f6\uff0c\u6211\u4eec\u8981\u600e\u4e48\u79fb\u9664\u540e\u7aef\u7684 Session \u5462\uff1f</p> <pre><code>const UserController = {\n  ...,\n  logout: (req, res, next) =&gt; {\n    // \u634f\u5988\u5988\u7684\u771f\u65b9\u4fbf\u554a\uff08\u4f46\u5176\u5b9e\u6ca1\u6709\u6e05\u9664\u524d\u7aef\u7684 Cookie\n    req.session.destroy(() =&gt; {\n      res.send({ok: true});\n    })\n  }\n}\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u7684 Session \u8fd8\u662f\u653e\u5728\u5185\u5b58\u91cc\uff0c\u53ea\u8981\u91cd\u542f\u5c31\u4f1a\u76f4\u63a5\u5bc4\u6389\u3002\u5982\u679c\u653e\u5728 DB \u91cc\uff0c\u6211\u4eec\u8fd8\u8981\u624b\u52a8\u53bb\u5220\u9664\u8fc7\u671f\u7684\u8bb0\u5f55\u3002</p> <p>=&gt; \u6ca1\u4e8b\uff0c\u6211\u4eec\u6709\u7b2c\u4e09\u65b9\u7684\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u81ea\u52a8\u5220\u6389 MongoDB \u91cc\u8fc7\u671f\u7684 Session \u6570\u636e</p> <pre><code>const MongoStore = require('connect-mongo');\napp.use(session({\n  ...,\n  rolling: true, // \u8d85\u65f6\u524d\u5237\u65b0\u4f1a\u91cd\u7f6e Cookie \u8fc7\u671f\u65f6\u95f4\n  store:  MongoStore.create({\n    mongourl: 'mongodb://...', // \u4f1a\u5efa\u4e00\u4e2a\u65b0\u7684 DB\uff08\u4e0d\u662f table\uff09\n    ttl:      1000*60*60       // \u8fc7\u671f\u65f6\u95f4\n    })\n}))\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#jwt-json-web-token","title":"JWT: JSON Web Token","text":"<ol> <li> <p>Session \u5b58\u5728\u7684\u95ee\u9898\uff1a</p> </li> <li> <p>\u5982\u679c\u540e\u7aef\u5b58\u5728\u591a\u53f0\u670d\u52a1\u5668</p> <ul> <li>\u6bcf\u53f0\u670d\u52a1\u5668\u90fd copy \u4e00\u904d session\uff08\u4f60\u4e3a\u4ec0\u4e48\u8981\u91cd\u590d\u5b58\u554a\uff09</li> <li>\u5355\u72ec\u4e00\u53f0\u670d\u52a1\u5668\u5b58 session\uff0c\u6821\u9a8c\u5b8c\u518d\u8c03\u5176\u4ed6\u670d\u52a1\uff08\u5355\u70b9\u538b\u529b\u5de8\u5927\uff09</li> </ul> </li> <li> <p>\u53ef\u80fd\u5bfc\u81f4 CSRF \u653b\u51fb\uff1a\u56e0\u4e3a\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5e26 Cookie\uff0c\u4f60\u70b9\u4f2a\u88c5\u94fe\u63a5\u4e4b\u540e\u53ef\u80fd\u4f1a\u88ab\u5192\u7528\u8eab\u4efd</p> </li> <li> <p>\u2753\u6211\u4eec\u4e3a\u4ec0\u4e48\u4e0d\u8ba9\u7528\u6237\u81ea\u5df1\u5b58\u5462\uff08\u4e8e\u662f\u6709\u4e86 Token\uff09</p> </li> <li> <p>\u653e\u5728 localStorage \u91cc\u4e5f\u4e0d\u4f1a\u88ab\u81ea\u52a8\u53d1\u51fa\u53bb</p> </li> <li> <p>\u663e\u7136\u5b58\u660e\u6587\u4e5f\u4e0d\u5408\u9002 =&gt; \u5b58\u4e00\u4e9b\u52a0\u5bc6\u7b7e\u540d</p> </li> <li> <p>Token \u5b58\u5728\u7684\u7f3a\u70b9</p> </li> <li> <p>Token \u4f1a\u6bd4 session_id \u5927\uff0c\u9700\u8981\u6324\u5360\u66f4\u591a\u5e26\u5bbd</p> </li> <li>\u65e0\u6cd5\u518d\u670d\u52a1\u5668\u4e0a\u4e3b\u52a8\u6ce8\u9500</li> <li>\u52a0\u5bc6\u7b7e\u540d\u7684\u8ba1\u7b97\u5f00\u9500\u5927</li> </ol> <pre><code>const jsonwebtoken = require('jsonwebtoken');\nconst secret = 'xxxx';\n\nconst JWT = {\n  generate: (value, expire) =&gt; {\n    // \u8fc7\u671f\u65f6\u95f4 expire \u9700\u8981\u8bbe\u7f6e\u4e3a '[N]s' \u683c\u5f0f\n    return jsonwebtoken.sign(\n      value, secret, {expiresIn: expire}\n    )\n    },\n  verify: (token) =&gt; {[\n    try { // \u56e0\u4e3a JWT \u8fc7\u671f\u65f6\u4f1a\u62a5\u9519\n        return jsonwebtoken.verify(token, secret)\n    } catch (e) {\n      return false;\n    }\n  ]}\n}\n</code></pre> <p>\u597d\u7684\uff0c\u4e0b\u9762\u7740\u624b\u628a Cookie-Session \u6821\u9a8c\u4ee3\u7801\u6539\u88c5\u6210 JWT \u7248\u672c</p> <pre><code>// \u767b\u5f55\u90e8\u5206\u7684\u903b\u8f91\nconst UserController = {\n  login: async (req, res) =&gt; {\n    const {usrname, pwd} = req.body;\n    const data = await UserService.login({usrname, pwd});\n    if (data.length === 0) {\n      res.send({ok: false})\n    } else { // \u767b\u5f55\u6210\u529f\n        const token = JWT.generate({\n        _id: data[0]._id,\n        username: data[0].username\n      }, '1h'); // \u751f\u6210 token\n      res.header('Authorization', token);        // \u653e\u5728 header \u91cc\u53d1\u56de\u53bb\n      res.send({ok: true})\n    }\n  }\n}\n\n// \u9274\u6743\u4e2d\u95f4\u4ef6\u90e8\u5206\u7684\u903b\u8f91\napp.use((req, res, next) =&gt; {\n  if (req.url.includes('login') || ) {\n    next();\n    return;\n  }\n  if (req.headers['authorization']) {\n    // \u524d\u6709 Bearer\n    const token = req.headers['authorization'].split(' ')[1]; \n    const payload = JWT.verify(token);\n    if (payload) {\n      // \u91cd\u8bbe token \u8fc7\u671f\u65f6\u95f4\n      const neoToken = JWT.generate({\n        _id: payload._id,\n        username: payload.username\n      }, '1h');\n      res.header('Authorization', neoToken); \n      next();\n    } else {\n      res.status(401),send({errInfo: 'Token' \u8fc7\u671f});\n    }\n    } else {\n    // \u6ca1\u5e26 token \u662f\u524d\u7aef\u7684\u9505\n  }\n})\n</code></pre> <p>\u524d\u7aef\u600e\u4e48\u5b58 token\uff1a\u6bcf\u6b21\u53d1\u4e4b\u524d\u5e26\u4e0a\u3001\u6536\u4e4b\u540e\u66f4\u65b0</p> <pre><code>// \u8fd9\u662f\u524d\u7aef\u54e6 =&gt; axios \u62e6\u622a\u5668\u7248\u672c\n\n// \u6bcf\u6b21\u53d1\u8bf7\u6c42\u524d\u8c03\u7528\naxios.interceptors.request.use(function(config) {\n  // \u628a localStorage \u91cc\u5b58\u7684 token \u5f80 header \u91cc\u4e00\u585e\n  const token = localStorage.getItem('token');\n  config.headers.Authorization = `Bearer ${token}`;\n    return config;\n}, function(err) {\n  return Promise.reject(err);\n})\n\n// \u6bcf\u6b21\u8bf7\u6c42\uff08\u6210\u529f\uff09\u540e\u8c03\u7528\naxios.interceptors.response.use(function(res) {\n  // \u5b58\u50a8 header \u4e2d\u643a\u5e26\u7684 token\n  const { authorization } = res.headers;\n  if (authorization) {\n    localStorage.setItem('token', authorization);\n  }\n    return res;\n}, function(err) {\n  if (err.response.status == 401) {\n    localStorage.removeItem('token');\n    location.href = '/login';\n  }\n  return Promise.reject(err);\n})\n\n// \u9000\u51fa\u65f6\uff0c\u5220\u9664 token\u3001\u8df3\u56de\u767b\u5f55\u9875\u9762\nexit.onclick = () =&gt;{\n  localStorage.removeItem('token');\n  location.href = '/login';\n}\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_9","title":"\u6587\u4ef6\u4e0a\u4f20\uff1a\u8868\u5355\u63d0\u4ea4","text":"<pre><code>// \u7528\u4e8e\u5904\u7406 multipart/form-data \u7c7b\u578b\u6570\u636e\u7684\u4e2d\u95f4\u4ef6\nconst multer = require('multer');\n// \u4e0a\u4f20\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84\uff08\u8fd9\u8fb9\u662f\u56e0\u4e3a /public \u88ab\u6258\u7ba1\u4e3a\u9759\u6001\u8d44\u6e90\u4e86\uff09\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5b58 ./uploads + \u6258\u7ba1\nconst upload = multer({dest: './public/uplaods'}); \n\n// sample\uff1a\u5728\u521b\u5efa\u7528\u6237\u65f6\u5b58\u50a8\u5934\u50cf\nrouter.post('/user', upload.sinlge('avatar'), UserService.addUser)\n/* \u8fd9\u8fb9\u7684 'avatar' \u662f\u6587\u4ef6\u5bf9\u8c61\u5728\u8868\u5355\u4e2d\u7684 name \u5b57\u6bb5\u53d6\u503c\n   - \u6b64\u65f6\u5728 UserService.addUser \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 req.file \u62ff\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u540d\n     \u5b8c\u6574\u7684\u76f8\u5bf9\u8def\u5f84\u662f path.join('./public/uplaods', req.file) \n   - \u5982\u679c\u7528\u6237\u4e0d\u4e0a\u4f20 avatar\uff0creq.file=undefined\u3001\u9700\u8981\u5904\u7406\u4e3a\u9ed8\u8ba4\u503c\n*/\n/* sample\uff1a\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u5934\u50cf\u56fe\u7247\uff08\u5176\u5b9e\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09\n   \u672c\u8d28\u4e0a\u8fd4\u56de\u7684\u662f URL\uff0c\u8ba9\u524d\u7aef\u81ea\u5df1\u8bf7\u6c42\u4e00\u4e0b\u56fe\u7247\u8d44\u6e90 */\n&lt;img src=\"${item.avatar}\"/&gt;\n\n// \u5176\u5b9e\u524d\u7aef\u90a3\u4e2a uploadFile \u662f\u652f\u6301\u4f20 \u591a\u5f20 \u56fe\u7247\u7684\uff08\u8fd9\u65f6\u5019\u9700\u8981\u6362\u4e00\u4e2a API\uff09\nconst MAX_NUM = 10;\nupload.array('photos', MAX_NUM);\n// \u5176\u4e2d MAX_NUM \u662f\u6700\u591a\u63a5\u53d7\u7684\u6587\u4ef6\u6570\u91cf\uff0c\u5176\u5b58\u50a8\u8def\u5f84\u4e8e req.files \u4e2d\u8fd4\u56de\n// \u524d\u7aef\u7684\u8868\u5355\u9879\u4e2d\u4e5f\u9700\u8981\u6dfb\u52a0 multiple \u5c5e\u6027\n&lt;input type='file' id='photos' multiple/&gt;\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#koav2","title":"koa(v2) \u6846\u67b6","text":"<pre><code>npm install koa\n</code></pre> <p>\u554a\u7b11\u9f20\uff0c\u8fd9\u4e2a\u6846\u67b6\u662f\u6413 express \u7684\u56e2\u961f\u91cd\u65b0\u6413\u51fa\u6765\u7684\u3002</p> <ul> <li> <p>koa \u4e0d\u5728\u5185\u6838\u4e2d\u7ed1\u5b9a\u4efb\u4f55\u4e2d\u95f4\u4ef6\uff0c\u53ea\u4e22\u4e0b\u4e00\u4e2a\u8f7b\u91cf\u4f18\u96c5\u7684\u51fd\u6570\u5e93\uff0c\u4e0d\u7559\u4e00\u4e1d\u4e91\u5f69\uff08\u4f46\u6bd4\u8f83\u96be\u4e0a\u624b\uff09\u3002</p> </li> <li> <p>\u4e0d\u540c\u4e8e express \u4f7f\u7528 callback + promise \u5b9e\u73b0\u5f02\u6b65\uff0ckoa2 \u901a\u8fc7 async/await \u8fdb\u884c\u5904\u7406\uff08\u6211\u600e\u4e48\u611f\u89c9\u524d\u8005\u66f4\ud83d\udc02\uff1f\uff09</p> </li> <li> <p>express \u7684\u56de\u8c03\u5e8f\u5217\u662f\u7ebf\u6027\u7684\uff08\u53cd\u590d <code>next</code> \u6267\u884c\u4e0b\u4e00\u6b65\uff09\uff0c\u800c\u4e14 <code>next()</code> \u540c\u6b65\u6267\u884c\uff08\u4e0d\u4f1a\u7b49\u8fd4\u56de\uff0c\u9664\u975e\u8fd4\u56de\u7684\u662f Promise \u5bf9\u8c61 + \u624b\u52a8\u6307\u5b9a <code>await next()</code>\uff09</p> </li> </ul> <p>\u6240\u4ee5 express \u6700\u597d\u8865\u836f\u5199\u6210\u4e24\u9762\u5305\u5939 <code>next()</code> =&gt; \u76f4\u63a5\u628a\u540e\u9762\u7684\u4ee3\u7801\u634b\u5230 <code>next()</code> \u51fd\u6570\u91cc\u9762</p> <p>koa \u91c7\u7528\u4e86\u6d0b\u8471\u6a21\u578b\uff08\u7c7b\u4f3c\u9012\u5f52\uff0c\u4e0b\u4e00\u7ea7\u6267\u884c\u5b8c\u4e4b\u540e\u8fd8\u4f1a\u8d70\u4e00\u904d\u56de\u5934\u8def\uff09=&gt; \u5176\u5b9e\u662f\u7528 <code>await</code> \u5957\u5a03\u4e86</p>"},{"location":"Nulling/Tool/NodeJS/2_Project/#hello-world","title":"Hello World","text":"<pre><code>const Koa = require('koa');\nconst app = new Koa();     // \u4e0d\u540c\u4e8e express()\uff0c\u8fd9\u91cc\u5fc5\u987b\u5b9e\u4f8b\u5316\n// \u5148\u6267\u884c\napp.use(async (ctx, next) =&gt; {   // ctx: context\uff08\u5408\u5e76\u4e86 req &amp; res\uff09\n  console.log('111');\n  const token = await next();                 // \u8fd8\u4f1a\u56de\u6765\u7684\n  consloe.log('333');\n  ctx.response.body = '&lt;h1&gt;Hello World&lt;/h1&gt;'; // \u6211\u89c9\u5f97\u5b83\u53d8\u957f\u4e86 ...\n  // \u4e5f\u5b58\u5728 ctx.req / ctx.res =&gt; \u662f Node \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u64cd\u4f5c\u6bd4\u8f83\u9ebb\u70e6\n});\n// \u540e\u6267\u884c\uff1a\u8fd9\u8fb9\u662f\u6309 Use \u987a\u5e8f\u8fdb\u884c\u56de\u8c03\napp.use(async (ctx, next) =&gt; {\n  await Delay(1000);\n  console.log('222');\n  return 'token';\n})\n\napp.listen(8080);\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_10","title":"\u8def\u7531","text":"<p>\u56e0\u4e3a koa \u628a\u8def\u7531\u6a21\u5757\u53c9\u51fa\u53bb\u4e86\uff0c\u6240\u4ee5\u5f97\u5355\u72ec\u5b89\u88c5\u4e00\u4e0b</p> <pre><code>npm install koa-router\n</code></pre> <pre><code>var Router = require('koa-router');\nvar userRouter = new Router();\n\nuserRouter.get('/', (ctx, next) =&gt; {\n  return ['111', '222', '333'];\n}) // RESTful \u98ce\u683c\uff08\u4f46\u5355\u72ec router.del('/user', (ctx, nxt)=&gt;{}) \u4e5f\u53ef\u4ee5\uff09\n.del('/:id', (ctx, next) =&gt; {\n  return ctx.params.id;\n});\n\n\n\n// \u5408\u5e76\u8def\u7531\u6a21\u5757\uff1a\u6ce8\u518c\u8def\u7531\u7ea7\u4e2d\u95f4\u4ef6\nvar router = new Router();\nrouter.redirect('/', '/home');// \u91cd\u5b9a\u5411\u5230 home \u9875\u9762\nrouter.prefix('/api');        // \u52a0\u7edf\u4e00\u524d\u7f00\uff0c\u6240\u4ee5\u73b0\u5728\u662f /api/user/xxx\nrouter.use('/user', userRouter.routes(), userRouter.allowedMethods());\n\n// \u6ce8\u518c\u5e94\u7528\u7ea7\u4e2d\u95f4\u4ef6\napp.use(router.routes());\n// \u5408\u6cd5\u8def\u5f84 /user + \u975e\u6cd5\u65b9\u6cd5 POST \u62a5 405\uff08\u800c\u4e0d\u662f 404\uff09\napp.use(router.allowedMethods());\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_11","title":"\u9759\u6001\u8d44\u6e90","text":"<p>\u6211\u4eec\u53c8\u8981\u88c5\u6a21\u5757\u4e86</p> <pre><code>npm install koa-static\n</code></pre> <pre><code>const path = require('path');\nconst statoc = require('koa-static');\n\n// \u6ce8\u518c\u5e94\u7528\u7ea7\u4e2d\u95f4\u4ef6\napp.use(static(path.join(__dirname, 'public'))); // \u9759\u6001\u8d44\u6e90\u4e22\u5728 ./public \u4e0b\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_12","title":"\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570","text":"<ul> <li>GET \u53c2\u6570</li> </ul> <pre><code>ctx.query == ctx.request.query = {a:1, b:2};\nctx.querystring == ctx.request.querystring = 'a=1&amp;b=2';\n</code></pre> <ul> <li>POST \u53c2\u6570\uff1a\u53c8\u8981\u52a0\u7ec4\u4ef6\u4e86</li> </ul> <pre><code>const bodyParser = reuiqre('koa-bodyparser');\napp.use(bodyParser);\n// \u517c\u5bb9 formEncoded \u548c JSON \u683c\u5f0f\n// formData \u4f1a\u88ab\u89e3\u6790\u81f3 ctx.request.body \n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_13","title":"\u670d\u52a1\u7aef\u6e32\u67d3","text":"<p>\u8fd9\u4e0b\u5f97\u540c\u65f6\u5b89\u88c5\u4e24\u4e2a\u6a21\u5757</p> <pre><code>npm install ejs koa-views\n</code></pre> <pre><code>const views = require('koa-views');\n\n// \u52a0\u8f7d\u6a21\u7248\u5f15\u64ce\napp.use(views(\n  path.join(__dirname, 'views'), {extension: 'ejs'}\n))\n\n// \u6e32\u67d3\u5e76\u8fd4\u56de EJS \u6a21\u7248\uff08\u8bb0\u5f97\u5f02\u6b65\uff09\napp.use(async (ctx) =&gt; {\n  let title = 'Hello';\n  await ctx.render('index', { title });\n})\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_14","title":"\u767b\u5f55\u9274\u6743","text":"<ul> <li>Cookie + Session</li> </ul> <pre><code>// Cookie \u53ef\u4ee5\u76f4\u63a5\u5728\u4e0a\u4e0b\u6587\u4e2d\u8bfb\u5199\uff0coptions \u5747\u53ef\u7701\u7565\nctx.cookies.get(ckName, [options]);\nctx.cookies.set(ckName, ckVal, [options]);\n\n// Session \u9700\u8981\u518d\u6dfb\u52a0\u4e2d\u95f4\u4ef6\nconst session = require('koa-session-minimal');\napp.use(session({\n  key: 'session_ID',\n  cookue: { maxAge: 100*60*60 }\n}))\n\n// \u53ea\u8981\u5f80 session \u4e0a\u6302\u8f7d\u5c5e\u6027\u5c31\u4f1a\u81ea\u52a8\u5f80\u524d\u7aef\u53d1 Cookie\nctx.session.user = {\n  username: 'xxx'  // Cookie Name = \u4e4b\u524d\u914d\u7f6e\u7684 session_id\n}\n\n// sessin \u62e6\u622a\u5224\u65ad\napp.use(async (ctx, nxt) =&gt; {\n  // \u6392\u9664 login \u63a5\u53e3\n  if (ctx.url.includes('login')) {\n    await next();\n    return; // \u56e0\u4e3a\u8fd8\u4f1a\u56de\u6765\n  }\n  if (ctx.session.user) {\n    // \u91cd\u8bbe session\n    ctx.session.myDate = Date.now();\n    await next();\n  } else {\n    ctx.redirect('/login');\n  }\n})\n</code></pre> <ul> <li>JWT</li> </ul> <pre><code>// JWT \u7684\u5c01\u88c5\u548c express \u6846\u67b6\u4e2d\u4e00\u81f4\uff0c\u53ea\u8981\u91cd\u5199\u4e00\u4e0b\u62e6\u622a\u5668\napp.use(async (ctx, nxt) =&gt; {\n  if (ctx.url.includes('login')) {\n    await next();\n    return;\n  }\n  const token = ctx.headers['authorization']?.splits(' ')[1];\n  if (token) {\n    const payload = JWT.verify(token, secret);\n    if (payload) {\n      const neoToken = JWT.generate({\n        _id: payload._id\n      }, '1h');\n      ctx.set('Authorization', neoToken);\n      await next();\n    } else {\n      ctx.status = 401;\n      ctx.body   = { errInfo: 'Invalid Token' };\n    }\n  } else {\n    await next();\n  }\n})\n</code></pre>"},{"location":"Nulling/Tool/NodeJS/2_Project/#_15","title":"\u6587\u4ef6\u4e0a\u4f20","text":"<p>\u56e0\u4e3a multer \u672c\u4f53\u662f\u8ddf\u7740 express \u8dd1\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u53c8\u8981\u4e0b\u4e24\u4e2a\u6a21\u5757\u4e86\uff08\u574f\u4e5f\uff09</p> <pre><code>npm install multer @koa/multer\n</code></pre> <pre><code>const multer = reuqire('@koa/multer');\nconst upload = multer();\n// \u5269\u4e0b\u7684\u548c\u524d\u9762\u662f\u4e00\u6837\u7684\u7528\u53e3\u7259\uff0c\u62ff\u53c2\u6570\u7528 ctx.file / ctx.files\n</code></pre>"},{"location":"Nulling/Vue/Vue3/","title":"Vue3","text":"<p> \u7ea6 1741 \u4e2a\u5b57  279 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Nulling/Vue/Vue3/#1","title":"1 \u521b\u5efa\u5de5\u7a0b","text":""},{"location":"Nulling/Vue/Vue3/#vue-cli","title":"Vue-cli","text":"<pre><code>## \u5b89\u88c5\u6216\u5347\u7ea7 vue-cli\nnpm install -g @vue/cli\n## \u521b\u5efa\u9879\u76ee \nvue create prj_name\n## \u542f\u52a8\u670d\u52a1\ncd prj_name\nnpm run serve\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#_1","title":"\u5de5\u7a0b\u7ed3\u6784","text":"<pre><code>// @ main.js - \u4e0d\u517c\u5bb9 Vue2 \u8bed\u6cd5\nimport {createApp} from 'vue' // \u5f15\u5165\u7528\u4e8e\u521b\u5efa\u5b9e\u4f8b\u7684\u5de5\u5382\u51fd\u6570\uff08\u4e0d\u7528 new\uff09\ncreateApp(App).mount('#app')  // \u521b\u5efa\u5e94\u7528\u5b9e\u4f8b\u5bf9\u8c61\n</code></pre> <ul> <li><code>&lt;template&gt;</code> \u4e2d\u53ef\u4ee5\u6ca1\u6709\u6839\u6807\u7b7e</li> </ul>"},{"location":"Nulling/Vue/Vue3/#vite","title":"Vite","text":"<p>Vite \u5b98\u7f51 \u65e0\u9700\u6253\u5305\u5373\u53ef\u51b7\u542f\u52a8\uff0c\u5b9e\u73b0\u4e86\u6309\u9700\u7f16\u8bd1\uff08\u4e0d\u9700\u8981\u7b49\u5f85\u6574\u4e2a\u5e94\u7528\u7f16\u8bd1\u5b8c\u6210\uff09</p> <pre><code>## \u521b\u5efa\u5de5\u7a0b\nnpm init vite-app prj_name\n## \u8fdb\u5165\u76ee\u5f55\ncd prj_name\n## \u5b89\u88c5\u4f9d\u8d56\nnpm install\n## \u8fd0\u884c\nnpm run dev\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#2-composition-api","title":"2 \u5e38\u7528 Composition API","text":""},{"location":"Nulling/Vue/Vue3/#_2","title":"\u4f18\u52bf","text":"<ul> <li>\u914d\u7f6e\u5f0f API \u9700\u8981\u5206\u522b\u5728\u5404\u81ea\u7684\u914d\u7f6e\u4e2d\u4fee\u6539 <code>data / methods</code>     \u6765\u81ea\u4e0d\u540c\u529f\u80fd\u5757\u7684\u6570\u636e\u548c\u65b9\u6cd5\u88ab\u63c9\u5728\u4e86\u4e00\u8d77</li> <li>\u7ec4\u5408\u5f0f API \u53ef\u4ee5\u5c06\u540c\u4e00\u529f\u80fd\u7684\u6570\u636e\u548c\u65b9\u6cd5\u5b9a\u4e49\u5728\u4e00\u8d77\uff08\u6bd4\u5982\u8bf4 <code>hook</code>\uff09</li> </ul>"},{"location":"Nulling/Vue/Vue3/#setup","title":"setup","text":"<ul> <li>\u6267\u884c\u65f6\u673a     \u5728 <code>beforeCreate</code> \u4e4b\u524d\uff0c\u6b64\u65f6 <code>this = undefined</code></li> <li>\u53c2\u6570<ul> <li><code>props</code> \u5bf9\u8c61\u7c7b\u578b\uff0c\u5305\u542b\u7ec4\u4ef6\u5916\u4f20\u9012\u5e76\u58f0\u660e\u63a5\u6536\u7684\u5c5e\u6027</li> <li><code>context</code> \u4e0a\u4e0b\u6587\u5bf9\u8c61<ul> <li><code>attrs</code> \u7ec4\u4ef6\u5916\u4f20\u9012\uff0c\u4f46\u6ca1\u6709\u58f0\u660e\u63a5\u6536\u7684\u6570\u636e\uff0c\u7b49\u4ef7\u4e8e Vue2 <code>this.$attrs</code></li> <li><code>slots</code> \u63a5\u6536\u7684\u63d2\u69fd\u5185\u5bb9\uff0c\u7b49\u4ef7\u4e8e Vue2  <code>this.$slots</code></li> <li><code>emit</code> \u7528\u4e8e\u5206\u53d1\u81ea\u5b9a\u4e49\u65f6\u95f4\u7684\u51fd\u6570\uff0c\u76f8\u5f53\u4e8e Vue2  <code>this.$emit</code>     \u6240\u4ee5\u5728 <code>setup</code> \u51fd\u6570\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>context.emit('name', val)</code> \u89e6\u53d1\u4e8b\u4ef6 <pre><code>import {h} from 'vue'\n// @ component.js\nexport default { \n    // \u4e5f\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528 data \u548c methods \u8fdb\u884c\u914d\u7f6e - v3 \u4e0d\u80fd\u8bfb v2 \u7684\u914d\u7f6e\u5185\u5bb9\n    // v2 v3 \u914d\u7f6e\u51b2\u7a81\u65f6\uff0c\u4ee5 v3 \u914d\u7f6e\u5185\u5bb9(setup) \u4e3a\u4e3b\n    setup() { // \u4e0d\u80fd\u662f async \u51fd\u6570\n        // data - static\n        let name = \"Tom\"\n        let age = 18\n\n        // method \n        function sayHello() {\n            alert(`my name is ${name}, i'm ${age} years old now.`)\n\n        return { // \u8fd4\u56de\u683c\u5f0f\u4e3a\u5bf9\u8c61\u65f6\uff0c\u6570\u636e\u548c\u51fd\u6570\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\n            name: name,\n            age, // \u7b80\u5199\n            sayHello\n        }\n\n        // \u8fd4\u56de\u6e32\u67d3\u51fd\u6570\u65f6\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49\u5185\u5bb9\u9876\u66ff template\n        return () =&gt; h('h1', 'title\u634f')\n    }\n}\n</code></pre></li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#ref","title":"ref","text":"<p>\u5b9e\u73b0\u54cd\u5e94\u5f0f\u6570\u636e</p> <pre><code>import {ref} from 'vue'\nexport default {\n    setup() { // \u901a\u8fc7 ref \u751f\u6210\u5f15\u7528\u5bf9\u8c61 - \u57fa\u672c\u6570\u636e\u7c7b\u578b\u751f\u6210\u4e86 get/set\n        let name = ref('Tom')\n        let age = ref(18)\n        let job = ref({ // \u4f7f\u7528\u5c31\u662f job.type / jop.salary\n        // \u5206\u91cf\u672c\u8eab\u4e0d\u662f\u54cd\u5e94\u5f0f\u6570\u636e -&gt; \u6240\u6709\u5206\u91cf\u88ab\u6253\u5305\u6210\u4e86\u4e00\u4e2a proxy\n        // \u53ea\u6709 proxy \u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u6539\u53d8 - \u6574\u4e2a\u66ff\u6362\uff0c\u624d\u80fd\u68c0\u6d4b\u5230\u53d8\u5316\n            type: 'front',\n            salary: '15k'\n        })\n\n        // \u5728\u51fd\u6570\u4e2d\u4fee\u6539\u53d8\u91cf\u503c -&gt; \u4fee\u6539 obj.value\n        // \u4f46\u662f\u63d2\u503c\u8bed\u6cd5\u91cc\u76f4\u63a5\u7528\u53d8\u91cf\u540d\u5c31\u884c\u4e86\uff08\u4e0d\u7528.value\uff09\n        function changeInfo() {\n            name.val = 'Jake'\n            age.val = 19\n            job.value.type = 'back'\n        }\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#reactive","title":"reactive","text":"<p>\u5b9a\u4e49\u4e00\u4e2a \u5bf9\u8c61\u7c7b\u578b \u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff08\u57fa\u672c\u6570\u636e\u7c7b\u578b\u9700\u8981\u4f7f\u7528 <code>ref</code>\uff09</p> <ul> <li> <p>\u5bf9\u6570\u636e\u7684\u76d1\u89c6\u662f \u6df1\u5c42\u6b21 \u7684 =&gt; \u652f\u6301\u591a\u5c42 obj \u8fdb\u884c\u5305\u88f9</p> </li> <li> <p>\u652f\u6301\u628a \u6570\u7ec4 \u6539\u6210\u54cd\u5e94\u5f0f =&gt; \u76f4\u63a5\u901a\u8fc7\u4e0b\u6807\u8fdb\u884c\u8bbf\u95ee\u548c\u4fee\u6539</p> </li> <li> <p>\u4e00\u822c\u6d41\u7a0b\u662f <code>const \u4ee3\u7406 = reactive(\u6e90\u5bf9\u8c61)</code> \u7136\u540e\u628a\u4ee3\u7406\u66b4\u9732\u51fa\u53bb</p> </li> </ul> <pre><code>import {reactive} from 'vue'\nexport default {\n    let job = reactive({ // \u751f\u6210\u4e00\u4e2a Proxy - \u6bcf\u4e2a\u5206\u91cf\u90fd\u662f\u54cd\u5e94\u5f0f\u6570\u636e\n        type: 'front',\n        salary: '15k'\n    })\n    function changeInfo() { // \u4e0d\u7528\u4f7f\u7528 .value \u8fdb\u884c\u5957\u5a03\u4e86\n        job.type= 'back'\n        job.salary = '20k'\n    }\n\n    // \u9274\u4e8e ref \u7684\u4fee\u6539\u6bd4\u8f83\u9b54\u6014\uff0c\u4e0b\u9762\u7528 reactive \u5b8c\u5168\u6253\u5305\n    let person = reactive({\n        name: '',\n        job: {\n            type: '',\n            salary: ''\n        },\n        hobby: []\n    }) // =&gt; \u867d\u7136\u4fee\u6539\u7684\u65f6\u5019\u9700\u8981\u75af\u72c2\u7684 person.xxx \u5c31\u662f\u4e86\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#ref-vs-reactive","title":"Ref vs Reactive","text":"<ul> <li>\u5b9a\u4e49\u6570\u636e<ul> <li><code>ref</code>\uff1a\u57fa\u672c\u6570\u636e\u7c7b\u578b    \uff08\u82e5\u5b9a\u4e49\u5bf9\u8c61/\u6570\u7ec4\uff0c\u5219\u81ea\u52a8\u8c03\u7528 <code>reactive</code> \u751f\u6210\u4ee3\u7406\u5bf9\u8c61\uff09</li> <li><code>reactive</code>\uff1a\u5bf9\u8c61/\u6570\u7ec4 \u7c7b\u578b</li> </ul> </li> <li>\u539f\u7406<ul> <li><code>ref</code>\uff1a\u901a\u8fc7 <code>Object.defineProperty()</code> \u5b9e\u73b0\u54cd\u5e94</li> <li><code>reactive</code>\uff1a\u901a\u8fc7 <code>Proxy</code> \u5b9e\u73b0\u54cd\u5e94\uff0c\u4f7f\u7528 <code>Reflect</code> \u64cd\u4f5c src_obj \u5185\u90e8\u6570\u636e</li> </ul> </li> <li>\u4f7f\u7528<ul> <li><code>ref</code>\uff1a\u9700\u8981\u901a\u8fc7 <code>.value</code> \u64cd\u4f5c\u6570\u636e\uff08\u6a21\u7248\u4e2d\u8bfb\u53d6\u65f6\u4e0d\u9700\u8981\uff09</li> <li><code>reactive</code>\uff1a\u64cd\u4f5c\u4e0e\u8bfb\u53d6\u5747\u4e0d\u9700\u8981 <code>.value</code> \u540e\u7f00</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#_3","title":"\u5907\u6ce8","text":"<ul> <li><code>$attrs</code> - \u515c\u5e95     \u5f53\u7236\u7ec4\u4ef6\u4e2d\u4f20\u5165\u7684\u53d8\u91cf\u6ca1\u6709\u5728 <code>props</code> \u4e2d\u660e\u786e\u58f0\u660e\u63a5\u6536\u65f6\uff0c\u5c06\u51fa\u73b0\u5728 <code>$attrs</code> \u4e2d<ul> <li>\u5f53\u4ec5\u4e3b\u52a8\u58f0\u660e\u63a5\u6536\u90e8\u5206\u5916\u90e8\u6570\u636e\u65f6\uff0c<code>attrs</code> \u4e2d\u5c06\u5305\u542b\u672a\u58f0\u660e\u90e8\u5206</li> <li><code>attrs</code> \u4e2d\u63a5\u6536\u7684\u6570\u636e\u5c06\u65e0\u6cd5\u9650\u5236\u7c7b\u578b / \u8bbe\u5b9a\u9ed8\u8ba4\u503c</li> </ul> </li> <li>\u63d2\u69fd     \u7236\u7ec4\u4ef6\u5411\u7ec4\u4ef6\u4f20\u9012\u63d2\u69fd\u5185\u5bb9\uff0c\u4f46\u5b50\u7ec4\u4ef6\u4e2d\u672a\u58f0\u660e <code>slot</code> \u6807\u7b7e\u65f6\uff0c\u4f20\u5165\u6570\u636e\u5c06\u88ab\u4fdd\u5b58\u5728 <code>son.$slots</code> \u4e2d<ul> <li>\u5b58\u50a8\u5f62\u5f0f\u4e3a\uff1a\u7531\u865a\u62df\u7ed3\u70b9\u6784\u6210\u7684\u6570\u7ec4</li> <li>\u672a\u58f0\u660e\u6240\u5c5e\u63d2\u69fd\u7684\u8282\u70b9\u5c06\u5b58\u50a8\u5728 <code>default</code> \u6570\u7ec4\u4e2d</li> <li>\u901a\u8fc7 <code>v-slot:xxx</code> \u58f0\u660e\u7684\u8282\u70b9\u5c06\u5b58\u50a8\u5728\u5bf9\u5e94\u7684 <code>xxx</code> \u6570\u7ec4\u4e2d</li> </ul> </li> <li><code>emits</code> \u914d\u7f6e\u9879     \u5728 Vue3 \u4e2d\uff0c\u5b50\u7ec4\u4ef6\u5fc5\u987b\u58f0\u660e\u81ea\u5df1\u8eab\u4e0a\u7ed1\u5b9a\u7684\u6240\u6709\u4e8b\u4ef6     <pre><code>emits: ['hello'] // \u7ed1\u5b9a\u4e8b\u4ef6\u540d\u79f0\u6240\u6784\u6210\u7684\u6570\u7ec4\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue3/#3","title":"3 \u54cd\u5e94\u5f0f\u539f\u7406","text":""},{"location":"Nulling/Vue/Vue3/#vue2","title":"Vue2","text":"<ul> <li>\u901a\u8fc7 <code>defineProperty()</code> \u5bf9\u5c5e\u6027\u8fdb\u884c\u8bfb\u53d6\u3001\u4fee\u6539\u548c\u62e6\u622a</li> <li>\u5bf9\u4e8e\u6570\u7ec4\u7c7b\u578b - \u6539\u5199\u4e86\u4e00\u7cfb\u5217\u65b9\u6cd5\uff08\u5bf9\u53d8\u66f4\u65b9\u6cd5\u8fdb\u884c\u4e86\u5305\u88f9\uff09</li> <li>\u95ee\u9898<ul> <li>\u65b0\u589e / \u5220\u9664 \u5c5e\u6027\u65f6\uff0c\u754c\u9762\u4e0d\u4f1a\u66f4\u65b0\uff08\u89e3\u51b3\u65b9\u6848\u5982\u4e0b\uff09    <code>this.$set(this.obj, 'key', 'val')</code> / <code>this.$delete(this.obj, 'key')</code></li> <li>\u901a\u8fc7 idx \u4fee\u6539\u6570\u7ec4\u65f6\uff0c\u754c\u9762\u4e0d\u4f1a\u66f4\u65b0</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#vue3","title":"Vue3","text":"<ul> <li>\u5b9e\u73b0<ul> <li>\u901a\u8fc7 <code>Proxy</code> \u62e6\u622a\u5bf9\u8c61\u4e2d\u4efb\u610f\u5c5e\u6027\u7684\u53d8\u5316\uff08\u5305\u62ec\u4fee\u6539 + \u589e\u5220\uff09     <pre><code>const obj = new Proxy(src_obj, {\n    get(target, propName) { // \u4e0d\u540c\u4e8e defineProperty.get()\n        return Reflect.get(target, propName)\n    },\n    set(target, propName, val) { // \u589e/\u6539 \u65f6\u5747\u8c03\u7528\n        Reflect.set(target, propName, val)\n    },\n    deleteProperty(target, propName) { // \u8fd4\u56de\u662f\u5426\u5220\u9664\u6210\u529f\n        return Reflect.deleteProperty(target, propName) \n    }\n})\n</code></pre></li> <li>\u901a\u8fc7 <code>Reflect</code> \u5bf9\u5c5e\u6027\u8fdb\u884c\u64cd\u4f5c     \u901a\u8fc7\u8fd4\u56de\u503c\u62a5\u9519 - \u6709\u9519\u8bef\u53ef\u4ee5\u7ee7\u7eed\u8dd1 - \u4e0d\u7528\u5199\u4e00\u5806\u7684 try-catch</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#4","title":"4 \u8ba1\u7b97\u5c5e\u6027\u4e0e\u76d1\u89c6","text":""},{"location":"Nulling/Vue/Vue3/#computed","title":"computed","text":"<ul> <li>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528 Vue2 \u4e2d\u7684 <code>computed</code> \u5c5e\u6027\u5355\u72ec\u914d\u7f6e     \u53ef\u4ee5\u770b\u5230 <code>setup</code> \u4e2d\u66b4\u9732\u7684\u6570\u636e\uff08\u4f46\u662f\u9700\u8981\u4ee5 <code>this.var</code> \u8fdb\u884c\u8bbf\u95ee\uff09 <pre><code>// \u9700\u8981\u624b\u52a8 import \u4e00\u4e0b\nimport {computed} from 'vue'\n\nsetup() {\n    // \u5b9a\u4e49\u57fa\u7840\u7684\u6570\u636e\n    let person = reactive({\n        firstName: '',\n        lastName: ''\n    })\n\n    // \u7b80\u5199\u5f62\u5f0f\uff08\u4e0d\u8003\u8651 Write \u7684\u60c5\u51b5\uff09\n    let fullName = computed(()=&gt;{\n        return person.firstName + '-' + person.lastName\n    })\n    // \u5b8c\u6574\u5f62\u5f0f\uff08\u517c\u987e RW - \u89c4\u5b9a\u4e86\u8986\u5199\u7684\u89c4\u5219\uff09\n    let fullName = computed({\n        get() {\n            return person.firstName + '-' + person.lastName\n        },\n        set(val) {\n            const nameArry = val.split('-')\n            person.firstName = nameArry[0]\n            person.lastName = nameArry[1]\n        }\n    })\n    // \u628a fullName \u585e\u7ed9 person\uff08\u5176\u5b9e\u5b9a\u4e49\u7684\u65f6\u5019\u585e\u4e5f\u53ef\uff09\n    person.fullName = fullName\n    // \u8bb0\u5f97\u66b4\u9732\u4e00\u4e0b\n    return {\n        person // \u6211\u4eec\u628a fullName \u52a8\u6001\u8ffd\u52a0\u5230 person \u91cc\uff0c\u6240\u4ee5\u4e0d\u7528\u5355\u72ec\u8fdb\u884c\u66b4\u9732\n    }\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue3/#watch","title":"watch","text":"<ul> <li>\u4e24\u4e2a\u5751<ul> <li>\u76d1\u89c6 <code>reactive</code> \u5b9a\u4e49\u7684\u54cd\u5e94\u5f0f\u6570\u636e\u65f6\uff1a\u65e0\u6cd5\u6b63\u786e\u83b7\u53d6 <code>old_Value</code>\uff0c\u5f3a\u5236\u5f00\u542f\u6df1\u5ea6\u76d1\u89c6</li> <li>\u76d1\u89c6 <code>reactive</code> \u5b9a\u4e49\u7684\u54cd\u5e94\u5f0f\u6570\u636e\u4e2d\u7684\u67d0\u4e2a\u5206\u91cf\u65f6\uff1a<code>deep</code> \u914d\u7f6e\u6709\u6548\uff08\u4e0d\u5f3a\u5236\u6df1\u5ea6\u76d1\u89c6\uff09 <pre><code>setup(){ // watch \u4e0d\u9700\u8981\u5411\u5916\u66b4\u9732\n    // 1. \u76d1\u89c6 ref \u5b9a\u4e49\u7684\u54cd\u5e94\u5f0f\u6570\u636e\n    watch(sum, (new_val, old_val) =&gt; {\n        do sth\n    },{immediate: true})\n    // 2. \u76d1\u89c6 ref \u5b9a\u4e49\u7684\u591a\u4e2a\u6570\u636e\uff08OR\uff09\n    watch([sum, msg], (new_val, old_val) =&gt; {\n        do sth // \u6b64\u65f6 old/new_val \u4e3a\u6570\u7ec4 - \u548c\u5b9a\u4e49\u5e8f\u5217\u4e00\u81f4\n    })\n    // 3. \u76d1\u89c6 reactive \u5b9a\u4e49\u7684\u5b8c\u6574\u6570\u636e\n    watch(person, (new_val, old_val) =&gt; {\n        // old_val \u65e0\u6cd5\u6b63\u786e\u83b7\u53d6, deep === true\n    },{immediate: true})\n    // 4. \u76d1\u89c6 reactive \u5b9a\u4e49\u6570\u636e\u7684\u5206\u91cf\n    watch(()=&gt;person.job, (old_val, new_val) =&gt; {\n        // \u53ef\u4ee5\u914d\u7f6e deep \u54e9\uff01\n    },{immediate: true, deep: false})\n    // 5. \u76d1\u89c6 reactive \u5b9a\u4e49\u6570\u636e\u7684\u67d0\u4e9b\u5206\u91cf\n    watch([()=&gt;person.name,()=&gt;person.age], (old_val, new_val) =&gt;{\n        do sth\n    })\n    // immediate \u8868\u793a \u521d\u59cb\u5316 \u7684\u65f6\u5019\u4e5f\u8fdb\u884c\u76d1\u542c\n}\n</code></pre></li> </ul> </li> </ul> <p>\u5728\u76d1\u89c6 <code>ref</code> \u5b9a\u4e49\u7684\u591a\u5c42\u7ea7\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9 <code>obj.value</code> \u8fdb\u884c\u76d1\u89c6\u4ee5\u5b9e\u73b0\u6df1\u5c42\u6b21\u76d1\u89c6 </p> <p>=&gt; \u672c\u8d28\u4e0a\u662f\u5bf9\u4e00\u4e2a <code>proxy</code> \u5bf9\u8c61\u8fdb\u884c\u4e86\u76d1\u89c6\uff0c\u81ea\u5e26 <code>deep:true</code> \u6027\u8d28</p>"},{"location":"Nulling/Vue/Vue3/#watcheffect","title":"watchEffect","text":"<pre><code>import {watchEffect} from 'vue'\n// \u4e0d\u6307\u660e\u76d1\u89c6\u7684\u5bf9\u8c61\uff0c\u4e0a\u6765\u5c31\u5199\u56de\u8c03\u51fd\u6570\nwatchEffect(() =&gt; {\n    const x1 = sum.value // \u81ea\u52a8\u76d1\u89c6\u6240\u6709\u63d0\u5230\u7684\u6570\u636e\n    const x2 = person.job.salary // \u53ef\u4ee5\u5206\u8fa8\u591a\u5c42\u5bf9\u8c61 - \u4ec5\u5173\u6ce8\u7ec6\u5206\u91cf\n    do sth\n})\n</code></pre> <p>\u6709\u4e9b\u7c7b\u4f3c\u4e8e <code>computed</code> -&gt; \u6240\u4f9d\u8d56\u7684\u4efb\u4e00\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5c31\u6267\u884c\u56de\u8c03\u51fd\u6570</p>"},{"location":"Nulling/Vue/Vue3/#5","title":"5 \u751f\u547d\u5468\u671f","text":"<ul> <li>\u6700\u540e\u7684\u751f\u547d\u5468\u671f\u7531 <code>destroy</code> \u8c03\u6574\u4e3a <code>unmounted</code> =&gt; \u548c\u5f00\u59cb\u65f6\u7684 <code>mounted</code> \u547c\u5e94</li> <li>\u53ea\u6709\u5728\u6307\u5b9a\u6302\u8f7d\u5bf9\u8c61\u540e\uff0c\u624d\u4f1a\u5f00\u59cb\u4e00\u7cfb\u5217\u7684\u751f\u547d\u5468\u671f</li> <li>\u914d\u7f6e\u65b9\u5f0f<ul> <li>Vue2-Like\uff1a\u76f4\u63a5\u4f7f\u7528\u94a9\u5b50\u540d\u79f0\u4f5c\u4e3a\u914d\u7f6e\u9879\u8fdb\u884c\u914d\u7f6e</li> <li>\u5728 <code>setup</code> \u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u5176\u4e2d <code>beforeCreate/created</code> \u5bf9\u5e94\u4e86 <code>setup</code> \u672c\u8eab<ul> <li>\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u90fd\u9700\u8981\u6539\u540d\u6210 <code>on???</code> \uff0c\u4f8b\u5982 <code>beforeMounted -&gt; onBeforeMounted</code></li> <li>\u6bcf\u4e2a\u6539\u540d\u7684\u7ec4\u5408\u5f0f API \u90fd\u9700\u8981\u5355\u72ec\u5728\u4e0a\u540d\u8fdb\u884c\u5f15\u5165</li> <li>\u6bcf\u4e2a\u51fd\u6570\u90fd\u9700\u8981\u6307\u5b9a\u56de\u8c03\u51fd\u6570 <code>onMounted(()=&gt;{})</code></li> </ul> </li> <li>\u540c\u65f6\u4f7f\u7528\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e\u65f6\uff0c\u7ec4\u5408\u5f0f API &gt; \u914d\u7f6e\u9879\uff08\u4e24\u4e2a\u90fd\u8c03\uff0c\u4f46\u662f API \u65e9\u4e00\u70b9\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#hook","title":"\u81ea\u5b9a\u4e49 hook","text":"<p>\u672c\u8d28\u4e0a\u662f\u5bf9 <code>setup</code> \u4e2d\u7684\u7ec4\u5408\u5f0fAPI\u8fdb\u884c\u5c01\u88c5\u7684\u51fd\u6570</p> <p>\u7c7b\u4f3c\u4e8e <code>mixin</code>\uff0c\u53ef\u4ee5\u901a\u8fc7\u590d\u7528\u4ee3\u7801\uff0c\u4f7f\u5f97 <code>setup</code> \u7684\u903b\u8f91\u66f4\u52a0\u6e05\u6670</p> <p>\u5728 <code>hooks/usePoint.js</code> \u4e0b\u7f16\u5199\u5f85\u5c01\u88c5\u7684\u5185\u5bb9\uff1a <pre><code>import {reactive, onMounted, onBeforeUnmounted} from 'vue'\nexport default function() { // \u6574\u4e2a\u6253\u5305\u6210\u4e00\u4e2a\u51fd\u6570\n    // data\n    let point = reactive({\n        x:0, y:0\n    })\n    // methods\n    fuction getPos(e) {\n        point.x = e.pageX\n        point.y = e.pageY\n    }\n    // life circle\n    // 1. \u9700\u8981\u5728\u6302\u8f7d\u4e4b\u540e\u5c31\u7ed1\u5b9a\u4e8b\u4ef6\n    onMounted(()=&gt;{\n        window.addEventListener('click', getPos )\n    }),\n    // 2. \u4e0d\u4f7f\u7528\u7ec4\u4ef6\u540e\uff0c\u79fb\u9664\u5bf9\u4e8b\u4ef6\u7684\u575a\u542c\n    onBeforeUnmount(()=&gt;{\n        window.removeEventListener('click',getPos)\n    })\n    return { // \u628a\u6570\u636e\u7ed9\u51fa\u53bb\n        point\n    }\n}\n</code></pre></p> <p>\u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528 hook: <pre><code>import userPoint from '../hook/usePoint' // \u66b4\u9732\u7684\u662f\u4e2a\u51fd\u6570\u5594\nexport default {\n    setup() {\n        let point = usePoint() // \u63a5\u6536 hook \u8fd4\u56de\u7684 point \u6570\u636e\n        // \u6211\u4eec\u4e0d\u5173\u5fc3 usePoint \u6267\u884c\u7684\u8fc7\u7a0b\uff0c\u628a\u6570\u636e\u62ff\u6765\u7528\u5c31\u884c\n        return {\n            point // \u628a\u6570\u636e\u7ed9\u672c\u7ec4\u4ef6\u4e2d\u7684\u6a21\u7248\u4f7f\u7528\n        }\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue3/#toref","title":"toRef","text":"<p>\u628a\u4e00\u4e2a\u4e1c\u897f\u53d8\u6210 <code>ref</code> =&gt; \u628a\u6570\u636e\u62c6\u6563\u540e\u66b4\u9732\u7ed9\u6a21\u7248</p> <pre><code>import {torRef} from 'vue'\nexport default {\n    let person = reactive({\n        name: '',\n        age: 0\n    })\n    // name_1 \u53ea\u662f\u5355\u7eaf\u7684\u6587\u672c\u5185\u5bb9\u62f7\u8d1d\n    const name_1 = person.name\n    // name_2 \u662f\u4e00\u4e2a RefImpl \u5bf9\u8c61\uff08\u5177\u5907\u5f15\u7528\u6e90\u5730\u5740\u7684\u54cd\u5e94\u5f0f\u7279\u5f81\uff09\n    const name_2 = toRef(person, 'name')\n    // \u62ff\u4e00\u4e2a\u591a\u5c42\u7ea7\u4e0b\u7684\u5185\u5bb9\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6700\u8fd1\u7684\u7236\u7ea7\u5bf9\u8c61\uff09\n    const salary = toRef(person.job.j_1, 'salary')\n}\n\n// toRefs \u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u5c5e\u6027\nconst x = toRefs(person.job) // \u4f1a\u628a\u6307\u5b9a\u5bf9\u8c61\u53d8\u6210\u54cd\u5e94\u5f0f\u6570\u636e\n// \u5e0c\u671b\u628a\u8be5\u5bf9\u8c61\u7684\u6240\u6709\u5206\u91cf\u5c55\u5f00\u5bfc\u51fa\uff0c\u53ef\u4f7f\u7528\u5982\u4e0b\u8bed\u6cd5\uff1a\nreturn {\n    ...toRefs(person.job) // \u53ea\u4f1a\u5728 setup \u6267\u884c\u65f6\u8c03\u7528\u4e00\u6b21 - \u6ca1\u6cd5\u52a8\u6001\u8ffd\u52a0\n    // \u4f46\u662f\u628a person \u672c\u8eab\u4ea4\u51fa\u53bb\u5c31\u53ef\u4ee5\u52a8\u6001\u6dfb\u52a0/\u5220\u9664\u6570\u636e\u4e86\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#6-composition-api","title":"6 \u5176\u4ed6 Composition API","text":""},{"location":"Nulling/Vue/Vue3/#shallowreactive-shallowref","title":"shallowReactive / shallowRef","text":"<ul> <li><code>shallowReactive</code> \u53ea\u6709\u7b2c\u4e00\u5c42\u5206\u91cf\u4e3a\u54cd\u5e94\u5f0f\u6570\u636e</li> <li><code>shallowRef</code> \u4e0d\u5904\u7406\u5bf9\u8c61\u7c7b\u578b\u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff08\u4e0d\u4f1a\u8c03\u7528 <code>reactive</code>\uff09     <code>value</code> \u5206\u91cf\u4e3a <code>Object</code> \u7c7b\u578b =&gt; Vue \u65e0\u6cd5\u76d1\u542c\u5230\u6570\u636e\u53d8\u5316</li> <li>\u4f7f\u7528\u573a\u666f<ul> <li>\u6709\u4e00\u4e2a\u7ed3\u6784\u8f83\u6df1\u7684\u5bf9\u8c61\uff0c\u4f46\u53ea\u6709\u6700\u5916\u5c42\u5c5e\u6027\u53d1\u751f\u53d8\u5316 - <code>shallowReactive</code></li> <li>\u6709\u4e00\u4e2a\u5bf9\u8c61\uff0c\u540e\u7eed\u4e0d\u4f1a\u4fee\u6539\u5206\u91cf\uff0c\u53ea\u4f1a\u751f\u6210\u65b0\u7684\u5bf9\u8c61\u8fdb\u884c\u66ff\u6362 - <code>shallowRef</code></li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#readonly-shallowreadonly","title":"readonly / shallowReadonly","text":"<p>\u53ea\u8bfb \u2014\u2014 \u4fdd\u62a4\u6570\u636e\uff08\u5bf9\u4e8e\u522b\u4eba\u4f20\u5165\u7684\u6570\u636e\u4e5f\u9002\u7528\uff09</p> <pre><code>let person = reactive({\n    naem: 'Tom',\n    age: 18,\n    job: {\n        type: 'front',\n        salary: '18k'\n    }\n})\n\nperson = readonly(preson) // \u4f7f\u7528\u53ea\u8bfb\u5bf9\u8c61\u8986\u76d6 person\n\n// shallowReadonly \u4ec5\u4fdd\u62a4\u7b2c\u4e00\u5c42\u5206\u91cf\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#toraw-markraw","title":"toRaw / markRaw","text":"<ul> <li> <p><code>toRaw</code> - \u5c06\u901a\u8fc7 <code>reactive</code> \u751f\u6210\u7684\u54cd\u5e94\u5f0f\u5bf9\u8c61\u8f6c\u4e3a\u666e\u901a\u5bf9\u8c61</p> <p>\u4f8b\u5982\uff1a\u8bfb\u53d6\u54cd\u5e94\u5f0f\u5bf9\u8c61\u7684 <code>src_obj</code>\uff0c\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\u4e0d\u4f1a\u5f15\u8d77\u9875\u9762\u66f4\u65b0</p> </li> <li> <p><code>markRaw</code> - \u6807\u8bb0\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f7f\u5176\u6c38\u8fdc\u4e0d\u4f1a\u6210\u4e3a\u54cd\u5e94\u5f0f\u5bf9\u8c61</p> <p>\u6e32\u67d3\u5177\u6709\u4e0d\u53ef\u53d8\u6570\u636e\u6e90\u7684\u5927\u5217\u8868\u65f6\uff0c\u8df3\u8fc7\u54cd\u5e94\u5f0f\u8f6c\u6362\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd</p> </li> </ul>"},{"location":"Nulling/Vue/Vue3/#customref","title":"customRef","text":"<p>\u521b\u4f5c\u4e00\u81ea\u5b9a\u4e49\u7684 <code>ref</code> \uff0c\u5e76\u5bf9 \u4f9d\u8d56\u8ddf\u8e2a &amp; \u66f4\u65b0\u89e6\u53d1 \u8fdb\u884c\u663e\u5f0f\u63a7\u5236</p> <p>\u4e0b\u9762\u4ee5\u5b9e\u73b0\u300c\u9632\u6296\u300d\u4e3a\u4f8b\uff1a</p> <pre><code>import {ref, customRef} from 'vue'\nexport default { // \u5b9e\u73b0\u5ef6\u8fdf\u663e\u793a\n    setup() {\n        // \u5b9e\u73b0 customRef\n        function myRef(val) {\n            let timer\n            return customRef((track, trigger)=&gt;{\n                get() {\n                    track() // \u901a\u77e5 Vue \u8ffd\u8e2a val \u7684\u53d8\u5316\n                    return val\n                },\n                set(new_val) {\n                    clearTimeout(timer) // \u9632\u6296\n                    timer = setTimeout(()=&gt;{\n                        val = new_val // \u4fee\u6539\u901a\u8fc7\u521d\u59cb\u5316\u5f97\u5230\u7684\u6570\u636e\n                        trigger()     // \u901a\u77e5 Vue \u91cd\u65b0\u89e3\u6790\u6a21\u7248\n                    }, 500)\n                }\n            })\n        }\n\n        let keyWord = myRef('')\n        return {keyWord}\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#provide-inject","title":"provide &amp; inject","text":"<p>\u5b9e\u73b0\u7956\u5b59\u7ec4\u4ef6\u95f4\u901a\u4fe1</p> <p>\u7236\u5143\u7d20\u901a\u8fc7 <code>provide</code> \u63d0\u4f9b\u6570\u636e\uff0c\u540e\u4ee3\u5143\u7d20\u901a\u8fc7 <code>inject</code> \u6765\u4f7f\u7528</p> <pre><code>// @ source\nimport {provide} from 'vue'\nsetup() {\n    let car = reactive({naem:'', price:0})\n    provide('car', car) // \u5411\u6240\u6709\u540e\u4ee3\u7ec4\u4ef6\u63d0\u4f9b\u6570\u636e\n}\n// @ target\nimport {inject} from 'vue'\nsetup() {\n    let car = inject('car')\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#_4","title":"\u54cd\u5e94\u5f0f\u6570\u636e\u5224\u65ad","text":"<ul> <li><code>isRef</code></li> <li><code>isReactive</code></li> <li><code>isReadonly</code>\uff1a\u7531 <code>reactive</code> \u521b\u5efa\u7684\u53ea\u8bfb\u4ee3\u7406</li> <li><code>isProxy</code>\uff1a\u7531 <code>reactive / readonly</code> \u521b\u5efa</li> </ul>"},{"location":"Nulling/Vue/Vue3/#7","title":"7 \u65b0\u7684\u7ec4\u4ef6","text":""},{"location":"Nulling/Vue/Vue3/#fragment","title":"Fragment","text":"<p>Vue3 \u7ec4\u4ef6\u53ef\u4ee5\u6ca1\u6709\u6839\u6807\u7b7e\uff08\u6846\u67b6\u81ea\u5df1\u4f1a\u628a\u5b83\u5305\u5728\u865a\u62df\u6807\u7b7e\u5185\uff09</p> <p>=&gt; \u4f7f\u7528 <code>fragement</code> \u8fdb\u884c\u5305\u88f9\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u4e0d\u88ab\u6e32\u67d3\u7684\u7edf\u4e00\u6839\u6807\u7b7e</p>"},{"location":"Nulling/Vue/Vue3/#teleport","title":"Teleport","text":"<p>\u5c06\u7ec4\u4ef6\u7684 HTML \u7ed3\u6784\u79fb\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e</p> <pre><code>&lt;teleport to=\"pos\"&gt;\n    pos \u53ef\u4ee5\u662f html \u6807\u7b7e\u540d\uff08\u76f4\u63a5\u585e\u6210\u5b50\u5143\u7d20\uff09\u6216 CSS\u9009\u62e9\u5668\n    &lt;div&gt;some structures, \u6bd4\u5982\u5f39\u7a97&lt;/div&gt;\n&lt;/teleport&gt;\n</code></pre>"},{"location":"Nulling/Vue/Vue3/#suspense","title":"Suspense","text":"<p>\u7b49\u5f85\u5f02\u6b65\u7ec4\u4ef6\u65f6\u6e32\u67d3\u989d\u5916\u5185\u5bb9\uff08loading...\uff09</p> <p>\u5f02\u6b65\u539f\u56e0\uff1a\u7f51\u901f\u6162 / \u7ec4\u4ef6\u505a\u4e86\u7f51\u7edc\u8bf7\u6c42</p> <pre><code>import {defineAsyncComponent} from 'vue' // \u9759\u6001\u5f15\u5165\nconst Child = defineAsyncComponent(()=&gt;import('url')) // \u5f02\u6b65\u5f15\u5165\n// \u5f02\u6b65\u5f15\u5165\u7684\u7ec4\u4ef6\u5c06\u8fdb\u884c\u5f02\u6b65\u52a0\u8f7d\n</code></pre> <p>\u4f7f\u7528 <code>suspense</code> <pre><code>&lt;template&gt;\n    &lt;h1&gt;Father&lt;/h1&gt;\n    &lt;suspense&gt;\n        &lt;template v-slot:default&gt;\n            &lt;Child/&gt; \u4f7f\u7528 suspense \u5305\u88f9\u5f02\u6b65\u52a0\u8f7d\u7684\u5b50\u7ec4\u4ef6\n        &lt;/template&gt;\n        &lt;template v-slot:fallback&gt;\n            loading \u5185\u5bb9\n        &lt;/template&gt;\n    &lt;/suspense&gt;\n&lt;/template&gt;\n</code></pre></p>"},{"location":"Nulling/Vue/Vue3/#8-vue3","title":"8 Vue3 \u7684\u5176\u4ed6\u53d8\u5316","text":"<ol> <li>\u5168\u5c40 API \u8f6c\u79fb      \u5728 Vue2 \u4e2d\u5b58\u5728\u4e8e <code>vm</code> \u8eab\u4e0a\u7684 API \u88ab\u8c03\u6574\u5230\u4e86 <code>app \u5e94\u7528\u5b9e\u4f8b</code> \u4e0a</li> <li><code>data</code> \u59cb\u7ec8\u9700\u8981\u88ab\u58f0\u660e\u4e3a\u51fd\u6570</li> <li>\u8fc7\u6e21\u52a8\u753b\u7c7b\u540d\u53d8\u5316 <code>.v-enter/leave-from/to</code></li> <li>\u4e0d\u518d\u652f\u6301 <code>keyCode</code> \u4fee\u9970 <code>key-on</code> \uff0c\u540c\u65f6\u79fb\u9664\u4e86 <code>config.keyCode</code> \u81ea\u5b9a\u4e49\u6309\u952e\u522b\u540d</li> <li>\u79fb\u9664\u4e86 <code>@event.native</code> \u4fee\u9970\u539f\u751f\u4e8b\u4ef6\uff08\u901a\u8fc7\u5b50\u7ec4\u4ef6\u58f0\u660e <code>emits</code> \u8fdb\u884c\u8bc6\u522b\uff09</li> <li>\u79fb\u9664\u4e86 <code>filter</code> -&gt; \u5efa\u8bae\u7528 <code>methods / computed</code> \u66ff\u4ee3</li> </ol>"},{"location":"Nulling/Vue/Vue2/1%20Intro/","title":"1 HelloWorld","text":"<p> \u7ea6 2410 \u4e2a\u5b57  401 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>Vue3\u5b98\u7f51 |   Vue2\u5b98\u7f51 |  BootCDN - \u7b2c\u4e09\u65b9js\u5e93</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#1","title":"1 \u642d\u5efa\u5f00\u53d1\u73af\u5883","text":"<p>\u6b64\u5904\u4f7f\u7528 <code>&lt;script&gt;</code> \u6807\u7b7e\u5f15\u5165 <code>&lt;html&gt;</code> \u6587\u4ef6\u4e2d</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#11-vue","title":"1.1 \u5f15\u5165 Vue","text":"<ul> <li>CDN\u94fe\u63a5 <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\"&gt;&lt;/script&gt;\n</code></pre></li> <li>\u5b66\u4e60\u65f6\u5efa\u8bae\u4f7f\u7528\u201c\u5f00\u53d1\u7248\u672c\u201d\uff0c\u6539\u7248\u672c\u5305\u542b\u8c03\u8bd5\u4fe1\u606f</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#12-hello-world","title":"1.2 Hello World","text":"<pre><code>// \u5173\u95ed\u751f\u4ea7\u7248\u672c\u8b66\u544a\nVue.config.productionTip = false;\n// \u521b\u5efa Vue \u5b9e\u4f8b - \u53c2\u6570\u4e3a\u914d\u7f6e\u5bf9\u8c61\nnew Vue({\n    el: '#root', // \u4e3a\u5f53\u524d\u5b9e\u4f8b\u7ed1\u5b9a\u5bb9\u5668\uff0c\u503c\u4e3aCSS\u9009\u62e9\u5668\u5b57\u7b26\u4e32 / document..\n    data: {      // \u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u63d2\u503c\u8bed\u6cd5\u4f7f\u7528\uff08\u4ec5\u7ed1\u5b9a\u5bb9\u5668\uff09\n        name: 'seabee',\n        age: 12\n    }\n})\n</code></pre> <ul> <li>\u63d2\u503c\u8bed\u6cd5<ul> <li>\u5728\u975e\u7ed1\u5b9a\u5bb9\u5668\u4e2d\uff0c\u63d2\u503c\u8bed\u6cd5\u5c06\u88ab\u8bc6\u522b\u4e3a\u5b57\u7b26\u4e32</li> <li>\u5185\u5bb9\u53ef\u4ee5\u662f\u4efb\u610fJS\u8868\u8fbe\u5f0f\uff08\u5305\u62ec\u4e09\u76ee\u8868\u8fbe\u5f0f\uff0c<code>if / for</code> \u8bed\u53e5\uff09</li> <li>\u4e5f\u53ef\u4ee5\u5728\u91cc\u9762\u63d2\u5165 <code>methods</code> \u4e2d\u5b9a\u4e49\u7684\u51fd\u6570 <ul> <li><code>{{showInfo}}</code>  \u5c06\u5c55\u793a\u4ee3\u7801\u5185\u5bb9</li> <li><code>{{showInfo()}}</code> \u5c06\u5c55\u793a\u8fd4\u56de\u503c</li> </ul> </li> </ul> </li> <li>\u5728 Vue \u4e2d\uff0c\u201c\u5bb9\u5668 - \u5b9e\u4f8b\u201d \u662f 1 to 1 \u5bf9\u5e94\u5173\u7cfb<ul> <li><code>el</code> \u6240\u6307\u5411\u7684\u5bb9\u5668\u4e2d\u7684\u4ee3\u7801\u88ab\u79f0\u4e3a\u300cVue\u6a21\u7248\u300d</li> <li>\u5f53\u9875\u9762\u4e0a\u5b58\u5728\u591a\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u6a21\u7248\u65f6\uff0c\u4ec5\u9996\u4e2a\u5bb9\u5668\u88ab\u6b63\u5e38\u89e3\u6790</li> <li>\u5f53\u9875\u9762\u4e0a\u5b58\u5728\u591a\u4e2a\u7b26\u5408\u6761\u4ef6\u7684Vue\u5b9e\u4f8b\u65f6\uff0c\u4ec5\u9996\u4e2a\u5b9e\u4f8b\u6b63\u5e38\u63a5\u7ba1</li> </ul> </li> </ul> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e0d\u5728\u914d\u7f6e\u9879\u4e2d\u58f0\u660e <code>el</code>\uff1a <pre><code>const vm = new Vue({\n    data: {\n        name: 'SeaBee',\n        age: 12\n    }\n});\n// \u6307\u5b9a\u5b9e\u4f8b\u9700\u8981\u6302\u8f7d\u7684\u6a21\u7248\nvm.$mount('#root');\n// \u8fd9\u79cd\u65b9\u5f0f\u66f4\u52a0\u7075\u6d3b\uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u52a0\u4e00\u4e2a timer\uff0c\u5ef6\u8fdf 1s \u518d\u8fdb\u884c\u6302\u8f7d\nsetTimeout(() =&gt; {\n    vm.$mount('#root');\n}, 1000);\n</code></pre></p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u51fd\u6570\u5f0f\u7684\u58f0\u660e <code>data</code>\uff1a</p> <ul> <li>\u628a <code>data</code> \u5199\u6210\u7bad\u5934\u51fd\u6570 <code>() =&gt; {}</code> \u65f6\uff0c <code>this</code> \u6307\u5411 <code>window</code> <pre><code>new Vue({\n    data: function() { // \u6b64\u5904\u7684 this \u662f Vue \u5b9e\u4f8b\u5bf9\u8c61\n        return {       // \u8fd4\u56de\u503c\u662f\u9700\u8981\u7684\u6570\u636e\u5bf9\u8c61\n            name: 'SeaBee',\n            age: 12\n        }\n    }\n    // \u4e5f\u53ef\u4ee5\u641e\u6210\u8fd9\u6837\n    data() {\n        return {\n            name: 'SeaBee',\n            age: 12\n        }\n    }\n});\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#2","title":"2 \u6a21\u7248\u8bed\u6cd5","text":"<ol> <li> <p>\u63d2\u503c\u8bed\u6cd5 - \u7528\u4e8e\u6807\u7b7e\u4f53\u5185\u5bb9</p> <p>\u628a\u6307\u5b9a\u7684\u503c\u653e\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u8bbf\u95ee Vue \u5b9e\u4f8b\u4e0a\u7684\u6240\u6709\u5c5e\u6027</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u5728 <code>data</code> \u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u6570\u636e\u6700\u540e\u90fd\u4f1a\u8dd1\u5230 Vue \u5b9e\u4f8b\u4e0a</p> </li> <li> <p>\u6307\u4ee4\u8bed\u6cd5\uff08\u4ee5<code>v-</code> \u5f00\u5934\uff09- \u7528\u4e8e\u89e3\u6790\u6807\u7b7e</p> <p>\u4f8b\u5982 \uff1a<code>&lt;a v-bind:href=\"url\"&gt;</code> \u6b64\u65f6\u53cc\u5f15\u53f7\u4e2d\u7684\u5185\u5bb9\u88ab\u4f5c\u4e3aJS\u8868\u8fbe\u5f0f\u6267\u884c</p> <p>\u4e8b\u5b9e\u4e0a\uff0c<code>v-bind:</code> \u6307\u4ee4\u53ef\u4ee5\u4e3a\u4efb\u4f55\u6807\u7b7e\u5c5e\u6027\u52a8\u6001\u7ed1\u5b9a\u5185\u5bb9\uff0c\u53ef\u4ee5\u7b80\u5199\u4e3a <code>:</code></p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#3","title":"3 \u6570\u636e\u7ed1\u5b9a","text":""},{"location":"Nulling/Vue/Vue2/1%20Intro/#31-v-bind","title":"3.1 \u5355\u5411\u6570\u636e\u7ed1\u5b9a v-bind","text":"<ul> <li>\u8f93\u5165\u6846\u5185\u5bb9\u6539\u53d8\u4e0d\u5f71\u54cd <code>name</code> \u7684\u503c</li> <li><code>name</code> \u5185\u5bb9\u6539\u53d8\u4f1a\u5f71\u54cd\u8f93\u5165\u6846\u6587\u5b57\u53d8\u5316 <pre><code>&lt;div id=\"root\"&gt;\n    \u5355\u5411\u6570\u636e\u7ed1\u5b9a\uff1a&lt;input type=\"text\" v-bind:value=\"name\"&gt;\n    \u7b80\u5199\u89c1\u53f3\u4fa7\uff1a&lt;input type=\"text\" :value=\"name\"&gt;\n&lt;/div&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#32-v-model","title":"3.2 \u53cc\u5411\u6570\u636e\u7ed1\u5b9a v-model","text":"<ul> <li>\u8f93\u5165\u6846\u4e0e <code>name</code> \u503c\u4e92\u76f8\u5f71\u54cd <pre><code>&lt;div id=\"root\"&gt;\n    \u53cc\u5411\u6570\u636e\u7ed1\u5b9a\uff1a&lt;input type=\"text\" v-model:value=\"name\"&gt;\n    \u7b80\u5199\u89c1\u53f3\u4fa7\uff1a&lt;input type=\"text\" v-model=\"name\"&gt;\n&lt;/div&gt;\n</code></pre></li> <li>\u4e0d\u662f\u6240\u6709\u7684\u5143\u7d20\u90fd\u652f\u6301 <code>v-model</code> \u6307\u4ee4\uff08\u4ec5\u652f\u6301\u8868\u5355\u5143\u7d20 - \u6709 <code>value</code> \u5c5e\u6027\uff09</li> <li><code>v-model:value</code> \u53ef\u4ee5\u7b80\u5199\u4e3a <code>v-model</code>  - \u56e0\u4e3a\u9ed8\u8ba4\u4f5c\u7528\u4e8e <code>value</code> \u5c5e\u6027</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_1","title":"\u8868\u5355\u6570\u636e\u6536\u96c6","text":"<p><pre><code>// \u521b\u5efa\u8868\u5355\n&lt;div id=\"root\"&gt;\n    &lt;form @submit.prevent=\"demo\"&gt; // \u963b\u6b62\u63d0\u4ea4\u540e\u9875\u9762\u8df3\u8f6c\n        &lt;label for=\"demo\"&gt;\u8d26\u53f7\uff1a&lt;/label&gt;\n        &lt;input type=\"text\" id=\"demo\" v-model=\"account\"&gt;\n        &lt;br&gt;\n        &lt;label for=\"pwd\"&gt;\u5bc6\u7801\uff1a&lt;/label&gt;\n        &lt;input type=\"password\" id=\"pwd\" v-model=\"password\"&gt;\n        &lt;br&gt;\n        &lt;label for=\"sex\"&gt;\u6027\u522b\uff1a&lt;/label&gt;\n        // \u9700\u8981\u624b\u52a8\u6dfb\u52a0 value\n        \u7537\uff1a&lt;input type=\"radio\" name=\"sex\" value=\"m\" v-model=\"sex\"&gt;\n        \u5973\uff1a&lt;input type=\"radio\" name=\"sex\" value=\"f\" v-model=\"sex\"&gt;\n        &lt;br&gt;\n        &lt;label for=\"hobby\"&gt;\u7231\u597d\uff1a&lt;/label&gt;\n        \u62bd\u70df&lt;input type=\"checkbox\" value=\"smoke\" v-model=\"hobby\"&gt;\n        \u559d\u9152&lt;input type=\"checkbox\" value=\"drink\" v-model=\"hobby\"&gt;\n        \u70eb\u5934&lt;input type=\"checkbox\" value=\"hair\"  v-model=\"hobby\"&gt;\n        &lt;br&gt;\n        &lt;label for=\"district\"&gt;\u6240\u5c5e\u6821\u533a\uff1a&lt;/label&gt;\n        &lt;select id=\"district\" v-model=\"city\"&gt;\n            &lt;option value=\"\"&gt;\u8bf7\u9009\u62e9\u6240\u5c5e\u6821\u533a&lt;/option&gt;\n            &lt;option value=\"zjg\"&gt;\u7d2b\u91d1\u6e2f&lt;/option&gt;\n            &lt;option value=\"yq\"&gt;\u7389\u6cc9&lt;/option&gt;\n            &lt;option value=\"xx\"&gt;\u897f\u6eaa&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;br&gt;\n        &lt;label for=\"info\"&gt;\u9644\u52a0\u4fe1\u606f\uff1a&lt;/label&gt;\n        &lt;textarea id=\"info\" v-model=\"other\"&gt;&lt;/textarea&gt;\n        &lt;br&gt;\n        &lt;button&gt;\u63d0\u4ea4&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre> <pre><code>new Vue({\n    el: '#root',\n    data: {\n        account: '',\n        password: '',\n        sex: '',\n        hobby: [],\n        city: '',\n        other: ''\n    },\n    methods: {\n        demo() {\n            // console.log(JSON.stringify(this._data)); - \u4e0d\u63a8\u8350\n            // \u6216\u8005\u628a\u73b0\u6709 data \u6253\u5305\u5230 usr_into \u5bf9\u8c61\u4e2d\n        }\n    }\n})\n</code></pre></p> <ul> <li>\u83b7\u53d6\u6570\u5b57\uff08\u4e24\u8005\u914d\u5408\u4f7f\u7528\uff09<ul> <li><code>type=\"number\"</code></li> <li><code>v-model.number=\"age\"</code></li> </ul> </li> <li><code>v-model.lazy</code> \u53ef\u4ee5\u5728 \u5931\u53bb\u7126\u70b9 \u65f6\u518d\u8fdb\u884c\u6536\u96c6\uff08\u4e0d\u662f\u6bcf\u6b21 <code>keydown</code>\uff09</li> <li><code>v-model.trim</code> \u5220\u53bb\u9996\u5c3e\u7a7a\u683c</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#3-mvvm","title":"3 MVVM","text":"<ul> <li><code>M - Model</code> - \u5bf9\u5e94 <code>data</code> \u4e2d\u7684\u6570\u636e</li> <li><code>V - View</code> - \u6a21\u7248</li> <li><code>VM - ViewModel</code> - Vue \u5b9e\u4f8b\u5bf9\u8c61\uff08\u8d1f\u8d23\u8f6c\u63a5 V &amp; M \u4e4b\u95f4\u7684\u4ea4\u4e92\uff09</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#4","title":"4 \u6570\u636e\u4ee3\u7406","text":"<p>\u4f7f\u7528\u67d0\u4e00\u4e2a\u5bf9\u8c61\u4ee3\u7406\u6267\u884c\u5bf9\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684 Read &amp; Write \u64cd\u4f5c</p> <pre><code>let var_1 = { x:100 }\nlet var_2 = { y:200 }\n// \u4f7f\u7528 var_2.x \u5bf9 var_1.x \u7684 \u67e5\u8be2&amp;\u66f4\u6539 \u64cd\u4f5c\u8fdb\u884c\u4ee3\u7406\nObject.defineProperty(var_2, 'x', {\n    get() {\n        return var_1.x;\n    },\n    set(val) {\n        var_1.x = val;\n    }\n})\n</code></pre> <ul> <li> <p><code>vm</code> \u4e2d\u5305\u542b\u7684 <code>data</code> \u90fd\u662f\u901a\u8fc7\u6570\u636e\u4ee3\u7406\u5b9e\u73b0\u7684\uff08\u6e90\u6570\u636e\u88ab\u5b58\u5728\u4e86 <code>vm._data</code> \uff09</p> <p>\u5176\u5b9e\u53ea\u662f\u8ba9\u5199\u63d2\u503c\u8bed\u6cd5\u7684\u65f6\u5019\u4e0d\u7528\u5199\u6210 <code>{{_data.name}}</code></p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#objectdefineproperty","title":"<code>Object.defineProperty()</code>","text":"<ul> <li>\u901a\u8fc7\u8be5\u65b9\u6cd5\u5b9a\u4e49\u7684\u5c5e\u6027\u4e0d\u53ef\u4ee5\u88ab\u679a\u4e3e     \u9ed8\u8ba4\u4e0d\u53c2\u4e0e<code>Object.keys(obj_name)</code>\u6216 <code>for(let key in obj)</code> \u904d\u5386</li> <li>\u901a\u8fc7\u8be5\u65b9\u6cd5\u5b9a\u4e49\u7684\u5c5e\u6027\u9ed8\u8ba4\u4e0d\u53ef\u4ee5\u88ab\u52a8\u6001\u4fee\u6539</li> <li>\u901a\u8fc7\u8be5\u65b9\u6cd5\u5b9a\u4e49\u7684\u5c5e\u6027\u9ed8\u8ba4\u4e0d\u53ef\u4ee5\u88ab\u5220\u9664 <pre><code>let person = {\n    name: '\u5f20\u4e09',\n    sex: 'M'\n};\n// \u4e3a person \u6dfb\u52a0\u5c5e\u6027 age\uff0c\u53c2\u6570\u4e3a(\u5bf9\u8c61\u540d\uff0c\u5c5e\u6027\u540d\uff0c\u914d\u7f6e\u9879)\nObject.defineProperty(person, 'age', {\n    value: 18,\n    // \u82e5\u5e0c\u671b\u8be5\u5c5e\u6027\u53ef\u88ab\u679a\u4e3e\uff0c\u5219\u5e94\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u9879\n    enumerable: true,\n    // \u63a7\u5236\u5c5e\u6027\u662f\u5426\u53ef\u4ee5\u88ab\u4fee\u6539\n    writable: true,\n    // \u63a7\u5236\u5c5e\u6027\u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\n    configurable: true\n})\n</code></pre></li> <li>\u901a\u8fc7\u8be5\u65b9\u6cd5\u5b9a\u4e49\u7684\u5c5e\u6027\u53ef\u4ee5\u968f\u53d8\u91cf\u52a8\u6001\u53d8\u5316 - \u6bcf\u6b21\u8bfb\u53d6\u90fd\u91cd\u65b0\u8c03\u7528 <code>get</code> <pre><code>Object.defineProperty(person, 'age', {\n    get: function() {  // \u8fd4\u56de\u503c\u5373\u4e3a\u5c5e\u6027\u503c\n        return \"hello\" // \u7ed1\u5b9a\u5b9a\u503c\n        return number  // \u7ed1\u5b9a\u53d8\u91cf\n    }\uff0c\n    set(value) {        // \u6709\u4eba\u4fee\u6539\u65f6\u8c03\u7528\uff0c\u4e14\u8fd4\u56de\u4fee\u6539\u7ed3\u679c\n        number = value; // \u56e0\u4e3a\u7ed1\u5b9a\u4e86 number \u53d8\u91cf\uff0c\u6240\u4ee5\u6b64\u5904\u9700\u8981\u6cbb\u672c\n    }\n})\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#5","title":"5 \u4e8b\u4ef6","text":""},{"location":"Nulling/Vue/Vue2/1%20Intro/#51","title":"5.1 \u4e8b\u4ef6\u5904\u7406","text":"<ul> <li> <p>\u4e0b\u9762\u54cd\u5e94\u4e00\u4e2a\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\uff1a <pre><code>// \"showInfo\" \u5373\u4e3a\u56de\u8c03\u51fd\u6570\u540d\u79f0\n&lt;button v-on:click=\"showInfo\"&gt;\u70b9\u6211\u663e\u793a\u4fe1\u606f&lt;/button&gt;\n// \u4e0b\u9762\u662f\u7b80\u5199\u5f62\u5f0f\uff08\u4f20\u53c2\uff09\n&lt;button @click=\"showInfo2(66)\"&gt;\u70b9\u6211\u663e\u793a\u4fe1\u606f&lt;/button&gt; // \u4f1a\u4e22\u5931 event\n// \u4fdd\u7559 event \u7684\u4e66\u5199\u5f62\u5f0f\n&lt;button @click=\"showInfo2($event, 66)\"&gt;\u70b9\u6211\u663e\u793a\u4fe1\u606f&lt;/button&gt;\n</code></pre></p> </li> <li> <p>\u56de\u8c03\u51fd\u6570\u5e94\u5f53\u5b9a\u4e49\u5728\u5bf9\u5e94\u7684Vue\u5b9e\u4f8b\u4e2d\uff1a <pre><code>new Vue({\n    methods: {\n        showInfo(event) { // this \u6307\u5411 Vue \u5b9e\u4f8b\uff08\u7bad\u5934\u51fd\u6570\u6307\u5411 window\uff09\n            alert('\u6b22\u8fce\u65b0\u540c\u5b66\uff01');\n        },\n        // event.target \u5373\u4e3a\u6700\u521d\u89e6\u53d1\u4e8b\u4ef6\u7684\u76ee\u6807\uff0c\u4f7f\u7528 innerText \u53ef\u4ee5\u83b7\u53d6\u6807\u7b7e\u5185\u5bb9\n        showInfo2(e, number) { \n            // number = 66\n        }\n    }\n})\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#52","title":"5.2 \u4e8b\u4ef6\u4fee\u9970\u7b26","text":"<p>\u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6</p> <p>\u4e0b\u9762\u963b\u6b62\u4e00\u4e0b <code>&lt;a&gt;</code> \u7684\u9ed8\u8ba4\u70b9\u51fb\u8df3\u8f6c\u884c\u4e3a</p> <ul> <li>\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u6dfb\u52a0 <code>e.preventDefault()</code></li> <li>\u4f46\u662f\u5728 Vue \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>@click.prevent</code> \u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a</li> </ul> <p>\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1 <pre><code>&lt;div @click=\"showInfo\"&gt;\n    // \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u70b9\u4e00\u6b21 button \u4f1a\u5bfc\u81f4\u4e24\u6b21\u5f39\u7a97\uff08\u5192\u6ce1\uff09\n    &lt;button @click=\"showInfo\"&gt;\u70b9\u6211\u63d0\u793a\u4fe1\u606f&lt;/button&gt;\n&lt;/div&gt;\n</code></pre></p> <ul> <li>\u4e00\u822c\u60c5\u51b5\u4e0b\u624b\u52a8\u6dfb\u52a0 <code>e.stopPropagation()</code></li> <li> <p>\u5728 Vue \u4e2d\uff0c\u53ef\u4ee5\u6dfb\u52a0 <code>@click.stop</code></p> </li> <li> <p>Vue \u4e2d\u603b\u5171\u6709 6 \u4e2a\u4e8b\u4ef6\u4fee\u9970\u7b26\uff08\u524d\u4e09\u4e2a\u6bd4\u8f83\u5e38\u7528\uff09</p> <ul> <li><code>prevent</code> - \u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6</li> <li><code>stop</code> - \u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1</li> <li><code>once</code> - \u4e8b\u4ef6\u53ea\u89e6\u53d1\u4e00\u6b21</li> <li><code>capture</code> - \u4f7f\u7528\u4e8b\u4ef6\u6355\u83b7\u6a21\u5f0f\uff0c\u52a0\u5728\u5916\u5c42\uff08\u7531\u5916\u5411\u5185\u5904\u7406\u4e8b\u4ef6\uff09</li> <li><code>self</code> - \u53ea\u6709\u5f53 <code>e.target = current</code> \u65f6\u6267\u884c</li> <li><code>passive</code> - \u7acb\u5373\u6267\u884c\u9ed8\u8ba4\u884c\u4e3a\uff08\u65e0\u9700\u7b49\u5f85\u56de\u8c03\u51fd\u6570\u7ed3\u675f\uff09</li> </ul> </li> <li>\u4fee\u9970\u7b26\u4e5f\u53ef\u4ee5\u8fde\u7528  <code>@click.stop.prevent=\"func\"</code>\uff08\u7531\u5de6\u5411\u53f3\u6267\u884c\uff09</li> </ul> <p>\u6eda\u52a8\u4e8b\u4ef6\u5206\u4e3a\u4ee5\u4e0b\u4e24\u7c7b\uff1a\u4f1a\u5148\u6267\u884c\u56de\u8c03\uff0c\u518d\u6267\u884c\u6eda\u52a8\u6761\u6eda\u52a8</p> <ul> <li><code>@scroll</code> - \u9f20\u6807\u6eda\u8f6e / \u65b9\u5411\u952e\uff08\u6eda\u5230\u8fb9\u754c\u540e\u4e0d\u89e6\u53d1\uff09</li> <li><code>@wheel</code> - \u4ec5\u9f20\u6807\u6eda\u8f6e\uff08\u6eda\u5230\u5e95\u8fd8\u4f1a\u89e6\u53d1\uff09</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#53","title":"5.3 \u952e\u76d8\u4e8b\u4ef6","text":"<p>\u4e00\u822c\u5206\u4e3a <code>@keydown</code> &amp; <code>@keyup</code> \u4e24\u7c7b</p> <p><pre><code>&lt;input type=\"text\" placeholder=\"\u6309\u56de\u8f66\u63d0\u793a\u8f93\u5165\" @keyup=\"showInfo\"&gt;\n// \u5728 Vue \u4e2d\u6211\u4eec\u8fd9\u4e48\u5e72\uff1a@key.enter=\"showInfo\"\n</code></pre> <pre><code>methods: {\n    showInfo(e) {\n        // if(e.keyCode !== 13) return; \u4e00\u822c\u6765\u8bf4\u8fd9\u4e48\u5e72\n        console.log(e.target.value);\n    }\n}\n</code></pre></p> <ul> <li>Vue \u4e2d\u62e5\u6709\u522b\u540d\u7684\u6309\u952e\u5171\u67099\u4e2a<ol> <li><code>enter</code> - \u56de\u8f66</li> <li><code>delete</code> - \u5220\u9664 / \u9000\u683c</li> <li><code>esc</code> - \u9000\u51fa</li> <li><code>space</code> - \u7a7a\u683c</li> <li><code>tab</code> - \u6362\u884c\uff08\u4f1a\u5207\u6362\u7126\u70b9\uff0c\u5f97\u7528 <code>@keydown</code>\uff09</li> <li>\u65b9\u5411\u952e\uff1a<code>up</code>\uff0c <code>down</code>\uff0c<code>left</code>\uff0c<code>right</code></li> </ol> </li> <li>\u672a\u63d0\u4f9b\u522b\u540d\u7684\u6309\u952e\u53ef\u4ee5<ul> <li>\u4f7f\u7528\u6807\u51c6\u540d\u79f0 <code>e.key</code> \u7ed1\u5b9a \uff08\u9700\u8981\u8f6c\u6362\u5927\u9a7c\u5cf0\u4e3a <code>CapsLock -&gt; caps-lock</code>\uff09</li> <li>\u4e0d\u63a8\u8350\u4f7f\u7528\u539f\u59cb\u952e\u503c <code>e.keyCode</code> \u7ed1\u5b9a - <code>@keydown.13=\"func\"</code></li> </ul> </li> <li>\u7cfb\u7edf\u4fee\u9970\u7b26 <code>ctrl</code> , <code>alt</code> ,<code>shift</code>,<code>meta</code>\uff08Win / Command\uff09<ul> <li><code>@keyup</code> - \u6309\u4e0b\u4fee\u9970\u952e+\u6309\u4e0b\u5176\u4ed6\u952e -&gt; \u62ac\u8d77\u5176\u4ed6\u952e -&gt; \u89e6\u53d1</li> <li><code>@keydown</code> - \u6b63\u5e38\u89e6\u53d1</li> <li>\u76d1\u542c\u7ec4\u5408\u952e <code>ctrl + y</code> - <code>@keyup.ctrl.y</code> \uff08\u4e00\u5b9a\u8981 up\uff09</li> </ul> </li> <li>\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>Vue.config.keyCodes.\u81ea\u5b9a\u4e49\u952e\u540d = keyCode</code> \u5b9a\u5236\u522b\u540d</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#6-computed","title":"6 \u8ba1\u7b97\u5c5e\u6027 <code>computed</code>","text":"<p>\u5bf9 <code>data</code> \u4e2d\u5df2\u7ecf\u5b58\u5728\u7684\u5c5e\u6027\u5b57\u6bb5\u8fdb\u884c\u52a0\u5de5\u8ba1\u7b97\u5f97\u5230\u7684\u65b0\u5c5e\u6027 </p> <ul> <li>\u8ba1\u7b97\u5c5e\u6027\u4e0d\u5b58\u5728\u4e8e <code>vm._data</code> \u5b57\u6bb5\u4e2d\uff08\u662f\u901a\u8fc7\u540e\u7eed\u8ba1\u7b97\u5f97\u5230\u7684\uff09</li> <li><code>computed</code> \u5c5e\u6027\u4e0e <code>data</code> \u4e00\u6837\u53ef\u4ee5\u5e94\u7528\u4e8e\u63d2\u503c\u8bed\u6cd5\u4e2d <pre><code>new Vue({\n    ...,\n    data: {\n        firstName: 'Bee',\n        lastName: 'Sea'\n    },\n    computed: { // \u5b9a\u4e49\u8ba1\u7b97\u5c5e\u6027\n        fullName: {\n            get() { // \u521d\u6b21\u8bfb\u53d6 / \u4f9d\u8d56\u6570\u636e\u53d8\u5316 \u65f6\u8c03\u7528\uff08\u6709\u6570\u636e\u7f13\u5b58\uff09\n                return this.firstName + '-' + this.lastName;\n                // \u4e00\u5b9a\u8981\u52a0 this \u6307\u9488\n            },\n            set(value) { // \u975e\u5fc5\u9700\uff0c\u4e0d\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\u5c31\u4e0d\u7528\u5199 setter \u4e86\n                const arr = value.split('-');\n                this.firstName = arr[0];\n                this.lastName = arr[1];\n            }\n        },\n        // \u53ea\u8bfb\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7b80\u5199\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\n        fullName: function() { // \u5145\u5f53 getter\n            return this.firstName + '-' + this.lastName;\n        }\n    }\n})\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#7","title":"7 \u76d1\u89c6\u5c5e\u6027","text":"<p><code>computed</code> \u4e0d\u80fd\u5f02\u6b65\u8fd4\u56de\u6570\u636e\uff08\u56e0\u4e3a\u9760\u7684\u662f\u8fd4\u56de\u503c\uff09</p> <p><code>watch</code> \u53ef\u4ee5\u5f02\u6b65\u8fd4\u56de\u6570\u636e\uff08\u4e2d\u95f4\u5939\u4e00\u4e2a timer \uff09</p> <ul> <li> <p>\u666e\u901a\u5c5e\u6027 &amp; \u8ba1\u7b97\u5c5e\u6027 \u5747\u53ef\u4ee5\u88ab\u76d1\u89c6 <pre><code>const vm = new Vue({\n// way-1: \u901a\u8fc7\u914d\u7f6e\u9879 watch\n    ...,\n    data: { isHot:false },\n    watch: { // \u76d1\u89c6\u5bf9\u8c61: handler()\n        isHot: {\n            immediate: true, // \u521d\u59cb\u5316\u65f6\u4e5f\u8c03\u7528 handler\n            handler(new_val, old_val) { // isHot \u88ab\u4fee\u6539\u65f6\u8c03\u7528\n                // \u53ef\u4ee5\u83b7\u53d6\u5230\u65b0\u65e7\u4e24\u4e2a\u503c\n            }\n        }\n    }\n});\n// way_2: \u901a\u8fc7 vm\nvm.$watch('isHot', {\n    immediate: true,\n    handler(new_val, old_val) {}\n});\n// \u7b80\u5199\u5f62\u5f0f\uff08\u4ec5 handler\uff09\nwatch: {\n    isHot(newVal, oldVal) {}\n}\nvm.$watch('isHot', function(newVal, oldVal){}) // \u4e0d\u80fd\u7528\u7bad\u5934\u51fd\u6570\n</code></pre></p> </li> <li> <p>\u6df1\u5ea6\u76d1\u89c6 - \u76d1\u89c6\u5957\u5a03\u5c5e\u6027 <pre><code>new Vue({\n    data: {\n        numbers: {\n            a: 1,\n            b: 2\n        }\n    },\n    watch: {\n        'numbers.a': { handler(newVal, oldVal){} }, // \u5fc5\u987b\u52a0\u5355\u5f15\u53f7\n         numbers: { \n            deep: true, // \u5f00\u542f\u6df1\u5ea6\u76d1\u89c6 - \u4efb\u4f55\u5206\u91cf\u6539\u53d8\u5747\u89e6\u53d1\n            handler(newVal, oldVal){}\n        }\n    }\n})\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#8","title":"8 \u6837\u5f0f\u7ed1\u5b9a","text":"<ul> <li> <p>\u7ed1\u5b9a <code>class</code> \u6837\u5f0f\uff08\u52a8\u6001\u6307\u5b9a\u7c7b\uff09</p> <p>\u70b9\u51fb\u6807\u7b7e\u540e\uff0c<code>div.basic.normal -&gt; div.basic.happy</code></p> <p>Vue \u4f1a\u628a <code>class</code> \uff08\u9759\u6001\uff09+ <code>:class</code> \uff08\u52a8\u6001\uff09\u8fdb\u884c\u62fc\u5408 <pre><code>// \u5355\u4e2a + \u540d\u5b57\u4e0d\u786e\u5b9a\n&lt;div class=\"basic\" :class=\"cls\" @click='alter'&gt;{{name}}&lt;div&gt;\n// \u591a\u4e2a + \u540d\u5b57&amp;\u6570\u91cf\u4e0d\u786e\u5b9a\uff1a\u64cd\u4f5c arr \u6570\u7ec4\u5373\u53ef\u52a8\u6001 \u6dfb\u52a0/\u79fb\u9664 \u7c7b\n&lt;div class=\"basic\" :class=\"arr\" @click='alter'&gt;{{name}}&lt;div&gt;\n// \u591a\u4e2a + \u540d\u5b57&amp;\u4e2a\u6570\u786e\u5b9a\uff0c\u4f46\u4e0d\u77e5\u9053\u5177\u4f53\u7528\u54ea\u4e2a\n&lt;div class=\"basic\" :class=\"clsObj\" @click='alter'&gt;{{name}}&lt;div&gt;\n</code></pre> <pre><code>new Vue({\n    data: { \n        cls:'normal',\n        arr: ['cls1', 'cls2', 'cls3'],\n        clsObj: { // false - \u5f03\u7528\uff0ctrue - \u542f\u7528\n            normal: false,\n            happy: true,\n            sad: false\n        }\n    },\n    methods: {\n        alter() {\n            const arr = ['normal', 'happy', 'sad'];\n            this.mood = arr[Math.floor(Math.random()*3)];\n        }\n    }\n})\n</code></pre></p> </li> <li> <p>\u7ed1\u5b9a <code>style</code> \u6837\u5f0f\uff08\u5167\u8054\u6837\u5f0f\uff09 <pre><code>// \u8fd9\u91cc\u7684 style \u6574\u4f53\u662f\u4e00\u4e2a object\n&lt;div :style=\"{fontSize: ftsize+'px';}\"&gt;&lt;/div&gt;\n// \u4e5f\u53ef\u4ee5\u76f4\u63a5\u628a\u8fd9\u4e2a\u5bf9\u8c61\u5355\u72ec\u62ce\u51fa\u6765\n&lt;div :style=\"styleObj\"&gt;&lt;/div&gt;\n// \u4e27\u5fc3\u75c5\u72c2\u7684\u6570\u7ec4\u5927\u6cd5 - \u53ef\u4ee5\u5806\u591a\u4e2a\u6837\u5f0f\u5bf9\u8c61\n&lt;div :style=\"[styleObj, styleObj2]\"&gt;&lt;/div&gt;  // \u4f1a\u628a\u4e24\u4e2a\u5bf9\u8c61\u91cc\u7684\u6837\u5f0f\u52a0\u8d77\u6765\n</code></pre> <pre><code>new Vue({\n    data: {\n        ftsize: 40,\n        styleObj: {\n            fontSize: '40px'\n        },\n        styleObj2: {\n            backgroundColor: 'orange'\n        }\n    }\n})\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#9","title":"9 \u6e32\u67d3","text":""},{"location":"Nulling/Vue/Vue2/1%20Intro/#91","title":"9.1 \u6761\u4ef6\u6e32\u67d3","text":"<ol> <li><code>v-show</code> -&gt; \u9690\u85cf\u65f6\u8c03\u6574\u4e3a <code>display: none</code><ul> <li>\u53ef\u4ee5\u76f4\u63a5\u662f\u5e03\u5c14\u503c\uff1a<code>v-show=\"false / true\"</code></li> <li>\u6216\u8005\u4efb\u4f55\u7ed3\u679c\u4e3a\u5e03\u5c14\u503c\u7684\u8868\u8fbe\u5f0f\uff1a<code>v-show=\"1 === 3\"</code></li> <li>\u6216\u8005\u662f\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7684\u53d8\u91cf\uff1a<code>v-show=\"a\" &amp; a:false</code></li> </ul> </li> <li><code>v-if</code> -&gt; \u9690\u85cf\u65f6\u4ece DOM \u4e2d\u79fb\u9664\u4ee3\u7801     \u53ef\u586b\u5199\u7c7b\u578b\u4e0e <code>v-show</code> \u4e00\u81f4<ul> <li>\u591a\u5206\u652f <code>v-else-if</code> <code>v-else</code></li> <li>\u4e00\u7ec4\u5206\u652f\u5224\u65ad\u4e4b\u95f4\u4e0d\u80fd\u7528\u5176\u4ed6\u6807\u7b7e\u6253\u65ad</li> <li>\u6279\u91cf\u5b9e\u73b0\u4e00\u5806\u6807\u7b7e\u7684\u663e\u9690\u5224\u65ad\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528 <code>&lt;template&gt;</code> \u8fdb\u884c\u5305\u88f9\uff08\u4e0d\u5f71\u54cd\u6837\u5f0f\uff09 <pre><code>// \u53ea\u80fd\u4f7f\u7528 v-if \u4e0d\u80fd\u4f7f\u7528 v-show\n&lt;template v-if=\"n === 1\"&gt;\n    &lt;h2&gt;Title1&lt;/h2&gt;\n    &lt;h2&gt;Title2&lt;/h2&gt;\n    &lt;h2&gt;Title3&lt;/h2&gt;\n&lt;/template&gt;\n</code></pre></li> </ul> </li> </ol> <p>Tip</p> <ul> <li>\u9891\u7e41\u5207\u6362 - <code>v-show</code></li> <li>\u591a\u5206\u652f\u5224\u65ad -<code>v-if</code></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#92","title":"9.2 \u5217\u8868\u6e32\u67d3","text":"<p><pre><code>&lt;div id=\"root\"&gt;\n    %%\u904d\u5386\u6570\u7ec4%%\n    &lt;ul&gt;\n        &lt;li v-for=\"p in persons\" :key=\"p.id\"&gt;{{p.name}}-{{p.age}}&lt;/li&gt;\n        // \u4e8b\u5b9e\u4e0a\u53ef\u4ee5\u8fd9\u6837 v-for=\"(item, index) in arr\"\n    &lt;/ul&gt;\n    %%\u904d\u5386\u5bf9\u8c61%%\n    &lt;ul&gt;\n        &lt;li v-for=\"(val,key) in car\" :key=\"key\"&gt;{{key}}-{{val}}&lt;/li&gt;\n    &lt;/ul&gt;\n    %%\u904d\u5386\u5b57\u7b26\u4e32%%\n    &lt;ul&gt;\n        &lt;li v-for=\"(char, idx) in str\" :key=\"idx\"&gt;{{idx}}-{{char}}&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre> <pre><code>new Vue({\n    el: '#root',\n    data: {\n        persons: [\n            { id: 1, name: 'zhangsan', age: 18},\n            { id: 2, name: 'lisi',     age: 19},\n            { id: 3, name: 'wangwu',   age: 20}\n        ],\n        car: {\n            name: 'Audi',\n            price: '78w',\n            color: 'blue'\n        },\n        str: 'I can eat glass, it does not hurt me.'\n    }\n})\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#key","title":"key","text":"<p>\u6ca1\u6709\u663e\u793a\u6307\u5b9a key \u65f6\uff0cVue \u9ed8\u8ba4\u4f7f\u7528 <code>index</code> \u4f5c\u4e3a <code>id</code>\uff0c \u5f53\u4e0d\u5b58\u5728\u5bf9\u6570\u636e\u8fdb\u884c\u9006\u5e8f\u6dfb\u52a0/\u5220\u9664\u7b49\u7834\u574f\u987a\u5e8f\u7684\u64cd\u4f5c\u65f6\uff0c\u4f7f\u7528 <code>index</code> \u4f5c\u4e3a key \u662f\u53ef\u4ee5\u7684</p> <ol> <li>\u4f7f\u7528\u6570\u7ec4\u4e0b\u6807 <code>index</code> \u4f5c\u4e3a key<ol> <li>\u6839\u636e\u521d\u59cb\u6570\u636e\u751f\u6210\u865a\u62df DOM</li> <li>\u865a\u62df DOM \u8f6c\u6362\u4e3a\u771f\u5b9e DOM</li> <li>\u7528\u6237\u64cd\u4f5c\u771f\u5b9e DOM</li> <li>\u63d2\u5165\u65b0\u6570\u636e\uff0c\u5e76\u751f\u6210\u65b0\u7684\u865a\u62df DOM</li> <li>\u8fdb\u884c\u65b0\u65e7\u865a\u62df DOM \u5bf9\u6bd4\uff1a\u65e0\u6cd5\u65e0\u7528\u7684\u90e8\u5206\u91cd\u65b0\u751f\u6210\uff0c\u76f8\u540c\u7684\u7ec4\u4ef6\u8fdb\u884c\u590d\u7528       \u53ef\u80fd\u5bfc\u81f4\u8f93\u5165\u6b8b\u7559</li> </ol> </li> <li>\u4f7f\u7528 <code>id</code> \u4f5c\u4e3a key<ol> <li>\u865a\u62df\u5bf9\u6bd4\u4f9d\u636e\uff1a<code>key</code> \u76f8\u540c\u7684\u8bb0\u5f55\u4e24\u4e24\u5bf9\u6bd4\uff0c\u4e0d\u5b58\u5728\u7684\u5c31\u65b0\u5efa\u771f\u5b9e DOM</li> </ol> </li> </ol>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_2","title":"\u5217\u8868\u8fc7\u6ee4\uff08\u641c\u7d22\uff09","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7 <code>v-model</code> \u52a8\u6001\u6536\u96c6\u7528\u6237\u8f93\u5165 <code>&lt;input type=\"text\" v-model=\"keyWord&gt;\"</code></p> <p>\u968f\u540e\uff0c\u901a\u8fc7 <code>watch</code> \u8fdb\u884c\u6570\u636e\u76d1\u89c6\uff1a <pre><code>watch: {\n    keyWord: {\n        immediate: true, // \u9632\u6b62\u521a\u5f00\u59cb\u6ca1\u6570\u636e\uff08\u53cd\u6b63\u6240\u6709\u5b57\u7b26\u4e32\u90fd\u5305\u542b\u7a7a\u4e32\uff09\n        handler(new_val) {\n            // \u56e0\u4e3a\u76f4\u63a5\u64cd\u4f5c persons \u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u6240\u4ee5\u6b64\u5904\u64cd\u4f5c filtered\n            this.filtered = this.persons.filter((p)=&gt;{\n            return p.name.indexOf(new_val) !=== -1; // p.name \u5305\u542b new_val\n        })\n    }\n}\n</code></pre></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>computed</code> \u8fdb\u884c\u5b9e\u73b0\uff1a <pre><code>computed: {\n    filtered() {\n        return this.persons.filter((p) =&gt; {\n            return p.name.indexOf(this.keyWord) !== -1;\n        })\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_3","title":"\u5217\u8868\u6392\u5e8f","text":"<p>\u6b64\u5904\u6211\u4eec\u5b9e\u73b0\u4e00\u4e0b\u5bf9\u8bb0\u5f55\u5e74\u9f84\u7684 \u5347\u5e8f<code>1</code> / \u964d\u5e8f<code>2</code> / \u539f\u5e8f<code>0</code> \u5207\u6362\uff0c\u4f7f\u7528 <code>sortType</code> \u8fdb\u884c\u8bb0\u5f55</p> <p>\u8fc7\u6ee4\u3001\u6392\u5e8f\u4e0d\u5206\u5bb6\uff0c\u6b64\u5904\u6211\u4eec\u7ee7\u7eed\u5bf9 <code>filtered</code> \u8fdb\u884c\u8fed\u4ee3 <pre><code>computed: {\n    filtered() {\n        const arr =  this.persons.filter((p) =&gt; {\n            return p.name.indexOf(this.keyWord) !== -1;\n        })\n        // \u5224\u65ad\u662f\u5426\u9700\u8981\u6392\u5e8f\n        if(this.sortType) {\n            arr.sort((p1, p2) =&gt; {\n                return this.sortType === 1 ? p1.age-p2.age : p2.age-p1.age;\n            })\n        }\n        return arr\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#vueset","title":"Vue.set()","text":"<p>\u4f7f\u5f97\u5b9e\u4f8b\u6784\u5efa\u5b8c\u6210\u540e\u8ffd\u52a0\u7684\u5c5e\u6027\u4e5f\u80fd\u62e5\u6709 getter &amp; setter</p> <p><code>Vue.set(vm.obj, 'name', 'val') / vm.$set(vm.obj, 'name', 'val')</code></p> <ul> <li><code>Vue.set / vm.$set()</code> \u4e0d\u80fd \u4f5c\u7528\u4e8e <code>vm / vm._data</code></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_4","title":"\u6570\u7ec4\u76d1\u6d4b","text":"<p>\u5728 Vue \u4e2d\u4f7f\u7528\u4ee5\u4e0b\u4e03\u79cd\u65b9\u5f0f\u5bf9\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u53ef\u4ee5\u81ea\u52a8\u68c0\u6d4b\u5230\u6570\u7ec4\u7684\u53d8\u5316\uff1a <code>push</code> <code>pop</code> <code>shift</code> <code>unshift</code> <code>splice</code> <code>sort</code> <code>reverse</code>\uff08\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u88ab\u5305\u88f9\u8fc7\uff09</p> <p>\u76f4\u63a5\u901a\u8fc7\u4e0b\u6807\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u4e0d\u53d7\u76d1\u63a7\uff08\u4f46\u53ef\u4ee5\u4fee\u6539\uff09</p> <p><code>filter()</code> <code>concat()</code> <code>slice()</code> \u4e0d\u4f1a\u53d8\u66f4\u539f\u6570\u7ec4\uff08\u53ea\u662f\u8fd4\u56de\u65b0\u6570\u7ec4\uff09\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u65b0\u6570\u7ec4\u66ff\u6362\u539f\u6570\u7ec4</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_5","title":"\u6570\u636e\u76d1\u6d4b\u539f\u7406","text":"<p>\u6211\u4eec\u4f7f\u7528\u539f\u751f JS \u6765\u5b9e\u73b0\u4e00\u4e0b\uff1a <pre><code>let data = {\n    name: 'SeaBee',\n    addr: 'HangZhou'\n};\n// \u521b\u5efa\u76d1\u89c6\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7528\u4e8e\u76d1\u89c6 data \u4e2d\u5c5e\u6027\u7684\u53d8\u5316\nconst obs = new Observer(data);\nfunction Observer(obj) {\n    // \u6c47\u603b\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u5c5e\u6027\uff0c\u5f62\u6210\u4e00\u4e2a\u6570\u7ec4\n    const keys = Object.keys(obj);\n    // \u904d\u5386\n    keys.forEach((k) =&gt; {\n        // \u6b64\u5904\u7684 this \u6307\u5411 Observer \u5b9e\u4f8b\u5bf9\u8c61\n        Object.defineProperty(this, k, {\n            get() { return obj[k] },\n            set(val) { obj[k] = val }\n        })\n    })\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#10","title":"10 \u8fc7\u6ee4\u5668","text":"<p>\u5bf9\u6570\u636e\u8fdb\u884c\u683c\u5f0f\u5316\u540e\u518d\u8fdb\u884c\u663e\u793a</p> <p>\u6ca1\u6709\u6539\u53d8\u539f\u6765\u7684\u6570\u636e\uff0c\u53ea\u662f\u8fdb\u884c\u4e86\u4e00\u4e9b\u52a0\u5de5</p> <p>\u4e0b\u9762\u4ee5\u683c\u5f0f\u5316\u65f6\u95f4\u4e3a\u4f8b\uff1a <pre><code>&lt;div&gt;\u5f53\u524d\u65f6\u95f4\u4e3a{{time | timeFormater}}&lt;/div&gt;\n// \u4e5f\u53ef\u4ee5\u4e3a timeFormatter \u4f20\u53c2\u6570\uff08\u683c\u5f0f\u5316\u6a21\u7248\u5b57\u7b26\uff09\n&lt;div&gt;\u5f53\u524d\u65f6\u95f4\u4e3a{{time | timeFormater('YYYY_MM_DD')}}&lt;/div&gt;\n// \u591a\u4e2a\u8fc7\u6ee4\u5668\u4e4b\u95f4\u53ef\u4ee5\u4e32\u8054\n&lt;div&gt;\u5f53\u524d\u65f6\u95f4\u4e3a{{time | timeFormater('YYYY_MM_DD') | mySlice}}&lt;/div&gt;\n</code></pre> <pre><code>new Vue({\n    data: {\n        time: 0 // \u65f6\u95f4\u6233\n    },\n    filters: { // \u628a time \u4f20\u5165 formater\uff0c\u6700\u540e\u4ee5 formater \u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u63d2\u503c\u7ed3\u679c\n        timeFormater(val, str='YYYY-MM-DD HH:mm:ss') { // \u6307\u5b9a str \u7684\u9ed8\u8ba4\u503c\n        // \u6b64\u5904\u4f7f\u7528 day.js \u8fdb\u884c\u5b9e\u73b0\n            return dayjs(val).format(str);\n        },\n        mySlice(val) {\n            return val.slice(0,4);\n        }\n    }\n})\n</code></pre></p> <p>\u4e0a\u8ff0\u65b9\u6cd5\u914d\u5236\u7684\u662f\u5c40\u90e8\u8fc7\u6ee4\u5668\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>Vue.filter('name', function() {})</code> \u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668</p> <p>-&gt; \u8fd9\u4e00\u64cd\u4f5c\u9700\u8981\u5728 <code>new Vue</code> \u4e4b\u524d\u6267\u884c</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#11","title":"11 \u5185\u7f6e\u6307\u4ee4","text":""},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-text","title":"v-text","text":"<p>\u5411\u6240\u5728\u7684\u6807\u7b7e\u63d2\u5165\u6587\u672c -&gt; \u610f\u601d\u662f\u4e0d\u5982\u63d2\u503c\u8bed\u6cd5</p> <pre><code>&lt;div v-text=\"name\"&gt;hello world\uff01&lt;/div&gt;\n</code></pre> <ul> <li><code>v-text</code> \u4f1a\u7528\u53d8\u91cf\u503c\u5b8c\u5168\u66ff\u6362\u6807\u7b7e\u7684\u6587\u672c\u5185\u5bb9\uff08\u60b2\uff09     \u6240\u4ee5\u8bf4 \u201chello world\uff01\u201d\u5c31\u8fd9\u4e48\u6d88\u5931\u4e0d\u89c1\u54e9</li> <li>\u6b64\u5916\uff0c\u6240\u6709\u5185\u5bb9\u90fd\u4f1a\u88ab\u5f53\u6210\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u89e3\u6790     \u4f7f\u7528\u8be5\u6307\u4ee4\u5f80\u91cc\u9762\u4e22\u6807\u7b7e\u7684\u68a6\u60f3\u7834\u706d\u54e9</li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-html","title":"v-html","text":"<p>\u5411\u6240\u5728\u6807\u7b7e\u4e2d\u63d2\u5165\u6587\u672c\uff08\u53ef\u4ee5\u63d2\u5165\u6807\u7b7e\u8bf6\uff01\uff09</p> <pre><code>name: \"&lt;h3&gt;\u4f60\u597d\u54c7\uff01&lt;/h3&gt;\"\n&lt;div v-html=\"name\"&gt;hello world\uff01&lt;/div&gt;\n-&gt; \u7ed3\u679c\u5c31\u662f &lt;div&gt; \u91cc\u9762\u5957\u4e86\u4e00\u5c42 &lt;h3&gt;\n</code></pre> <p>\u4f46\u662f\u8be5\u547d\u4ee4\u5b58\u5728\u5b89\u5168\u6027\u95ee\u9898\uff1a</p> <p>\u4f7f\u7528 <code>&lt;a href=javascript:location.href=\"url\"?+document.cookie&gt;</code>  \u5c31\u80fd\u62ff\u5230\u8fd9\u4e2a\u6d4f\u89c8\u5668\u4e0b\u7684\u6240\u6709 \u975eHTTP-only-Cookie</p> <p>\u4e0d\u8981\u7528\u5728\u7528\u6237\u8f93\u5165\u4e0a\uff01\uff01\uff01\u53ef\u80fd\u5bfc\u81f4 XSS \u653b\u51fb\uff01\uff01\uff01</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-cloak","title":"v-cloak","text":"<p>\u5904\u7406 JS \u811a\u672c\u52a0\u8f7d\u65f6\u7684\u963b\u585e\u95ee\u9898</p> <p>\u5728 Vue \u5b9e\u4f8b\u52a0\u8f7d\u5b8c\u6210\u540e\u5c06\u81ea\u52a8\u79fb\u9664\u6240\u6709\u5143\u7d20\u7684 <code>v-cloak</code> \u5c5e\u6027</p> <p>\u914d\u5408\u4e00\u4e0b CSS \u9009\u62e9\u5668\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u9690\u85cf\u6240\u6709\u6e32\u67d3\u5931\u8d25\u7684\u5dee\u503c\u8bed\u6cd5\u7ec4\u4ef6 orz <pre><code>&lt;style&gt;\n    [v-cloak] { display: none; }\n&lt;/style&gt;\n&lt;h2 v-cloak&gt;{{name}}&lt;/h2&gt;\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-once","title":"v-once","text":"<p>\u521d\u6b21\u52a8\u6001\u6e32\u67d3\uff0c\u4e4b\u540e\u89c6\u4e3a\u9759\u6001\u5185\u5bb9\uff08\u53ea\u6e32\u67d3\u521d\u503c\uff09</p> <p>\u6570\u636e\u7684\u540e\u7eed\u53d8\u52a8\u5c06\u4e0d\u4f1a\u5f15\u8d77 <code>&lt;v-once&gt;</code> \u6240\u5728\u7ed3\u6784\u7684\u66f4\u65b0\uff0c\u53ef\u7528\u4e8e\u4f18\u5316\u6027\u80fd</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-pre","title":"v-pre","text":"<p>\u662f\u6240\u5728\u8282\u70b9\u8df3\u8fc7\u7f16\u8bd1\u8fc7\u7a0b \u53ef\u7528\u4e8e\uff1a\u6ca1\u6709\u6307\u4ee4\u8bed\u6cd5\u3001\u63d2\u503c\u8bed\u6cd5\u7684\u8282\u70b9\uff0c\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6</p>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#12","title":"12 \u81ea\u5b9a\u4e49\u6307\u4ee4","text":"<p>\u5206\u4e3a \u5bf9\u8c61\u5f0f &amp; \u51fd\u6570\u5f0f\uff0c\u5bf9\u8c61\u5f0f = bind + update</p> <ul> <li>\u5982\u679c\u6307\u4ee4\u540d\u4e3a\u591a\u4e2a\u5355\u8bcd\uff0c\u5219\u5e94\u4f7f\u7528 <code>kebab-case</code> \u547d\u540d\u6cd5\uff0c\u5373\u5c06 <code>bigNumber</code> \u8f6c\u53d8\u4e3a <code>big-number</code></li> <li><code>this</code> \u6307\u5411 <code>window</code></li> </ul>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-big","title":"v-big","text":"<p>\u7c7b\u4f3c\u4e8e <code>v-text</code> \u4f46\u81ea\u52a8\u5c06\u6570\u503c\u653e\u5927\u5341\u500d</p> <pre><code>new Vue({\n    directives: { // \u914d\u7f6e\u81ea\u5b9a\u4e49\u6307\u4ee4\n        big: {}, // \u914d\u7f6e\u4e3a\u5bf9\u8c61\n        // 1.\u6307\u4ee4\u4e0e\u5143\u7d20\u6210\u529f\u7ed1\u5b9a 2.\u6307\u4ee4\u6240\u5728\u7684\u6a21\u7248\u88ab\u91cd\u65b0\u89e3\u6790\u65f6\uff0c\u90fd\u8c03\u7528\u8be5\u51fd\u6570\n        big: function(el, bind) { // \u914d\u7f6e\u4e3a\u51fd\u6570, el \u4e3a\u771f\u5b9e DOM \u7684 &lt;span&gt; \u6807\u7b7e\n            el.innerText = bind.value * 10; // \u624b\u52a8\u64cd\u4f5c DOM \u5143\u7d20\n        } \n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#v-fbind","title":"v-fbind","text":"<p>\u7c7b\u4f3c\u4e8e <code>v-bind</code> \uff0c\u4f46\u662f\u9ed8\u8ba4\u4e3a\u6240\u7ed1\u5b9a\u7684 <code>&lt;input&gt;</code> \u83b7\u53d6\u7126\u70b9</p> <pre><code>fbind(el, bind) {\n    el.value = bind.value;\n    el.focus();          // \u6267\u884c\u65f6\u673a\u4e0d\u5bf9\uff1a\u53ea\u6709\u5143\u7d20\u8fdb\u5165\u9875\u9762\u624d\u751f\u6548 -&gt; \u5fc5\u987b\u914d\u7f6e\u6210\u5bf9\u8c61\n},\nfbind: { // bind &amp; update \u7684\u903b\u8f91\u5f80\u5f80\u76f8\u540c\n    bind(el, binding){       // \u6307\u4ee4\u4e0e\u5143\u7d20\u6210\u529f\u7ed1\u5b9a\n        el.value = binding.value;\n    },     \n    inserted(){              // \u6307\u4ee4\u6240\u5728\u5143\u7d20\u88ab\u63d2\u5165\u9875\u9762\n        el.focus();\n    }, \n    update(){                // \u6307\u4ee4\u6240\u5728\u6a21\u7248\u88ab\u91cd\u65b0\u89e3\u6790\n        el.value = binding.value;\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/1%20Intro/#_6","title":"\u5168\u5c40\u81ea\u5b9a\u4e49\u6307\u4ee4","text":"<pre><code>Vue.directive('name', {\n    // \u914d\u7f6e\u5bf9\u8c61\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/","title":"2 \u7ec4\u4ef6","text":"<p> \u7ea6 1831 \u4e2a\u5b57  437 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#1","title":"1 \u751f\u547d\u5468\u671f","text":"<ul> <li>\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d <code>this</code> \u6307\u5411 Vue \u5b9e\u4f8b\u5bf9\u8c61</li> </ul> <p>\u751f\u547d\u5468\u671f\u8282\u70b9\uff08\u90fd\u662f\u94a9\u5b50\u51fd\u6570\uff09\uff1a </p> <ul> <li>\u6302\u8f7d<ul> <li><code>beforeCreate</code> \u9636\u6bb5\uff0c\u521d\u59cb\u5316\u751f\u547d\u5468\u671f\u51fd\u6570\u4e0e\u4e8b\u4ef6\uff0c\u4f46\u6570\u636e\u4ee3\u7406\u8fd8\u672a\u5f00\u59cb   \uff08\u4e0d\u80fd\u8bbf\u95ee data &amp; methods\uff09</li> <li><code>created</code> \u6570\u636e\u76d1\u6d4b\u4e0e\u6570\u636e\u4ee3\u7406\u6267\u884c\u5b8c\u6bd5\uff08\u53ef\u4ee5\u8bbf\u95ee data &amp; methods \u4e86\uff09</li> <li><code>beforeMount</code> \u5f00\u59cb\u89e3\u6790\u6a21\u7248\uff0c\u5728\u5185\u5b58\u4e2d\u751f\u6210\u865a\u62df DOM\uff08\u63d2\u503c\u8bed\u6cd5\u7b49\u6307\u4ee4\u5c1a\u672a\u66ff\u6362\u663e\u793a\uff09     \u6b64\u65f6\u6240\u6709\u9488\u5bf9 DOM \u7684\u64cd\u4f5c\u5747\u4e0d\u751f\u6548</li> <li><code>mounted</code> \u771f\u5b9e DOM \u5b8c\u6210\u6302\u8f7d</li> </ul> </li> <li>\u66f4\u65b0\uff1aModel -&gt; View \u66f4\u65b0<ul> <li><code>beforeUpdate</code> \u65b0\u6570\u636e + \u65e7\u9875\u9762</li> <li><code>updated</code> \u65b0\u6570\u636e + \u65b0\u9875\u9762</li> </ul> </li> <li>\u9500\u6bc1 - <code>vm.$destroy()</code><ul> <li><code>beforeDestroy</code> \u6240\u6709 data\u3001methods\u3001\u6307\u4ee4\u5747\u53ef\u7528\uff08\u6570\u636e\u80fd\u66f4\u65b0\uff0c\u4f46\u9875\u9762\u4e0d\u4f1a\uff09    \u4e00\u822c\u5728\u6b64\u9636\u6bb5\u5173\u95ed\u5b9a\u65f6\u5668\u3001\u53d6\u6d88\u8ba2\u9605\u6d88\u606f\u3001\u89e3\u7ed1\u81ea\u5b9a\u4e49\u4e8b\u4ef6</li> <li><code>destroyed</code> vm\u88ab\u9500\u6bc1\uff0c\u754c\u9762 DOM \u4fdd\u6301\u6700\u7ec8\u7684\u9759\u6b62\u5f62\u6001\uff0c\u548c\u7ec4\u4ef6 vm \u5931\u53bb\u8054\u7cfb</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_1","title":"\u6302\u8f7d","text":"<p>\u4e00\u4e2a\u4e0d\u7528 transition\uff0c\u786c\u7528 Vue \u5b9e\u73b0\u900f\u660e\u5ea6\u53d8\u5316\u7684 Sample <pre><code>%%z\u6ce8\u610f\u8fd9\u4e2a\u9a9a\u6c14\u7684\u63d2\u503c\u5f62\u5f0f%%\n&lt;h2 :style=\"{opacity}\"&gt; hello world &lt;/h2&gt;\n&lt;button @click=\"stop\"&gt;Stop&lt;/button&gt;\n</code></pre> <pre><code>new Vue({\n    data: {\n        opacity: 1\n    },\n    methods: {\n        stop() {\n            this.$destroy();           // \u9500\u6bc1Vue\u5b9e\u4f8b\uff0c\u963b\u6b62\u7ee7\u7eed\u53d8\u6362 opacity\n            // \u6b64\u65f6\u8fd8\u6ca1\u6709\u5173\u95ed timer\n        }\n    },\n    mounted() { // \u6302\u8f7d\u5b8c\u6bd5 - \u89e3\u6790\u5b8c\u6210\u5e76\u628a\u521d\u59cb\u771f\u5b9eDOM\u653e\u5165\u9875\u9762\n        this.timer = setInterval(() =&gt; {\n            this.opacity -= 0.01;\n            if(this.opacity &lt;= 0) this.opacity = 1;\n        }, 16)\n    },\n    beforeDestroy() { // \u81ea\u6740 or \u4ed6\u6740 \u90fd\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\n        clearInterval(this.timer); // \u6e05\u9664\u5b9a\u65f6\u5668\uff0c\u505c\u6b62\u900f\u660e\u5ea6\u53d8\u6362\n    }\n})\n</code></pre></p> <p>\u53e6\u5916\u6839\u8282\u70b9\u53ef\u4ee5\u5565\u90fd\u4e0d\u5199\uff0c\u5185\u5bb9\u7528 <code>template</code> \u8fdb\u884c\u586b\u5145 <pre><code>&lt;div id=\"root\"&gt;\n&lt;/div&gt;\n</code></pre> <pre><code>new Vue({\n    el: '#root',\n    // template \u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a\u6807\u7b7e\uff08\u7528 div \u8fdb\u884c\u6574\u4f53\u6027\u5305\u88f9\uff09-&gt; root \u5c06\u88ab\u66ff\u6362\n    template: `\n    &lt;div&gt;\n        &lt;h2&gt; n = {{n}} &lt;/h2&gt;\n        &lt;button @click=\"n++\"&gt; n+1 &lt;/button&gt;\n    &lt;/div&gt;\n    `\n})\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#2","title":"2 \u7ec4\u4ef6","text":"<p>\u5b9e\u73b0\u5e94\u7528\u4e2d \u5c40\u90e8 \u529f\u80fd\u7684 \u4ee3\u7801 &amp; \u8d44\u6e90 \u7684\u96c6\u5408</p> <ul> <li>\u7ec4\u4ef6\u7684\u672c\u8d28\u662f\u7531<code>Vue.extend()</code>\u751f\u6210\u7684\u6784\u9020\u51fd\u6570 <code>VueComponent</code></li> <li>\u89e3\u6790\u7ec4\u4ef6\u6807\u7b7e\u65f6\uff0cVue \u4f1a\u81ea\u52a8\u521b\u5efa\u8be5\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61</li> <li>\u5728\u7ec4\u4ef6\u914d\u7f6e\u9879\u4e2d\uff0c<code>this</code> \u6307\u5411 <code>VueComponent</code></li> </ul> <p>\u5185\u7f6e\u5173\u7cfb</p> <ul> <li> <p><code>func.protoype</code> \uff08\u663e\u5f0f\u539f\u578b\uff09\u4e0e <code>entity.__proto__</code> \uff08\u9690\u5f0f\u539f\u578b\uff09\u5747\u6307\u5411\u540c\u4e00\u4e2a\u201c\u539f\u578b\u5bf9\u8c61\u201d</p> <ul> <li> <p><code>VueComponent.prototype.__proto__ === Vue.prototype</code></p> <p>-&gt; \u7ec4\u4ef6\u539f\u578b\u5bf9\u8c61\u7684\u9690\u5f0f\u539f\u578b\u662fVue\u5b9e\u4f8b\u7684\u539f\u578b\uff0c\u5373 Vue \u5b9e\u4f8b\u4e3a\u7ec4\u4ef6\u515c\u5e95</p> </li> <li> <p><code>vc</code> \u4e5f\u53ef\u4ee5\u7528 <code>vm</code> \u4e0a\u7684 \u6570\u636e &amp; \u65b9\u6cd5</p> </li> </ul> </li> <li> <p>\u6211\u4eec\u4e00\u822c\u901a\u8fc7\u201c\u663e\u793a\u539f\u578b\u201d\u5f80\u91cc\u9762\u585e\u4e1c\u897f\uff0c\u201c\u9690\u5f0f\u539f\u578b\u201c\u4f1a\u81ea\u5df1\u4ece\u91cc\u9762\u635e\u4e1c\u897f</p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#21","title":"2.1 \u975e\u5355\u6587\u4ef6\u7ec4\u4ef6","text":"<p>\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5305\u542b\u591a\u4e2a\u7ec4\u4ef6 \u4e0d\u80fd\u5355\u72ec\u4e3a\u7ec4\u4ef6\u5b9a\u4e49\u6837\u5f0f</p> <ol> <li>\u521b\u5efa\u7ec4\u4ef6     <pre><code>// \u521b\u5efa\u7ec4\u4ef6 - \u4e00\u6b21\u4e00\u4e2a\nconst school = Vue.extend({\n    // \u4e0d\u7528\u5199 el -&gt; \u56e0\u4e3a\u63d2\u5728\u522b\u4eba\u4e0b\u9762\uff0c\u7531\u5bbf\u4e3b\u7684 vm \u51b3\u5b9a\u4f60\u665a\u4e0a\u4f4f\u54ea\u91cc\n    name: 'xuexiao', // \u5728\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u5448\u73b0\u7684\u540d\u5b57\uff08\u5e94\u7528\u65f6\u4ee5\u6ce8\u518c\u540d\u4e3a\u4e3b\uff09 \n    template: `\n    &lt;div&gt;\n        &lt;h2&gt;\u5b66\u751f\u59d3\u540d\uff1a{{name}}&lt;/h2&gt;\n        &lt;h3&gt;\u5b66\u751f\u5e74\u9f84\uff1a{{age}}&lt;/h3&gt;\n    &lt;/div&gt;\n    `,\n    // data \u5fc5\u987b\u4f7f\u7528\u51fd\u6570\u5f0f\u5b9a\u4e49 -&gt; \u6bcf\u6b21\u4f7f\u7528\u90fd\u4f1a\u62ff\u5230\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\n    data() {\n        return {\n            name: 'SeaBee',\n            age: 12\n        }\n    }\n})\n</code></pre></li> <li>\u6ce8\u518c\u7ec4\u4ef6     <pre><code>// \u5c40\u90e8\u6ce8\u518c - \u5728\u4f7f\u7528\u8005\u7684 Vue \u5b9e\u4f8b\u4e2d\u8fdb\u884c\u6ce8\u518c\nnew Vue({\n    el: '#root',\n    components: {\n        school: school, // \u4f7f\u7528\u540d\uff1a\u521b\u5efa\u65f6\u7684\u7ec4\u4ef6\u540d\uff0c\u4f7f\u7528\u540d\u4e0d\u5e94\u4e0e\u6807\u7b7e\u540d\u91cd\u590d\n        'my-school': school // \u591a\u5355\u8bcd\u7ec4\u4ef6\u540d\n        // \u5176\u5b9e\u4e5f\u53ef\u4ee5\u7528 MySchool - \u4f46\u662f\u9700\u8981 Cli\n    }\n})\n// \u5168\u5c40\u6ce8\u518c\nVue.component('\u4f7f\u7528\u540d', \u521b\u5efa\u65f6\u7684\u7ec4\u4ef6\u540d)\n</code></pre></li> <li>\u4f7f\u7528\u7ec4\u4ef6     <pre><code>// \u4f7f\u7528 &lt;\u4f7f\u7528\u540d&gt; \u4f5c\u4e3a\u6807\u7b7e\uff0c\u51b3\u5b9a\u7ec4\u4ef6\u63d2\u5165\u7684\u4f4d\u7f6e\n&lt;school&gt;&lt;/school&gt;\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#22","title":"2.2 \u7ec4\u4ef6\u5d4c\u5957","text":"<p>\u7528 school \u7ec4\u4ef6\u5305\u88f9 student \u7ec4\u4ef6\uff08\u5728\u7236\u7ec4\u4ef6\u4e2d\u6ce8\u518c\u5b50\u7ec4\u4ef6\uff09 <pre><code>const school = Vue.extend({\n    template: `\n    &lt;div&gt;\n        \u5b66\u751f\u59d3\u540d\uff1a{{name}}\n        &lt;student&gt;&lt;/student&gt; // \u5728school\u7684\u6a21\u7248\u4e2d\u4f7f\u7528\n    &lt;/div&gt;`,\n    data() {\n        return { name: 'SeaBee' }\n    },\n    components: {\n        student\uff1a student\n    }\n})\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#23","title":"2.3 \u5355\u6587\u4ef6\u7ec4\u4ef6","text":"<p><code>.vue</code> \u6587\u4ef6 - \u53ea\u5305\u542b\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4e00\u822c\u91c7\u7528\u5927\u9a7c\u5cf0\u547d\u540d\u6cd5 <code>MyVue.vue</code></p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>webpack / vue-cli</code> \u8f6c\u53d8\u4e3a <code>js</code> \u6587\u4ef6</p> <ul> <li>\u5b9a\u4e49\u5355\u6587\u4ef6\u7ec4\u4ef6 <pre><code>&lt;template&gt;\n    // \u7ec4\u4ef6\u7ed3\u6784\n&lt;/template&gt;\n\n&lt;script&gt;\n    // \u7ec4\u4ef6\u4ea4\u4e92\u4ee3\u7801 - \u6570\u636e &amp; \u65b9\u6cd5 ...\n    // \u7ec4\u4ef6\u9700\u8981\u66b4\u9732\u624d\u80fd\u4f7f\u7528\uff0c\u4e00\u822c\u4f7f\u7528\u201c\u9ed8\u8ba4\u66b4\u9732\u201d\n    export const school = Vue.extend({}) // \u5206\u522b\u66b4\u9732\n    // at end\n    export {school};                     // \u7edf\u4e00\u66b4\u9732\n    export default school;               // \u9ed8\u8ba4\u66b4\u9732\n    // \u4f18\u5316\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\n    export default {                     // \u4f1a\u9ed8\u8ba4\u8c03\u7528 Vue.extend\n        name: '\u4e0e\u6587\u4ef6\u540d\u4e00\u81f4',\n        other_options\n    };\n&lt;/script&gt;\n\n&lt;style&gt;\n    // \u7ec4\u4ef6\u6837\u5f0f\n&lt;/style&gt;\n</code></pre></li> <li>\u5fc5\u987b\u5b58\u5728\u7684\u7ec4\u4ef6 <code>app.vue</code> <pre><code>// \u7528\u4e8e\u6c47\u603b\u6240\u6709\u7684\u7ec4\u4ef6 - \u5f15\u5165\u6240\u6709\u4e00\u7ea7\u5b50\u7ec4\u4ef6\n&lt;template&gt;\n    &lt;div&gt;\n        &lt;School&gt;&lt;/School&gt;\n        &lt;Student&gt;&lt;/Student&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    // \u5f15\u5165\u7ec4\u4ef6\n    import School from './School';   // name - \u76f8\u5bf9\u8def\u5f84\n    import Student from './Student'; \n    export default {\n        name: 'App',\n        components: { // \u6ce8\u518c\u7ec4\u4ef6\n            School,   // \u7b80\u5199\uff0c\u7b49\u540c\u4e8e School:School\n            Student\n        }\n    }\n&lt;/script&gt;\n</code></pre></li> <li>\u6c47\u603b <code>main.js</code> <pre><code>import App from './App.vue';\nnew Vue({\n    el: '#root',\n    components: { App } // \u4ec5\u6ce8\u518c root \u7ec4\u4ef6\n})\n// \u968f\u540e\u5728 index.html \u5f15\u5165\u8be5\u6587\u4ef6\uff08&lt;body&gt;\u6700\u4e0b\u65b9\uff09\uff0c\u6dfb\u52a0 &lt;App&gt;&lt;/App&gt;\n// \u6216\u8005\u5728\u672c\u6587\u4ef6\u6dfb\u52a0\u914d\u7f6e\u9879\uff1atemplate: `&lt;App&gt;&lt;/App&gt;`\n// \u8bb0\u5f97\u8fd8\u8981\u5f15\u5165 Vue.js \u672c\u8eab orz\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#24-slot","title":"2.4 slot \u63d2\u69fd","text":""},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_2","title":"\u9ed8\u8ba4\u63d2\u69fd","text":"<ol> <li> <p>\u5b9a\u4e49\u63d2\u69fd <pre><code>@ component.vue\n&lt;template&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h2&gt;\u8fd9\u662f\u539f\u672c\u7684 Title&lt;/h2&gt;\n        &lt;slot&gt;\u5982\u679c\u4f7f\u7528\u8005\u672a\u4f20\u5165\u6570\u636e\uff0c\u5c31\u663e\u793a\u8fd9\u53e5\u8bdd&lt;/slot&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre></p> </li> <li> <p>\u4f7f\u7528\u63d2\u69fd <pre><code>@ user.vue\n&lt;template&gt;\n    &lt;div&gt;\n        &lt;h1&gt;\u8fd9\u662f\u7236\u7ec4\u4ef6&lt;/h1&gt;\n        &lt;comp&gt;\n            &lt;img src=\"url\"&gt;\n        &lt;/comp&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\nslot \u5185\u5143\u7d20\u7684\u6837\u5f0f\u53ef\u4ee5\u5728 user \u4e2d\u8fdb\u884c\u5b9a\u4e49\n</code></pre></p> </li> </ol> <p>\u4f7f\u7528\u8005\u7684 <code>&lt;comp&gt;</code> \u4e2d\u6709\u5185\u5bb9\uff1a</p> <ul> <li>\u6709\u63d2\u69fd\uff1a\u63d2\u69fd\u66ff\u6362\u4e3a\u4f20\u5165\u5185\u5bb9</li> <li>\u65e0\u63d2\u69fd\uff1a\u4f20\u5165\u5185\u5bb9\u65e0\u610f\u4e49</li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_3","title":"\u5177\u540d\u63d2\u69fd","text":"<p>\u7528\u4e8e\u533a\u5206\u591a\u4e2a\u63d2\u69fd</p> <pre><code>@ component.vue\n&lt;template&gt;\n    &lt;slot name=\"center\"&gt;\u5982\u679c\u4f7f\u7528\u8005\u672a\u4f20\u5165\u6570\u636e\uff0c\u5c31\u663e\u793a\u8fd9\u53e5\u8bdd&lt;/slot&gt;\n    &lt;slot name=\"footer\"&gt;\u5982\u679c\u4f7f\u7528\u8005\u672a\u4f20\u5165\u6570\u636e\uff0c\u5c31\u663e\u793a\u8fd9\u53e5\u8bdd&lt;/slot&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>@ user.vue\n&lt;template&gt;\n    &lt;comp&gt;\n        // \u4f7f\u7528 slot \u5c5e\u6027\u6307\u5b9a\u5d4c\u5165\u7684\u63d2\u69fd\n        &lt;img slot=\"center\" src=\"url\"&gt;\n        // \u591a\u4e2a\u6807\u7b7e\u6324\u4e00\u4e2a slot\uff1a\u53ef\u4ee5\u4e00\u4e2a\u4e2a\u52a0 name\n        &lt;a slot=\"footer\" href=\"#\"&gt;\u6211\u653e\u4e00\u4e2a&lt;/a&gt;\n        &lt;a slot=\"footer\" href=\"#\"&gt;\u751a\u81f3\u4e24\u4e2a\uff01&lt;/a&gt;\n        // \u4f46\u4e00\u822c\u7528\u4e00\u4e2a div/template \u5305\u4e00\u4e0b - \u65b9\u4fbf\u5e03\u5c40\n        &lt;div slot=\"footer\"&gt;\n            &lt;a href=\"#\"&gt;\u6211\u653e\u4e00\u4e2a&lt;/a&gt;\n            &lt;a href=\"#\"&gt;\u751a\u81f3\u4e24\u4e2a\uff01&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/comp&gt;\n&lt;/template&gt;\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_4","title":"\u4f5c\u7528\u57df\u63d2\u69fd","text":"<p>\u4e0d\u540c\u7684 tab \u4f7f\u7528\u540c\u4e00\u5957\u6570\u636e\u8fdb\u884c\u6e32\u67d3 \u2014\u2014 \u6211\u4eec\u628a\u6570\u636e\u7ed1\u7ed9\u63d2\u69fd\u5b9e\u4f8b</p> <pre><code>@ component.vue\n&lt;template&gt;\n    &lt;slot :g=\"games\" msg=\"hello\"&gt;\u5982\u679c\u4f7f\u7528\u8005\u672a\u4f20\u5165\u6570\u636e\uff0c\u5c31\u663e\u793a\u8fd9\u53e5\u8bdd&lt;/slot&gt;\n    // \u5b9e\u9645\u4e0a games \u88ab\u585e\u7ed9\u4e86\u4f7f\u7528\u8005\u5b9a\u4e49\u7684 scope \u4e2d\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;template&gt;\n    &lt;comp&gt; // \u60f3\u8981\u62ff\u5230\u6570\u636e\u5fc5\u987b\u4f7f\u7528 template \u8fdb\u884c\u5305\u88f9\uff01\n        &lt;template scope=\"s_name\"&gt; // \u547d\u540d\u4f5c\u7528\u57df\uff08\u6570\u636e\u5728\u4f5c\u7528\u57df\u4e0a\uff09\n            &lt;h2&gt;{{s_name.msg}}&lt;/h2&gt;\n            &lt;ul&gt;\n                &lt;li v:for=\"(g,idx) in s_name.games\" :key=\"idx\"&gt;{{g.name}}&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/template&gt;\n    &lt;/comp&gt;\n    &lt;comp&gt; // \u60f3\u8981\u62ff\u5230\u6570\u636e\u5fc5\u987b\u4f7f\u7528 template \u8fdb\u884c\u5305\u88f9\uff01\n        &lt;template scope=\"s_name\"&gt; // \u547d\u540d\u4f5c\u7528\u57df\uff08\u6570\u636e\u5728\u4f5c\u7528\u57df\u4e0a\uff09\n            &lt;ol&gt;\n                &lt;li v:for=\"(g,idx) in s_name.games\" :key=\"idx\"&gt;{{g.name}}&lt;/li&gt;\n            &lt;/ol&gt;\n        &lt;/template&gt;\n    &lt;/comp&gt;\n&lt;/template&gt;\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#3","title":"3 \u8def\u7531","text":"<p>\u6b64\u5904\u901a\u8fc7 <code>vue-router</code> \u63d2\u4ef6\u8fdb\u884c\u5b9e\u73b0</p> <ul> <li>\u8def\u7531\u662f\u4e00\u7ec4 key-value \u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u9700\u8981\u201c\u8def\u7531\u5668\u201d\u8fdb\u884c\u7ba1\u7406\uff1a<ul> <li>key = \u8def\u5f84</li> <li>value = function / component</li> </ul> </li> <li>\u76ee\u7684\uff1a\u5b9e\u73b0\u5355\u9875\u9762\uff08SPA\uff09\u5e94\u7528 \u2014\u2014 \u7ef4\u62a4\u8def\u5f84\uff0c\u4f46\u4e0d\u5237\u65b0\u6574\u4e2a\u9875\u9762</li> <li>\u5206\u7c7b<ul> <li>\u524d\u7aef\u8def\u7531 val -&gt; component - \u8def\u5f84\u6539\u53d8\u5c31\u663e\u793a\u5bf9\u5e94\u7ec4\u4ef6</li> <li>\u540e\u7aef\u8def\u7531 val -&gt; function - \u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u65f6\u6839\u636e\u8def\u5f84\u5339\u914d\u5904\u7406\u51fd\u6570</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#31","title":"3.1 \u57fa\u672c\u4f7f\u7528","text":""},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_5","title":"\u6807\u7b7e\u5f0f\u5bfc\u822a","text":"<ol> <li>\u5b89\u88c5 <code>vue-router</code> - <code>npm install vue-router@3</code> \uff08\u548c <code>vuex</code> \u4e00\u6837\u7684\u7248\u672c\u5bf9\u5e94\u5173\u7cfb\uff09</li> <li>\u5bfc\u5165\u5e76\u5e94\u7528     <pre><code>// @ main.js\nimport VueRouter from 'vue-router';    // \u5f15\u5165\u63d2\u4ef6\nimport router from './router/index.js' // \u5f15\u5165\u8def\u7531\u5668\n\nVue.use(VueRouter);\n\nnew Vue({\n    router: router // \u914d\u7f6e\u8def\u7531\u5668\n})\n</code></pre></li> <li>\u5728 <code>src/router/index.js</code> \u521b\u5efa Router     <pre><code>import VueRouter from 'vue-router'\n// \u5f15\u5165\u7ec4\u4ef6\nimport About from '../components/About'\nimport Home from '../components/Home'\n\nexport default new VueRouter({ // \u521b\u5efa\u5e76\u66b4\u9732\u8def\u7531\u5668\n    routes: [\n        {\n            name: 'gunayu',   // \u547d\u540d\u8def\u7531\n            path: '/about',   // \u5339\u914d\u7684\u8def\u5f84\n            component: About  // \u6ee1\u8db3\u6761\u4ef6\u65f6\u663e\u793a\u7684\u7ec4\u4ef6\n        },\n        {\n            path: '/home',\n            component: Home\n        }\n    ]\n})\n</code></pre></li> <li>\u300c\u6807\u7b7e\u5f0f\u5bfc\u822a\u300d\u5c06\u8def\u7531\u4e0e\u6307\u5b9a\u7ec4\u4ef6\u7684\u70b9\u51fb\u4e8b\u4ef6\u7ed1\u5b9a\uff08\u4e0d\u80fd\u7528 <code>&lt;a&gt;</code> \u54e9\uff09     <pre><code>&lt;router-link active-class=\"active\" to=\"/about\"&gt;To About&lt;/router-link&gt;\n- active-class \u662f\u5728\u8def\u5f84\u88ab\u6fc0\u6d3b\u65f6\uff0cVue \u52a8\u6001\u585e\u7ed9\u6807\u7b7e\u7684\u7c7b\u540d\n</code></pre></li> <li>\u6307\u5b9a\u53d8\u6362\u7ec4\u4ef6\u7684\u5448\u73b0\u4f4d\u7f6e <code>&lt;router-view&gt;</code> <pre><code>&lt;div&gt;\n    &lt;router-view&gt;&lt;/router-view&gt; - \u653e\u4e00\u5bf9\u7a7a\u6807\u7b7e\u5c31\u884c\n&lt;/div&gt;\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_6","title":"\u7f16\u7a0b\u5f0f\u5bfc\u822a","text":"<ul> <li>\u4e8b\u4ef6\u7ed1\u5b9a\u5728 <code>@click</code> \u4e0a <pre><code>// \u5982\u679c\u9700\u8981\u4f7f\u7528\u63d2\u503c\u8bed\u6cd5\u4e4b\u7c7b\u7684\uff0c\u9700\u8981\u8c03\u7528\u65f6\u4f20\u53c2 - @click=pushShow(m)\n\n// push\npushShow(m) {\n    this.$router.push({\n        name: 'Xiangqing',\n        query: {\n            id: m.id,\n            title: m.title\n        }\n    })\n}\n\n// replace\nthis.$router.replace({options})\n\n// \u56de\u9000\nthis.$router.back()\n// \u524d\u8fdb\nthis.$router.forward()\n// + \u524d\u8fdb \uff5c - \u540e\u9000 N \u6b65\nthis.$router.go(N)\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#32","title":"3.2 \u6ce8\u610f\u70b9","text":"<ul> <li>\u7ec4\u4ef6\u5206\u7c7b     \u6211\u4eec\u4e00\u822c\u628a\u7ec4\u4ef6\u5206\u6210 \u8def\u7531\u7ec4\u4ef6 &amp; \u4e00\u822c\u7ec4\u4ef6 \u4e24\u7c7b\uff0c\u524d\u8005\u901a\u8fc7\u8def\u7531\u89c4\u5219\u8fdb\u884c\u5339\u914d     \u4e00\u822c\u5728 <code>src/pages</code> \u4e0b\u653e\u7f6e\u8def\u7531\u7ec4\u4ef6\uff0c\u5728 <code>src/components</code> \u4e0b\u653e\u7f6e\u4e00\u822c\u7ec4\u4ef6</li> <li>\u6ca1\u6709\u663e\u793a\u7684\u8def\u7531\u7ec4\u4ef6\u88ab\u300c\u9500\u6bc1\u300d\u4e86     \u8def\u7531\u7ec4\u4ef6\u4f1a\u88ab\u9891\u7e41\u7684 \u6302\u8f7d/\u9500\u6bc1</li> <li>\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u6709\u81ea\u5df1\u7684 <code>$route</code> \u5c5e\u6027\uff0c\u50a8\u5b58\u81ea\u5df1\u7684\u8def\u7531\u4fe1\u606f\uff08\u6bcf\u4e2a\u7ec4\u4ef6\u4e0d\u4e00\u6837\uff09</li> <li>\u6574\u4e2a\u5e94\u7528\u53ea\u6709\u4e00\u4e2a Router\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>$router</code> \u5c5e\u6027\u83b7\u53d6</li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#33","title":"3.3 \u5d4c\u5957\u8def\u7531","text":"<p>\u5728\u6700\u5916\u5c42\u7684\u5c55\u793a\u533a\u8fdb\u884c\u4e00\u4e2a\u75af\u72c2\u5957\u5a03</p> <p>\u8fd9\u91cc\u6f14\u793a\u5728 Home \u91cc\u9762\u5957\u5a03 News &amp; Message</p> <ol> <li>\u914d\u7f6e\u5d4c\u5957\u8def\u7531     <pre><code>export default new VueRouter({\n    routes: [\n        {\n            path: \"/home\", // \u4e00\u7ea7\u8def\u7531\u9700\u8981\u52a0\u659c\u6760\n            component: Home,\n            children: [\n                {\n                    path: 'news', // &gt;= \u4e8c\u7ea7\u8def\u7531\u4e0d\u7528\u52a0\u659c\u6760\n                    component: News\n                },\n                {\n                    path: 'message',\n                    component: Message\n                }\n            ]\n        }\n    ]\n})\n</code></pre></li> <li>\u6307\u5b9a\u4e8c\u7ea7\u8def\u7531\u5728 Home \u7ec4\u4ef6\u4e2d\u7684\u5448\u73b0\u4f4d\u7f6e     <pre><code>&lt;template&gt;\n    &lt;div class=\"home\"&gt;\n        &lt;router-view&gt;&lt;/router-view&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre></li> <li>\u4fee\u6539\u8d85\u94fe\u63a5     <pre><code>&lt;router-link active-class=\"acitve\" to=\"/home/news\"&gt;News&lt;/router-link&gt;\n- to \u4e2d\u914d\u7f6e\u7684\u5730\u5740\u9700\u8981\u58f0\u660e\u6240\u6709\u7684\u524d\u7f00\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#34","title":"3.4 \u8def\u7531\u4f20\u53c2","text":""},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#query","title":"Query \u53c2\u6570","text":"<ul> <li> <p>\u4f20\u9012\u53c2\u6570 <pre><code>// \u5b57\u7b26\u4e32\u5199\u6cd5\n1. \u4f7f\u7528 :to \u5b9e\u73b0 v-bind\n2. \u53cc\u5f15\u53f7\u5957\u6a21\u7248\u5b57\u7b26\u4e32\n3. \u9700\u8981\u52a8\u6001\u7684\u5730\u65b9\u7528 ${name}\n&lt;router-link active-class=\"acitve\" :to=\"`/home/news/detail?id=${m.id}`\"&gt;{{m.title}}&lt;/router-link&gt;\n\n// \u5bf9\u8c61\u5199\u6cd5\n&lt;router-link :to=\"{\n    path: '/home/news/detail',\n    query: {\n        id: m.id,\n        title: m.title\n    }\n}\"&gt;\n    {{m.title}}\n&lt;/router-link&gt;\n\n// \u5982\u679c\u5bf9\u591a\u7ea7\u8def\u7531\u8fdb\u884c\u547d\u540d\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7 name \u8fdb\u884c\u8df3\u8f6c\uff08\u5fc5\u987b\u4f7f\u7528\u5bf9\u8c61\u65b9\u5f0f\uff09\n&lt;router-link :to=\"{name: 'xiangqing'}\"&gt;{{m.title}}&lt;/router-link&gt;\n</code></pre></p> </li> <li> <p>\u63a5\u6536\u53c2\u6570 - \u901a\u8fc7 <code>this.$route.query.name</code> \u4f7f\u7528\u63d2\u503c\u8bed\u6cd5</p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#params","title":"Params \u53c2\u6570","text":"<ol> <li> <p>\u5728 router \u4e2d\u914d\u7f6e\u5360\u4f4d\u7b26 <pre><code>export default new VueRouter({\n    routes: [\n        {\n            name: 'Xiangqing',\n            path: 'detail/:id/:title', // \u9996\u4e2a\u53c2\u6570\u4e3aid\uff0c\u968f\u540e\u4e3atitle\n            component: Detail\n        }\n    ]\n})\n</code></pre></p> </li> <li> <p>\u901a\u8fc7 URL \u4f20\u9012\u53c2\u6570 <pre><code>// \u5b57\u7b26\u4e32\u5f62\u5f0f\n&lt;vue-router :to=\"`/home/message/detail/${m.id}/${m.title}`\"&gt;\n    Msg66\n&lt;/vue-router&gt;\n\n// \u5bf9\u8c61\u5f62\u5f0f - \u5fc5\u987b\u4f7f\u7528 name \u800c\u975e path\n&lt;vue-router :to=\"{\n    name: 'Xiangqing',\n    params: {\n        id: m.id,\n        title: m.title\n    }\n\"&gt;\n    Msg66\n&lt;/vue-router&gt;\n</code></pre></p> </li> <li> <p>\u901a\u8fc7 <code>this.$route.params.name</code> \u83b7\u53d6\u5bf9\u5e94\u53c2\u6570</p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#navigationduplicated","title":"NavigationDuplicated","text":"<p>\u4f7f\u7528\u300c\u7f16\u7a0b\u5f0f\u300d\u8def\u7531\u8fdb\u884c\u8df3\u8f6c\u4f46\u300c\u53c2\u6570\u4e0d\u53d8\u300d\u65f6\uff0c\u4f1a\u629b\u51fa<code>NavigationDuplicated</code> \u9519\u8bef</p> <p>\u300c\u58f0\u660e\u5f0f\u300d\u5bfc\u822a\u4e0d\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898 =&gt; <code>vue-router</code> \u5e95\u5c42\u5b8c\u6210\u4e86\u76f8\u5173\u5904\u7406</p> <p>=&gt; \u56e0\u4e3a\u8fd4\u56de\u7684 Promise \u9700\u8981\u8fd4\u56de res / err \u56de\u8c03\uff0c\u4f20\u5165\u76f8\u5173\u56de\u8c03\u5373\u53ef\u89e3\u51b3 <pre><code>this.$router.push({\n    name: 'search',\n    params: {keyWord: this.keyWord}\n}, ()=&gt;{}, ()=&gt;{})\n// \u53ef\u4ee5\u5728 err \u4e2d\u6355\u83b7\u5230\u5f02\u5e38\uff0c\u4f46\u662f\u4e0d\u663e\u793a\u300c\u6cbb\u6807\u4e0d\u6cbb\u672c\u300d\n// =&gt; \u5728\u522b\u7684\u7ec4\u4ef6\u4e2d\u8c03\u7528\u65f6\u8fd8\u662f\u62a5\u9519\n</code></pre></p> <p>\u5728\u7ec4\u4ef6\u4e2d\uff1a</p> <ul> <li><code>this</code> \u6307\u5411\u7ec4\u4ef6\u672c\u8eab\uff0c\u4e00\u4e2a VueComponent \u5b9e\u4f8b</li> <li><code>this.$router</code> \u662f\u4e00\u4e2a VueRouter \u5b9e\u4f8b\uff0c\u7531\u5165\u53e3\u6587\u4ef6\u6ce8\u518c\u8def\u7531\u65f6\u6dfb\u52a0</li> <li><code>push</code> \u662f VueRouter \u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5<ul> <li>\u5728\u5b9e\u4f8b\u4e2d\u4e0d\u5b58\u5728\uff0c\u501f\u7528\u539f\u578b\u65b9\u6cd5</li> <li>\u4e0a\u4e0b\u6587\u4e3a VueRouter \u7684\u4e00\u4e2a\u5b9e\u4f8b</li> </ul> </li> </ul> <p>\u4e0b\u9762\u91cd\u5199 <code>push</code> \u65b9\u6cd5\uff1a <pre><code>// @ router.js\n// \u5907\u4efd\u539f\u6709\u7684 push \u65b9\u6cd5\nlet originPush = VueRouter.prototypr.push\n// \u91cd\u5199 push &amp; replace\nVueRouter.prototype.push = function(location, resolve, reject) {\n    if(resolve &amp;&amp; reject) { // \u63d0\u4f9b\u4e86\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\n    // \u8c03\u7528\u539f\u59cb push \u51fd\u6570\uff0c\u7be1\u6539\u4e0a\u4e0b\u6587\n        originPush.call(this, location, resolve, reject)\n    } else { // \u624b\u5de5\u8865\u5168\u7f3a\u5931\u7684\u56de\u8c03\n        originPush.call(this, location, ()=&gt;{}, ()=&gt;{})\n    }\n}\n// \u5bf9 replace \u7684\u5904\u7406\u7c7b\u4f3c\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#35-props","title":"3.5 props \u914d\u7f6e","text":"<p>\u7b80\u5316\u63d2\u503c\u8bed\u6cd5\u5185\u5bb9</p> <ol> <li> <p>\u5728 Router \u4e2d\u914d\u7f6e props \u5c5e\u6027 <pre><code>// \u54ea\u4e00\u5c42\u8def\u7531\u63a5\u6536\u6570\u636e\uff0c\u5c31\u5728\u54ea\u4e00\u5c42\u914d\u7f6e props\nexport default new VueRouter({\n    routes: [\n        {\n            path: '',\n            component: Comp,\n            // 1. \u503c\u4e3a Ob\uff0c\u6240\u6709\u952e\u503c\u5bf9\u5c06\u4ee5 props \u5f62\u5f0f\u4f20\u9012\u7ed9\u5bf9\u5e94\u7ec4\u4ef6\n            props: { // \u4f20\u9012\u7684\u662f\u56fa\u5b9a\u6570\u636e\n                a: 1,\n                b: 'hello'\n            },\n            // 2. \u5e03\u5c14\u503c\u914d\u7f6e\uff0ctrue - \u5c06\u6240\u6709 params \u4ee5 props \u5f62\u5f0f\u4f20\u7ed9\u7ec4\u4ef6\n            props: true,\n            // 3. \u51fd\u6570\u914d\u7f6e - \u517c\u5bb9 query &amp; params\n            props($route) {\n                return {\n                    id: $route.query.id, \n                    title: $route.params.title,\n                }\n            }\n        }\n    ]\n})\n</code></pre></p> </li> <li> <p>\u5728\u5bf9\u5e94\u7ec4\u4ef6\u4e2d\u63a5\u6536 <pre><code>export default {\n    props: ['a', 'b']\n    // \u968f\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 a / b \u6765\u63a5\u6536\u4f20\u5165\u7684\u5c5e\u6027\u503c\n}\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_7","title":"\u5c0f\u7ed3","text":"<ul> <li> <p>\u8def\u7531\u7a7f\u53c2\u7684\u5bf9\u8c61\u5199\u6cd5\u80fd\u5426\u4f7f\u7528 <code>path + params</code> \u5f62\u5f0f\uff1f</p> <p>\u4e0d\u80fd\uff0c<code>params</code> \u5fc5\u987b\u7ed3\u5408 <code>name</code> \u4f7f\u7528\uff08\u5373\u4fbf\u5df2\u7ecf\u5360\u4f4d\uff09</p> </li> <li> <p>\u5982\u4f55\u6307\u5b9a <code>params</code> \u53ef\u4f20\u53ef\u4e0d\u4f20\uff08\u914d\u7f6e\u4e2d\u5df2\u7ecf\u8fdb\u884c\u5360\u4f4d\uff09\uff1f</p> <p>\u8981\u6c42\u4f20\u9012\u4f46\u8dd1\u8def =&gt; URL \u51fa\u73b0\u95ee\u9898</p> <p>\u53ef\u5728\u5bf9\u5e94\u5360\u4f4d\u7b26\u540e\u6dfb\u52a0 <code>?</code> \u8868\u793a\u53ef\u9009\uff0c\u5982 <code>/search/:keyWord?</code></p> </li> <li> <p>\u5982\u4f55\u89e3\u51b3 <code>params</code> \u53c2\u6570\u4e3a \u7a7a\u4e32 \u7684\u60c5\u51b5\uff1f</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u5bfc\u81f4 URL \u51fa\u73b0\u95ee\u9898</p> <p>\u4f7f\u7528 <code>undefined</code> \u89e3\u51b3\uff1a<code>keyWord: this.keyWord || undefined</code></p> <p>\u7531\u4e8e\u7a7a\u4e32\u5c06\u88ab\u8bc6\u522b\u4e3a <code>false</code>\uff0c\u6b64\u5904\u5c06\u91c7\u7528 <code>undefined</code> \u4f5c\u4e3a\u53c2\u6570\u503c</p> <p>=&gt; \u5b9e\u9645\u4e0a\u770b\u8d77\u6765\u8981\u914d\u5408\u5360\u4f4d\u7b26\u4e2d\u7684 <code>?</code> \u8fdb\u884c\u4f7f\u7528</p> </li> <li> <p>\u8def\u7531\u7ec4\u4ef6\u80fd\u5426\u4f20\u9012 <code>props</code> \u53c2\u6570\uff1f</p> <p>\u53ef\u4ee5\uff0c\u800c\u4e14\u6709\u4e09\u79cd\u5199\u6cd5\uff1a</p> <ol> <li> <p>\u5e03\u5c14\u503c\u5199\u6cd5</p> <p>\u5728 <code>router</code> \u4e2d\u914d\u7f6e <code>props: true</code></p> <ul> <li> <p>\u672a\u5728\u63a5\u6536\u65b9 <code>props</code> \u4e2d\u58f0\u660e\u7684 <code>params</code> \u53c2\u6570\u5c06\u51fa\u73b0\u5728 <code>$attrs</code> </p> </li> <li> <p>\u53cd\u4e4b\uff0c\u51fa\u73b0\u5728\u63a5\u6536\u65b9\u7684 <code>props</code> \u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u53d8\u91cf\u540d\u8fdb\u884c\u8bbf\u95ee</p> </li> </ul> </li> <li> <p>\u5bf9\u8c61\u5199\u6cd5 <pre><code>// @ router.js\n{\n    props: { // \u989d\u5916\u5411\u8def\u7531\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570\n        prop_a: 1,\n        prop_b: 'Tom'\n    }\n}\n</code></pre></p> </li> <li> <p>\u51fd\u6570\u5199\u6cd5</p> <p>\u53ef\u5c06 <code>query &amp; params</code> \u5747\u4ee5 <code>props</code> \u5f62\u5f0f\u4f20\u9012\u7ed9\u8def\u7531\u7ec4\u4ef6     <pre><code>// @ router.js\n{\n    props: ($route) =&gt; {\n        return {\n            keyWord: $route.params.keyWord,\n            k: $route.query.k\n        }\n    }\n}\n</code></pre></p> </li> </ol> </li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#36","title":"3.6 \u6d4f\u89c8\u5386\u53f2\u8bb0\u5f55","text":"<ul> <li>\u6bcf\u6b21\u70b9\u51fb <code>vue-router</code> \u90fd\u4f1a\u89e6\u53d1 push \u64cd\u4f5c\uff0c\u5c06\u76ee\u6807 URL \u538b\u5230\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb0\u5f55\u6808\u4e2d</li> <li>\u91c7\u7528 <code>replace</code> \u64cd\u4f5c\u5c06\u4f7f\u5f97\u76ee\u6807URL\u66ff\u6362\u6389\u5f53\u524d\u6808\u9876\u7684\u8bb0\u5f55<code>&lt;vue-router replace&gt;&lt;/vue-router&gt;</code></li> </ul>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#37","title":"3.7 \u7f13\u5b58\u8def\u7531\u7ec4\u4ef6","text":"<p>\u8ba9\u5207\u8d70\u7684\u7ec4\u4ef6\u4e0d\u88ab\u9500\u6bc1 \u2014\u2014 \u5728 container \u4e2d\u64cd\u4f5c</p> <pre><code>&lt;keep-alive include=\"News\"&gt; -&gt; \u4ec5\u4fdd\u6301 News \u4e0d\u88ab\u9500\u6bc1\n    \u300c\u7ec4\u4ef6\u540d\u300d- \u7ec4\u4ef6\u4e2d name \u5c5e\u6027\u7684\u503c\n    \u4e0d\u6307\u5b9a include\uff0c\u5219\u6240\u6709\u53ef\u80fd\u7684\u5b50\u7ec4\u4ef6\u90fd\u88ab\u7f13\u5b58\n    &lt;router-view&gt;&lt;/router-view&gt;\n&lt;/keep-alive&gt;\n\n\u7f13\u5b58\u591a\u4e2a\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5199\u6cd5\uff1a\n:include=['News', 'Message']\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#38","title":"3.8 \u4fe9\u65b0\u7684\u94a9\u5b50","text":"<pre><code>// \u56e0\u4e3a keep-alive \u540e\u7ec4\u4ef6\u4e0d\u4f1a\u9500\u6bc1 =&gt; timer \u4e00\u76f4\u5728\uff0cso\nactivated() {\n    this.timer = setInterval(() =&gt; {\n        do sth;\n    }, 1000)\n},\ndeactivated() {\n    clearInterval(this.timer)\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#39","title":"3.9 \u8def\u7531\u5b88\u536b","text":"<p>\u6ee1\u8db3\u4e00\u5b9a\u6761\u4ef6\u624d\u80fd\u8fdb\u884c\u8def\u7531\u8df3\u8f6c</p>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_8","title":"\u5168\u5c40\u524d\u7f6e","text":"<p>\u5728 router \u66b4\u9732\u4e4b\u524d\u6dfb\u52a0\u8def\u7531\u5b88\u536b</p> <pre><code>const router = new VueRouter({}) // \u4e0d\u8981\u76f4\u63a5\u9ed8\u8ba4\u66b4\u9732\n// \u6dfb\u52a0\u5168\u5c40\u524d\u7f6e\u8def\u7531\u5b88\u536b -&gt; \u6bcf\u6b21\u53d1\u751f\u8def\u7531\u8df3\u8f6c\u524d\u90fd\u4f1a\u8c03\u7528\nrouter.beforeEach((to, from, next) =&gt; { // \u4e0d\u624b\u52a8\u5904\u7406 next\uff0c\u5219\u6240\u6709\u4eba\u90fd\u88ab\u963b\u65ad\n    if(to.path === '' || to.name === '') {     // \u8df3\u8f6c\u76ee\u6807\u53d7\u9650\n        if(condition) next() // \u7b26\u5408\u6761\u4ef6\uff0c\u5141\u8bb8\u8df3\u8f6c\n        else alert('\u65e0\u6743\u9650\u67e5\u770b\uff01')\n    } else {\n        next()\n    }\n})\nexport default router\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_9","title":"\u5168\u5c40\u540e\u7f6e","text":"<p>\u524d\u7f6e\u5199\u6cd5\u5f97\u628a\u6bcf\u4e00\u4e2a path / name \u90fd\u7ed9\u5217\u51fa\u6765 \u2014\u2014 \u6211\u4eba\u5148\u88c2\u5f00</p> <p>\u6211\u4eec\u5c1d\u8bd5\u5728\u8def\u7531\u914d\u7f6e\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u5206\u91cf\u7528\u4e8e\u6807\u8bc6\u5f53\u524d\u8def\u5f84\u662f\u5426\u9700\u8981\u6743\u9650\u6821\u9a8c</p> <p>=&gt; \u6700\u540e\u8fd9\u4e2a\u4fe1\u606f\u88ab\u585e\u5728\u4e86 <code>meta</code> \u4e0b</p> <pre><code>const router = new VueRouter({\n    routes: [\n        {\n            path: '/home',\n            name: 'jia',\n            component: Home,\n            meta: {\n                isAuth: true // undifined -&gt; false \u4e0d\u7528\u5199\u5c31\u884c\n            }\n        }\n    ]\n})\n// \u524d\u7f6e\u5b88\u536b\uff08\u4f18\u5316\u7248\u672c\uff09\nrouter.beforeEach((to, from, next) =&gt; {\n    if(to.meta.isAuth) {\n        if(ok) next()\n    } else {\n        next()\n    }\n})\n// \u540e\u7f6e\u5b88\u536b - \u5207\u6362\u4e4b\u540e\u6267\u884c\uff0c\u5df2\u7ecf\u8df3\u5b8c\u4e86\u6240\u4ee5\u6ca1\u6709 next\nrouter.afterEach((to, from) =&gt; {\n    // \u53ef\u4ee5\u8054\u52a8\u5f0f\u4fee\u6539\u9875\u9762\u6807\u9898 \u2014\u2014 \u4e5f\u585e\u5728 meta \u91cc\n    to.title = to.meta.title || 'total name'\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_10","title":"\u72ec\u4eab\u8def\u7531\u5b88\u536b","text":"<pre><code>// \u53ea\u9650\u5236\u67d0\u4e2a\u8def\u7531 - \u53ea\u6709\u524d\u7f6e\n{\n    beforeEnter: (to, from, next) =&gt; {} // to == me\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_11","title":"\u7ec4\u4ef6\u5185\u8def\u7531\u5b88\u536b","text":"<p>\u5728 <code>component.vue</code> \u4e2d\u8fdb\u884c\u914d\u7f6e</p> <pre><code>export default {\n    // \u76f4\u63a5\u5728 template \u4e2d\u5f15\u5165\u7ec4\u4ef6\u6807\u7b7e\u65f6\u4e0d\u7b97\n    beforeRouteEnter(to, from, next) { // \u901a\u8fc7\u8def\u7531\u89c4\u5219\u8fdb\u5165(\u4e86)\u7ec4\u4ef6\u65f6\n        next() // \u4e0d\u5199\u5c31\u6ca1\u6cd5\u8fdb\u5165\u7ec4\u4ef6orz\n    },\n    beforeRouteLeav(to, from, next) { // \u901a\u8fc7\u8def\u7531\u89c4\u5219\u79bb\u5f00\u7ec4\u4ef6\u524d\n        next() // \u4e0d\u5199\u5c31\u6ca1\u6709\u529e\u6cd5\u8dd1\u8def\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/2%20%E7%BB%84%E4%BB%B6/#_12","title":"\u5de5\u4f5c\u6a21\u5f0f","text":"<ul> <li>\u54c8\u5e0c\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09<ul> <li><code>#</code> \u540e\u7684\u5185\u5bb9\u4f5c\u4e3a hash \u503c\uff0c\u800c\u975e\u8bf7\u6c42\u8def\u5f84\u5b58\u5728</li> <li>\u517c\u5bb9\u6027\u597d\uff0c\u5237\u65b0\u80fd\u884c\uff08hash\u503c\u4e0d\u4f1a\u88ab\u4f5c\u4e3a\u6587\u4ef6\u8def\u5f84\uff09</li> <li>URL \u901a\u8fc7\u7b2c\u4e09\u65b9\u624b\u673a app \u5206\u4eab\u53ef\u80fd\u4f1a\u88ab\u6807\u8bb0\u4e3a\u4e0d\u5408\u6cd5</li> </ul> </li> <li>history \u6a21\u5f0f<ul> <li>\u9700\u8981\u5728 router \u4e2d\u624b\u52a8\u914d\u7f6e <code>mode: 'history'</code></li> <li>\u8def\u5f84\u540e\u6ca1\u6709 <code>#</code>\uff0c\u6240\u6709\u90fd\u5f53\u8def\u5f84</li> <li>\u517c\u5bb9\u6027\u5dee \u2014\u2014 \u56e0\u4e3a\u4e0d\u8d70\u7f51\u7edc\u8bf7\u6c42\uff0c\u4e00\u5237\u65b0\u5c31\u62a5\u5e9f\uff08\u88ab\u5f53\u6210\u6587\u4ef6\u8def\u5f84\u4e86\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/","title":"3 \u4f7f\u7528 Cli","text":"<p> \u7ea6 1215 \u4e2a\u5b57  243 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#1","title":"1 \u811a\u624b\u67b6","text":"<p>\u5b98\u65b9\u6587\u6863</p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#11","title":"1.1 \u5b89\u88c5","text":"<ol> <li>\u5168\u5c40\u5b89\u88c5 @vue/cli <code>npm install -g @vue/cli</code></li> <li>\u521b\u5efa\u9879\u76ee\u76ee\u5f55 <code>vue create xxx</code></li> <li>\u542f\u52a8\u9879\u76ee <code>npm run serve</code></li> </ol>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#12","title":"1.2 \u9879\u76ee\u7ed3\u6784","text":"<pre><code>main.js    // \u9879\u76ee\u5165\u53e3\u6587\u4ef6\nassets     // \u5b58\u653e\u9759\u6001\u8d44\u6e90\ncomponents // \u5b58\u653e\u7ec4\u4ef6\npublic     // \u5b58\u653e icon &amp; index\uff08\u6700\u597d\u662f\u5355\u9875\u9762\u5e94\u7528\uff09\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#13-render","title":"1.3 render \u914d\u7f6e\u9879","text":"<p>\u56e0\u4e3a cli \u5f15\u5165\u7684\u662f\u4e00\u4e2a runtime-only \u7248\u672c\u592b\u4eba Vue\uff0c\u6240\u4ee5\u5fc5\u987b\u8981\u4f7f\u7528 <code>render</code></p> <p>\u540c\u65f6\uff0c\u4e0d\u80fd\u4f7f\u7528 <code>template</code> \u89e3\u6790\u5668</p> <pre><code>render(createElement) {\n    return createElement('h1', 'hello world'); // \u751f\u6210 h1 \u6807\u7b7e\n}\n// \u7531\u4e8e\u6ca1\u6709\u7528\u5230 this \u6307\u9488\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b80\u5316\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\nrender: createElement =&gt; createElement('h1', 'hello world');\n// \u518d\u7b80\u5316\u4e00\u4e0b\u5b57\u6bcd\nrender: h =&gt; h('h1', 'hello world');\n// \u4f7f\u7528 App \u7ec4\u4ef6\u65f6\uff08\u4f7f\u7528\u8be5\u7ec4\u4ef6\u7684 template\uff09\nrender: h =&gt; h(App);\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#14","title":"1.4 \u9ed8\u8ba4\u914d\u7f6e","text":"<ul> <li>\u82e5\u9700\u8981\u67e5\u770b\u5177\u4f53\u7684 webpack \u914d\u7f6e\uff0c\u9700\u8981\u4f7f\u7528\u547d\u4ee4 <code>vue inspect &gt; output.js</code></li> </ul> <p>\u9ed8\u8ba4\u914d\u7f6e\u4e0b\uff0c\u4e0b\u8ff0\u6587\u4ef6\u4e0d\u5141\u8bb8\u66f4\u540d\uff1a <pre><code>-- public \u5305\u62ec\u6587\u4ef6\u5939\u672c\u8eab\n |    |_ favicon.ico\n |    |_ index.html\n |\n |_  src \u5305\u62ec\u6587\u4ef6\u5939\u672c\u8eab\n      |_ main.js\n</code></pre></p> <p>\u9700\u8981\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\uff0c\u8bf7\u66f4\u6539 <code>Vue.config.js</code></p> <ul> <li>\u5173\u95ed\u8bed\u6cd5\u68c0\u67e5 <code>lintOnSave: false</code></li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#15-ref","title":"1.5 \u6807\u7b7e\u5c5e\u6027 ref","text":"<p>\u5982\u4f55\u83b7\u53d6\u7ec4\u4ef6 <code>template</code> \u4e2d\u7684\u6807\u7b7e\uff08\u7c7b\u4f3c\u4e8e id \u9009\u62e9\u5668\uff09</p> <pre><code>&lt;template&gt;\n    &lt;h2 ref=\"title\"&gt; hello &lt;/h2&gt;\n    &lt;school ref=\"sch\"/&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        methods: {\n            showInfo() {\n                console.log(this.$refs.title); // h2 \u6807\u7b7e\n                console.log(this.$refs.sch);   // school \u7ec4\u4ef6 vc\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#16-props-","title":"1.6 props \u914d\u7f6e\u9879 - \u4f20\u53c2","text":"<p>\u91cd\u540d\u65f6\u4f18\u5148\u7ea7 <code>props</code> &gt; <code>data</code></p> <ul> <li><code>props</code>  \u662f read-only \u7684\uff0c\u82e5\u9700\u8981\u4fee\u6539\uff0c\u53ef\u4ee5\u5728 <code>data</code> \u4e2d\u4f7f\u7528 <code>val: this.prop</code> \u8fdb\u884c\u590d\u5236</li> </ul> <p><pre><code>// \u7236\u7ec4\u4ef6\n&lt;school name=\"SeaBee\" :age=\"21\"/&gt; // :age - v-bind \u7ed1\u4e86\u4e00\u4e2a num\n// \u5b50\u7ec4\u4ef6\u4f7f\u7528 - \u6b63\u5e38\u63d2\u503c\n&lt;h2&gt; {{name}} &lt;/h2&gt;\n&lt;h2&gt; {{age + 1}}  &lt;/h2&gt;\n</code></pre> <pre><code>// \u5b50\u7ec4\u4ef6\u63a5\u6536\u6570\u636e\nexport default {\n    // \u786e\u8ba4\u6536\u6b3e\uff08\u9ed8\u8ba4\u662f str\uff09\n    props: ['name', 'age'],\n    // \u9650\u5236\u63a5\u6536\u7c7b\u578b\uff08\u4e0d\u7b26\u5408\u4f1a warn\uff0c\u8fd8\u662f\u53ef\u4ee5\u8dd1\uff09\n    props: {\n        name: String,\n        age: Number\n    },\n    // \u6807\u6ce8\u662f\u5426\u5fc5\u8981\n    props: {\n        name: {\n            type: String,\n            required: true // \u5fc5\u4f20\n        },\n        age: {\n            type: Number,\n            default: 99    // \u9ed8\u8ba4\u503c\n        }\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#17-mixin","title":"1.7 mixin \u6df7\u5165","text":"<p>\u591a\u4e2a\u7ec4\u4ef6\u5171\u4eab\u4e00\u4e2a\u914d\u7f6e</p> <ul> <li>\u4f1a\u5c06 mixin \u7247\u6bb5\u7684\u914d\u7f6e\u4e0e options \u5408\u5e76\uff08data &amp; method \u4ee5 options \u914d\u7f6e\u4e3a\u4e3b\uff09</li> <li>\u751f\u547d\u5468\u671f\u94a9\u5b50\u4e24\u4e2a\u90fd\u8981\uff08 mixin \u5148\u6267\u884c\uff0coption \u540e\u6267\u884c\uff09</li> </ul> <pre><code>// @ mixin.js\nexport const mixin { // \u5206\u522b\u66b4\u9732\n    // \u9700\u8981\u590d\u7528\u7684\u914d\u7f6e\u7247\u6bb5\uff08\u4e00\u4e2a\u6216\u591a\u4e2a\uff09\n}\n// \u5c40\u90e8\u5f15\u5165 - @ component\nimport {mixin} from 'path/to/mixin.js'\nexport default {\n    ...,\n    mixins: [mixin] // \u914d\u7f6e\u6240\u6709\u8981\u7528\u5230\u7684\u6df7\u5165\u7247\u6bb5\n}\n// \u5168\u5c40\u5f15\u5165 - @ main.js\nimport {mix_name} from 'path/to/mix.js'\nVue.mixin(mix_name); // \u4e00\u6b21\u914d\u4e00\u6761\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#18","title":"1.8 \u63d2\u4ef6","text":"<p>\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u5305\u542b <code>install(Vue, args)</code> \u7684\u5bf9\u8c61</p> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f Vue \u539f\u578b</li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f \u63d2\u4ef6\u4f7f\u7528\u8005 \u4f20\u9012\u7684\u6570\u636e</li> </ul> <pre><code>// @ plugin.js - \u521b\u5efa\u63d2\u4ef6\nexport default {\n    install(Vue) {\n        // \u5b9a\u4e49\u5168\u5c40\u8fc7\u6ee4\u5668\n        Vue.filter('f_name', function(val){ return val })\n        // \u5b9a\u4e49\u5168\u5c40\u6307\u4ee4\n        Vue.directive('d_name', {options})\n        // \u5b9a\u4e49\u6df7\u5165 - vm &amp; vc \u5747\u5e94\u7528\u8be5\u914d\u7f6e\u9879\n        Vue.mixin({option})\n        // \u7ed9 Vue \u539f\u578b\u6dfb\u52a0\u65b9\u6cd5 - vm &amp; vc \u5747\u53ef\u4ee5\u4f7f\u7528\n        Vue.prototype.hello = () =&gt; { alert(\"hello world!\") }\n    }\n}\n// @ main.js - \u5e94\u7528\u63d2\u4ef6\n// \u5728 new Vue() \u4e4b\u524d\u8c03\u7528\uff0c\u53ef\u4ee5\u7528 Vue.use() \u4f7f\u7528\u591a\u4e2a\u63d2\u4ef6\nimport plugin from 'path/to/plugin.js'\nVue.use(plugin) // \u4f1a\u8c03\u7528 install()\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#19-scoped","title":"1.9 scoped \u6837\u5f0f","text":"<p>\u4e8b\u5b9e\u4e0a\uff0c\u6240\u6709\u7ec4\u4ef6\u7684 <code>&lt;style&gt;</code> \u6700\u540e\u4f1a\u88ab\u6c47\u603b\u5230\u4e00\u8d77</p> <p>-&gt; \u8fd9\u53ef\u80fd\u5bfc\u81f4\u201c\u7c7b\u540d\u51b2\u7a81\u201d\uff0c\u540e\u5f15\u5165\u8005\u7684\u6837\u5f0f\u5c06\u8986\u76d6\u524d\u8005</p> <pre><code>// @ component.Vue\n&lt;style scoped&gt;&lt;/style&gt;\n</code></pre> <ul> <li> <p>\u5728\u6700\u7ec8\u5448\u73b0\u7684\u6807\u7b7e\u91cc\uff0c\u4f1a\u7ed9\u52a0\u4e00\u4e2a <code>data-v-random</code> \u7684\u5c5e\u6027\uff0c\u5f62\u6210\u6837\u5f0f\u9694\u79bb</p> <p>\u6700\u597d\u4e0d\u8981\u5728 <code>App.Vue</code> \u4e2d\u4f7f\u7528 \u2014\u2014 \u8fd9\u6837\u5c31\u4e0d\u80fd\u5168\u5c40\u5f71\u54cd\u5b50\u7ec4\u4ef6\u7684\u6837\u5f0f\u4e86</p> </li> <li> <p>\u4f7f\u7528 less \u4e66\u5199\u6837\u5f0f\u65f6\uff0c\u5e94\u5f53\u7528 <code>&lt;style lang=\"less\"&gt;</code> \u5305\u88f9</p> <p>\u540c\u65f6\uff0c\u9700\u8981\u5b89\u88c5 less-loade <code>npm i less-loader@7</code></p> </li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#2-todolist","title":"2 \u5bf9\u4e8e TodoList \u7684\u603b\u7ed3","text":"<p>\u56e0\u4e3a <code>uuid</code> \u592a\u957f\u4e86\uff0c\u8fd9\u91cc\u4f7f\u7528 <code>nanoid</code> \u751f\u6210 \u2014\u2014 <code>npm install nanoid</code></p> <p>\u76f4\u63a5\u8c03\u7528 <code>nanoid()</code> \u5373\u53ef\u751f\u6210 record \u7684 id</p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#_1","title":"\u5bf9\u5df2\u6709\u9879\u76ee\u8fdb\u884c\u7ec4\u4ef6\u5316\u6539\u9020","text":"<ol> <li>\u62c6\u5206\u9759\u6001\u7ec4\u4ef6\uff1a\u6309\u7167\u529f\u80fd\u70b9\u8fdb\u884c\u62c6\u5206\uff0c\u540d\u5b57\u4e0d\u80fd\u4e0e html \u6807\u7b7e\u51b2\u7a81</li> <li>\u5b9e\u73b0\u52a8\u6001\u7ec4\u4ef6\uff1a\u8003\u8651\u597d\u6570\u636e\u5b58\u653e\u7684\u4f4d\u7f6e - \u7ed9\u5171\u540c\u7684\u7236\u7ec4\u4ef6</li> <li>\u5b9e\u73b0\u4ea4\u4e92\uff1a\u7ed1\u5b9a\u4e8b\u4ef6</li> </ol>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#props","title":"props \u7684\u5e94\u7528","text":"<p>\u4e0d\u5141\u8bb8\u4fee\u6539\uff08\u5176\u5b9e\u4fee\u6539\u5bf9\u8c61\u5185\u5bb9\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff09</p> <ul> <li>father -&gt; son \u4f20\u9012\u6570\u636e</li> <li>son -&gt; father \u4f20\u9012\u6570\u636e\uff08\u9700\u8981\u7236\u7ec4\u4ef6\u5148\u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570\uff09</li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#v-model","title":"v-model","text":"<p>\u4e0d\u80fd\u7ed1\u5b9a <code>props</code> \u4f20\u9012\u7684\u6570\u503c \u2014\u2014 \u4e0d\u5e94\u8be5\u4fee\u6539 <code>props</code></p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#btn","title":"\u70b9\u51fb btn \u7f16\u8f91 \u6587\u672c\u6846","text":"<p>\u5982\u4f55\u5728\u7f16\u8f91\u72b6\u6001\u4e0b\u628a <code>&lt;span&gt;</code> \u6539\u6210 <code>&lt;input&gt;</code></p> <p><pre><code>// \u5c31\u662f\u540c\u65f6\u653e\u4fe9 tag\uff0c\u7136\u540e\u7528 v-show \u63a7\u5236\u663e\u9690\n&lt;span v-show=\"!todo.isEdit\"&gt;{{todo.title}}&lt;/span&gt;\n&lt;input v-show=\"todo.isEdit\" \n       type=\"text\" :value=\"todo.title\" \n       @blur=\"save(todo, $event)\" ref=\"inputTitle\"&gt;\n// blur - \u5931\u53bb\u7126\u70b9\n</code></pre> <pre><code>methods: {\n    handleEdit(todo) {\n        if(todo.hasOwnProperty('isEdit')) { // \u5df2\u7ecf\u62e5\u6709\u8be5\u5c5e\u6027\n            todo.isEdit = true\n        } else { // \u989d\u5916\u8ffd\u52a0 isEdit\n            this.$set(todo, 'isEdit', true) // \u4f7f\u4e4b\u62e5\u6709 get / set\n        }\n        // \u6267\u884c\u5b8c\u6574\u4e2a\u51fd\u6570\u540e\u91cd\u65b0\u89e3\u6790\u6a21\u7248 - display:none \u7684\u5143\u7d20\u65e0\u6cd5\u83b7\u53d6\u7126\u70b9\n        this.$nextTick(() =&gt; { // $nextTick \u5c06\u5728\u91cd\u65b0\u89e3\u6790\u540e\u6267\u884c\n            this.$refs.inputTitle.focus() // \u83b7\u53d6\u7126\u70b9\n        })\n    },\n    save(todo, e) {\n        todo.isEdit = false\n        // \u786e\u4fdd\u8f93\u5165\u975e\u7a7a\n        if(!e.target.value) return alert('\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a')\n        // \u4fee\u6539 todo.title \u53cd\u9988 todo-id &amp; \u65b0\u7684\u6587\u672c\u6846\u8f93\u5165\n        this.$bus.$emit('updateTodo', todo.id, e.target.value)\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#3-webstorage","title":"3 WebStorage","text":"<p>\u5b58\u50a8\u5185\u5bb9\u4e00\u822c\u5728 5M \u5de6\u53f3 API = <code>window.__Storage.__</code></p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#31-local-storage","title":"3.1 Local Storage","text":"<p>\u53ef\u4ee5\u5b58\u70b9\u5386\u53f2\u641c\u7d22\u8bb0\u5f55\u5565\u7684</p> <pre><code>watch: {\n    todos: { // \u76d1\u89c6\u6574\u4e2a\u6570\u7ec4\u7684\u53d8\u5316\n        deep: true, // \u5f00\u542f\u6df1\u5ea6\u76d1\u89c6 -&gt; \u76d1\u89c6\u5206\u91cf\u53d8\u5316\n        handler(value) {\n            localStorage.setItem('todos', JSON.stringify(value))\n        }\n    }\n},\ndata: {\n    return { // \u5728 data \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6062\u590d\u5f97\u5230\u521d\u59cb\u6570\u636e\n        todos: JSON.parse(localStorage.getItem('todos')) || []\n        // \u8bfb\u53d6\u7ed3\u679c\u662f null \u7684\u65f6\u5019\u5c31\u8d4b\u503c\u4e3a\u7a7a\u6570\u7ec4 \u2014\u2014 \u4e0d\u7136\u8ba1\u7b97 length \u4f1a\u7206\u70b8\n    }\n}\n</code></pre> <ul> <li>\u5173\u95ed\u6d4f\u89c8\u5668\u540e \u4ecd\u7136\u5b58\u5728\uff08\u624b\u52a8\u6e05\u7a7a\u7f13\u5b58\u65f6\u4f1a\u5bc4\uff09 <pre><code>// \u5b58\u50a8\u6570\u636e\nfunction saveData() {\n    // \u952e&amp;\u503c\u90fd\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u5f3a\u5236\u8c03\u7528 toString()\n    localStorage.setItem('key_name', 'val')\n    // \u5b58\u5bf9\u8c61\u7684\u65f6\u5019\u4f1a\u8c03\u7528 stringify\n    localStorage.setItem('person', JSON.stringify(p))\n}\n// \u8bfb\u53d6\u6570\u636e\nfunction readItem() {\n    // \u8bfb\u53d6\u7ed3\u679c\u662f\u5b57\u7b26\u4e32\n    localStorage.getItem('key_name')\n    // \u5bf9\u8c61\u5b57\u7b26\u4e32\u9700\u8981\u8fdb\u884c\u59d0\u5199\n    JSON.parse(localStorage.getItem('person'))\n    // \u8bfb\u53d6\u4e0d\u5b58\u5728\u7684\u952e\u503c\u65f6 - \u8fd4\u56de null\n    // JSON.parse(null) = null\n}\n// \u5220\u9664\u6570\u636e\nfunction deleteData() {\n    localStorage.removeItem('key_name')\n}\n// \u6e05\u7a7a\u6570\u636e\nfunction clearData() {\n    localStorage.clear()\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#32-sessionstorage","title":"3.2 SessionStorage","text":"<ul> <li>API \u5c31\u662f\u628a\u6240\u6709\u7684 <code>localStorage</code> \u6539\u6210 <code>sessionStorage</code></li> <li>\u6d4f\u89c8\u5668\u5173\u95ed = \u4f1a\u8bdd\u7ed3\u675f = \u6e05\u7a7a\u6240\u6709\u6570\u636e</li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#4","title":"4 \u81ea\u5b9a\u4e49\u4e8b\u4ef6","text":"<p>\u9002\u7528\u4e8e \u5b50 -&gt; \u7236  \u2014\u2014 \u5185\u7f6e\u4e8b\u4ef6\u9002\u7528\u4e8e html\u6807\u7b7e</p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#41","title":"4.1 \u7ed1\u5b9a","text":"<p>\u533a\u5206\u539f\u751f\u4e8b\u4ef6\u4e0e\u81ea\u5b9a\u4e49\u4e8b\u4ef6 \u2014\u2014 \u5728\u539f\u751f\u4e8b\u4ef6\u540e\u52a0 <code>.native</code>\uff1a</p> <ul> <li>\u4f8b\u5982 <code>@click.native</code> </li> <li>\u6b64\u65f6\uff0c\u4e8b\u4ef6\u5c06\u7531\u5b50\u7ec4\u4ef6\u6700\u5916\u5c42\u6807\u7b7e\u89e6\u53d1\uff0c\u4e14\u4e0d\u9700\u8981 <code>$emit</code> \u8fdb\u884c\u624b\u52a8\u89e6\u53d1</li> </ul> <pre><code>@ \u7236\u7ec4\u4ef6\n&lt;template&gt;\n    // \u4e3a student.vc \u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6 getInfo\n    &lt;student v-on:getInfo=\"demo\"/&gt;\n    // \u4e5f\u53ef\u4ee5\u7a0d\u5fae\u7f29\u7565\u6210\u8fd9\u4e2a\u6837\u5b50\n    &lt;student @getInfo=\"demo\"/&gt;\n    // \u4ec5\u89e6\u53d1\u4e00\u6b21\n    &lt;student @getInfo.once=\"demo\"/&gt;\n&lt;/template&gt;\n&lt;script&gt;\n    new Vue({\n        methods: {\n            // \u7236\u7ec4\u4ef6\u5fc5\u987b\u8981\u6709\u56de\u8c03\u51fd\u6570\n            getStu(name) { console.log(name) }\n        }\n    }}\n&lt;/script&gt;\n\n@ \u5b50\u7ec4\u4ef6\n&lt;template&gt;\n    &lt;button @click=\"sendStuName\"&gt;&lt;/button&gt;\n&lt;/template&gt;\n&lt;script&gt;\n    new Vue({\n        methods: {\n            sendStuName() {\n                // \u624b\u52a8\u89e6\u53d1\u5b9e\u4f8b\u4e0a\u7ed1\u5b9a\u7684 getInfo \u4e8b\u4ef6\uff08\u62ec\u53f7\u5185\u662f\u53c2\u6570\uff09\n                this.$emit('getInfo', this.name) \n                // \u6b64\u5904\u7684\u56de\u8c03\u51fd\u6570\u53ef\u4ee5\u4e3a methods / \u7bad\u5934\u51fd\u6570\n            }\n        }\n    }}\n&lt;/script&gt;\n</code></pre> <p>\u53e6\u4e00\u79cd\u65b9\u6cd5 \u2014\u2014 \u901a\u8fc7 <code>ref</code> \u5b9e\u73b0</p> <ul> <li>\u53ef\u4ee5\u8bbe\u7f6e timer \u8fdb\u884c\u5ef6\u8fdf\u7ed1\u5b9a <pre><code>&lt;school ref=\"stu\"/&gt;\n</code></pre> <pre><code>mounted() {\n    // \u7236\u7ec4\u4ef6\u624b\u52a8\u62ff\u5230\u5b50\u7ec4\u4ef6\uff0c\u901a\u8fc7 $on \u7ed1\u5b9a\u4e8b\u4ef6\u53ca\u56de\u8c03\n    setTimeout({\n        this.$refs.stu.$on('getInfo', this.getStu);\n        // \u9650\u5b9a\u4ec5\u89e6\u53d1\u4e00\u6b21\n        this.$refs.stu.$once('getInfo', this.getStu);\n    }, 3000) // 3s \u540e\u7ed1\u5b9a\u4e8b\u4ef6 getInfo\n}\n</code></pre></li> </ul> <p>\u9700\u8981\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\uff1a</p> <ol> <li>\u5728\u51fd\u6570\u539f\u578b\u5904\u7528\u4e00\u5806\u7684\u5f62\u53c2\u8fdb\u884c\u63a5\u6536</li> <li>\u628a\u5b9e\u53c2\u6253\u5305\u6210\u4e00\u4e2a\u5bf9\u8c61\u540e\u8fdb\u884c\u4f20\u8f93</li> <li>\u9996\u4e2a \uff5c \u540e\u7eed \u5206\u5f00\u63a5\u6536 <code>(name, ...params)</code> <ol> <li>\u9996\u4e2a\u5b9e\u53c2\u4f5c\u4e3a <code>name</code> \u88ab\u63a5\u6536</li> <li>\u540e\u7eed\u6240\u6709\u53c2\u6570\u90fd\u96c6\u4e2d\u5230 <code>params</code> \u5bf9\u8c61\u4e2d</li> </ol> </li> </ol>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#42","title":"4.2 \u89e3\u7ed1","text":"<pre><code>// @ \u5b50\u7ec4\u4ef6\n// 1. \u89e3\u7ed1\u5355\u4e2a\u4e8b\u4ef6\nthis.$off('event_1')\n// 2. \u89e3\u7ed1\u591a\u4e2a\u4e8b\u4ef6\nthis.$off(['event1', 'event2'])\n// 3. \u89e3\u7ed1\u6240\u6709\u81ea\u5b9a\u4e49\u4e8b\u4ef6\nthi.$off()\n</code></pre> <ul> <li>\u8c03\u7528 <code>this.$destroy()</code> \u9500\u6bc1\u7ec4\u4ef6\u540e\uff0c\u4e0e\u8be5\u7ec4\u4ef6\u7ed1\u5b9a\u7684\u6240\u6709\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4e5f\u5c06\u5931\u6548</li> <li>\u7236\u7ec4\u4ef6\u9500\u6bc1\u540e\uff0c\u5b50\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u6548\uff0c\u539f\u751f\u4e8b\u4ef6\uff08\u5982 <code>click</code> \uff09\u4f9d\u7136\u6709\u6548</li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#7","title":"7 \u52a8\u753b / \u8fc7\u6e21","text":"<p>\u5b9e\u8d28\uff1a\u5728\u63d2\u5165\u3001\u66f4\u65b0\u3001\u79fb\u9664 DOM \u5143\u7d20\u65f6\uff0c\u5728\u76f8\u5e94\u65f6\u523b\u4e3a\u5143\u7d20 \u6dfb\u52a0 / \u79fb\u9664 \u7c7b\u540d</p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#71","title":"7.1 \u52a8\u753b\u6548\u679c","text":"<p>Vue \u901a\u8fc7\u63a7\u5236\u5143\u7d20\u7684 class \u6765\u64cd\u4f5c CSS \u7684 animation / transition</p> <ol> <li>\u7f16\u5199 animation\uff0c\u540c\u65f6\u8bbe\u8ba1\u7c7b `.v-enter-active / .v-leave-active      <pre><code>.v-enter-active  { /* \u8fdb\u5165\u8fc7\u7a0b */\n    animation: ani 3s;\n}\n.v-leave-active  {\n    animation: ani 3s reverse;\n}\n</code></pre></li> <li>\u4f7f\u7528 <code>&lt;transition&gt;</code> \u6807\u7b7e\u5305\u88f9\u9700\u8981\u6dfb\u52a0\u52a8\u753b\u7684\u4e00\u6c93\u6807\u7b7e</li> <li>\u7ed1\u5b9a\u7528\u4e8e\u63a7\u5236 <code>v-show</code> \u7684\u53d8\u91cf     <pre><code>&lt;transition&gt;\n    &lt;h1 v-show=\"isShow\"&gt;Hello World!&lt;/h1&gt;\n&lt;/transition&gt;\n</code></pre></li> </ol> <p>\u5982\u679c\u6211\u4eec\u8bbe\u7f6e <code>&lt;transition name=\"hello\"&gt;</code>\uff0c\u5219\u5bf9\u5e94\u7684\u7c7b\u540d\u9700\u8981\u6539\u6210\uff1a - <code>.hello-enter-active</code> - <code>.hello-leave-active</code></p> <p>\u5982\u679c\u9700\u8981\u6253\u5f00\u9875\u9762\u9ed8\u8ba4\u6267\u884c\u52a8\u753b\uff08\u4e00\u5f00\u59cb <code>display: block</code>\uff09\uff0c\u53ef\u4ee5\u6dfb\u52a0 <code>appear</code> \u5c5e\u6027\uff0c\u5f62\u5982 <code>&lt;transition appear&gt;</code></p>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#72","title":"7.2 \u8fc7\u6e21\u6548\u679c","text":"<p>\u5982\u679c\u4e0d\u5199 <code>animation</code> \uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fc7\u6e21\u6765\u5b9e\u73b0 - \u6d89\u53ca\u56db\u4e2a\u4e2a\u7c7b</p> <pre><code>.v-hello-active, .v-leave-active { \n    /* \u8bb0\u5f97\u8981\u914d\u7f6e transition \u65f6\u95f4\uff08\u4e0d\u5f71\u54cd\u672c\u8eab\u6837\u5f0f\uff09 */\n    transition: .5s;\n}\n\n.v-enter, .v-leave-to { /* \u8fdb\u5165\u7684\u8d77\u70b9 + \u79bb\u5f00\u7684\u7ec8\u70b9 */\n    transform: translateX(-100%);\n}\n.v-enter-to, .v-leave { /* \u8fdb\u5165\u7684\u7ec8\u70b9 + \u79bb\u5f00\u7684\u8d77\u70b9 */\n    transform: translateX(0);\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#_2","title":"\u591a\u5143\u7d20\u8fc7\u6e21","text":"<p><code>&lt;transition&gt;</code>  \u53ea\u7ba1\u4e00\u4e2a\u5143\u7d20\uff0c\u6b64\u5904\u4f7f\u7528 <code>&lt;transition-group&gt;</code> \u8fdb\u884c\u5305\u88f9</p> <ul> <li><code>&lt;transition-group&gt;</code> \u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u9700\u8981\u72ec\u7acb\u7684 <code>key</code> \u503c</li> <li>\u6574\u4e2a group \u9002\u7528\u540c\u4e00\u5957 transition \u65b9\u6848</li> </ul>"},{"location":"Nulling/Vue/Vue2/3%20%E4%BD%BF%E7%94%A8Cli%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/#8","title":"8 \u9879\u76ee\u53d1\u5e03","text":"<ul> <li>\u6253\u5305\uff1a\u547d\u4ee4 <code>npm run build</code>\uff0c\u5c06 <code>src + public</code> \u751f\u6210 <code>dist</code> \u6587\u4ef6\u76ee\u5f55</li> <li>\u90e8\u7f72\uff1a\u4f7f\u7528 <code>node express</code> \u642d\u5efa\u670d\u52a1\u5668<ol> <li>\u641e\u51fa\u4e00\u4e2a\u5408\u6cd5\u7684\u5305 <code>npm init</code></li> <li>\u5b89\u88c5 <code>npm i express</code></li> <li>\u65b0\u5efa <code>server.js</code> <pre><code>const express = require('express') // \u5f15\u5165\nconst app = express()\napp.get('/person', (req, res) =&gt; { // \u914d\u7f6e\u8bf7\u6c42\u8def\u7531\n    res.send({                     // \u8fd4\u56de\u7684\u6570\u636e\n        name: 'Tom',\n        age: 18\n    })\n})\napp.listen(5005, (err) =&gt; { // \u914d\u7f6e\u76d1\u542c\u7684\u7aef\u53e3\u53f7\u4e3a 5005\n    if(!err) console.log('\u8bf7\u6c42\u6210\u529f')\n})\n</code></pre></li> <li>\u542f\u52a8\u670d\u52a1\u5668 <code>node server</code></li> <li>\u5728 <code>static</code> \u4e0b\u653e\u7f6e\u524d\u7aef\u8d44\u6e90\uff0c\u7136\u540e\u4e22\u7ed9\u670d\u52a1\u5668    <code>js    app.use(express.static(__dirname + '/static'))    // \u8bf7\u6c42\u7684\u65f6\u5019\u76f4\u63a5 server_url + file_name \u5c31\u884c\uff08\u4e0d\u7528 /static\uff09</code></li> </ol> </li> <li>\u89e3\u51b3 history \u6a21\u5f0f\u4e0b\u7684 404     \u9700\u8981\u540e\u7aef\u624b\u52a8\u5339\u914d\u524d\u540e\u7aef\u8def\u7531 \u2014\u2014 <code>connect-history</code> \u5e93<ol> <li>\u5b89\u88c5 <code>npm i connect-history-api-fallback</code></li> <li>\u5f15\u5165\u5e76\u4f7f\u7528     <pre><code>// @sever.js\n// \u5f15\u5165\nconst history = require('connect-history-api-fallback') \n// \u4f7f\u7528\uff08\u5728 use static \u4e4b\u524d\uff09\napp.use(history())\n</code></pre></li> </ol> </li> </ul>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/","title":"4 \u6d88\u606f\u4f20\u9012","text":"<p> \u7ea6 478 \u4e2a\u5b57  179 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#1-vuex","title":"1 Vuex \u5b9e\u73b0\u6570\u636e\u5171\u4eab","text":"<p>\u7528\u4e8e\u5b9e\u73b0\u201c\u96c6\u4e2d\u5f0f\u6570\u636e\u7ba1\u7406\u201d\u7684 Vue \u63d2\u4ef6</p> <ul> <li>\u5bf9\u591a\u4e2a\u7ec4\u4ef6\u95f4\u7684 \u8bfb / \u5199 \u8fdb\u884c\u96c6\u4e2d\u7ba1\u7406</li> <li>\u9002\u7528\u4e8e\u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1</li> </ul> <p>Vuex \u4e0d\u5c5e\u4e8e\u4efb\u4f55\u4e00\u4e2a\u7ec4\u4ef6\uff08\u5305\u62ec App\uff09</p> <p>Vuex \u5b98\u7f51</p>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#intro","title":"Intro","text":""},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#_1","title":"\u5de5\u4f5c\u539f\u7406","text":"<ul> <li>ajax \u8bf7\u6c42\u7531 Actions \u8fdb\u884c\u53d1\u9001</li> <li>Actions, Mutations, State \u5747\u53d7 Store \u7ba1\u7406</li> </ul>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#_2","title":"\u642d\u5efa\u73af\u5883","text":"<ol> <li>\u5b89\u88c5 <code>npm install vuex@3</code> \uff08Vue2 - vuex3\uff1bVue3 - vuex4\uff09</li> <li> <p>\u4f7f\u7528\u63d2\u4ef6 <code>import Vuex from 'vuex'</code> <code>Vue.use(Vuex)</code></p> <p>\u5e76\u5728 vm \u4e2d\u5b9a\u4e49 <code>store</code>  \u2014\u2014 \u5b9a\u4e49 <code>src/store/index.js</code> <pre><code>import Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use(Vuex) // \u4e0d\u7136\u4f1a\u62a5\u9519\uff0c\u6de6\u5185\n\n// actions - \u54cd\u5e94\u7ec4\u4ef6\u4e2d\u7684\u52a8\u4f5c\nconst actions = {}\n// mutations - \u7528\u4e8e\u64cd\u4f5c\u6570\u636e(state)\nconst mutations = {}\n// state - \u5b58\u50a8\u6570\u636e\nconst state = {}\n\n// \u521b\u5efa\u5e76\u5411\u5916\u66b4\u9732 store\nexport default new Vuex.Store({\n    actions,\n    mutations,\n    state\n})\n</code></pre> 3. \u5728 App \u4e2d\u5f15\u5165 Store <pre><code>// vue-cli \u4f1a\u628a import \u6309\u7f16\u5199\u987a\u5e8f\u6c47\u603b\u5230\u6700\u4e0a\u65b9\uff0c\u518d\u6267\u884c\u5176\u4ed6\nimport store from './store'\nnew Vue({\n    store: store // \u6216\u8005\u7b80\u5199\u6210 store\n})\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#demo","title":"Demo","text":"<ol> <li>\u628a\u6570\u636e\u6254\u7ed9 state     <pre><code>const state = {\n    sum: 0\n}\n</code></pre></li> <li> <p>\u64cd\u4f5c\u5c5e\u6027 - dispatch</p> <p>\u5982\u679c action \u4e2d\u6ca1\u6709\u9700\u8981\u5224\u65ad\u7684\u903b\u8f91\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u6b64\u5904\u8c03\u7528 commit</p> <p><code>this.$store.commit('ADD', this.n)</code> \uff08\u4e5f\u4e0d\u7528\u914d\u7f6e action.add \u4e86\uff09 <pre><code>methods: {\n    increase() {\n        // store \u5b58\u50a8\u5728 vc \u4e0a\n        this.$store.dispatch('add', this.n) // \u64cd\u4f5c - +n\n    }\n}\n</code></pre></p> </li> <li> <p>\u914d\u7f6e\u5bf9\u5e94\u7684 action</p> <p>\u5728 action \u4e2d\u53ef\u4ee5\u7ee7\u7eed\u628a\u53c2\u6570 dispatch \u7ed9\u5176\u4ed6\u7684 action \u8fdb\u884c\u5904\u7406\uff08\u7c7b\u4f3c\u4e8e\u628a\u5f88\u591a\u4e2a pipe \u4e32\u8d77\u6765\uff09\uff1b</p> <p>\u4e5f\u53ef\u4ee5\u7528 ajax \u5411\u540e\u7aef\u8bf7\u6c42\u6570\u636e <pre><code>import axios from 'axios'\nconst actions = {\n    add: function(context, val) { // \u53ef\u7b80\u5199\u4e3a add(){}\n        context.commit('ADD', val) // \u5b57\u6bcd\u5927\u5199\u533a\u5206\u4e00\u4e0b\n\n        // \u4e1a\u52a1\u903b\u8f91\u4e00\u822c\u5199\u5728 action \u91cc\uff1atimer / \u6761\u4ef6\u5224\u65ad ...\n        // \u6b64\u5904\u53ef\u4ee5\u4f7f\u7528 context.state.name \u8bbf\u95ee\u5bf9\u5e94\u7684\u503c\n    },\n    addFromServer(context) { // axios \u8bf7\u6c42\u793a\u4f8b\n        axios.get('url').then({\n            res =&gt; {\n                context.commit('ADD_FROM_SERVER', res.data) // move on\n            },\n            err =&gt; {\n                alert(err.message)\n            }\n        })\n    }\n}\n</code></pre></p> </li> <li> <p>\u914d\u7f6e\u5bf9\u5e94\u7684 mutation     <pre><code>const mutations = {\n    ADD: function(state, val) {\n        state.sum += val // \u76f4\u63a5\u64cd\u4f5c state \u4e2d\u7684\u6570\u636e\n    }\n}\n</code></pre></p> </li> <li> <p>\u8bfb\u53d6 state \u4e2d\u7684\u6570\u636e     <pre><code>&lt;h2&gt;\u5f53\u524d\u603b\u548c\u4e3a\uff1a{{$store.state.sum}}&lt;/h2&gt;\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#getters","title":"getters \u914d\u7f6e\u9879\u300c\u53ef\u9009\u300d","text":"<p>\u9700\u8981\u8bfb\u53d6\u52a0\u5de5\u8fc7\u7684 state \u5c5e\u6027</p> <pre><code>// @ ./store/index.js\nconst getters = { // \u7528\u4e8e\u52a0\u5de5 state \u4e2d\u7684\u6570\u636e\n    mul_10(state) {\n            return state.sum*10\n    }\n}\n// \u8bb0\u5f97\u585e\u5230 vuex \u7684 options \u4e2d\n// \u53ef\u4ee5\u901a\u8fc7 $state.getters.bigsum \u8fdb\u884c\u8bbf\u95ee\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#11","title":"1.1 \u4ee3\u7801\u751f\u6210","text":"<p>\u53ef\u4ee5\u91c7\u7528\u8ba1\u7b97\u5c5e\u6027\u7b80\u5316\u63d2\u503c\u8bed\u6cd5\u4e2d\u7684\u5185\u5bb9\uff1a <pre><code>computed: {\n    sum() {\n        return this.$store.state.sum // -&gt; \u76f4\u63a5\u7528 {{sum}} \u5c31\u884c\n    },\n    bigsum() {\n        return this.$store.getters.bigsum\n    }\n}\n</code></pre> \u4f46\u8fd8\u662f\u6709\u70b9\u5197\u4f59 emmm</p>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#mapstate-mapgetters","title":"MapState &amp; MapGetters","text":"<p>\u300c\u4ee3\u7801\u751f\u6210\u300d\u6279\u91cf\u751f\u6210\u7c7b\u4f3c\u4e8e\u4e0a\u8ff0\u7ed3\u6784\u7684\u8ba1\u7b97\u5c5e\u6027</p> <pre><code>import {mapState, mapGetters} from 'vue'\n// mapState(Obj) \u7684\u751f\u6210\u7ed3\u679c\u662f\u4e00\u4e2a\u5bf9\u8c61\nnew Vue({\n    computed: {\n        // \u5bf9\u8c61\u5f0f\u5199\u6cd5\n        ...mapState({ // \u8ba1\u7b97\u5c5e\u6027\u540d\uff1astate\u5206\u91cf\u540d\n            he: 'sum',\n            xuexiao: 'school',\n            xueke: 'subject'\n        }),\n        // \u6570\u7ec4\u5f0f\u5199\u6cd5 - \u751f\u6210\u548c state \u4e2d\u5206\u91cf\u540c\u540d\u7684\u8ba1\u7b97\u5c5e\u6027\n        ...mapState(['sum', 'school', 'subject']),\n        // getters \u7684\u751f\u6210\u89c4\u5219\u540c\u7406\n        ...mapGetters(['bigsum'])\n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#mapactions-mapmutations","title":"MapActions &amp; MapMutations","text":"<p>methods \u4e2d\u5b58\u5728\u4e00\u5806\u91cd\u590d\u8c03\u7528 dispatch / commit \u7684\u51fd\u6570</p> <p>-&gt; \u6240\u4ee5\u6211\u4eec\u751f\u6210\u4e00\u4e0b</p> <pre><code>import {mapActions, mapMutations} from 'vue'\nnew Vue({\n    methods: {\n        ...mapActions(['addAwait', 'addOdd']), \n        // dispatch -&gt; \u8c03\u7528\u65f6\u9700\u8981\u4f20\u53c2\n        ...mapMutations({increase:'add', decrease:'sub'}) \n        // commit \u751f\u6210\u683c\u5f0f\u5982\u4e0b\uff1a\n        // increase(val) {this.$store.commit('add', val)}\n        // \u5728\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\u5c31\u9700\u8981\u7a7f\u53c2 - @click=\"increase(n)\"\n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#12-namespace","title":"1.2 \u6a21\u5757\u5316 &amp; namespace","text":"<p>\u628a action / mutation / state / getter \u6309\u7167\u529f\u80fd\u6a21\u5757\u8fdb\u884c\u6253\u5305</p>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#store","title":"\u5728 store \u4e2d\u5206\u88c5\u6a21\u5757","text":"<pre><code>// @ ./store/index.js\n// \u8ba1\u7b97\u76f8\u5173\u7684\u914d\u7f6e\nconst countOptions = {\n    namespace: true, // \u5426\u5219\u65e0\u6cd5\u5728 map \u4e2d\u6307\u5b9a\u6a21\u5757\u540d\u79f0\n    actions: {},\n    mutations: {},\n    state: {},\n    getters: {}\n}\n// \u4eba\u5458\u76f8\u5173\u7684\u914d\u7f6e\nconst peopleOptions = {}\n\n// \u521b\u5efa\u5e76\u66b4\u9732 store\nexport default new Vuex.Store({\n    modules: { // \u540c\u6837\u53ef\u4ee5\u4f7f\u7528\u7b80\u5199\u5f62\u5f0f\n        count: countOptions,\n        people: peopleOptions\n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#map","title":"\u4fee\u6539 Map \u751f\u6210\u4ee3\u7801","text":"<pre><code>new Vue({\n    computed: {\n        ...mapState('count',['sum', 'school', 'subject'])\uff0c\n        ...mapState('person',['personList']) // \u6bcf\u4e2a\u6a21\u5757\u5355\u72ec\u4e00\u884c  \n        // \u4e5f\u53ef\u4ee5\u901a\u8fc7 this.$store.state.count.sum \u6765\u62ff\u5230\u6570\u636e\n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#commit","title":"\u4fee\u6539 commit","text":"<pre><code>new Vue({\n    methods: {\n        ...mapMutations('count',{increase:'add', decrease:'sub'}),\n        // \u540c\u6837\u662f\u6bcf\u4e2a\u6a21\u5757\u5355\u72ec\u4e00\u884c\n        neo_person() {\n            const p_obj = {id:nanoid(), name:this.name}\n            this.$store.commit('person/ADD_PERSON', p_obj)\n            // \u624b\u52a8\u8c03\u7528 - namespace/function\n        }\n    }\n})\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#getter","title":"\u4fee\u6539 getter","text":"<pre><code>// \u5bf9\u4e8e mapGetters \u7684\u4fee\u6539\u548c\u4e0a\u9762\u7c7b\u4f3c\n// \u624b\u52a8\u4ece getters \u4e2d\u8bfb\u53d6\u503c\ncomputed: {\n    firstName() {\n        return this.$store.getters['person/firstPersonName'] \n        // \u56e0\u4e3a . / \u51b2\u7a81\uff0c\u6b64\u5904\u4f7f\u7528\u4e0b\u6807\u8bbf\u95ee\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#2","title":"2 \u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf","text":"<p>\u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1 \u5176\u5b9e\u5c31\u662f\u6240\u6709\u4eba\u90fd\u901a\u8fc7\u7b2c\u4e09\u65b9\u8fdb\u884c\u8f6c\u63a5</p> <pre><code>// App.js - \u5b89\u88c5\u5168\u5c40\u4e8b\u4ef6 $bus = vm\nnew Vue({\n    beforeCreate() { \n        Vue.prototype.$bus = this\n    }\n})\n\n// \u53d1\u4fe1\u65b9\uff08\u8bb0\u5f97\u7ed9\u6807\u7b7e\u7ed1\u5b9a\u4e8b\u4ef6\uff09\nmethods: {\n    sendStuName() {\n        this.$bus.$emit('hello_event', 666)\n        // \u89e6\u53d1\u4e09\u65b9\u7684 hello \u4e8b\u4ef6\uff0c\u643a\u5e26\u6570\u636e 666\n    }\n}\n\n// \u6536\u4fe1\u65b9 - \u56de\u8c03\u51fd\u6570\u5b9a\u4e49\u5728\u6536\u4fe1\u653e\u7684 methods \u4e2d\nmounted() {\n    this.$bus.$on('hello_event', (data) =&gt; { console.log(data) })\n}\n</code></pre> <p>\u8bb0\u5f97\u9500\u6bc1\u7ec4\u4ef6\u65f6\u5173\u6389 <code>$bus</code> \u4e0a\u7ed1\u5b9a\u7684\u76f8\u5173\u4e8b\u4ef6 <pre><code>beforeDestroy() {\n    this.$bus.$off('hello_event')\n}\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/4%20%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92/#3","title":"3 \u6d88\u606f\u8ba2\u9605 &amp; \u53d1\u5e03","text":"<p>\u5b9e\u73b0\u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1 - \u6b64\u5904\u8bd5\u7528 <code>pubsub-js</code> \u5b9e\u73b0</p> <ol> <li>\u5b89\u88c5 <code>pubsub-js</code> - <code>npm install pubsub-js</code></li> <li>\u5728\u6d89\u53ca\u6536\u53d1\u7684\u7ec4\u4ef6\u4e2d\u5f15\u5165 - <code>import pubsub from 'pubsub-js'</code></li> <li>\u63a5\u6536\u65b9\u8ba2\u9605\u6d88\u606f     <pre><code>mounted() {\n    // \u6bcf\u6b21\u8ba2\u9605\u90fd\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u8ba2\u9605 id\n    this.pubID = pubsub.subscribe('name',(msgName, data)=&gt;{})\n    // \u56de\u8c03\u662f method / \u7bad\u5934\u51fd\u6570\uff08\u5426\u5219 this \u6307\u9488\u4e3a undefined\uff09\n}\n</code></pre></li> <li>\u53d1\u5e03\u6d88\u606f     <pre><code>methods: {\n    sendInfo() {\n        pubsub.publish('name', data)\n    }\n}\n</code></pre></li> <li>\u9500\u6bc1\u65f6\u89e3\u7ed1     <pre><code>beforeDestroy() {\n    pubsub.unsubscribe(this.pubID)\n}\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/","title":"5 \u7f51\u7edc\u8bf7\u6c42","text":"<p> \u7ea6 219 \u4e2a\u5b57  97 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u6b64\u5904\u4f7f\u7528 <code>axios</code> \u8fdb\u884c\u5b9e\u73b0</p> <ol> <li>\u4e0b\u8f7d <code>axios</code> - <code>npm i axios</code></li> <li>\u5728 App \u4e2d\u5f15\u5165 <code>axois</code> - <code>import axios from 'axios'</code></li> <li>\u53d1\u9001\u8bf7\u6c42     <pre><code>getStuInfo() {\n    axios.get('url').then(\n        response =&gt; { // \u6267\u884c\u6210\u529f\u7684\u56de\u8c03\n            console.log(response.data)\n        },\n        error =&gt; { // \u6267\u884c\u5931\u8d25\u7684\u56de\u8c03\n            console.log(error.message)\n        }\n    )\n}\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#1","title":"1 \u914d\u7f6e\u4ee3\u7406","text":"<p>\u6b64\u5904\u901a\u8fc7 <code>vue-cli</code> \u5b9e\u73b0</p> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u8bf7\u6c42\u5730\u5740\u5199 <code>vue-url/api</code> \u5373\u53ef</p> <pre><code>// @ vue.config.js - \u53ea\u80fd\u914d\u7f6e\u5355\u4e2a\u4ee3\u7406\u5730\u5740\nmodule.export = {\n    devServer: { // \u5f00\u542f\u4ee3\u7406\u670d\u52a1\u5668\uff08\u9ed8\u8ba4\u5305\u542b public \u5185\u5bb9\uff09\n        proxy: 'https://localhost:5000' // \u8bf7\u6c42\u7684\u76ee\u6807\u7f51\u5740\n    }\n}\n// \u914d\u7f6e\u591a\u4e2a\u4ee3\u7406\u5730\u5740\nmodule.export = {\n    devServer: {\n        proxy: {\n            '/api':  // \u8bf7\u6c42\u524d\u7f00\n            // \u8bf7\u6c42\u5730\u5740\uff1ahttps://prj/api/... -&gt; url_1/api/...\n                target: 'url_1',\n                // \u4e0b\u9762\u4e24\u4e2a\u90fd\u9ed8\u8ba4\u4e3a true\n                ws: true, // \u652f\u6301 WebSocket\n                changeOrigin: true // \u628a\u5305\u91cc\u7684\u8bf7\u6c42\u6e90\u6362\u6210\u76ee\u6807\u5730\u5740\n            },\n            '/foo': {\n                target: 'url_2',\n                // \u914d\u7f6e rewrite \u540e\uff0c\u5b9e\u9645\u8bf7\u6c42 url_2/...\uff08\u53bb\u6389\u4e86api\u90e8\u5206\uff09\n                pathRewrite: {'^/foo':''}\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#2-github","title":"2 \u5bf9 Github \u7528\u6237\u641c\u7d22 \u7684\u603b\u7ed3","text":""},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#css","title":"\u5f15\u5165\u72ec\u7acb\u7684 CSS \u6837\u5f0f\u6587\u4ef6","text":"<p>\u9996\u5148\uff0c\u65b0\u5efa <code>public/css</code> \u8def\u5f84\uff0c\u628a\u6587\u4ef6\u4e22\u8fdb\u53bb\u3002 <pre><code>\u968f\u540e\uff0c\u5728 index.html \u4e2d\u5b8c\u6210\u5f15\u5165\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"&lt;%= BASAE_URL %&gt;css/_.css\"&gt;\n&lt;/head&gt;\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#api","title":"\u4f7f\u7528 API \u641c\u7d22\u7528\u6237","text":"<ol> <li>\u83b7\u53d6\u7528\u6237\u8f93\u5165 <pre><code>&lt;input type=\"text\" v-model=\"keyword\"&gt; \u8bd5\u7528 v-model \u53cc\u5411\u7ed1\u5b9a\n</code></pre></li> <li>\u4e3a\u6309\u94ae\u7ed1\u5b9a\u201c\u70b9\u51fb\u641c\u7d22\u201d\u4e8b\u4ef6 <pre><code>&lt;button @click=\"searchUsrs\"&gt;&lt;/button&gt;\n</code></pre></li> <li>\u5f15\u5165 <code>axios</code> \u5e76\u53d1\u9001\u8bf7\u6c42 <pre><code>import axios from 'axios'\nexport default {\n    data: { \n        return { \n            keyWord:''\n        }\n    },\n    methods: {\n        searchUsers() {\n            // \u8bf7\u6c42\u524d - Clear &amp; Load\n            this.$bus.$emit('updateData', {\n                isFirst: false,\n                isLoading: true,\n                users: [],\n                errMsg: ''\n            })\n            axois.get(`https://api.github.com/search/users?q=${this.keyWord}`)\n            .then({\n                res =&gt; { \n                    this.$bus.$emit('updateData', {\n                        isLoading: false,\n                        users: res.data.items\n                    })\n                },\n                err =&gt; { \n                    this.$bus.$emit('updateData', {\n                        isLoading: false,\n                        errMsg: err.message\n                    })\n                }\n            })\n        }\n    }\n}\n</code></pre> <p>\u56e0\u4e3a\u6b64\u5904 Search &amp; List \u662f\u5144\u5f1f\u7ec4\u4ef6\uff0c\u6240\u4ee5\u901a\u8fc7 $bus \u8fdb\u884c\u8f6c\u63a5</p> </li> </ol>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#list","title":"\u52a0\u8f7d\u63d0\u793a\uff08List \u72b6\u6001\u6307\u793a\uff09","text":"<p>\u5728 List \u7ec4\u4ef6\u4e2d\uff0c\u4f7f\u7528\u4e0b\u9762\u4e09\u4e2a\u53d8\u91cf\u63a7\u5236\u63d0\u793a\u4fe1\u606f\u7684\u5448\u73b0\uff1a <pre><code>data: {\n    info: { // \u4e3a\u4e86\u65b9\u4fbf\u6279\u91cf\u590d\u5236\uff0c\u6253\u5305\u8d77\u6765\n        isFirst: true,    // \u521d\u6b21\u663e\u793a\u63d0\u793a\n        isLoading: false, // \u52a0\u8f7d\u63d0\u793a\n        errMsg: '',       // \u9519\u8bef\u4fe1\u606f\u63d0\u793a\n        users: []\n    }\n}\uff0c\nmounted() {\n    this.$bus.$on('updateData', (dataObj) =&gt; {\n        this.info = {...this.info, ...dataObj} // \u5408\u5e76\u4fe1\u606f\uff08\u4ee5\u540e\u9762\u4e3a\u4e3b\uff09\uff0c\u4e14\u4e0d\u4e22\u5931\u5b57\u6bb5\n    })\n}\n</code></pre> <pre><code>&lt;div class=\"list\" v-show=\"user.length\"&gt;&lt;/div&gt;\n// Tips\n&lt;h1 v-show=\"isFirst\"&gt;\u6b22\u8fce\u4f7f\u7528&lt;/h1&gt;\n&lt;h1 v-show=\"isLoading\"&gt;\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019&lt;/h1&gt;\n&lt;h1 v-show=\"errMsg\"&gt;{{errMsg}}&lt;/h1&gt;\n</code></pre></p>"},{"location":"Nulling/Vue/Vue2/5%20Ajax%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#3-vue-resource","title":"3 vue-resource\uff08\u4e0d\u592a\u7528\uff09","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5c01\u88c5 <code>ajax</code> \u7684\u63d2\u4ef6</p> <ol> <li>\u5b89\u88c5 <code>npm i vue-resource</code></li> <li>\u5728 App.vue \u4e2d\u5f15\u5165\u63d2\u4ef6 <code>import vueResource from 'vue-resource'</code></li> <li>\u4f7f\u7528\u63d2\u4ef6\uff08\u521b\u5efa\u5b9e\u4f8b\u524d\uff09<code>Vue.use(vueResource)</code></li> <li>\u4f7f\u7528 vue-resource \u53d1\u8d77\u8bf7\u6c42 <pre><code>this.$http.get('url/args').then({\n    res =&gt; {},\n    err =&gt; {}\n})\n</code></pre></li> </ol>"},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/","title":"6 \u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5e93","text":"<p> \u7ea6 90 \u4e2a\u5b57  15 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u8fd9\u8fb9\u7528 <code>element-ui</code> \u8fdb\u884c\u4e3e\u4f8b</p>"},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_1","title":"\u5e38\u7528\u7ec4\u4ef6\u5e93","text":""},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_2","title":"\u79fb\u52a8\u7aef","text":"<ul> <li>Vent</li> <li>Cube Ui</li> <li>Mint UI</li> <li>Nut UI</li> </ul>"},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#pc","title":"PC\u7aef","text":"<ul> <li>Element UI</li> <li>IView UI</li> </ul>"},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_3","title":"\u57fa\u7840\u4f7f\u7528","text":"<p>Vue3 \u7248\u672c\u9700\u8981\u5b89\u88c5 <code>element-plus</code></p> <ol> <li>\u5b89\u88c5 <code>npm i element-ui</code></li> <li>\u5f15\u5165     <pre><code>// @main.js - \u5b8c\u6574\u5f15\u5165\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nVue.use(ELementUI)\n\n// \u6309\u9700\u5f15\u5165 - babel-plugin-component\n// 1. \u4f5c\u4e3a\u5f00\u53d1\u4f9d\u8d56\u5b89\u88c5 npm i babel-plugin-component -D\n// 2. \u4fee\u6539 babel.config.js \nimport {Button, Select} from 'element-ui'\nVue.component(Button.name, Button) // \u5355\u72ec\u6ce8\u518c\uff08\u524d\u9762\u53ef\u4ee5\u81ea\u5df1\u53d6tag\u540d\uff09\nVue.component(Select.name, Select) \n</code></pre></li> <li>\u4f7f\u7528 - \u5f80 template \u91cc\u9762\u4e22\u6807\u7b7e\u5c31\u884c</li> </ol>"},{"location":"Nulling/Vue/Vue2/6%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93/#_4","title":"\u96c6\u6210\u7b2c\u4e09\u65b9\u52a8\u753b","text":"<p>\u6b64\u5904\u4f7f\u7528 <code>animate.css</code></p> <ol> <li>\u5b89\u88c5 <code>npm install animate.css --save</code></li> <li>\u5f15\u5165 <code>import 'animate.css'</code></li> <li>\u914d\u7f6e\uff08 <code>name</code> + \u8fdb\u5165 / \u79bb\u5f00 \u6837\u5f0f\uff09     <code>html     &lt;transition name=\"animate_animated animate_bouncd\"     enter-active-class=\"animate_swing\"     leave-active-class=\"animate_backOutUp\"&gt;     &lt;/transition&gt;</code></li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/","title":"1 Intro","text":"<p> \u7ea6 1761 \u4e2a\u5b57  21 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Nulling/Wechat%20App/Intro/#1","title":"1 \u5c0f\u7a0b\u5e8f\u4e0e\u666e\u901a\u7f51\u9875\u5f00\u53d1\u7684\u533a\u522b","text":""},{"location":"Nulling/Wechat%20App/Intro/#11-api","title":"1.1 API","text":"<ul> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u65e0\u6cd5\u8c03\u7528 DOM &amp; BOM \u7684 API</li> <li>\u5c0f\u7a0b\u5e8f\u53ef\u4ee5\u8c03\u7528\u5fae\u4fe1\u73af\u5883\u63d0\u4f9b\u7684 \u5730\u7406\u5b9a\u4f4d / \u626b\u7801 / \u652f\u4ed8 \u7b49 API</li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#12","title":"1.2 \u5f00\u53d1\u6a21\u5f0f","text":"<ol> <li>\u7533\u8bf7\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8d26\u53f7</li> <li>\u5b89\u88c5\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u5de5\u5177</li> <li>\u521b\u5efa\u548c\u914d\u7f6e\u5c0f\u7a0b\u5e8f\u9879\u76ee </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#2-start-up","title":"2 Start Up","text":""},{"location":"Nulling/Wechat%20App/Intro/#21","title":"2.1 \u6ce8\u518c\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u8d26\u53f7","text":"<p>\u70b9\u6211\u7acb\u5373\u6ce8\u518c</p> <ol> <li>\u70b9\u51fb\u201c\u7acb\u5373\u6ce8\u518c\u201d</li> <li>\u9009\u62e9\u201c\u5c0f\u7a0b\u5e8f\u201d\u8d26\u53f7\u7c7b\u578b</li> <li>\u586b\u5199\u8d26\u53f7\u4fe1\u606f</li> <li>\u4fe1\u606f\u767b\u8bb0<ol> <li>\u6ce8\u518c\u56fd\u5bb6/\u5730\u533a = \u4e2d\u56fd\u5927\u9646</li> <li>\u4e3b\u4f53\u7c7b\u578b = \u4e2a\u4eba</li> </ol> </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#22-app_id","title":"2.2 \u83b7\u53d6 App_ID","text":"<ol> <li>\u767b\u9646\u540e\u53f0\uff0c\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u9009\u62e9\u201c\u5f00\u53d1-\u5f00\u53d1\u7ba1\u7406\u201d</li> <li>\u5728\u53f3\u4fa7\u9009\u62e9\u201c\u5f00\u53d1\u8bbe\u7f6e\u201d</li> <li>\u5728\u201c\u5f00\u53d1\u8005ID\u201d\u4e2d\u590d\u5236\u201cAppID\u201d</li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#23","title":"2.3 \u5b89\u88c5\u5f00\u53d1\u8005\u5de5\u5177","text":"<p>\u7a33\u5b9a\u7248\u4e0b\u8f7d\u94fe\u63a5</p> <ul> <li>\u8bbe\u7f6e\u4ee3\u7406 = \u4e0d\u4f7f\u7528\u4efb\u4f55\u4ee3\u7406\uff08\u907f\u514d\u88ab\u68af\u5b50\u5e72\u6270\uff09</li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#24-hello-world","title":"2.4 Hello World\uff01","text":"<ol> <li>\u9009\u62e9\u201c\u5c0f\u7a0b\u5e8f\u9879\u76ee-\u5c0f\u7a0b\u5e8f\u201c\uff0c\u70b9\u51fb\u2795\u53f7</li> <li>\u586b\u5199 App_ID\uff0c\u5f00\u53d1\u6a21\u5f0f = \u5c0f\u7a0b\u5e8f\uff0c\u540e\u7aef\u670d\u52a1 = \u4e0d\u4f7f\u7528\u4e91\u670d\u52a1\uff0c\u8bed\u8a00 = js</li> <li>\u9884\u89c8\u9879\u76ee\u6548\u679c<ul> <li>\u5728\u6a21\u62df\u5668\u4e0a\u67e5\u770b\u9879\u76ee\u6548\u679c -&gt; \u70b9\u51fb\u201c\u7f16\u8bd1\u201c\uff0c\u67e5\u770b\u6700\u65b0\u6548\u679c</li> <li>\u5728\u771f\u673a\u4e0a\u67e5\u770b\u9879\u76ee\u6548\u679c -&gt; \u70b9\u51fb\u201c\u9884\u89c8\u201d\uff0c\u4f7f\u7528\u5fae\u4fe1\u626b\u63cf\u4e8c\u7ef4\u7801\u6253\u5f00</li> </ul> </li> <li>\u6a21\u62df\u5668\u673a\u578b = iphone 6/7/8\uff0c\u7f29\u653e\u6bd4\u4f8b = 85%</li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#3-basic","title":"3 Basic","text":""},{"location":"Nulling/Wechat%20App/Intro/#31","title":"3.1 \u9879\u76ee\u57fa\u672c\u7ec4\u6210\u7ed3\u6784","text":"<ul> <li><code>pages</code> - \u7528\u4e8e\u5b58\u653e\u6240\u6709\u7684\u5c0f\u7a0b\u5e8f\u9875\u9762</li> <li><code>utils</code> - \u7528\u4e8e\u5b58\u653e\u5de5\u5177\u6027\u8d28\u7684\u6a21\u5757</li> <li><code>app.js</code> - \u9879\u76ee\u5165\u53e3\u6587\u4ef6</li> <li><code>app.json</code> - \u5168\u5c40\u914d\u7f6e\u6587\u4ef6</li> <li><code>app.wxss</code> - \u5168\u5c40\u6837\u5f0f\u6587\u4ef6</li> <li><code>sitemap.json</code> - \u914d\u7f6e\u5c0f\u7a0b\u5e8f\u53ca\u5176\u9875\u9762\u662f\u5426\u5141\u8bb8\u88ab\u5fae\u4fe1\u7d22\u5f15</li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#32","title":"3.2 \u9875\u9762\u57fa\u672c\u7ec4\u6210\u90e8\u5206","text":"<p>\u6240\u6709\u9875\u9762\u90fd\u5e94\u5b58\u653e\u5728 <code>pages</code> \u8def\u5f84\u4e0b\uff0c\u5355\u72ec\u4ee5\u6587\u4ef6\u5939\u5f62\u5f0f\u5b58\u5728\u3002</p> <p>\u4ee5 <code>index</code> \u754c\u9762\u4e3a\u4f8b\uff0c\u5e94\u5f53\u5728 <code>pages/index</code> \u4e0b\u5b58\u653e\u76f8\u5173\u7684 <code>wxml / wxss / js / json</code> \u6587\u4ef6</p> <ul> <li><code>.js</code>  - \u811a\u672c\u6587\u4ef6\uff0c\u5b58\u653e\u9875\u9762\u6570\u636e\u3001\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7b49</li> <li><code>.json</code> - \u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u7a97\u53e3\u5916\u89c2\u3001\u8868\u73b0\u7b49</li> <li><code>.wxml</code> - \u6a21\u7248\u7ed3\u6784\u6587\u4ef6</li> <li><code>.wxss</code> - \u6837\u5f0f\u8868\u6587\u4ef6</li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#33-json","title":"3.3 JSON \u914d\u7f6e\u6587\u4ef6","text":"<p>\u5c0f\u7a0b\u5e8f\u9879\u76ee\u4e2d\u5171\u6709\u4ee5\u4e0b4\u79cd <code>json</code> \u6587\u4ef6\uff1a</p> <ol> <li>\u6839\u76ee\u5f55\u4e0b\u7684 <code>app.json</code>  &lt;\u5168\u5c40\u914d\u7f6e\u6587\u4ef6&gt;<ul> <li><code>pages</code> - \u6240\u6709\u9875\u9762\u8def\u5f84</li> <li><code>window</code> - \u5168\u5c40\u5b9a\u4e49\u6240\u6709\u9875\u9762\u7684\u80cc\u666f\u8272\u3001\u6587\u5b57\u989c\u8272\u7b49</li> <li><code>style</code> - \u7ec4\u4ef6\u6837\u5f0f\u7248\u672c\uff08 <code>default = v2</code> \uff09\uff0c\u5220\u53bb\u540e\u9ed8\u8ba4\u4f7f\u7528\u65e7\u6837\u5f0f</li> <li><code>sitemapLocation</code> - \u6307\u660e <code>sitemap.json</code> \u7684\u8def\u5f84</li> </ul> </li> <li>\u6839\u76ee\u5f55\u4e0b\u7684 <code>project.config.json</code> &lt;\u5f00\u53d1\u5de5\u5177\u4e2a\u6027\u5316\u914d\u7f6e&gt;<ul> <li><code>setting</code> - \u7f16\u8bd1\u914d\u7f6e</li> <li><code>projectname</code> - \u9879\u76ee\u540d\u79f0\uff08 &lt;&gt; \u5c0f\u7a0b\u5e8f\u540d\u79f0\uff09</li> <li><code>appid</code> - \u5c0f\u7a0b\u5e8f ID</li> </ul> </li> <li>\u6839\u76ee\u5f55\u4e0b\u7684 <code>sitemap.json</code> &lt;\u662f\u5426\u5141\u8bb8\u7d22\u5f15&gt;<ul> <li>\u5141\u8bb8\u641c\u7d22 <code>action: \"allow\"</code>      \u5fae\u4fe1\u5c06\u901a\u8fc7\u722c\u866b\u4e3a\u9875\u9762\u5185\u5bb9\u5efa\u7acb\u7d22\u5f15\uff0c\u4f7f\u5176\u51fa\u73b0\u5728\u7528\u6237\u7684\u5bf9\u5e94\u68c0\u7d22\u7ed3\u679c\u4e2d</li> <li>\u4e0d\u5141\u8bb8\u641c\u7d22 <code>action: \"disallow\"</code> <p>\u7531\u4e8e\u9ed8\u8ba4\u5f00\u542f sitemap \u7d22\u5f15\u63d0\u793a\uff0c\u6211\u4eec\u53ef\u5728 <code>project.config.json</code>  \u914d \u7f6e <code>checkSiteMAp: \"false\"</code>  \u4ee5\u5c06\u5176\u5173\u95ed</p> </li> </ul> </li> <li>\u6bcf\u4e2a\u9875\u9762\u6587\u4ef6\u5939\u4e0b\u7684 <code>.json</code>         \u7528\u4e8e\u5bf9\u672c\u9875\u9762\u7684\u7a97\u53e3\u5916\u89c2\u8fdb\u884c\u914d\u7f6e\uff0c\u4f1a\u8986\u76d6<code>app.json - window</code> \u4e2d\u7684\u76f8\u540c\u914d\u7f6e\u9879</li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#34","title":"3.4 \u65b0\u5efa\u9875\u9762","text":"<p>\u5728 <code>app.json - pages</code> \u4e2d\u65b0\u589e\u9875\u9762\u8def\u5f84\uff0c\u5982 <code>pages/index/index</code> \u5f00\u53d1\u5de5\u5177\u4fbf\u4f1a\u81ea\u52a8\u521b\u5efa\u5bf9\u5e94\u6587\u4ef6\u3002</p>"},{"location":"Nulling/Wechat%20App/Intro/#35","title":"3.5 \u4fee\u6539\u9996\u9875","text":"<ul> <li>\u4e8b\u5b9e\u4e0a\uff0c\u9996\u9875\u4e0d\u4e00\u5b9a\u662f <code>index</code></li> <li>\u6211\u4eec\u53ef\u4ee5\u8c03\u6574 <code>pages</code> \u4e2d\u7684\u8def\u5f84\u987a\u5e8f\u5bf9\u9996\u9875\u8fdb\u884c\u8c03\u6574     \u5c0f\u7a0b\u5e8f\u4f1a\u5c06 \u8def\u5f84\u6392\u5728\u9996\u4f4d\u7684\u9875\u9762 \u4f5c\u4e3a\u9879\u76ee\u9996\u9875\u8fdb\u884c\u6e32\u67d3</li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#4-language","title":"4 Language","text":""},{"location":"Nulling/Wechat%20App/Intro/#41-wxml-vs-html","title":"4.1 WXML vs HTML","text":"<ol> <li>\u6807\u7b7e\u540d\u79f0\u4e0d\u540c<ul> <li>HTML = <code>div / span / img / a</code></li> <li>WXML = <code>view / text / image / navigator</code></li> </ul> </li> <li>\u5c5e\u6027\u8282\u70b9\u4e0d\u540c<ul> <li><code>&lt;a href=\"#\"&gt;&lt;/a&gt;</code></li> <li><code>&lt;navigator url=\"/pages/idx/idx\"&gt;&lt;/navigator&gt;</code></li> </ul> </li> <li>WXML \u63d0\u4f9b\u4e86\u7c7b\u4f3c\u4e8e vue \u7684\u6a21\u7248\u8bed\u6cd5<ul> <li>\u6570\u636e\u7ed1\u5b9a</li> <li>\u5217\u8868\u6e32\u67d3</li> <li>\u6761\u4ef6\u6e32\u67d3</li> </ul> </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#42-wxss-vs-css","title":"4.2 WXSS vs CSS","text":"<ol> <li>\u65b0\u589e <code>rpx</code>  \u5c3a\u5bf8\u5355\u4f4d<ul> <li>CSS \u9700\u8981\u624b\u52a8\u5bf9\u50cf\u7d20\u5355\u4f4d\u8fdb\u884c\u6362\u7b97\uff08<code>rem</code>\uff09</li> <li>WXSS \u652f\u6301 <code>rpx</code> \uff0c\u81ea\u52a8\u5728\u4e0d\u540c\u5c4f\u5e55\u5927\u5c0f\u4e0a\u8fdb\u884c\u6362\u7b97</li> </ul> </li> <li>\u63d0\u4f9b \u5168\u5c40\u6837\u5f0f &amp; \u5c40\u90e8\u6837\u5f0f<ul> <li><code>app.wxss</code> \u4f5c\u7528\u4e8e\u5168\u5c40</li> <li><code>page.wxss</code> \u4f5c\u7528\u4e8e\u5f53\u524d\u9875\u9762</li> </ul> </li> <li>XWSS \u4ec5\u652f\u6301 \u90e8\u5206 CSS \u9009\u62e9\u5668<ul> <li>\u7c7b\u9009\u62e9\u5668 &amp; id \u9009\u62e9\u5668</li> <li><code>element</code> \u9009\u62e9\u5668</li> <li>\u5e76\u96c6\u9009\u62e9\u5668 &amp; \u540e\u4ee3\u9009\u62e9\u5668</li> <li>\u4f2a\u7c7b\u9009\u62e9\u5668</li> </ul> </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#43-js","title":"4.3 JS","text":"<p>\u5c0f\u7a0b\u5e8f\u9879\u76ee\u4e2d\u7684 <code>.js</code> \u6587\u4ef6\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a</p> <ol> <li><code>app.js</code> - \u9879\u76ee\u5165\u53e3\u6587\u4ef6\uff0c\u901a\u8fc7 <code>APP()</code> \u542f\u52a8\u6574\u4e2a\u7a0b\u5e8f</li> <li><code>page.js</code> - \u9875\u9762\u5165\u53e3\u6587\u4ef6\uff0c\u901a\u8fc7 <code>Page()</code> \u521b\u5efa\u5e76\u8fd0\u884c\u9875\u9762</li> <li>\u666e\u901a <code>.js</code> - \u529f\u80fd\u6a21\u5757\u6587\u4ef6\uff0c\u7528\u4e8e\u5c01\u88c5 \u516c\u5171\u51fd\u6570 / \u5c5e\u6027</li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#5","title":"5 \u5bbf\u4e3b\u73af\u5883","text":"<p>\u5373\uff1a\u7a0b\u5e8f\u8fd0\u884c\u6240\u5fc5\u9700\u7684\u4f9d\u8d56\u73af\u5883\uff0c\u6bd4\u5982 Android / iOS</p> <p>\u6ce8\u610f\uff1aAndroid \u7248\u5fae\u4fe1\u662f\u65e0\u6cd5\u5728 iOS \u73af\u5883\u4e0b\u8fd0\u884c\u7684\uff01</p> <p>\u5c0f\u7a0b\u5e8f\u7684\u5bbf\u4e3b\u73af\u5883\u662f\u624b\u673a\u5fae\u4fe1\uff0c\u53ef\u4ee5\u63d0\u4f9b\u5bbf\u4e3b\u73af\u5883\u63d0\u4f9b\u7684\u80fd\u529b\u6765\u5b8c\u6210\u666e\u901a\u7f51\u9875\u65e0\u6cd5\u5b8c\u6210\u7684\u529f\u80fd\u3002</p>"},{"location":"Nulling/Wechat%20App/Intro/#51","title":"5.1 \u901a\u4fe1\u6a21\u578b","text":"<ul> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u901a\u4fe1\u4e3b\u4f53\u662f\uff1a\u6e32\u67d3\u5c42 &amp; \u903b\u8f91\u5c42<ul> <li>WXML &amp; WXSS \u5de5\u4f5c\u5728\u6e32\u67d3\u5c42</li> <li>JS \u5de5\u4f5c\u5728\u903b\u8f91\u5c42</li> </ul> </li> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u901a\u4fe1\u6a21\u578b\u5206\u4e3a\u4ee5\u4e0b\u4e24\u7c7b\uff0c\u90fd\u901a\u8fc7\u5fae\u4fe1\u5ba2\u6237\u7aef\u8fdb\u884c\u8f6c\u53d1<ul> <li>\u6e32\u67d3\u5c42 &amp; \u903b\u8f91\u5c42 \u4e4b\u95f4\u7684\u901a\u4fe1</li> <li>\u903b\u8f91\u5c42 &amp; \u7b2c\u4e09\u65b9\u670d\u52a1\u5668 \u4e4b\u95f4\u7684\u901a\u4fe1</li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#52","title":"5.2 \u8fd0\u884c\u673a\u5236","text":"<ul> <li>\u542f\u52a8\u8fc7\u7a0b<ol> <li>\u4e0b\u8f7d\u4ee3\u7801\u5305\u5230\u672c\u5730</li> <li>\u89e3\u6790 <code>app.json</code></li> <li>\u6267\u884c <code>app.js</code> \uff0c\u8c03\u7528 <code>APP()</code> \u521b\u5efa\u5b9e\u4f8b</li> <li>\u6e32\u67d3\u9996\u9875</li> </ol> </li> <li>\u9875\u9762\u6e32\u67d3\u8fc7\u7a0b<ol> <li>\u52a0\u8f7d <code>page.json</code></li> <li>\u52a0\u8f7d WXML &amp; WXSS</li> <li>\u6267\u884c <code>page.js</code> \uff0c\u8c03\u7528 <code>Page()</code> \u521b\u5efa\u9875\u9762\u5b9e\u4f8b</li> </ol> </li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#53","title":"5.3 \u7ec4\u4ef6","text":"<p>\u5171\u5206\u4e3a\u4e5d\u5927\u7c7b\uff0c\u6bd4\u8f83\u5e38\u7528\u7684\u6709\uff1a\u89c6\u56fe\u5bb9\u5668 / \u57fa\u7840\u5185\u5bb9 / \u8868\u5355\u7ec4\u4ef6 / \u5bfc\u822a\u7ec4\u4ef6</p>"},{"location":"Nulling/Wechat%20App/Intro/#531","title":"5.3.1 \u5e38\u7528\u89c6\u56fe\u7ec4\u4ef6","text":"<ul> <li><code>view</code>  - \u7c7b\u4f3c\u4e8e <code>&lt;div&gt;</code>\uff0c\u662f\u4e00\u4e2a\u5757\u7ea7\u5143\u7d20</li> <li><code>scroll-view</code> - \u6eda\u52a8\u89c6\u56fe\u533a\u57df\uff0c\u5e38\u7528\u4e8e\u5b9e\u73b0\u6eda\u52a8\u5217\u8868 <pre><code>&lt;scroll-view scroll-y=\"true\"&gt;\n// scroll-x = true -&gt; \u5141\u8bb8\u6a2a\u5411\u6eda\u52a8\n// scroll-y = true -&gt; \u5141\u8bb8\u7eb5\u5411\u6eda\u52a8\n    &lt;view&gt;A&lt;/view&gt;\n    &lt;view&gt;B&lt;/view&gt;\n    &lt;view&gt;C&lt;/view&gt;\n&lt;/scroll-view&gt;\n</code></pre></li> <li><code>swiper</code> &amp; <code>swiper-item</code> - \u8f6e\u64ad\u56fe <pre><code>&lt;swiper&gt;\n// autoplay = \"true\" \u81ea\u52a8\u64ad\u653e\n// indicator-dots = \"true\" \u663e\u793a\u7d22\u5f15\u70b9\n    &lt;swiper-item&gt;A&lt;/swiper-item&gt;\n    &lt;swiper-item&gt;B&lt;/swiper-item&gt;\n    &lt;swiper-item&gt;C&lt;/swiper-item&gt;\n&lt;/swiper&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#532","title":"5.3.2 \u5e38\u7528\u57fa\u7840\u5185\u5bb9\u7ec4\u4ef6","text":"<ul> <li><code>text</code>  \u7c7b\u4f3c\u4e8e <code>span</code> \uff0c\u662f\u884c\u5185\u5143\u7d20 <pre><code>&lt;view&gt;\n    telephone: &lt;text selectable=\"true\"&gt;19883101672&lt;text&gt;\n    // \u652f\u6301\u957f\u6309\u9009\u4e2d\u6587\u672c\uff08\u4ec5&lt;text&gt;\u652f\u6301\uff09\n&lt;/view&gt;\n</code></pre></li> <li><code>rich-text</code> \u652f\u6301\u628aHTML\u6e32\u67d3\u6210WXML\u7ed3\u6784 <p>\u975e\u5e38\u7684\u79bb\u8c31\uff0c\u975e\u5e38\u7684\u70c2</p> </li> </ul> <pre><code>&lt;rich-text nodes=\"&lt;h1 style='color:red;'&gt;Hello World!&lt;/h1&gt;\"/&gt;\n// \u6e32\u67d3\u51fa\u4e0b\u9762\u8fd9\u4e2a\u4e1c\u897f\uff08WXML\u672c\u8eab\u751a\u81f3\u4e0d\u652f\u6301&lt;h1&gt;\u6807\u7b7e\uff09s\n&lt;h1 style=\"color: red;\"&gt;Hello World!&lt;/h1&gt;\n</code></pre>"},{"location":"Nulling/Wechat%20App/Intro/#533","title":"5.3.3 \u5176\u4ed6\u5e38\u7528\u7ec4\u4ef6","text":"<ul> <li><code>button</code> \u6309\u94ae\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>open-type</code> \u8c03\u7528\u5fae\u4fe1\u63d0\u4f9b\u7684\u5404\u79cd\u529f\u80fd<ul> <li><code>type=\"str\"</code>  \u6307\u5b9a\u6309\u94ae\u7c7b\u578b - default / warn</li> <li><code>size=\"str\"</code>  \u6307\u5b9a\u6309\u94ae\u5927\u5c0f</li> <li><code>plain=\"ture\"</code>  \u6307\u5b9a\u6309\u94ae\u9542\u7a7a</li> </ul> </li> <li><code>image</code> \u56fe\u7247<ul> <li><code>src</code> \u56fe\u7247\u6e90\u8def\u5f84</li> <li><code>mode</code> \u56fe\u7247\u7f29\u653e\u683c\u5f0f<ul> <li><code>scaleToFill</code> \u62c9\u4f38\u5e76\u586b\u6ee1\uff08\u9ed8\u8ba4\uff09</li> <li><code>aspecFit</code> \u4fdd\u6301\u6bd4\u4f8b\uff0c\u957f\u8fb9\u586b\u6ee1</li> <li><code>aspectFiil</code> \u4fdd\u6301\u6bd4\u4f8b\uff0c\u77ed\u8fb9\u586b\u6ee1</li> <li><code>widthFix</code> \u4fdd\u6301\u539f\u5bbd\uff0c\u9ad8\u5ea6\u81ea\u9002\u5e94</li> <li><code>heightFix</code> \u4fdd\u6301\u539f\u9ad8\uff0c\u5bbd\u5ea6\u81ea\u9002\u5e94</li> </ul> </li> </ul> </li> <li><code>navigator</code> \u7c7b\u4f3c\u4e8e <code>&lt;a&gt;</code></li> </ul>"},{"location":"Nulling/Wechat%20App/Intro/#54-api","title":"5.4 API","text":"<p>\u5fae\u4fe1\u63d0\u4f9b\u7684API\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a</p> <ol> <li> <p>\u4e8b\u4ef6\u76d1\u542c</p> <p>\u4ee5 <code>on</code> \u5f00\u5934\uff0c\u5982 <code>wx.onWindowResize(callback_Func)</code></p> </li> <li> <p>\u540c\u6b65</p> <p>\u4ee5 <code>Sync</code> \u7ed3\u5c3e\uff0c\u540c\u6b65 API \u6267\u884c\u7ed3\u679c\uff0c\u53ef\u901a\u8fc7\u8fd4\u56de\u503c\u76f4\u63a5\u83b7\u53d6\uff0c\u6267\u884c\u9519\u8bef\u4f1a\u629b\u5f02\u5e38</p> <p>\u5982 <code>wx.setStorageSync('key', 'val')</code></p> </li> <li> <p>\u5f02\u6b65</p> <p>\u7c7b\u4f3c\u4e8e <code>$.ajax(options)</code> \u9700\u8981\u901a\u8fc7 <code>success / fail / complete</code> \u63a5\u53d7\u7ed3\u679c</p> <p>\u5982 <code>wx.request()</code> \u53d1\u8d77\u7684\u7f51\u7edc\u8bf7\u6c42\u9700\u8981\u901a\u8fc7 <code>success</code> \u56de\u8c03\u51fd\u6570\u63a5\u53d7\u8fd4\u56de\u503c</p> </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#6-version-release","title":"6 Version &amp; Release","text":""},{"location":"Nulling/Wechat%20App/Intro/#61","title":"6.1 \u53d1\u5e03\u4e0a\u4f20\u6b65\u9aa4","text":"<ol> <li>\u4e0a\u4f20\u4ee3\u7801<ul> <li>\u5728\u9876\u90e8\u5de5\u5177\u680f\u53f3\u4fa7\u9009\u62e9\u201c\u4e0a\u4f20\u201d</li> <li>\u586b\u5199 \u7248\u672c\u53f7 &amp; \u9879\u76ee\u5907\u6ce8</li> </ul> </li> <li>\u67e5\u770b\u5df2\u4e0a\u4f20\u7248\u672c<ul> <li>\u767b\u9646\u540e\u53f0\uff0c\u9009\u62e9\u201c\u7ba1\u7406-\u7248\u672c\u7ba1\u7406-\u5f00\u53d1\u7248\u672c\u201d</li> <li>\u5c06\u6307\u5b9a\u7684\u4e0a\u4f20\u7248\u672c\u63d0\u4ea4\u5ba1\u6838</li> </ul> </li> <li>\u53d1\u5e03<ul> <li>\u767b\u9646\u540e\u53f0\uff0c\u9009\u62e9\u201c\u7ba1\u7406-\u7248\u672c\u7ba1\u7406-\u5ba1\u6838\u7248\u672c\u201d</li> <li>\u5c06\u5236\u5b9a\u7684\u5ba1\u6838\u7248\u672c\u53d1\u5e03</li> </ul> </li> </ol>"},{"location":"Nulling/Wechat%20App/Intro/#62","title":"6.2 \u63a8\u5e7f\u4e0e\u6570\u636e\u67e5\u770b","text":"<ul> <li>\u5c0f\u7a0b\u5e8f\u4e8c\u7ef4\u7801\u83b7\u53d6<ul> <li>\u767b\u9646\u540e\u53f0\uff0c\u9009\u62e9\u201c\u8bbe\u7f6e - \u57fa\u672c\u8bbe\u7f6e\u201d</li> <li>\u9009\u62e9\u201c\u57fa\u672c\u4fe1\u606f - \u5c0f\u7a0b\u5e8f\u7801\u53ca\u7ebf\u4e0b\u7269\u6599\u4e0b\u8f7d\u201d</li> </ul> </li> <li>\u8fd0\u8425\u6570\u636e\u67e5\u770b<ul> <li>\u5c0f\u7a0b\u5e8f\u540e\u53f0</li> <li>\u5c0f\u7a0b\u5e8f\u6570\u636e\u52a9\u624b\uff08emm\u8fd9\u4e5f\u662f\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/","title":"2 Template & Setting","text":"<p> \u7ea6 3029 \u4e2a\u5b57  358 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#1-wxml","title":"1 WXML","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#11-single-page","title":"1.1 \u6570\u636e\u7ed1\u5b9a\uff08Single Page\uff09","text":"<ul> <li>\u5728 <code>page.js -&gt; data</code> \u4e2d\u5b9a\u4e49\u6570\u636e <pre><code>Page({\n    data: {\n        info: \"init data\", // \u5b57\u7b26\u4e32\u7c7b\u578b\n        msgList:[{msg:'hello'}, {msg:'world'}] // \u6570\u7ec4\u7c7b\u578b\n    }\n})\n</code></pre></li> <li>\u5728 <code>WXML</code> \u4e2d\u4f7f\u7528\u6570\u636e <p>\u4f7f\u7528 <code>Mustache</code> \u8bed\u6cd5\uff08\u5c31\u662f <code>{{}}</code> \uff09\u5c06\u6570\u636e\u7ed1\u5b9a\u5230\u9875\u9762\u4e2d\u8fdb\u884c\u6e32\u67d3</p> </li> </ul> <pre><code>&lt;view&gt;{{info}}&lt;/view&gt;\n// \u4f1a\u53d8\u6210\u4e0b\u9762\u8fd9\u6837\n&lt;view&gt;init data&lt;/view&gt;\n</code></pre> <p>Mustache\u8bed\u6cd5\u7684\u5e94\u7528\u573a\u666f</p> <ul> <li>\u52a8\u6001\u7ed1\u5b9a\u5185\u5bb9\uff08\u89c1\u4e0a\uff09</li> <li> <p>\u52a8\u6001\u7ed1\u5b9a\u5c5e\u6027\uff0c\u4ee5 <code>image.src</code> \u4e3a\u4f8b <pre><code>Page({\n    data: {\n        imgSrc: 'http://sth'\n    }\n})\n</code></pre> <pre><code>&lt;image src=\"{{imgSrc}}\"&gt;&lt;/image&gt;\n</code></pre></p> </li> <li> <p>\u8fd0\u7b97\uff08\u4e09\u5143 / \u7b97\u6570...\uff09 <pre><code>Page({\n    data: {\n        randNum: Math.random() * 10, // 10 \u4ee5\u5185\u7684\u968f\u673a\u6570\n        rand2: Math.random().toFixed(2) // \u751f\u6210\u4e24\u4f4d\u5c0f\u6570\n    }\n})\n</code></pre> <pre><code>&lt;view&gt;\u968f\u673a\u6570\u5b57{{ randNum &gt;= 5 ? '\u5927\u4e8e\u7b49\u4e8e5' : '\u5c0f\u4e8e5' }}&lt;/view&gt;\n&lt;view&gt;\u968f\u673a\u5c0f\u6570{{ rand2 * 100 }}&lt;/view&gt;\n</code></pre></p> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#12","title":"1.2 \u4e8b\u4ef6\u7ed1\u5b9a","text":"<p>\u6e32\u67d3\u5c42 -&gt; \u903b\u8f91\u5c42 \u7684\u901a\u8baf\u65b9\u5f0f\uff0c\u5c06\u7528\u6237\u5728\u6e32\u67d3\u5c42\u4ea7\u751f\u7684\u884c\u4e3a\u53cd\u9988\u5230\u903b\u8f91\u5c42\u8fdb\u884c\u5904\u7406</p> \u5e38\u7528\u4e8b\u4ef6 tap input change \u7ed1\u5b9a\u65b9\u5f0f bingtap / bind:tap bindinput / bind:input bindchange / bind:change \u4e8b\u4ef6\u63cf\u8ff0 \u7c7b\u4f3c\u4e8eclick \u6587\u672c\u6846\u8f93\u5165 \u72b6\u6001\u6539\u53d8 <p>\u5f53\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u88ab\u89e6\u53d1\u65f6\uff0c\u5c06\u9ed8\u8ba4\u63a5\u6536\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61 <code>event</code> \uff0c\u5c5e\u6027\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5c5e\u6027 \u7c7b\u578b \u8bf4\u660e type String \u4e8b\u4ef6\u7c7b\u578b timeStamp Integer \u9875\u9762\u6253\u5f00-&gt;\u4e8b\u4ef6\u89e6\u53d1\u7ecf\u8fc7\u7684 ms target Object \u88ab\u89e6\u53d1\u7ec4\u4ef6\u7684\u5c5e\u6027\u96c6\u5408 currentTarget Object \u5f53\u524d\u7ec4\u4ef6\u7684\u5c5e\u6027\u96c6\u5408 detail Object \u989d\u5916\u4fe1\u606f touches Array \u5f53\u524d\u505c\u7559\u5728\u5c4f\u5e55\u4e2d\u7684\u89e6\u6478\u70b9\u4fe1\u606f\u6570\u7ec4 changedTouches Array \u5f53\u524d\u53d8\u5316\u7684\u89e6\u6478\u70b9\u4fe1\u606f\u6570\u7ec4 <p><code>target</code> vs <code>currentTarget</code></p> <ul> <li> <p>\u56e0\u4e3a\u5fae\u4fe1\u652f\u6301\u4e8b\u4ef6\u4ee5\u5192\u6ce1\u7684\u5f62\u5f0f\u7531\u5185\u5411\u5916\u6269\u6563\uff0c\u56e0\u6b64\uff1a\u5185\u90e8 button \u89e6\u53d1\u7684 tap \u4e8b\u4ef6\u4f1a\u5f15\u8d77\u5916\u90e8\u5bb9\u5668\u7684 tap \u5904\u7406\u51fd\u6570\u8c03\u7528\u3002</p> </li> <li> <p>\u5728\u6b64\u60c5\u51b5\u4e0b\uff1a\u5185\u90e8 button \u662f <code>target</code>\uff0c\u5373\u89e6\u53d1\u4e8b\u4ef6\u7684\u7ec4\u4ef6\uff1b\u800c\u5916\u90e8\u5bb9\u5668\u662f <code>currentTarget</code> \uff0c\u5373\u5f53\u524d\u6b63\u5728\u54cd\u5e94\u4e8b\u4ef6\u7684\u7ec4\u4ef6</p> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#121-bindtap","title":"1.2.1 bindtap \u89e6\u6478\u4e8b\u4ef6\u7ed1\u5b9a","text":"<p>\u7c7b\u4f3c\u4e8e <code>onclick</code> \u4e8b\u4ef6</p> <ul> <li>\u4e3a\u7ec4\u4ef6\u7ed1\u5b9a tap \u4e8b\u4ef6 <pre><code>&lt;button type=\"primary\" bindtap=\"btnTapHandler\"&gt;\u6309\u94ae\u634f&lt;/button&gt;\n</code></pre></li> <li>\u5b9a\u4e49\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u65f6\u95f4\u53c2\u6570\u901a\u8fc7\u5f62\u53c2 <code>event(e)</code> \u63a5\u6536 <pre><code>Page({\n    btnTapHandler(e) { // \u5728 page.js \u4e2d\u5b9a\u4e49\u8be5\u6309\u94ae\u89e6\u6478\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\n        console.log(e)\n    }\n})\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#122-data","title":"1.2.2 \u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u4e3a data \u6570\u636e\u8d4b\u503c","text":"<ol> <li>\u5728 <code>data</code> \u4e2d\u58f0\u660e\u5f85\u8d4b\u503c\u6570\u636e\uff08\u53ef\u4ee5\u80e1\u4e71\u8d4b\u4e00\u4e2a\u521d\u503c\uff09</li> <li>\u5728 \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d \u8c03\u7528 <code>this.setData(dataObject)</code> \u65b9\u6cd5\u91cd\u65b0\u4e3a\u8be5\u6570\u636e\u8d4b\u503c <pre><code>Page({\n    data: {\n        count: 0\n    },\n    changeCount(e) {\n        this.setData({\n            // \u53ef\u4ee5\u901a\u8fc7 this.data.name \u8bbf\u95ee\u6307\u5b9a\u7684\u6570\u636e\u5bf9\u8c61\n            count: this.data.count + 1 // \u8fd9\u91cc\u662f\u8fed\u4ee3\u7684orz\n        })\n    }\n})\n</code></pre></li> </ol>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#123","title":"1.2.3 \u4e8b\u4ef6\u4f20\u53c2","text":"<p>\u5728\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u4e0d\u80fd \u5728\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u540c\u65f6\u4e3a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4f20\u53c2\u3002   so\uff0c\u4e0b\u9762\u8fd9\u4e00\u6bb5\u662f\u884c\u4e0d\u901a\u7684\uff1a <pre><code>&lt;button type=\"warn\" bindtap=\"tapHandler(123)\"&gt;&lt;/button&gt;\n// \u8fd9\u91cc\u4f1a\u628a tapHandler(123) \u6574\u4f53\u5f53\u6210\u51fd\u6570\u540d\n</code></pre></p> <p>\u6b64\u5904\uff0c\u6211\u4eec\u4f7f\u7528 <code>data-*</code> \u8fd9\u4e00\u81ea\u5b9a\u4e49\u5c5e\u6027\u8fdb\u884c\u4f20\u53c2\uff0c\u5176\u4e2d <code>*</code> \u5c06\u88ab\u89e3\u6790\u4e3a\u53c2\u6570\u540d\u79f0\u3002 <pre><code>&lt;button bindtap=\"tapHandler\" data-info=\"{{2}}\"&gt;&lt;/button&gt;\n// \u5b9a\u4e49\u4e86\u53c2\u6570 info = 2 ( 2 \u63d2\u503c\u4e86\uff0c\u4f46\u6ca1\u5b8c\u5168\u63d2 )\n// \u4e0d\u7528\u63d2\u503c\u8bed\u6cd5\u4f1a\u88ab\u89e3\u6790\u6210 String\n</code></pre>   \u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>event.target.dataset.name</code> \u6765\u8bbf\u95ee\u5bf9\u5e94\u7684\u53c2\u6570 <pre><code>tapHandler(e) {\n    // e.target.dataset \u5305\u542b\u4e86\u6240\u6709\u4ee5 data-* \u5f62\u5f0f\u4f20\u9012\u7684\u53c2\u6570\n    console.log(e.target.dataset.info)\n}\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#124-bindinput","title":"1.2.4 bindinput \u6587\u672c\u6846\u8f93\u5165\u4e8b\u4ef6","text":"<p><pre><code>&lt;input bindinput=\"inputHandler\"&gt;&lt;/input&gt;\n</code></pre> <pre><code>inputHandler(e) {\n    // \u53ef\u4ee5\u901a\u8fc7 e.detail.value \u62ff\u5230\u6587\u672c\u6846\u6700\u65b0\u7684\u503c\n    console.log(e.detail.value)\n}\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#125-input-data","title":"1.2.5 input \u4e0e data \u7684\u6570\u636e\u540c\u6b65","text":"<p>\u6709\u4e00\u79cd\u4e0d\u660e\u6240\u4ee5\u7684\u5957\u5a03\u611f</p> <p>\u6b65\u9aa4\u5982\u4e0b\uff1a 1. \u5b9a\u4e49 <code>data</code> <pre><code>Page({\n    data: {\n        message: \"hello\"\n    }\n})\n</code></pre> 2. \u52a8\u6001\u7ed1\u5b9a\u6587\u672c\u6846\u5185\u5bb9 <pre><code>&lt;input value=\"{{ message }}\" bindinput=\"inputHandler\"&gt;&lt;/input&gt;\n</code></pre> 3. \u7f8e\u5316\u6837\u5f0f\uff08\u6574\u70b9CSS\uff09 4. <code>bindinput</code> <pre><code>inputHandler(e) {\n    this.setDate({\n        message: e.detail.value\n    })\n}\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#126-wxif","title":"1.2.6 \u6761\u4ef6\u6e32\u67d3 wx:if","text":"<p>\u5728\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u901a\u8fc7 <code>wx:if=\"{{ condition }}\"</code> \u6765\u5224\u65ad\u662f\u5426\u6e32\u67d3\u8be5\u4ee3\u7801\u5757 <pre><code>&lt;view vw:if=\"{{ condition }}\"&gt; True &lt;/view&gt;\n</code></pre></p> <p>\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u591a\u5206\u652f\u5224\u65ad\uff08\u8ff7\u60d1\uff09 <pre><code>&lt;view vw:if=\"{{ type == 1}}\"&gt; male &lt;/view&gt;\n&lt;view vw:elif=\"{{ type == 2 }}\"&gt; female &lt;/view&gt;\n&lt;view vw:else&gt; secret &lt;/view&gt;\n</code></pre></p> <p>\u9700\u8981\u4e00\u6b21\u63a7\u5236\u591a\u4e2a\u7ec4\u4ef6\u663e\u9690\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>&lt;block&gt;</code> \u5305\u88f9\u591a\u4e2a\u7ec4\u4ef6\uff1a   <code>&lt;block&gt;</code>\u4ec5\u8d77\u5230\u5305\u88f9\u4f5c\u7528\uff0c\u4e0d\u4f1a\u5728\u9875\u9762\u4e2d\u6e32\u67d3\u4e3a\u4efb\u4f55\u6807\u7b7e <pre><code>&lt;block wx:if=\"{{ condition }}\"&gt;\n    &lt;view&gt; v1 &lt;/view&gt;\n    &lt;view&gt; v2 &lt;/view&gt;\n&lt;/block&gt;\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#127-hidden","title":"1.2.7 hidden","text":"<p>\u6761\u4ef6\u4e3a <code>true</code> \u65f6\u9690\u85cf\uff1a <pre><code>&lt;view hidden=\"{{ condition }}\"&gt; hidden while true &lt;/view&gt;\n</code></pre></p> <p>wx:if  vs  hidden</p> <ul> <li>\u8fd0\u884c\u65b9\u5f0f\u4e0d\u540c<ul> <li><code>wx:if</code> \u53ef\u4ee5\u52a8\u6001 \u521b\u5efa/\u5220\u9664 \u5143\u7d20</li> <li><code>hidden</code> \u901a\u8fc7 <code>display:none/block</code> \u63a7\u5236\u663e\u9690\uff08\u5143\u7d20\u59cb\u7ec8\u5b58\u5728\uff09</li> </ul> </li> <li>\u4f7f\u7528\u5efa\u8bae<ul> <li>\u9891\u7e41\u5207\u6362\u65f6 - <code>hidden</code></li> <li>\u63a7\u5236\u6761\u4ef6\u590d\u6742\u65f6 - <code>wx:if &amp; elif</code> \uff08 <code>hidden</code> \u53ea\u652f\u6301\u5224\u65ad T/F \uff09</li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#128-vwfor","title":"1.2.8 \u5217\u8868\u6e32\u67d3 vw:for","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>vx:for</code> \u6839\u636e\u6307\u5b9a\u6570\u7ec4\uff0c\u5faa\u73af\u6e32\u67d3 \u91cd\u590d\u7684\u7ec4\u4ef6\u7ed3\u6784 <pre><code>&lt;view wx:for=\"{{ array }}\"&gt;\n    index = {{ index }}, current item = {{ item }}\n    // \u63d2\u503c\u53d8\u91cf\u540d\u79f0\u662f\u56fa\u5b9a\u7684\uff1aindex - \u7d22\u5f15\uff0citem - \u5f53\u524d\u9879\u76ee\n&lt;/view&gt;\n</code></pre></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a \u7d22\u5f15 &amp; \u5f53\u524d\u5faa\u73af\u9879\u53d8\u91cf\u540d\uff08\u53ea\u662f\u66ff\u6362\u4e86 <code>index</code> &amp; <code>item</code> \u5bf9\u5e94\u7684\u66ff\u6362\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u7528\u7684\u5f88\u5c11\uff09 <pre><code>&lt;view wx:for=\"{{ array }}\" wx:for-index=\"idx\" wx:for-item=\"itemName\"&gt;\n    index = {{ idx }}, item_name = {{ itemName }}\n    // \n&lt;/view&gt;\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#129-wxkey","title":"1.2.9 wx:key (\u53ef\u9009)","text":"<p>\u4e3a\u6e32\u67d3\u7684\u5217\u8868\u9879\u76ee\u6307\u5b9a\u552f\u4e00\u7684 <code>key</code> \u503c\uff0c\u4ece\u800c\u63d0\u9ad8\u6e32\u67d3\u7684\u6548\u7387\uff08\u6ca1\u6709\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u7528 <code>index</code> \uff09 <pre><code>&lt;view wx:for=\"{{ userList }}\" wx:key=\"id\"&gt;\n    {{ item.name }}\n&lt;/view&gt;\n</code></pre> <pre><code>Pafe({\n    data: {\n        userList: [\n            { id:1, name: \"amy\"},\n            { id:2, name: \"coco\"},\n            { id:3, name: \"kacy\"}\n        ]\n    }\n})\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#2-wxss","title":"2 WXSS","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#21-css-n","title":"2.1 CSS + N","text":"<ol> <li>\u589e\u52a0\u4e86 <code>rpx</code> \u5c3a\u5bf8\u5355\u4f4d\uff08\u4f46\u662f\u6ca1\u6709 <code>rem</code> \u634f\uff09        \u5168\u79f0\u662f <code>responsive pixel</code> \uff0c\u7528\u4e8e\u89e3\u51b3\u5c4f\u5e55\u9002\u914d\u95ee\u9898\uff1b        $\\(1 \\ rpx = \\frac{device-width}{750}\\)$</li> <li>\u589e\u52a0\u4e86 <code>@import</code> \u6837\u5bfc\u5165\u5916\u8054\u6837\u5f0f\u8868 <pre><code>@import \"common.wxss\";\n// @import \"\u76f8\u5bf9\u8def\u5f84\"; - \u5206\u53f7\u8868\u793a\u8bed\u53e5\u7ed3\u675f\uff08\u4f1a\u5d4c\u5165\u6574\u5f20 WXSS \u8868\uff09\n... current wxss ...\n</code></pre></li> <li>\u53d6\u6d88\u4e86\u4e00\u4e9b\u5947\u5999\u9009\u62e9\u5668\u8bed\u6cd5</li> </ol>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#22","title":"2.2 \u5168\u5c40\u6837\u5f0f &amp; \u5c40\u90e8\u6837\u5f0f","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#_1","title":"\u5168\u5c40\u6837\u5f0f","text":"<p>\u5b9a\u4e49\u4e8e\u6839\u76ee\u5f55\u4e0b\u7684 <code>app.wxss</code>\uff0c \u5e94\u7528\u4e8e\u6240\u6709\u9875\u9762</p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#_2","title":"\u5c40\u90e8\u6837\u5f0f","text":"<p>\u5b9a\u4e49\u4e8e <code>page.wxss</code> \uff0c\u4ec5\u4f5c\u7528\u4e8e\u5f53\u524d\u9875\u9762</p> <ul> <li>\u5f53\u5c40\u90e8\u6837\u5f0f\u4e0e\u5168\u5c40\u6837\u5f0f\u51b2\u7a81 \u65f6\uff0c\u4f1a\u91c7\u7528\u5c31\u8fd1\u539f\u5219\uff0c\u4f7f\u7528\u5c40\u90e8\u6837\u5f0f\u8986\u76d6\u5168\u5c40\u6837\u5f0f</li> <li>\u5f53\u5c40\u90e8\u6837\u5f0f \u6743\u91cd &gt;= \u5168\u5c40\u6837\u5f0f\u65f6\uff0c\u4f1a\u4ea7\u751f\u8986\u76d6\uff08\u6574\u5757\uff09</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#3","title":"3 \u5168\u5c40\u914d\u7f6e","text":"<p>\u4f4d\u4e8e\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684 <code>app.json</code> \u6587\u4ef6\uff0c\u5e38\u7528\u914d\u7f6e\u9879\u5982\u4e0b\uff1a</p> <ul> <li><code>pages</code> -  \u6240\u6709 \u9875\u9762\u7684\u5b58\u653e\u8def\u5f84</li> <li> <p><code>window</code> - \u5168\u5c40\u8bbe\u7f6e\u5c0f\u7a0b\u5e8f\u7684 \u7a97\u53e3 \u5916\u89c2</p> <p>\u5c0f\u7a0b\u5e8f\u7a97\u53e3\u88ab\u5212\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206</p> <ul> <li><code>navigationBar \u9876\u90e8\u5bfc\u822a\u680f</code> </li> <li><code>background \u4e0b\u62c9\u5237\u65b0\u65f6\u663e\u793a\u7684\u80cc\u666f</code> </li> <li><code>main \u4e3b\u4f53\u533a\u57df\uff0c\u7528\u4e8e WXML \u5e03\u5c40\u663e\u793a</code></li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>window</code> \u7ed3\u70b9\u914d\u7f6e <code>navigationBar</code> &amp; <code>background</code> \u533a\u57df\u7684\u6837\u5f0f\uff1b</p> </li> </ul> \u5c5e\u6027\u540d \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e navigationBarTitleText String \u5b57\u7b26\u4e32 \u5bfc\u822a\u680f\u6807\u9898\u6587\u5b57\u5185\u5bb9 navigationBarBackgroundColor HexColor #000000 \u5bfc\u822a\u680f\u80cc\u666f\u989c\u8272 navigationBarTextStyle String white \u5bfc\u822a\u680f\u6807\u9898\u989c\u8272\uff0c\u4ec5 black / white backgroundColor HexColor #ffffff \u7a97\u53e3\u80cc\u666f\u8272 backgroundTextStyle string dark \u4e0b\u62c9 loading \u6837\u5f0f\uff0c\u4ec5\u652f\u6301 dark / light enablePullDownRefresh Boolean false \u5f00\u542f\u5168\u5c40\u4e0b\u62c9\u5237\u65b0\uff08\u91cd\u65b0\u52a0\u8f7d\u6570\u636e\uff09 onReachBottomDistance Number 50 \u4e0a\u62c9\u89e6\u5e95\uff08\u52a0\u8f7d\u66f4\u591a\u6570\u636e\uff09\u4e8b\u4ef6\u89e6\u53d1\u65f6\u8ddd\u79bb\u5e95\u90e8\u7684\u8ddd\u79bb(px)\uff0c\u5efa\u8bae\u4f7f\u7528\u9ed8\u8ba4\u503c <ul> <li> <p><code>tabBar</code> - \u8bbe\u7f6e\u5c0f\u7a0b\u5e8f\u9876\u90e8/\u5e95\u90e8 tabBar \u7684\u6548\u679c</p> <ul> <li>\u53ea\u80fd\u914d\u7f6e [2, 5] \u4e2a tab \u6807\u7b7e</li> <li>\u8bbe\u7f6e\u5728 \u9876\u90e8 \u65f6\uff0c \u4e0d\u663e\u793a icon \u53ea\u663e\u793a\u6587\u672c</li> <li>\u7531\u4ee5\u4e0b\u516d\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a<ol> <li><code>backgroundColor</code> \u6574\u4e2a tabBar \u7684\u80cc\u666f\u989c\u8272</li> <li><code>borderStyle</code> \u8fb9\u6846\u989c\u8272</li> <li><code>selectedIconPath</code> &amp; <code>iconPath</code> \u9009\u4e2d/\u672a\u9009\u4e2d \u65f6\u7684\u56fe\u7247\u8def\u5f84</li> <li><code>color</code> &amp; <code>selectedColor</code> \u9009\u4e2d/\u672a\u9009\u4e2d \u65f6\u7684\u6587\u672c\u989c\u8272 <pre><code>@app.json:\n\"tabBar\": {\n    %%\u5fc5\u586b%%\n    \"list\": [\n        {\n            %%\u5fc5\u586b%%\n            \"pagePath\": \"\u5728Pages\u4e2d\u5b9a\u4e49\u8fc7\u7684\u9875\u9762\u8def\u5f84\",\n            \"text\": \"tab\u4e2d\u663e\u793a\u7684\u6587\u5b57\",\n            %%\u9009\u586b%%\n            \"iconPath\": \"\u56fe\u6807\u8def\u5f841\"\n            \"selectedIconPath\": \"\u56fe\u6807\u8def\u5f842\"\n            %%\u4e00\u822c\u628a\u56fe\u7247\u8d44\u6e90\u4e22\u5728\u6839\u76ee\u5f55\u4e0b\u7684images\u6587\u4ef6\u5939\u4e2d%%\n        }, ...\n    ],\n    %%\u9009\u586b%%\n    \"position\": \"bottom/top\", %%\u9ed8\u8ba4top%%\n    \"borderStyle\": \"black / whirte\", %%\u9ed8\u8ba4black%%\n    \"color\": \"#000000\",\n    \"selectedColor\": \"#ffffff\",\n    \"backgroundColor\": \"#333333\"\n}\n</code></pre></li> </ol> </li> </ul> </li> </ul> <p><code>Tip</code> :      \u5728 tabBar - list \u4e2d\u51fa\u73b0\u7684\u754c\u9762\u5fc5\u987b\u5728 <code>app.json - pages</code> \u914d\u7f6e\u9879\u4e2d \u5904\u4e8e\u7b2c 1 - n \u4f4d</p> <ul> <li><code>style</code> - \u4f7f\u7528\u7684\u7ec4\u4ef6\u6837\u5f0f\u7248\u672c</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#4","title":"4 \u9875\u9762\u914d\u7f6e","text":"<ul> <li>\u5f53 \u9875\u9762\u914d\u7f6e \u4e0e \u5168\u5c40\u914d\u7f6e \u51b2\u7a81\u65f6\uff0c\u6839\u636e\u5c31\u8fd1\u539f\u5219\uff0c\u4ee5 \u9875\u9762\u914d\u7f6e \u6837\u5f0f\u4e3a\u51c6\uff08\u8986\u76d6\u5168\u5c40\u6837\u5f0f\uff09</li> <li>\u5e38\u7528\u914d\u7f6e\u9879\u4e0e\u5168\u5c40\u914d\u7f6e\u4e2d\u4e00\u81f4</li> <li>\u56e0\u4e3a\u4e0d\u662f\u6240\u6709\u9875\u9762\u90fd\u9700\u8981\u4e0b\u62c9\u5237\u65b0\u6548\u679c\uff0c\u6240\u4ee5 <code>enablePullDownRefresh</code> \u4e00\u822c\u5728\u9700\u8981\u7684\u754c\u9762\u4e2d\u5355\u72ec\u8fdb\u884c\u914d\u7f6e</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#5-get-post","title":"5 \u6570\u636e\u8bf7\u6c42 - Get &amp; Post","text":"<p>\u5904\u4e8e\u5b89\u5168\u6027\u8003\u8651\uff0c\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u63a5\u53e3\u8bf7\u6c42\u5b58\u5728\u4ee5\u4e0b\u4e24\u4e2a\u9650\u5236\uff1a</p> <ol> <li>\u53ea\u80fd\u8bf7\u6c42 <code>HTTPS</code> \u7c7b\u578b\u7684\u63a5\u53e3</li> <li>\u63a5\u53e3\u57df\u540d\u5fc5\u987b\u6dfb\u52a0\u5230 \u4fe1\u4efb\u5217\u8868 \u4e2d</li> </ol> <p>\u8df3\u8fc7\u5408\u6cd5\u57df\u540d\u6821\u9a8c</p> <ul> <li>\u201c\u8be6\u60c5\u201d - \u201c\u672c\u5730\u8bbe\u7f6e\u201d - \u52fe\u9009\u201c\u4e0d\u6821\u9a8c\u5408\u6cd5\u57df\u540d\u3001web-site  ... \u201c</li> <li>\u53ef\u4ee5\u6682\u65f6\u4f7f\u7528\u4e0d\u5728\u5217\u8868\u4e2d\u7684\u57df\u540d\uff0c\u5e76\u4f7f\u7528 HTTP \u63a5\u53e3</li> <li>\u6b64\u64cd\u4f5c\u5728 \u6b63\u5f0f\u4e0a\u7ebf\u65f6\u5c06\u5931\u6548\uff0c\u5728\u5f00\u53d1\u4e0e\u8c03\u8bd5\u9636\u6bb5\u53ef\u7528</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#51","title":"5.1 \u914d\u7f6e\u5408\u6cd5\u57df\u540d","text":"<ol> <li>\u767b\u5f55\u7ba1\u7406\u540e\u53f0</li> <li> <p>\u9009\u62e9\u201c\u5f00\u53d1\u201d - \u201c\u5f00\u53d1\u8bbe\u7f6e\u201d - \u201c\u670d\u52a1\u5668\u57df\u540d\u201d - \u201c\u4fee\u6539 request \u5408\u6cd5\u57df\u540d\u201d</p> </li> <li> <p>\u57df\u540d\u4e0d\u80fd\u4f7f\u7528 IP\u5730\u5740 / localhost</p> </li> <li>\u670d\u52a1\u5668\u57df\u540d\u4e00\u4e2a\u6708\u5185\u6700\u591a\u53ef\u4ee5\u7533\u8bf7 5 \u6b21\u4fee\u6539</li> </ol>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#52-get","title":"5.2 GET \u8bf7\u6c42","text":"<p><pre><code>&lt;button bindtap=\"getInfo\"&gt;\u53d1\u9001\u8bf7\u6c42&lt;/button&gt;\n</code></pre> <pre><code>@page.js:\ngetInfo() {\n    wx.request({\n        url: \"api\u63a5\u53e3url\",\n        method: \"GET\",\n        data: { %%\u5411\u670d\u52a1\u7aef\u53d1\u9001\u7684\u6570\u636e%%\n            name: 'u_name',\n            age: 22\n        },\n        success: (res) =&gt; {\n            console.log(res.data) %%\u6253\u5370\u53d1\u6325\u7684 data \u5b57\u6bb5%%\n            %%\u6210\u529f\u540e\u7684\u56de\u8c03\u51fd\u6570%%\n        }\n    })\n}\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#53-post","title":"5.3 POST \u8bf7\u6c42","text":"<pre><code>@page.js\npostInfo() {\n    wx.request({\n        url: \"api\u63a5\u53e3url\",\n        method: \"POST\", %%\u4e3b\u8981\u5c31\u662f\u8fd9\u4e00\u884c\u6539\u6210\u4e86 POST%%\n        data: {some data},\n        success: (res) =&gt; {\n            ... something ...\n        }\n    })\n}\n</code></pre>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#54-onload","title":"5.4 \u9875\u9762\u52a0\u8f7d\u65f6\u8bf7\u6c42\u521d\u59cb\u6570\u636e - onLoad","text":"<p><pre><code>@page.js\nonLoad: function(options) {\n    do sth;\n    %%\u8c03\u7528\u5176\u4ed6\u51fd\u6570%%\n    this.getSwiperList();\n    this.getGridList();\n},\ngetSwiperList() {\n    %%\u5f00\u5c40\u81ea\u52a8\u83b7\u53d6\u8f6e\u64ad\u56fe\u5217\u8868%%\n    wx.request({\n        url: \"...\",\n        method: \"GET/POST\",\n        success: (res) =&gt; {\n            this.setData({\n                swiperList: res.data\n            })\n        }\n    })\n},\ngetGridList() {}\n</code></pre> \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u83b7\u53d6\u7684\u5217\u8868\u52a8\u6001\u6e32\u67d3\u8f6e\u64ad\u56fe\uff1a <pre><code>&lt;swiper&gt;\n    &lt;swiper-item wx:for=\"{{swiperList}}\" wx:key=\"id\"&gt;\n        &lt;image src=\"{{item.image}}\"&gt;&lt;/image&gt;\n    &lt;/swiper-item&gt;\n&lt;/swiper&gt;\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#55-ajax","title":"5.5 \u8de8\u57df &amp; Ajax \uff08\u90fd\u4e0d\u5b58\u5728\uff09","text":"<ul> <li>\u4e8b\u5b9e\u4e0a \u5c0f\u7a0b\u5e8f\u4e0d\u5b58\u5728\u8de8\u57df\u95ee\u9898 - \u5bbf\u4e3b\u662f\u5fae\u4fe1\u5ba2\u6237\u7aef\uff0c\u800c\u975e\u6d4f\u89c8\u5668</li> <li>\u800c Ajax \u7684\u6838\u5fc3\u4f9d\u8d56\u4e8e \u6d4f\u89c8\u5668 \u4e2d\u7684 <code>XMLHttpRequest</code> \u5bf9\u8c61\uff0c\u5728\u5c0f\u7a0b\u5e8f\u4e2d\u5e76\u4e0d\u5b58\u5728</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#tip-flex","title":"Tip: \u4f7f\u7528 flex \u5e03\u5c40\u5b9e\u73b0\u4e5d\u5bab\u683c","text":"<ul> <li>\u9996\u5148\uff0c\u6e32\u67d3\u6570\u636e\u90fd\u662f\u4ece\u540e\u7aef\u8bf7\u6c42\u5f97\u5230\u7684\u3002\u6b64\u5904\u4ec5\u5c55\u793a\u52a8\u6001\u6e32\u67d3 <pre><code>&lt;view class=\"gird-list\"&gt;\n    &lt;view class=\"grid-item\" wx:for=\"{{gridList}}\" wx:key=\"{id}\"&gt;\n        &lt;image src=\"{{item.icon}}\"/&gt;\n        &lt;text&gt;{{item.name}}&lt;/text&gt;\n    &lt;/view&gt;\n&lt;/view&gt;\n</code></pre></li> <li>\u7136\u540e\u901a\u8fc7\u9b54\u6027\u7684\u6837\u5f0f\u8bbe\u7f6e\u6765\u5f62\u6210\u4e5d\u5bab\u683c <pre><code>.grid-list {\n    display: flex;\n    flex-wrap: wrap; %%\u5141\u8bb8\u6362\u884c%%\n}\n.grid-item {\n    width: 33.33%; %%\u521a\u597d\u4e00\u884c\u4e09\u4e2a%%\n    box-sizing: border-box; %%\u4e0d\u7136\u52a0\u8fb9\u6846\u4f1a\u5d29\uff0c\u53e6\u5916*\u4f3c\u4e4e\u4e0d\u80fd\u7528**\n}\n</code></pre></li> <li>\u6b64\u5904\u8865\u5145\u4e00\u4e2a\u8bbe\u7f6e\u8868\u683c\u8fb9\u6846\u7684\u65b9\u6cd5\uff1a<ul> <li>inner\uff1a\u8bbe\u7f6e <code>right</code> &amp; <code>bottom</code></li> <li>outer\uff1a\u8bbe\u7f6e <code>left</code> &amp; <code>top</code></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#6","title":"6 \u9875\u9762\u5bfc\u822a","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#61-navigator","title":"6.1 \u58f0\u660e\u5f0f\u5bfc\u822a navigator","text":"<p>\u7c7b\u4f3c\u4e8e\u901a\u8fc7 <code>&lt;a&gt;</code> \u8fdb\u884c\u8df3\u8f6c</p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#611-tabbar","title":"6.1.1 \u8df3\u8f6c\u5230 tabBar \u4e2d\u5305\u542b\u7684\u9875\u9762","text":"<ul> <li>\u5fc5\u987b\u6807\u6ce8 <code>open-type=\"switchTab\"</code> \uff0c\u5426\u5219\u65e0\u6cd5\u6b63\u5e38\u8df3\u8f6c</li> <li><code>url</code> \u5730\u5740\u5fc5\u987b\u4ee5 <code>/</code> \u5f00\u5934 <pre><code>&lt;navigator url=\"/url\" open-type=\"switchTab\"&gt;content&lt;/navigator&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#612","title":"6.1.2 \u8df3\u8f6c\u5230\u4e00\u822c\u9875\u9762","text":"<ul> <li>\u6807\u6ce8 <code>open-type=\"navigate\"</code> (\u53ef\u7701\u7565) <pre><code>&lt;navigator url=\"/url\" open-type=\"navigate\"&gt;&lt;/navigator&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#613","title":"6.1.3 \u540e\u9000\uff08\u591a\u7ea7\u540e\u9000\uff09","text":"<ul> <li>\u5fc5\u987b\u6807\u6ce8 <code>open-type=\"navigateBack\"</code>\uff0c\u8868\u793a\u8fdb\u884c \u540e\u9000\u5bfc\u822a</li> <li>\u8bbe\u65bd <code>delta=\"num\"</code>\uff0c\u5176\u4e2d <code>num</code> \u8868\u793a\u540e\u9000\u5c42\u6570\uff08\u9ed8\u8ba4\u4e3a1 - \u8fd4\u56de\u4e0a\u4e00\u9875\uff09 <pre><code>&lt;navigator open-type=\"navigateBack\" delta='1'&gt;\u8fd4\u56de\u4e0a\u4e00\u9875&lt;/navigator&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#62","title":"6.2 \u7f16\u7a0b\u5f0f\u5bfc\u822a","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#621-tabbar","title":"6.2.1 \u8df3\u8f6c\u5230 tabBar \u4e2d\u5305\u542b\u7684\u9875\u9762","text":"<p>\u8c03\u7528 <code>wx.switchTab(Object)</code>\uff0c\u53c2\u6570\u5bf9\u8c61\u5982\u4e0b\uff1a</p> <ul> <li>\u5fc5\u586b\uff1a<ul> <li><code>url</code>\uff1aString \u7c7b\u578b -\u8def\u5f84\u540e\u4e0d\u80fd\u5e26\u53c2\u6570</li> </ul> </li> <li>\u9009\u586b\uff1a<ul> <li><code>success</code>\uff1a\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>fail</code>\uff1a\u5931\u8d25\u65f6\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>complete</code>\uff1a\u7c7b\u4f3c\u4e8e finally - \u65e0\u8bba\u6210\u8d25\u90fd\u4f1a\u6267\u884c <pre><code>&lt;button bindtap=\"goToMessage\"&gt;\u524d\u5f80\u6d88\u606f\u754c\u9762&lt;/button&gt;\n</code></pre> <pre><code>goToMessage() {\n    wx.switchTab({\n        url: \"/pages/message/message\"\n    })\n}\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#622","title":"6.2.2 \u8df3\u8f6c\u5230\u4e00\u822c\u9875\u9762","text":"<p>\u4f7f\u7528 <code>wx.navigateTo(Object)</code>\uff0c\u53c2\u6570\u540c\u4e0a\u3002</p>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#623","title":"6.2.3 \u540e\u9000","text":"<ul> <li>\u4f7f\u7528 <code>wx.navigateBack</code>\uff0c\u53c2\u6570\u4e2d\u4ec5\u7528 <code>delta</code> \u66ff\u6362\u4e86 <code>url</code>\uff1a     <code>delta</code> \uff1anumber \u7c7b\u578b - \u8fd4\u56de\u9875\u9762\u6570\uff0c\u9ed8\u8ba4\u4e3a1\uff0c\u5927\u4e8e\u6700\u5927\u5c42\u7ea7\u65f6\u8fd4\u56de\u9996\u9875\u3002</li> <li>\u4ec5\u56de\u9000\u4e00\u5c42\u65f6\uff0c\u4f7f\u7528<code>wx.navigateBack()</code> \u5373\u53ef</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#63","title":"6.3 \u5bfc\u822a\u4f20\u53c2","text":"<ul> <li>\u58f0\u660e\u5f0f\u5bfc\u822a<ul> <li>\u53ef\u4ee5\u5728\u8def\u5f84\u540e \u643a\u5e26\u53c2\u6570\uff0c\u53ef\u4ee5\u5728\u201c\u9875\u9762\u53c2\u6570\u201d\u4e2d\u8fdb\u884c\u67e5\u770b</li> <li>\u53c2\u6570\u4e0e\u8def\u5f84\u4e4b\u95f4\u4f7f\u7528 <code>?</code> \u5206\u9694\uff0c\u4e0d\u540c\u53c2\u6570\u4e4b\u95f4\u4f7f\u7528 <code>&amp;</code> \u5206\u9694</li> <li>\u952e\u503c\u5bf9\u4e4b\u95f4\u4f7f\u7528 <code>=</code> \u8fde\u63a5 <pre><code>&lt;navigator url=\"/pages/info/info?name=zs&amp;age=20\"&gt;\u524d\u5f80Info\u9875\u9762&lt;/navigator&gt;\n</code></pre></li> </ul> </li> <li> <p>\u7f16\u7a0b\u5f0f\u5bfc\u822a</p> <ul> <li>\u4e5f\u662f\u76f4\u63a5\u585e\u5728 <code>url</code> \u53c2\u6570\u540e\u9762 <pre><code>goToInfo() {\n    wx.navigateTo() {\n        url: '/pages/info/info?name=zs&amp;age=20'\n    }\n}\n</code></pre></li> </ul> </li> <li> <p>\u5728 onLoad \u4e2d \u63a5\u53d7\u5bfc\u822a\u53c2\u6570</p> <ul> <li>\u58f0\u660e\u5f0f/\u7f16\u7a0b\u5f0f\u53c2\u6570 \u90fd\u53ef\u4ee5\u5728 onLoad \u4e8b\u4ef6\u4e2d\u8fdb\u884c\u83b7\u53d6 <pre><code>onLoad: function(options) {\n    %%options \u4e2d\u5373\u4e3a\u901a\u8fc7\u5bfc\u822a\u4f20\u9012\u7684\u53c2\u6570%%\n    console.log(options)\n    %%\u56e0\u4e3a\u53ea\u80fd\u5728 onLoad \u4e2d\u76f4\u63a5\u83b7\u53d6\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u628a\u7ed3\u679c\u6302\u5230 query \u5bf9\u8c61\u4e2d%%\n    this.setDat({\n        query: options\n    })\n}\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#7","title":"7 \u9875\u9762\u4e8b\u4ef6","text":""},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#71-","title":"7.1 \u4e0b\u62c9\u5237\u65b0 - \u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u6570\u636e","text":"<ul> <li>\u542f\u7528\u4e0b\u62c9\u5237\u65b0<ul> <li>\u5728 <code>json - window</code> \u4e2d\u8bbe\u7f6e <code>enablePullRefresh: true</code></li> <li>\u4e00\u822c\u4e3a\u9875\u9762 \u5355\u72ec\u914d\u7f6e\uff0c\u800c\u975e\u5168\u5c40\u914d\u7f6e</li> </ul> </li> <li>\u914d\u7f6e\u4e0b\u62c9\u7a97\u53e3\u6837\u5f0f<ul> <li><code>backgroundColor</code>\uff1a\u7a97\u53e3\u80cc\u666f\u989c\u8272</li> <li><code>backgroundTextStyle</code>\uff1aloading \u6837\u5f0f  - dark / light</li> </ul> </li> <li>\u76d1\u542c \u4e0b\u62c9\u5237\u65b0\u4e8b\u4ef6 <pre><code>@page.js\nonPullDownReresh: function() {\n    \u91cd\u7f6e\u6570\u636e;\n    wx.stopPullDownRefresh();\n}\n</code></pre></li> <li>\u505c\u6b62\u4e0b\u62c9\u5237\u65b0\u7279\u6548<ul> <li>\u4e0d\u624b\u52a8\u8fdb\u884c\u5173\u95ed\u7684\u8bdd\uff0c\u4e0b\u62c9\u5237\u65b0\u6548\u679c\u4f1a\u4e00\u76f4\u663e\u793a</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>wx.stopPullDownRefresh()</code> \u624b\u52a8\u5173\u95ed</li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#72-","title":"7.2 \u4e0a\u62c9\u89e6\u5e95 - \u52a0\u8f7d\u66f4\u591a\u6570\u636e/\u5206\u9875","text":"<ul> <li>\u663e\u793a loading \u63d0\u793a\u6846<ul> <li>\u914d\u5957\u8c03\u7528 <code>wx.showLoading(options)</code> &amp; <code>wx.hideLoading(options)</code></li> <li><code>title</code>\uff1aStirng\u7c7b\u578b\uff0c\u5fc5\u586b - \u63d0\u793a\u7684\u6587\u5b57\u5185\u5bb9</li> </ul> </li> <li>\u76d1\u542c \u4e0a\u62c9\u89e6\u5e95\u4e8b\u4ef6 &amp; \u8282\u6d41 <pre><code>@page.js\ndata: {\n    isloadind: flase %%\u8282\u6d41\u9600 - \u5f53\u524d\u65e0\u8bf7\u6c42%%\n}\nonReachBottom: function() {\n    if(this.data.isloading) return; %%\u5224\u65ad\u662f\u5426\u5904\u4e8e\u8282\u6d41\u72b6\u6001%%\n    this.getColors();\n}\n</code></pre></li> <li>setData \u65f6\u65b0\u65e7\u6570\u636e\u7684\u62fc\u63a5 <pre><code>getColors() {\n    wx.showLoading({title: '\u52a0\u8f7d\u4e2d...'}); %%\u5f00\u59cb\u524d\u663e\u793a\u52a0\u8f7d\u63d0\u793a%%\n    this.setData({\n        isloading: true %%\u5173\u95ed\u8282\u6d41\u9600%%\n    })\n    wx.request({\n        ...\n        success: (res) =&gt; {\n            this.setData({\n                %%...\u662f\u5c55\u5f00\u8fd0\u7b97\u7b26%%\n                colorList: [...this.data.colorList, ...res.data]\n            })\n        },\n        complete: () =&gt; {\n            wx.hideLoading();\n            this.setData({\n                isloading: false %%\u5f00\u542f\u8282\u6d41\u9600%%\n            })\n        }\n    })\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#_3","title":"\u81ea\u5b9a\u4e49\u7f16\u8bd1\u6a21\u5f0f","text":"<ul> <li>\u9009\u62e9\u201c\u666e\u901a\u7f16\u8bd1\u201d\u4e0b\u62c9\u83dc\u5355\u4e2d\u7684\u201c\u6dfb\u52a0\u7f16\u8bd1\u6a21\u5f0f\u201d</li> <li>\u914d\u7f6e\u201c\u542f\u52a8\u9875\u9762\u201d &amp; \u201c\u542f\u52a8\u53c2\u6570\u201d\uff0c\u65b9\u4fbf\u770b\u5c40\u90e8\u6548\u679c</li> <li>\u5f03\u7528\u65f6\uff0c\u9009\u62e9\u201c\u5220\u9664\u7f16\u8bd1\u6a21\u5f0f\u201d</li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#8","title":"8 \u751f\u547d\u5468\u671f","text":"<ul> <li><code>Life Cycle</code> \u6307\u5c0f\u7a0b\u5e8f\u4ece \u521b\u5efa - \u8fd0\u884c - \u5173\u95ed \u6240\u7ecf\u5386\u7684\uff08\u65f6\u95f4\u6bb5\uff09\u3002</li> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u751f\u547d\u5468\u671f\u5206\u4e3a\u4ee5\u4e0b\u4e24\u7c7b\uff1a<ul> <li>\u5e94\u7528\u751f\u547d\u5468\u671f\uff1a\u5c0f\u7a0b\u5e8f \u542f\u52a8 - \u8fd0\u884c - \u9500\u6bc1 \u7684\u8fc7\u7a0b</li> <li>\u9875\u9762\u751f\u547d\u5468\u671f\uff1a\u6bcf\u4e2a\u9875\u9762 \u52a0\u8f7d - \u6e32\u67d3 - \u9500\u6bc1 \u7684\u8fc7\u7a0b</li> </ul> </li> <li>\u751f\u547d\u5468\u671f\u51fd\u6570\uff08\u65f6\u95f4\u70b9\uff09<ul> <li>\u662f\u7531\u6846\u67b6\u63d0\u4f9b\u7684\u5185\u7f6e\u51fd\u6570\uff0c\u4f1a\u968f\u7740\u751f\u547d\u5468\u671f\u81ea\u52a8\u6309\u6b21\u5e8f\u6267\u884c</li> <li>\u5141\u8bb8\u7a0b\u5e8f\u733f\u5728\u7279\u5b9a\u7684\u65f6\u95f4\u70b9\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\uff0c\u6bd4\u5982\u5141\u8bb8\u5728 onLoad \u65f6\u521d\u59cb\u5316\u9875\u9762\u6570\u636e</li> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u5206\u4e3a\u4ee5\u4e0b\u4e24\u7c7b\uff1a<ul> <li>\u5e94\u7528\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\uff1a\u5728 <code>app.js</code> \u4e2d\u58f0\u660e <pre><code>@app.js\nApp({\n    %%\u521d\u59cb\u5316\u5b8c\u6210\u65f6\u6267\u884c\uff0c\u4ec5\u6267\u884c\u4e00\u6b21%%\n    onLaunch: function(options) {},\n    %%\u5c0f\u7a0b\u5e8f\u542f\u52a8/\u4ece\u540e\u53f0\u8fdb\u5165\u524d\u53f0\u65f6\u89e6\u53d1%%\n    onShow: function(options) {},\n    %%\u5c0f\u7a0b\u5e8f\u4ece\u524d\u53f0\u8fdb\u5165\u540e\u53f0\u65f6\u89e6\u53d1%%\n    onHide: function() {}\n})\n</code></pre></li> <li>\u9875\u9762\u751f\u547d\u5468\u671f\u51fd\u6570\uff1a\u5728 <code>page.js</code> \u4e2d\u58f0\u660e <pre><code> // @page.js\n Page({\n     onLoad: function(options) {}, %%\u9875\u9762\u52a0\u8f7d\uff0c\u4ec5\u8c03\u7528\u4e00\u6b21%%\n     onShow: function() {},  %%\u9875\u9762\u663e\u793a%%\n     onReady: function() {}, %%\u521d\u6b21\u6e32\u67d3\u5b8c\u6210\uff0c\u4ec5\u8c03\u7528\u4e00\u6b21%%\n     onHide: function() {},  %%\u9875\u9762\u9690\u85cf%%\n     onUnLoad: function() {} %%\u9875\u9762\u5378\u8f7d\uff0c\u4ec5\u8c03\u7528\u4e00\u6b21%%\n })\n</code></pre></li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#9-wxs-js","title":"9 WXS - JS","text":"<ul> <li>\u5728 WXML \u4e2d \u65e0\u6cd5\u8c03\u7528 page.js \u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u4f46 \u53ef\u4ee5\u8c03\u7528 WXS \u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5178\u578b\u5e94\u7528\u662f\u201c\u8fc7\u6ee4\u5668\u201d</li> <li>WXS \u4e0d\u80fd\u8c03\u7528 js \u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u4e5f\u4e0d\u80fd\u8c03\u7528\u5c0f\u7a0b\u5e8f\u63d0\u4f9b\u7684 API</li> <li>\u4e0d\u80fd\u4f5c\u4e3a\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff01</li> <li>\u53ea\u80fd\u4f7f\u7528 <code>var</code> \u5b9a\u4e49\u53d8\u91cf\uff0c\u53ea\u80fd\u7528 <code>function</code> \u800c\u4e0d\u80fd\u7528\u533f\u540d\u7bad\u5934\u51fd\u6570</li> <li>\u53ef\u4ee5\u5185\u5d4c\u5728 WXML \u7684 <code>&lt;wxs&gt;</code> \u6807\u7b7e\u4e2d\uff08\u7c7b\u4f3c\u4e8e js \u5185\u5d4c\u5728 <code>&lt;script&gt;</code> \u6807\u7b7e\u4e2d\uff09<ul> <li>\u6bcf\u4e2a\u5185\u5d4c\u7684 <code>&lt;wxs&gt;</code> \u6807\u7b7e\u90fd\u5fc5\u987b\u6307\u5b9a <code>module</code> \u5c5e\u6027\uff08\u5f53\u524d\u6a21\u5757\u540d\u79f0\uff09 <pre><code>&lt;view&gt;{{m1.toUpper(user_name)}}&lt;/view&gt;\n&lt;wxs module=\"m1\"&gt;\n    module.exports.toUpper = function(str) {\n        return str.toUpperCase();\n    }\n&lt;/wxs&gt;\n</code></pre></li> </ul> </li> <li>\u53ef\u4ee5\u5916\u8054 WXS \u811a\u672c\u6587\u4ef6\uff08\u6587\u4ef6\u4e00\u822c\u4e22\u5728\u6839\u76ee\u5f55\u7684 <code>util</code> \u6587\u4ef6\u5939\u4e0b\uff09     <pre><code>&lt;wxs src=\"\u76f8\u5bf9\u8def\u5f84\" module=\"\u6307\u5b9a\u6a21\u5757\u540d\u79f0\"&gt;&lt;/wxs&gt;\n</code></pre> <pre><code>@xxx.wxs\nfunction toLower(str) {\n    return str.toLowerCase();\n}\nmodule.exports = {\n    toLower: toLower\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#_4","title":"\u4e5d\u5bab\u683c\u5bfc\u822a\u8df3\u8f6c","text":"<ul> <li>\u5b9e\u9645\u4e0a\u6240\u6709\u754c\u9762\u70b9\u51fb\u8c03\u8f6c\u540e\u6307\u5411\u540c\u4e00\u4e2a\u9875\u9762</li> <li>\u901a\u8fc7 <code>url</code> \u4f20\u9012 id &amp; name\uff0c\u4ee5\u6b64\u4e3a\u4f9d\u636e\u4ece\u6570\u636e\u5e93\u7b5b\u9009\u6570\u636e\uff0c\u5e76\u6539\u53d8\u9875\u9762\u6807\u9898</li> <li>\u6279\u91cf\u6e32\u67d3\u83dc\u5355\u9879\uff08\u4f7f\u7528 navigator \u5305\u88f9\uff09     <pre><code>&lt;navigator wx:for=\"girdList\" wx:key=\"id\" url=\"/pages/shoplist/shoplist?id={{item.id}}&amp;name={{item.name}}\"&gt;\n    &lt;image src=\"{{item.icon}}\"&gt;&lt;/image&gt;\n    &lt;text&gt;{{item.name}}&lt;/text&gt;\n&lt;/navigator&gt;\n</code></pre></li> <li>\u6839\u636e\u53c2\u6570\u91cd\u7f6e\u9875\u9762\u6807\u9898\uff08\u76f4\u63a5\u5728 page.json \u4e2d\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u5199\u6b7b\uff09     <pre><code>data: {\n    query: {}\n},\nonLoad: function(options) {\n    this.setData({\n        query: options\n    })\n}\nonReady: function(){\n    wx.setNavigaionBarTitle({\n        title: this.data.query.name\n    })\n}\n</code></pre></li> <li>\u52a0\u8f7d\u5546\u94fa\u6570\u636e<ul> <li>\u63a5\u53e3\u4fe1\u606f<ul> <li>URL\uff1a<code>https://www.escook.cn/categories/\u9875\u9762id/shops</code></li> <li>\u53c2\u6570<ul> <li><code>_page</code>  - \u5f53\u524d\u8bf7\u6c42\u7684\u9875\u53f7</li> <li><code>_limit</code> - \u6bcf\u9875\u5305\u542b\u7684\u8bb0\u5f55\u6570\u91cf</li> </ul> </li> <li>\u8fd4\u56de\u503c\uff1a[in header] <code>X-Total-Count</code> - \u603b\u8bb0\u5f55\u6570\u91cf</li> </ul> </li> <li>\u81ea\u5b9a\u4e49\u6570\u636e<ul> <li><code>shopList: []</code> - \u672c\u9875\u4e2d\u7684\u6240\u6709\u5546\u94fa\u4fe1\u606f</li> <li><code>page: 1</code> - \u9ed8\u8ba4\u8bf7\u6c42\u7b2c\u4e00\u9875</li> <li><code>pageSize: 10</code> - \u9ed8\u8ba4\u4e00\u9875\u5305\u542b10\u6761\u4fe1\u606f</li> <li><code>total: 0</code> - \u603b\u8bb0\u5f55\u6570\u91cf</li> </ul> </li> <li>\u53d1\u9001\u8bf7\u6c42 <pre><code>wx.request({\n    url: `https://www.escook.cn/categories/${this.data.query.id}/shops`,\n    %%\u63d2\u503c\u8bed\u6cd5\u9700\u8981 \u53cd\u5f15\u53f7 + ${} %%\n    method: 'GET',\n    data: {\n        _page: this.data.page,\n        _limit: this.data.pagSize\n    },\n    success: (res) =&gt; {\n        this.setData({\n            shopList: [...this.data.shopList, ...res.data],\n            total: res.header['X-Total-Count'] - 0\n            %%\u56e0\u4e3a\u542b\u6709\u7279\u6b8a\u5b57\u7b26\uff0c\u6240\u4ee5\u7528\u6570\u7ec4\u5f62\u5f0f\u8bbf\u95ee\uff0c-0\u662f\u4e3a\u4e86str\u8f6cnum%%\n        })\n    }\n})\n</code></pre></li> </ul> </li> <li>loading \u663e\u793a     <pre><code>getShopList(cb) {\n    if(this.data.isLoading) return;\n    wx.showLoading({\n        tite: '\u6570\u636e\u52a0\u8f7d\u4e2d'\n    });\n    this.setData({\n        isLoading: true;\n    })\n    wx.request({\n        ...,\n        complete: () =&gt; {\n            wx.hideLoading();\n            this.setData({\n                isLoading: false\n            })\n            cb &amp;&amp; cb(); %%\u5982\u679c\u8c03\u7528\u65f6\u4f20\u5165\u4e86 cb \u53c2\u6570\uff0c\u5219\u8c03\u7528 cb \u6307\u5411\u7684\u56de\u8c03\u51fd\u6570%%\n        }\n    });\n}\n</code></pre></li> <li>\u4e0a\u62c9\u52a0\u8f7d<ul> <li>\u6253\u5f00\u4e0a\u62c9\u52a0\u8f7d\u4e8b\u4ef6\uff1a<code>onReachBottomDistance: 200</code></li> <li>\u7f16\u5199\u4e0a\u62c9\u89e6\u5e95\u5904\u7406\u51fd\u6570\uff1a <pre><code>  onReachBottom: fucntion(){\n      if(this.data.page * this.data.pageSize &gt;= this.data.total) {\n          return wx.showToast({\n              title: '\u6ca1\u6709\u6570\u636e\u54e9',\n              icon: 'none'\n          })\n      }\n      this.setData({\n          page: this.data.page + 1\n      });\n      this.getShopList();\n  }\n</code></pre></li> <li>\u5224\u65ad\u662f\u5426\u5b58\u5728\u540e\u7eed\u6570\u636e<ul> <li><code>page * pageSize &gt;= total</code> \u6b64\u65f6\u4e0d\u5b58\u5728\u540e\u7eed\u6570\u636e</li> </ul> </li> </ul> </li> <li>\u4e0b\u62c9\u5237\u65b0<ul> <li>\u6253\u5f00\u4e0b\u62c9\u5237\u65b0\u4e8b\u4ef6\uff1a<code>enablePullDownRefresh: true</code></li> <li>\u91cd\u7f6e\u6570\u636e\u5e76\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\uff1a <pre><code>onPullDownRefresh: function() {\n    this.setData({\n        page: 1,\n        shopList: [],\n        total: 0\n    });\n    this.getShopList(() =&gt; {\n        wx.stopPullDownRefresh(); %%\u5173\u95ed\u4e0b\u62c9\u5237\u65b0%%\n    });\n}\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/Template%20%26%20Setting/#wxs","title":"\u4f7f\u7528WXS\u5904\u7406\u624b\u673a\u53f7","text":"<ul> <li>\u76ee\u7684\uff1a\u628a11\u4f4d\u624b\u673a\u53f7\u5904\u7406\u6210 xxx-xxxx-xxxx \u5f62\u5f0f\u540e\u6e32\u67d3\u81f3\u9875\u9762 <pre><code>function splitPhone(str) {\n    if(str.length != 11) return str;\n\n    var arr = str.split(''); %%\u62c6\u5206\u6210\u5355\u4e2a\u5b57\u7b26%%\n    arr.splice(3, 0, '-');   %%\u4ecearg1\u5f00\u59cb\u5220\u9664arg2\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u63d2\u5165arg3%%\n    arr.splice(8, 0, '-');\n    return arr.join('');\n}\nmodule.exports = {\n    splitPhone: splitPhone\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/","title":"3 \u7ec4\u4ef6","text":"<p> \u7ea6 2247 \u4e2a\u5b57  304 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#1","title":"1 \u81ea\u5b9a\u4e49\u7ec4\u4ef6","text":"<ul> <li>\u7ec4\u4ef6\u7684 <code>.json</code> \u6587\u4ef6\u4e2d\u9700\u8981\u58f0\u660e <code>components: true</code></li> <li>\u7ec4\u4ef6\u7684 <code>.js</code> \u6587\u4ef6\u4e2d\u8c03\u7528 <code>Component()</code> \u51fd\u6570\u4ee5\u8fdb\u884c\u521d\u59cb\u5316</li> <li>\u7ec4\u4ef6\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u9700\u8981\u5b9a\u4e49\u5230 <code>methods</code> \u8282\u70b9\u4e2d\uff08\u8fdb\u884c\u4e00\u4e2a\u5957\u5a03\uff09</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#11","title":"1.1 \u521b\u5efa\u7ec4\u4ef6","text":"<ol> <li>\u5728\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa <code>components</code> \u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u5b58\u653e\u6240\u6709\u7ec4\u4ef6</li> <li>\u65b0\u5efa\u7ec4\u4ef6\u6587\u4ef6\u5939 <code>test</code> \uff0c\u5728\u8be5\u8def\u5f84\u4e0b\u53f3\u952e\u9009\u62e9 \u201c\u65b0\u5efa Component\u201d</li> <li>\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0\uff0c\u81ea\u52a8\u751f\u6210\u7ec4\u4ef6\u5bf9\u5e94\u7684 4 \u4e2a\u6587\u4ef6</li> </ol>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#12","title":"1.2 \u5f15\u7528\u7ec4\u4ef6","text":"<p>\u5206\u4e3a\u201c\u5168\u5c40\u5f15\u7528\u201d &amp; \u201c\u5c40\u90e8\u5f15\u7528\u201d</p> <ul> <li>\u5168\u5c40\u5f15\u7528\u7684\u7ec4\u4ef6\u53ef\u4ee5\u5728\u6bcf\u4e00\u4e2a\u9875\u9762\u4e2d\u4f7f\u7528</li> <li>\u5c40\u90e8\u5f15\u7528\u7684\u7ec4\u4ef6\u4ec5\u80fd\u5728\u5f53\u524d\u9875\u9762\u4e2d\u4f7f\u7528 <pre><code>{\n    \"usingComponents\": {\n        \"comp-name\": \"/components/name/name\"\n    }\n}\n</code></pre> <pre><code>&lt;comp-name&gt;&lt;/comp-name&gt;\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#13","title":"1.3 \u7ec4\u4ef6\u6837\u5f0f","text":"<ul> <li>\u7ec4\u4ef6\u6837\u5f0f\u5177\u6709\u9694\u79bb\u6027<ul> <li><code>app.wxss</code> \u4e2d\u5b9a\u4e49\u7684\u5168\u5c40\u6837\u5f0f\u5bf9\u7ec4\u4ef6\u65e0\u6548\uff08\u7c7b\u9009\u62e9\u5668\uff09</li> <li>id \u9009\u62e9\u5668\u3001\u5c5e\u6027\u9009\u62e9\u5668\u3001\u6807\u7b7e\u9009\u62e9\u5668\u4e0d\u53d7\u6837\u5f0f\u9694\u79bb\u5f71\u54cd</li> <li>\u6240\u4ee5\u5efa\u8bae\u5927\u5bb6\u5728\u5f15\u7528\u4e86\u7ec4\u4ef6\u7684\u754c\u9762\u4e2d\u5c3d\u91cf\u4f7f\u7528class\u9009\u62e9\u5668\uff0c\u907f\u514d\u6837\u5f0f\u51b2\u7a81</li> </ul> </li> <li>\u4fee\u6539\u6837\u5f0f\u9694\u79bb\u9009\u9879<ul> <li><code>isolated</code> - \u9ed8\u8ba4\uff0c\u5185\u5916\u4e92\u4e0d\u5e72\u6270</li> <li><code>apply-shared</code> - \u9875\u9762\u8986\u76d6\u7ec4\u4ef6</li> <li><code>shared</code> - \u4e92\u76f8\u5f71\u54cd\uff0c\u5305\u62ec\u9875\u9762\u4e2d\u5176\u4ed6\u8bbe\u7f6e\u4e86 <code>apply-shared / shared</code> \u7684\u7ec4\u4ef6 <pre><code>@comp.js\nComponents({\n    options: {\n        styleIsolation: 'isolated / shared / apply-shared'\n    }\n})\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#14","title":"1.4 \u6570\u636e / \u65b9\u6cd5 / \u5c5e\u6027","text":"<ul> <li>\u7528\u4e8e\u7ec4\u4ef6\u6e32\u67d3\u7684\u79c1\u6709\u6570\u636e\u9700\u8981\u5b9a\u4e49\u5230\u7ec4\u4ef6\u7684<code>data</code>\u8282\u70b9\u4e2d     <pre><code>data: {count: 0}\n</code></pre></li> <li>\u7ec4\u4ef6\u7684 \u4e8b\u4ef6\u5904\u7406\u51fd\u6570 / \u81ea\u5b9a\u4e49\u65b9\u6cd5 \u9700\u8981\u5b9a\u4e49\u5230 <code>method</code> \u8282\u70b9\u4e2d     <pre><code>methods: {\n    addCount() {},  \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\n    _showCount() {} \u81ea\u5b9a\u4e49\u65b9\u6cd5\uff08\u4e0b\u5212\u7ebf\u5f00\u5934\uff09\n}\n</code></pre></li> <li><code>properties</code> \u662f\u7ec4\u4ef6\u7684\u5bf9\u5916\u5c5e\u6027\uff0c\u7528\u4e8e\u63a5\u6536\u5916\u754c\u4f20\u9012\u7ed9\u7ec4\u4ef6\u7684\u6570\u636e     <pre><code>properties: {\n    max: { // \u9700\u8981\u6307\u5b9a\u9ed8\u8ba4\u503c\u7684\u5b9a\u4e49\u65b9\u5f0f\n        type: Number, // \u6570\u636e\u7c7b\u578b\n        value: 10 // \u9ed8\u8ba4\u503c\n    },\n    max: Number // \u4e0d\u9700\u8981\u6307\u5b9a\u9ed8\u8ba4\u503c\u7684\u5b9a\u4e49\u65b9\u5f0f\n}\n</code></pre> <pre><code>&lt;my-comp max=\"10\"&gt;&lt;/my-comp&gt; %%\u4ece\u5916\u754c\u4f20\u5165\u6570\u636e%%\n</code></pre></li> <li><code>data</code> &amp; <code>properties</code> \u5747\u4e3a\u53ef\u8bfb\u53ef\u5199\uff08\u8fd9\u4fe9\u5b9e\u9645\u4e0a\u6307\u5411\u540c\u4e00\u5757\u7a7a\u95f4\uff09\uff0c\u90fd\u53ef\u4ee5\u7528 <code>setData</code>\u91cd\u65b0\u8d4b\u503c</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#15","title":"1.5 \u6570\u636e\u76d1\u542c\u5668","text":"<p>\u7528\u4e8e\u76d1\u542c&amp;\u54cd\u5e94\u4efb\u4f55 \u6570\u636e/\u5c5e\u6027 \u5b57\u6bb5\u7684\u53d8\u5316\uff0c\u4ece\u800c\u6267\u884c\u7279\u5b9a\u64cd\u4f5c</p> <p><pre><code>&lt;view&gt;{{n1}} + {{n2}} = {{sum}}&lt;/view&gt;\n&lt;view style=\"background-color: {{color}}\"&gt;\u989c\u8272\u503c\uff1a{{color}}&lt;/view&gt;\n</code></pre> <pre><code>data: { n1: 0, n2: 0, sum: 0,\n        rgb:{ r:0, g:0, b:0},\n        color: '0,0,0'\n      },\nobserve: {\n    'key_1, key_2': funtcion(neo_val_1, neo_val_2) {\n        do sthing;\n    },\n    // \u76d1\u542c\u6570\u636e\u53d8\u5316\n    'n1, n2': fucntion(v1, v2) {\n        this.setData({sum: v1 + v2})\n    },\n    // \u76d1\u542c\u5c5e\u6027\u53d8\u5316\n    'rgb.r rgb.g rgb.b': function(v1, v2, v3) {\n        this.setData({ color: `${v1}, ${v2}, ${v3}`})\n    },\n    // \u76d1\u542c\u67d0\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\n    'rgb.**': function(obj) {\n        this.setData({ color: `${obj.r}, ${obj.g}, ${obj.b}`})\n    }\n}\n</code></pre></p>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#16","title":"1.6 \u7eaf\u6570\u636e\u5b57\u6bb5","text":"<p>\u65e2\u4e0d\u7528\u4e8e\u9875\u9762\u6e32\u67d3\uff0c\u53c8\u4e0d\u4f20\u9012\u7ed9\u5176\u4ed6\u7ec4\u4ef6\u7684\u6570\u636e</p> <ul> <li>\u5728 <code>Component - options</code> \u4e2d\u8bbe\u7f6e<code>pureDataPattern: \u6b63\u5219\u8868\u8fbe\u5f0f</code>\uff0c\u7b26\u5408\u89c4\u5219\u7684\u5b57\u6bb5\u5c06\u88ab\u89c6\u4e3a\u201c\u7eaf\u6570\u636e\u5b57\u6bb5\u201d <pre><code>options: {\n    pureDataPattern: /^_/ //\u4ee5_\u5f00\u5934\u7684\u4e3a\u7eaf\u6570\u636e\u5b57\u6bb5\n},\ndata: {\n    a: true, //\u666e\u901a\u6570\u636e\u5b57\u6bb5\n    _a: true //\u7eaf\u6570\u636e\u5b57\u6bb5\n}\n</code></pre></li> <li>\u7eaf\u6570\u636e\u5b57\u6bb5\u53ef\u4ee5\u88ab\u76d1\u542c</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#17","title":"1.7 \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u51fd\u6570","text":"\u51fd\u6570\u540d \u63cf\u8ff0 created \u88ab\u521b\u5efa\u65f6\u6267\u884c attached \u5b9e\u4f8b\u8fdb\u5165\u9875\u9762\u8282\u70b9\u6811\u65f6\u6267\u884c ready \u5728\u6e32\u67d3\u5b8c\u6210\u540e\u6267\u884c moved \u5b9e\u4f8b\u88ab\u79fb\u52a8\u5230\u8282\u70b9\u6811\u53e6\u4e00\u4f4d\u7f6e\u65f6\u6267\u884c detached \u5b9e\u4f8b\u4ece\u8282\u70b9\u6811\u4e2d\u79fb\u9664\u65f6\u6267\u884c error(Obj err) \u6bcf\u5f53\u629b\u51fa\u9519\u8bef\u5c31\u6267\u884c <ul> <li><code>created</code><ul> <li>\u4e0d\u80fd\u8c03\u7528 <code>setData</code></li> <li>\u4e00\u822c\u7528\u4e8e\u7ed9 <code>this</code> \u6307\u9488\u6dfb\u52a0\u81ea\u5b9a\u4e49\u5c5e\u6027\u5b57\u6bb5</li> </ul> </li> <li><code>attached</code><ul> <li><code>this.data</code> \u521d\u59cb\u5316\u5b8c\u6bd5</li> <li>\u8fdb\u884c\u4e00\u4e9b\u521d\u59cb\u5316\u5de5\u4f5c\uff08\u6bd4\u5982\u62c9\u53d6\u521d\u59cb\u6570\u636e\uff09</li> </ul> </li> <li><code>detached</code><ul> <li>\u9000\u51fa\u9875\u9762\u65f6\uff0c\u4f1a\u89e6\u53d1\u5f53\u524d\u9875\u9762\u4e2d\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u7684 <code>detached</code> \u51fd\u6570</li> <li>\u9002\u5408\u505a\u4e00\u4e9b\u6e05\u7406\u5de5\u4f5c</li> </ul> </li> <li>\u4ee5\u4e0a\u751f\u547d\u5468\u671f\u51fd\u6570\u5e94\u5f53\u5728 <code>lifetimes</code> \u8282\u70b9\u4e2d\u8fdb\u884c\u58f0\u660e     <pre><code>lifetimes: {\n    attached() {},\n    detached() {}\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#18","title":"1.8 \u76d1\u542c\u5916\u5c42\u9875\u9762\u751f\u547d\u5468\u671f","text":"<p>\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u53ef\u4ee5\u76d1\u542c\u5916\u754c\u9875\u9762\u7684\u4e09\u4e2a\u751f\u547d\u5468\u671f\uff1a<code>show / hide / resize(Obj size)</code></p> <ul> <li>\u7528\u4e8e\u76d1\u542c\u9875\u9762\u751f\u547d\u5468\u671f\u7684\u51fd\u6570\u5e94\u5f53\u5728 <code>pageLifetimes</code> \u8282\u70b9\u4e2d\u5b9a\u4e49     <pre><code>pageLifetimes: {\n    show: function() {},\n    hide: function() {},\n    resize: function(size) {}\n}\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#42","title":"4.2 \u72ec\u7acb\u5206\u5305","text":"<p>\u4e5f\u662f\u5206\u5305\u7684\u4e00\u79cd\uff0c\u4f46\u662f\u53ef\u4ee5\u72ec\u7acb\u4e8e\u4e3b\u5305/\u5176\u4ed6\u5206\u5305\u5355\u72ec\u8fd0\u884c</p> <ul> <li>\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u53ef\u4ee5\u540c\u65f6\u62e5\u6709\u591a\u4e2a\u72ec\u7acb\u5206\u5305</li> <li>\u72ec\u7acb\u5206\u5305 \u4e0e \u666e\u901a\u5206\u5305&amp;&amp;\u4e3b\u5305 \u4e4b\u95f4\u4e92\u76f8\u9694\u7edd\uff0c\u4e0d\u80fd\u76f8\u4e92\u5f15\u7528\u8d44\u6e90     \u26a0\ufe0f \u72ec\u7acb\u5206\u5305\u4e0d\u80fd\u4f7f\u7528\u4e3b\u5305\u4e2d\u7684\u516c\u5171\u8d44\u6e90</li> <li>\u666e\u901a\u5206\u5305\u5fc5\u987b\u4f9d\u8d56\u4e8e\u4e3b\u5305\u8fd0\u884c</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u5177\u6709\u4e00\u5b9a\u529f\u80fd\u72ec\u7acb\u6027\u7684\u9875\u9762\uff08\u4e0d\u7528\u4e0b\u8f7d\u4e3b\u5305\uff0c\u63d0\u5347\u5206\u5305\u9875\u9762\u542f\u52a8\u901f\u5ea6\uff09</li> <li>\u914d\u7f6e\u65b9\u6cd5 <pre><code>// \u589e\u52a0 independent \u914d\u7f6e\u9879\n\"subpackages\": [ {// \u5206\u5305\u7ed3\u6784 - \u6709\u51e0\u4e2a\u5bf9\u8c61\u5c31\u6709\u51e0\u4e2a\u5206\u5305\n    \"root\": \"packageA\", // \u5206\u5305\u6839\u76ee\u5f55\n    \"name\": \"pkgA\", // \u522b\u540d\uff08\u53ef\u9009\uff09\n    \"pages\": [\n            \"pages/cat\",\n            \"pages/dog\"\n        ],\n    \"independent\": true\n}]\n</code></pre></li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#19-slot","title":"1.9 \u63d2\u69fd slot","text":"<p>\u751f\u6548\u4e8e \u7ec4\u4ef6\u4e2d \uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a html \u5360\u4f4d\u7b26\uff0c\u540e\u7eed\u89c6\u60c5\u51b5\u7531 \u4f7f\u7528\u8005 \u63d2\u5165\u5177\u4f53\u7684 wxml \u5185\u5bb9</p> <ul> <li>\u5728\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u9ed8\u8ba4\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e2d \u53ea\u5141\u8bb8\u4f7f\u7528\u4e00\u4e2a <code>&lt;slot&gt;</code> \u6807\u7b7e\u8fdb\u884c\u5360\u4f4d     <pre><code>%%\u7ec4\u4ef6\u5c01\u88c5%%\n&lt;view class=\"wrapper\"&gt;\n    &lt;view&gt;\u7ec4\u4ef6\u5185\u90e8\u8282\u70b9&lt;/view&gt;\n    &lt;slot&gt;&lt;/slot&gt;\n&lt;/view&gt;\n\n%%\u7ec4\u4ef6\u4f7f\u7528%%\n&lt;component-tag-name&gt;\n    %%\u4ee5\u4e0b\u5185\u5bb9\u5c06\u88ab\u63d2\u5165\u7ec4\u4ef6\u7684 slot \u4e2d%%\n    &lt;view&gt;\u8fd9\u662f\u5c06\u88ab\u63d2\u5230 slot \u6807\u7b7e\u4e2d\u7684\u5185\u5bb9&lt;/view&gt;\n&lt;/component-tag-name&gt;\n</code></pre></li> <li>\u542f\u7528\u591a\u4e2a\u63d2\u69fd \u9700\u8981\u624b\u52a8\u5728 <code>page.js</code> \u4e2d\u505a\u5982\u4e0b\u8bbe\u7f6e     <pre><code>Component({\n    options: {\n        multipleSlots: true\n    }\n})\n</code></pre><ul> <li>\u542f\u7528\u591a\u4e2a\u63d2\u69fd\u65f6\uff0c\u9700\u8981\u901a\u8fc7 <code>name</code> \u6765\u5bf9\u4e0d\u540c\u63d2\u69fd\u8fdb\u884c\u533a\u5206</li> <li>\u5728\u4f7f\u7528\u65f6\uff0c\u901a\u8fc7 <code>slot</code> \u6765\u6307\u5b9a\u5185\u5bb9\u63d2\u5165\u7684\u5177\u4f53\u4f4d\u7f6e     <pre><code>%%\u7ec4\u4ef6\u5c01\u88c5%%\n&lt;view class=\"wrapper\"&gt;\n    &lt;slot name=\"before\"&gt;&lt;/slot&gt;\n    &lt;view&gt;\u8fd9\u662f\u4e2d\u95f4\u7684\u56fa\u5b9a\u6587\u672c&lt;/view&gt;\n    &lt;slot name=\"after\"&gt;&lt;/slot&gt;\n&lt;/view&gt;\n%%\u7ec4\u4ef6\u4f7f\u7528%%\n&lt;component-tag-name&gt;\n    &lt;view slot=\"before\"&gt;\u8fd9\u662f\u5c06\u88ab\u63d2\u5230 slot-before \u6807\u7b7e\u4e2d\u7684\u5185\u5bb9&lt;/view&gt;\n    &lt;view slot=\"after\"&gt;\u8fd9\u662f\u5c06\u88ab\u63d2\u5230 slot-after \u6807\u7b7e\u4e2d\u7684\u5185\u5bb9&lt;/view&gt;\n&lt;/component-tag-name&gt;\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#110","title":"1.10 \u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1","text":"<p>\u5b9e\u73b0\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u6709\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u5c5e\u6027\u7ed1\u5b9a\uff1a\u53ea\u80fd \u7236 to \u5b50\uff0c\u53ea\u80fd\u517c\u5bb9 <code>json</code> \u683c\u5f0f\u7684\u6570\u636e\uff08\u4e0d\u80fd\u4f20\u9012\u65b9\u6cd5\uff09</p> <ul> <li>\u5b50\u7ec4\u4ef6\u4e2d\u7684\u5bf9\u5e94\u6570\u636e\u53d1\u751f\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u7236\u7ec4\u4ef6\u4e2d\u7684\u6e90\u6570\u636e     <pre><code>//\u7236\u7ec4\u4ef6\u6570\u636e\u5b9a\u4e49\ndata: { count: 0 }\n\n// \u5728\u5b50\u7ec4\u4ef6\u7684 properties \u8282\u70b9\u4e2d\u58f0\u660e\u5e76\u4f7f\u7528\u5c5e\u6027\nproperties: { count: Number }\n</code></pre> <pre><code>%%\u7236\u7ec4\u4ef6 wxml \u7ed3\u6784%%\n&lt;comp count=\"{{count}}\"&gt;&lt;/comp&gt; %%\u901a\u8fc7\u5c5e\u6027\u7ed1\u5b9a\u65b9\u5f0f\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012%%\n&lt;view&gt; ------ &lt;/view&gt;\n&lt;view&gt; \u7236\u7ec4\u4ef6\u4e2d\u7684 count = {{count}} &lt;/view&gt;\n\n%%\u5b50\u7ec4\u4ef6 wxml \u7ed3\u6784%%\n&lt;view&gt;\u5b50\u7ec4\u4ef6\u4e2d\u7684 count = {{count}} &lt;/view&gt;\n</code></pre></li> </ul> </li> <li> <p>\u4e8b\u4ef6\u7ed1\u5b9a\uff1a\u53ea\u80fd \u5b50 to \u7236\uff0c\u53ef\u4ee5\u4f20\u9012\u4efb\u610f\u6570\u636e</p> <ol> <li>\u5728\u7236\u7ec4\u4ef6\u7684 <code>js</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u9012</li> <li>\u5728\u7236\u7ec4\u4ef6\u7684 <code>html</code> \u6587\u4ef6\u4e2d\u901a\u8fc7\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5f15\u7528\uff081\uff09\u4e2d\u5b9a\u4e49\u7684\u51fd\u6570</li> <li>\u5728\u5b50\u7ec4\u4ef6\u7684 <code>js</code> \u6587\u4ef6\u4e2d\u8c03\u7528 <code>this.triggerEvent('eventName', {/*\u53c2\u6570*/})</code>\uff0c\u4ece\u800c\u5c06\u53c2\u6570\u53d1\u9001\u7ed9\u7236\u7ec4\u4ef6</li> <li>\u5728\u7236\u7ec4\u4ef6\u7684 <code>js</code> \u6587\u4ef6\u4e2d\u8c03\u7528 <code>e.detail</code> \u83b7\u53d6\u5b50\u7ec4\u4ef6\u4f20\u9012\u7684\u6570\u636e <pre><code>// 1 - \u5728\u7236\u7ec4\u4ef6\u4e2d\u5b9a\u4e49 \u4f9b\u5b50\u7ec4\u4ef6 \u8c03\u7528\u7684\u51fd\u6570\nsyncCount() { do sthing; }\n// 3 - \u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u4f20\u53c2\n// \u5047\u8bbe\u6211\u4eec\u5728\u5b50\u7ec4\u4ef6\u7684 +1\u6309\u94ae \u4e0a\u7ed1\u5b9a\u4e86 addCount \u51fd\u6570\nmethods: {\n    addCount() {\n        this.setData({ count: this.properties.count + 1 });\n        // \u540c\u6b65\u4fee\u6539\n        this.triggerEvent('sync', {value: this.properties.count});\n    }\n}\n// 4 - \u5728\u7236\u7ec4\u4ef6\u4e2d\u83b7\u53d6\u4fee\u6539\uff08\u4fee\u6539 1 \u4e2d\u7684\u5b9a\u4e49\u9879\u5f97\u5230\uff09\nsyncCount(e) {\n    this.setData({ count: e.detail.value })\n}\n</code></pre> <pre><code>%% 2 - \u5728\u7236\u7ec4\u4ef6\u4e2d\u5f15\u7528\u4e8b\u5148\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u4ece\u800c\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6  \u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5 %%\n%% \u5176\u4e2d\uff0c\u2018sync\u2019 \u662f\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u4e8b\u4ef6\u540d\u79f0 %%\n&lt;comp count=\"{{count}}\" bind:sync=\"syncCount\"&gt;&lt;/comp&gt;\n&lt;comp count=\"{{count}}\" bindsync=\"syncCount\"&gt;&lt;/comp&gt;\n</code></pre></li> </ol> </li> <li> <p>\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\uff1a</p> <p>\u7236\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7 <code>this.selectComponent(\"id / class\u9009\u62e9\u5668\")</code> \u83b7\u53d6\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8bbf\u95ee\u5b50\u7ec4\u4ef6 \u7684\u6240\u6709\u6570\u636e\u548c\u65b9\u6cd5</p> <p><pre><code>&lt;comp count=\"{{count}}\" bind:sync=\"syncCount\" class=\"customA\" id=\"cA\"&gt;&lt;/comp&gt;\n&lt;button bindtap=\"getChild\"&gt;\u83b7\u53d6\u5b50\u7ec4\u4ef6\u5b9e\u4f8b&lt;/button&gt;\n</code></pre> <pre><code>getChild() {\n    const child = this.selectComponent('.customA'); // \u6216\u4f7f\u7528 '#cA'\n    child.setData({ count: child.properties.count + 1 }); // \u53ef\u4ee5\u4fee\u6539\u6570\u636e\n    child.addCount(); // \u4e5f\u53ef\u4ee5\u8c03\u7528\u65b9\u6cd5 - \u8be5\u65b9\u6cd5\u4f1a\u901a\u8fc7 sync \u4e8b\u4ef6\u5411\u7236\u7ec4\u4ef6\u540c\u6b65\u4fee\u6539\n}\n</code></pre></p> </li> </ol>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#111-behaviors-","title":"1.11 behaviors - \u4e0d\u592a\u7528","text":"<p>\u7528\u4e8e\u5b9e\u73b0 \u4e0d\u540c\u7ec4\u4ef6\u95f4 \u5171\u4eab\u4ee3\u7801</p> <ul> <li><code>behavior</code> \u53ef\u4ee5\u5305\u542b\u4e00\u7ec4 \u5c5e\u6027 / \u6570\u636e / \u751f\u547d\u5468\u671f\u51fd\u6570 / \u65b9\u6cd5\uff0c\u5f53\u88ab\u5f15\u7528\u65f6\uff0c\u4e0a\u8ff0\u5185\u5bb9\u5c06\u88ab\u81ea\u52a8\u5408\u5e76\u5230\u5f15\u7528\u7684\u7ec4\u4ef6\u4e2d<ul> <li>\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u5f15\u7528\u591a\u4e2a <code>behavior</code></li> <li>\u4e00\u4e2a <code>behavior</code> \u53ef\u4ee5\u5f15\u7528\u5176\u4ed6 <code>behavior</code></li> </ul> </li> <li>\u521b\u5efa <code>behavior</code> - \u5728 <code>root/behaviors</code> \u4e0b\u5355\u72ec\u7684 <code>js</code> \u6587\u4ef6\u4e2d\u8fdb\u884c     <pre><code>// \u8c03\u7528 Behavior() \u65b9\u6cd5\uff0c\u521b\u5efa behavior \u5b9e\u4f8b\n// \u4f7f\u7528 modlue.exports() \u5171\u4eab\u8be5\u5b9e\u4f8b\nmodule.exports = Behavior({\n    properties: {},\n    data: { username: 'zs'},\n    methods: {},\n    behavoirs: [\u76f8\u4e92\u5f15\u7528\u7684behavior\u5217\u8868],\n    something_else\n})\n</code></pre></li> <li>\u5bfc\u5165\u5e76\u4f7f\u7528 <code>behavior</code> <pre><code>@component.js\n// \u4f7f\u7528 require \u65b9\u6cd5\u5bfc\u5165\u9700\u8981\u7684 behavior \u6a21\u5757\nconst myBehavior = require(\"../../behaviors/my-behavior\");\nComponent({\n    // \u5c06\u5bfc\u5165\u5bf9\u8c61\u6302\u8f7d\u5230 behavoirs \u8282\u70b9\u7684\u6570\u7ec4\u4e2d\uff0c\u4f7f\u5176\u751f\u6548\n    behaviors: [myBehavior, \u5176\u4ed6behavior],\n    other_points\n})\n</code></pre> <pre><code>@component.wxml\n&lt;view&gt;\u5728behavior\u4e2d\u5b9a\u4e49\u7684\u7528\u6237\u540d\u662f\uff1a{{username}}&lt;/view&gt;\n</code></pre></li> <li>\u540c\u540d\u5b57\u6bb5\u7684\u8986\u76d6 &amp; \u7ec4\u5408     \u7ec4\u4ef6\u53ca\u5176\u5f15\u7528\u7684 <code>behavior</code> \u4e2d\u53ef\u4ee5\u62e5\u6709\u540c\u540d\u5b57\u6bb5\uff0c\u5904\u7406\u89c4\u5219\u8be6\u89c1\u5b98\u65b9\u6587\u6863</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#2-npm","title":"2 \u4f7f\u7528 npm \u5305","text":"<ul> <li>\u5c0f\u7a0b\u5e8f\u4e2d\u4f7f\u7528 npm \u7b2c\u4e09\u65b9\u5305\u7684\u9650\u5236 - \u80fd\u7528\u7684\u4e0d\u591a<ol> <li>\u4e0d\u652f\u6301\u4f9d\u8d56\u4e8e <code>Node.js</code> \u5185\u7f6e\u5e93\u7684\u5305</li> <li>\u4e0d\u652f\u6301\u4f9d\u8d56\u4e8e \u6d4f\u89c8\u5668\u5185\u7f6e\u5bf9\u8c61 \u7684\u5305\uff08\u6bd4\u5982 <code>ajax</code> / <code>jquery</code>\uff09</li> <li>\u4e0d\u652f\u6301\u4f9d\u8d56\u4e8e C++\u63d2\u4ef6 \u7684\u5305</li> </ol> </li> </ul> <p>\u4e0b\u9762\u4ee5\u4f7f\u7528 vant \u7ec4\u4ef6\u5e93\u4e3a\u4f8b\uff0cvant \u5b98\u65b9\u6587\u6863</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u5728 element / :root \u4e0b\u5b9a\u4e49 CSS \u53d8\u91cf\u5b9e\u73b0\u81ea\u5b9a\u4e49\u4e3b\u9898\u6837\u5f0f</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#api-promise","title":"API Promise \u5316","text":"<ul> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c0f\u7a0b\u5e8f\u5b98\u65b9\u63d0\u4f9b\u7684 \u5f02\u6b65API \u90fd\u662f\u57fa\u4e8e \u56de\u8c03\u51fd\u6570 \u5b9e\u73b0\u7684\uff08\u6bd4\u5982 request \u8981\u6c42\u7684 success / fail / complete\uff09</li> <li>API \u7684 <code>Promise</code> \u5316\u6307\uff1a\u901a\u8fc7\u989d\u5916\u914d\u7f6e\uff0c\u5c06\u5b98\u65b9\u57fa\u4e8e\u56de\u8c03\u7684 API \u6539\u88c5\u4e3a\u57fa\u4e8e <code>Promise</code> \u7684 API\uff0c\u4ece\u800c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027</li> <li>\u5c0f\u7a0b\u5e8f\u7684 API <code>Promise</code> \u5316\u4e3b\u8981\u4f9d\u8d56\u4e8e\u7b2c\u4e09\u65b9\u5305 <code>miniprogram-api-promise</code><ul> <li>\u5b89\u88c5\u547d\u4ee4 <code>npm install --save miniprogram-api-promise@1.0.4</code>\uff08\u6839\u76ee\u5f55\u4e0b\uff09</li> <li>\u6784\u5efa npm \u5305 <ol> <li>\u5220\u9664 <code>mini-program</code> \u6587\u4ef6\u76ee\u5f55</li> <li>\u70b9\u51fb \u2018\u5de5\u5177\u2019 - \u2018\u6784\u5efa npm\u2019</li> <li>\u5c55\u5f00 <code>mini-program</code> \u76ee\u5f55\uff0c\u67e5\u770b\u662f\u5426\u6784\u5efa\u5b8c\u6210\u00df</li> </ol> </li> <li>\u6309\u9700\u5bfc\u5165 npm \u5305     <pre><code>import {promisifyAll} from 'miniprogram-api-promise';\nconst wxp = wx.p = {}\n// promisify all wx's api\npromisifyAll(wx, wxp);\n// \u8c03\u7528 `Promise` \u5316\u540e\u7684\u5f02\u6b65 API\nasync funcName() {\n    const { data:res } = await wx.p.request({\n        url: '', method: '', data: {}\n    })\n}\n</code></pre></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#3-mobx","title":"3 \u5168\u5c40\u5171\u4eab - MobX","text":"<p>\u7528\u4e8e\u89e3\u51b3\u7ec4\u4ef6\u4e4b\u95f4 \u6570\u636e\u5171\u4eab \u7684\u95ee\u9898</p> <p>\u4e00\u76f4\u62a5\u9519\u53ef\u4ee5\u4f7f\u7528 \u5de5\u5177-\u6784\u5efanpm</p> <ul> <li> <p>\u5c0f\u7a0b\u5e8f\u4e2d\u4e00\u822c\u4f7f\u7528 mobx-miniprogram + mobx-miniprogram-bindings \u4f5c\u4e3a\u89e3\u51b3\u65b9\u6848: </p> <ul> <li> <p>mobx-miniprogram \u7528\u4e8e\u521b\u5efa Store \u5b9e\u4f8b\u5bf9\u8c61</p> </li> <li> <p>mobx-miniprogram-bindings \u5c06 Store \u4e2d\u7528\u4e8e\u5171\u4eab\u7684 \u6570\u636e / \u65b9\u6cd5 \u7ed1\u5b9a\u5230 \u7ec4\u4ef6 / \u9875\u9762 \u4e2d\u8fdb\u884c\u4f7f\u7528</p> </li> </ul> </li> <li> <p>MobX \u5b89\u88c5</p> <ul> <li> <p>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\u5982\u4e0b\u547d\u4ee4</p> <p><code>npm install --save mobx-miniprogram@4.13.2 mobx-miniprogram-bindings@1.2.1</code></p> </li> <li> <p>\u6784\u5efa</p> </li> </ul> </li> <li> <p>MobX \u4f7f\u7528</p> <ol> <li>\u521b\u5efa Store \u5b9e\u4f8b - \u5728\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>./store</code> \u8def\u5f84\uff0c\u521b\u5efa <code>store.js</code> <pre><code>@store.js\nimport {observable} from 'mobx-miniprogram';\n// \u7c7b\u4f3c\u4e8e java \u4e2d\u7684\u4e00\u4e2a\u5de5\u5177\u7c7b\uff1f\nexport const store = observable({\n    // \u6570\u636e\u5b57\u6bb5\n    numA: 1, numB: 2,\n    // \u8ba1\u7b97\u5c5e\u6027 - \u7ed3\u679c\u4f9d\u8d56\u4e8e\u6570\u636e\u5b57\u6bb5\n    get sum() {\n        return this.numA + this.numB\n    },\n    // actions -  \u65b9\u6cd5\uff0c\u7528\u4e8e\u4fee\u6539 store \u4e2d\u7684\u6570\u636e\n    updataNumA: action(function(step) { this.numA += step; }),\n    updataNumB: action(function(step) { this.numB += step; })\n})\n</code></pre></li> <li>\u5c06 Store \u7ed1\u5b9a\u5230\u9875\u9762     <pre><code>@page.js\nimport {createStoreBindings} from 'mobx-miniprogram-bindings'\nimport {store} from '../../store/store' // export \u7684\u6570\u636e\u6e90\u5bf9\u8c61\n\nPage({\n    onLoad: function() { // \u7ed1\u5b9a\n        this.storeBindings = createStoreBindings(this, {\n            store, // \u6570\u636e\u6e90\u540d\u79f0\n            fields: ['numA', 'numB', 'sum'], // \u9700\u8981\u7684\u6570\u636e\u5b57\u6bb5\uff08\u6309\u9700\uff09\n            actions: ['updateNumA'] // \u9700\u8981\u7684\u65b9\u6cd5\uff08\u6309\u9700\uff09\n        })\n    },\n    onUnLoad: function() { // \u6e05\u7406\n        this.storeBindings.destroySotreBindings();\n    }\n})\n</code></pre></li> <li>\u5728\u9875\u9762\u4e2d\u4f7f\u7528 Store \u6210\u5458     <pre><code>&lt;view&gt; {{numA}} + {{numB}} = {{sum}} &lt;/view&gt;\n&lt;button bindtap=\"tapHandler\" data-step=\"{{1}}\"&gt;  numA + 1 &lt;/button&gt;\n&lt;button bindtap=\"tapHandler\" data-step=\"{{-1}}\"&gt; numA - 1 &lt;/button&gt;\n</code></pre> <pre><code>tapHandler(e) {\n    this.updateNumA(e.detail.dataset.step);\n}\n</code></pre></li> <li>\u5728\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a Store \u6210\u5458\uff08\u4f7f\u7528\u7565\uff09     <pre><code>import {storeBindingBehavior} from 'mobx-miniprogram-bindings'\nimport {store} from '../../store/store'\n\nComponent({\n    behaviors: [storeBindingBehavior], // \u901a\u8fc7\u8be5behavior\u81ea\u52a8\u7ed1\u5b9a\n    storeBindings: {\n        store,\n        fields: { // \u6309\u9700\u7ed1\u5b9a\u6570\u636e\u5b57\u6bb5\uff0c\u4e0b\u9762\u5217\u51fa\u4e09\u79cd\u7ed1\u5b9a\u65b9\u5f0f\n            numA: () =&gt; store.numA,\n            numB: (store) =&gt; store.numB,\n            sum: 'sum'\n            // \u524d\uff1a\u6620\u5c04\u540e\u7684\u540d\u5b57\uff08\u672c\u9875\u4e2d\u4f7f\u7528\u7684\u540d\u5b57\uff09\uff0c\u540e\uff1a\u6e90\u6570\u636e\u540d\u5b57\n        },\n        actions: { // \u6309\u9700\u7ed1\u5b9a\u65b9\u6cd5\n            updateNumB: 'updateNumB'\n        }\n    }\n})\n</code></pre></li> </ol> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#4","title":"4 \u5206\u5305","text":"<ul> <li>\u6211\u4eec\u5c06\u5b8c\u6574\u7684\u5c0f\u7a0b\u5e8f\u9879\u76ee\uff0c\u6309\u7167\u9700\u6c42\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u5b50\u5305\uff0c\u5e76\u5728\u6784\u5efa\u65f6\u5206\u522b\u6253\u5305\uff0c\u4fbf\u4e8e\u7f29\u77ed\u9996\u6b21\u4e0b\u8f7d\u65f6\u95f4</li> <li>\u5206\u5305\u524d\uff1a\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709 \u9875\u9762 &amp; \u8d44\u6e90 \u88ab\u6253\u5305\u5728\u4e00\u8d77\uff0c\u5bfc\u81f4\u9879\u76ee\u4f53\u79ef\u5927\uff0c\u9996\u6b21\u8fd0\u884c\u9700\u8981\u7684\u4e0b\u8f7d\u65f6\u95f4\u957f</li> <li>\u5206\u5305\u540e\uff1a1 * \u4e3b\u5305 + n * \u5206\u5305<ul> <li>\u4e3b\u5305\uff1a\u542f\u52a8\u9875\u9762 &amp; tabBar\u9875\u9762 + \u516c\u5171\u8d44\u6e90</li> <li>\u5206\u5305\uff1a\u4ec5\u5305\u542b\u4e0e\u5f53\u524d\u5206\u5305\u6709\u5173\u7684\u9875\u9762 + \u79c1\u6709\u8d44\u6e90\uff08\u4e0d\u80fd\u88ab\u5176\u4ed6\u5305\u8bbf\u95ee\uff09</li> </ul> </li> <li>\u52a0\u8f7d\u89c4\u5219<ul> <li>\u5c0f\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u9ed8\u8ba4\u4e0b\u8f7d\u4e3b\u5305\uff0c\u5e76\u542f\u52a8\u4e3b\u5305\u5185\u754c\u9762\uff08\u5305\u542b\u6240\u6709 tabBar \u9875\u9762\uff09</li> <li>\u7528\u6237\u8fdb\u5165\u5206\u5305\u9875\u9762\u65f6\uff0c\u6309\u9700\u4e0b\u8f7d\u5206\u5305\u51b0\u8fdb\u884c\u5c55\u793a\uff08\u975e tabBar \u9875\u9762\u53ef\u4ee5\u89c6\u60c5\u51b5\u5206\u5305\uff09</li> </ul> </li> <li>\u4f53\u79ef\u9650\u5236<ul> <li>\u6574\u4e2a\u7a0b\u5e8f &lt; 16M</li> <li>\u5355\u4e2a\u5305 &lt; 2M</li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#41","title":"4.1 \u914d\u7f6e\u5206\u5305","text":"<ul> <li>\u76ee\u5f55\u7ed3\u6784 <pre><code>\u251c---- app.js\n\u251c---- app.json\n\u251c---- app.wxss\n\u251c---- pages    // \u4e3b\u5305\u5305\u542b\u7684\u6240\u6709\u9875\u9762\n|       \u251c---- index\n|       \u2514---- logs\n\u251c---- packageA\n|       \u2514---- pages // \u5206\u5305A \u5305\u542b\u7684\u6240\u6709\u9875\u9762\n|               \u251c---- cat\n|               \u2514---- dog\n\u251c---- packageB\n|       \u2514---- pages // \u5206\u5305B \u5305\u542b\u7684\u6240\u6709\u9875\u9762\n|               \u251c---- apple\n|               \u2514---- banana\n\u2514---- utils\n</code></pre></li> <li>\u5728 <code>app.json</code> \u7684 <code>subpackages</code> \u8282\u70b9\u4e2d\u58f0\u660e\u5206\u5305\u7ed3\u6784 <pre><code>{\n    \"pages\": [ // \u4e3b\u5305\u5305\u542b\u7684\u6240\u6709\u9875\u9762\n        \"pages/index\",\n        \"pages/logs\"\n    ],\n    \"subpackages\": [ {// \u5206\u5305\u7ed3\u6784 - \u6709\u51e0\u4e2a\u5bf9\u8c61\u5c31\u6709\u51e0\u4e2a\u5206\u5305\n            \"root\": \"packageA\", // \u5206\u5305\u6839\u76ee\u5f55\n            \"name\": \"pkgA\", // \u522b\u540d\uff08\u53ef\u9009\uff09\n            \"pages\": [\n                \"pages/cat\",\n                \"pages/dog\"\n        ]}, {\n            \"root\": \"packageB\",\n            \"pages\": [\n                \"pages/apple\",\n                \"pages/banana\"\n        ]}\n    ]\n}\n</code></pre></li> <li>\u67e5\u8be2\u5206\u5305\u4f53\u79ef  \u201c\u8be6\u60c5\u201d - \u201c\u57fa\u672c\u4fe1\u606f\u201d - \u201c \u672c\u5730\u4ee3\u7801\u201d - \u5c55\u5f00\u8be6\u60c5\uff0c\u5373\u53ef\u67e5\u770b\u4e3b\u5305\u53ca\u5404\u5206\u5305\u7684\u4f53\u79ef</li> <li>\u6253\u5305\u539f\u5219<ol> <li>\u5c0f\u7a0b\u5e8f\u4f1a\u6309\u7167 <code>subpackages</code> \u4e2d\u7684\u914d\u7f6e\u8fdb\u884c\u5206\u5305\uff0c\u6ca1\u6709\u5728\u8be5\u8282\u70b9\u4e2d\u58f0\u660e\u7684\u76ee\u5f55\u5c06\u88ab\u6253\u5305\u5230\u4e3b\u5305\u5f53\u4e2d</li> <li>\u4e3b\u5305\u53ef\u4ee5\u62e5\u6709\u81ea\u5df1\u7684 <code>pages</code> \u76ee\u5f55\uff08\u5373\u6839\u76ee\u5f55\u4e0b\u7684 <code>pages</code> \u5b57\u6bb5\u53ca\u8def\u5f84\uff09</li> <li><code>TabBar</code> \u9875\u9762\u5fc5\u987b\u4f4d\u4e8e\u4e3b\u5305\u5185</li> <li>\u5206\u5305\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5d4c\u5957</li> </ol> </li> <li>\u5f15\u7528\u539f\u5219<ol> <li>\u4e3b\u5305\u65e0\u6cd5\u5f15\u7528\u5206\u5305\u5185\u7684\u79c1\u6709\u8d44\u6e90</li> <li>\u5206\u5305\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5f15\u7528\u522b\u4eba\u7684\u79c1\u6709\u8d44\u6e90</li> <li>\u5206\u5305\u53ef\u4ee5\u5f15\u7528\u4e3b\u5305\u5185\u7684\u516c\u5171\u8d44\u6e90</li> </ol> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#43","title":"4.3 \u5206\u5305\u9884\u4e0b\u8f7d","text":"<p>\u5728\u8fdb\u5165\u67d0\u4e2a\u7279\u5b9a\u9875\u9762\u65f6\uff0c\u81ea\u52a8\u4e0b\u8f7d\u53ef\u80fd\u4f7f\u7528\u7684\u5206\u5305\uff0c\u63d0\u5347\u5206\u5305\u9875\u9762\u542f\u52a8\u901f\u5ea6</p> <ul> <li>\u9884\u4e0b\u8f7d\u884c\u4e3a\u4f1a\u5728 \u8fdb\u5165\u9875\u9762 \u65f6\u89e6\u53d1\uff0c\u76f8\u5173\u89c4\u5219\u9700\u8981\u5728 <code>preloadRule</code> \u4e2d\u8fdb\u884c\u5b9a\u4e49 <pre><code>@app.json\n{\n    \"preloadRule\": {\n        \"pages/contact/contact\": { // \u8fdb\u5165 contact \u9875\u9762\u65f6\u7684\u76f8\u5173\u884c\u4e3a\n            \"network\": \"all\", // \u53ef\u9009\u503c\uff1awifi(\u9ed8\u8ba4) / all - \u9884\u4e0b\u8f7d\u7684\u7f51\u7edc\u6a21\u5f0f\n            \"pakages\": [\"pkgA\"] // \u901a\u8fc7 root / name \u6307\u5b9a\u9700\u8981\u4e0b\u8f7d\u7684\u5206\u5305\n        }\n    }\n}\n</code></pre></li> <li>\u540c\u4e00\u4e2a\u5206\u5305\uff08\u4e3b\u5305\uff09\u4e2d \u6240\u6709\u9875\u9762 \u6d89\u53ca\u7684\u9884\u4e0b\u8f7d\u603b\u5927\u5c0f &lt;= 2M</li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#5sample-tabbar","title":"5\u300cSAMPLE\u300d\u81ea\u5b9a\u4e49 TabBar","text":""},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#51-tabbar","title":"5.1 \u914d\u7f6e\u81ea\u5b9a\u4e49 TabBar","text":"<ol> <li>\u914d\u7f6e\u81ea\u5b9a\u4e49 TabBar     <pre><code>{\n    \"tabBar\": {\n        \"custom\": true, // \u5f00\u542f\u81ea\u5b9a\u4e49 tabBar\n        \"color\": ,...   // \u5176\u4f59\u5c5e\u6027\u4e5f\u9700\u8981\u8865\u5168\uff08\u4f46\u662f\u4e0d\u4f1a\u5e94\u7528\u4e8e tabBar \u7684\u6e32\u67d3\uff09\n    }\n}\n</code></pre></li> <li>\u6dfb\u52a0 TabBar \u4ee3\u7801\u6587\u4ef6\uff0c\u968f\u540e\u5728\u4e0b\u5217\u6587\u4ef6\u4e2d\u7f16\u5199\u76f8\u5e94\u4ee3\u7801     <pre><code>\u5728\u6839\u76ee\u5f55\u4e0b\u65b0\u589e\u4ee5\u4e0b\u6587\u4ef6\uff08\u6587\u4ef6\u5939\u540d\u5b57\u56fa\u5b9a\uff09\ncustom-tab-bar/index.wxml\ncustom-tab-bar/index.wxss\ncustom-tab-bar/index.js\ncustom-tab-bar/index.json\n</code></pre></li> </ol> <p>\u968f\u540e\uff0c\u8fd9\u4e9b\u4ee3\u7801\u4f1a\u88ab\u81ea\u52a8\u6e32\u67d3\u6210\u4e3a TabBar</p>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#52","title":"5.2 \u6e32\u67d3\u6570\u5b57\u5fbd\u6807","text":"<ul> <li> <p>\u4f7f\u7528 <code>vant</code> \u63d0\u4f9b\u7684 TabBar \u7ec4\u4ef6\u65f6\uff0c\u53ea\u9700\u8981\u4e3a <code>vant-tabbar-item</code> \u7ec4\u4ef6\u6dfb\u52a0 <code>info=\"n\"</code> \u7684\u5c5e\u6027\u5373\u53ef</p> <ul> <li>\u7531\u4e8e\u53ea\u6709\u90e8\u5206 icon \u9700\u8981\u6e32\u67d3\u6570\u5b57\u5fbd\u6807\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7684\u6309\u9700\u6e32\u67d3\u65b9\u5f0f     <pre><code>&lt;vant-tabbar active=\"{{active}}\" bindchange=\"onChange\"&gt;\n    &lt;vant-tabbar-item wx:for=\"{{list}}\" wx:key=\"index\" \n     info=\"{{item.info ? item.info : ''}}\"&gt;\n     // \u6b64\u5904\u7684 info \u4e3a\u4e09\u5143\u8868\u8fbe\u5f0f\uff0c\u82e5\u4e0d\u5b58\u5728 info \u5c5e\u6027\uff0c\u5219\u8d4b\u4e3a\u7a7a\u5b57\u7b26\u4e32 - \u4e0d\u88ab\u6e32\u67d3\n     // \u5176\u5b9e info=\"0\" \u4e5f\u4e0d\u4f1a\u88ab\u6e32\u67d3\u51fa\u6765\n    &lt;/vant-tabbar-item&gt;\n&lt;/vant-tabbar&gt;\n</code></pre></li> <li> <p>\u5982\u679c\u9700\u8981\u4f7f\u7528 Store \u4e2d\u7684\u6570\u636e\u8fdb\u884c\u52a8\u6001\u7ed1\u5b9a\u7684\u8bdd\uff0c\u5c31\u53c2\u89c1\u4e0a\u9762\u7684\u914d\u7f6e\u6b65\u9aa4</p> <p>\u6b64\u65f6\u9700\u8981\u901a\u8fc7\u6570\u636e\u76d1\u542c\u5668\u76d1\u542c Store \u4e2d\u7684\u6570\u503c\u53d8\u5316\uff0c\u5e76\u4f7f\u5176\u540c\u6b65\u5230 <code>data</code> \u4e2d <pre><code>@component.js // \u5047\u8bbe store \u4e2d\u7684\u6570\u636e\u540d\u4e3a sum\nComponent({\n    observers: {\n        'sum': function(val) {\n            this.setData(\n                'list[1].info': val // \u66f4\u65b0 list[1] \u7684 info \u5c5e\u6027\n            )\n        }\n    }\n})\n</code></pre></p> </li> </ul> </li> <li> <p>\u91cd\u7f6e\u6837\u5f0f</p> <p>\u6709\u4e9b\u6837\u5f0f\u53ef\u80fd\u662f\u901a\u8fc7 CSS\u53d8\u91cf \u5b9e\u73b0\u7684\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u7236\u8282\u70b9\u91cd\u65b0\u5b9a\u4e49\u53d8\u91cf\u8fdb\u884c\u8986\u76d6</p> <p>\u4fdd\u9669\u8d77\u89c1\u53ef\u4ee5\u518d\u52a0\u4e00\u4e2a\u9ed8\u8ba4\u503c <code>tag: var(--var_name, 0px);</code></p> <ul> <li>\u9700\u8981\u8986\u76d6 <code>vant</code> \u7ec4\u4ef6\u6837\u5f0f\u65f6\uff0c\u9700\u8981\u5728 <code>comp.json</code> \u4e2d\u8fdb\u884c\u5982\u4e0b\u914d\u7f6e     <pre><code>Component({\n    options: [\n        styleIsolation: 'shared'\n    ]\n})\n</code></pre></li> <li>\u91cd\u7f6e <code>vant-tabbar</code> \u7684\u9009\u4e2d\u6587\u672c\u989c\u8272 <code>&lt;vant-tabbar active-color=\"#??????\"&gt;</code></li> </ul> </li> </ul>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#53-tabbar","title":"5.3 \u81ea\u5b9a\u4e49 TabBar \u9875\u9762\u8df3\u8f6c","text":"<p>\u56e0\u4e3a vant \u7684\u7ec4\u4ef6\u91cc\u4e0d\u5305\u542b\u8d85\u94fe\u63a5 orz</p> <ol> <li>\u6bcf\u6b21\u70b9\u51fb\u90fd\u4f1a\u89e6\u53d1 <code>onChange</code> \u4e8b\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u62ff\u5230\u5176\u4e2d\u7684 <code>event.detail</code> \u4ee5\u5f97\u5230 active \u9875\u9762</li> <li>\u56e0\u4e3a\u662f\u5217\u8868\u6e32\u67d3\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 index \u83b7\u53d6\u5bf9\u5e94\u7684\u9875\u9762\u8def\u5f84</li> <li> <p>\u6839\u636e\u62ff\u5230\u7684\u8def\u5f84\uff08<code>/</code> \u5f00\u5934\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u7528 <code>wx.switchTab()</code> \u8fdb\u884c\u8df3\u8f6c</p> <p>\u5176\u4e2d <code>url: this.data.list[event.detail].path</code></p> </li> </ol>"},{"location":"Nulling/Wechat%20App/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%20%26%20%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/#_1","title":"\u300c\u95ee\u9898\u300d\u56fe\u6807\u9ad8\u4eae\u65e0\u6cd5\u540c\u6b65\u53d8\u5316","text":"<ul> <li>\u5c06 <code>activeTabBarIndex</code> \u5c5e\u6027\u653e\u7f6e\u5230 Store \u4e2d\u8fdb\u884c\u5b58\u50a8</li> <li> <p>\u540c\u65f6\uff0c\u63d0\u4f9b\u63d0\u4f9b action \u5bf9\u5176\u8fdb\u884c\u66f4\u65b0\uff08\u63a5\u53d7 onChange \u4e8b\u4ef6\u83b7\u53d6\u7684\u503c\u8fdb\u884c\u66f4\u65b0\uff09</p> <p><code>updataActiveTabBarIndex: action(function(idx) {this.activeTabBarIndex = idx;})</code></p> </li> <li> <p>\u5728\u7ec4\u4ef6\u4e2d\u6620\u5c04 <code>activeTabBarIndex</code>\uff0c\u5e76\u4f7f\u7528\u63d2\u503c\u8bed\u6cd5\u7ed1\u5b9a\u7ed9 <code>vant-tabbar.active</code></p> </li> <li><code>onChange</code> \u4e8b\u4ef6\u89e6\u53d1\u65f6\u8fdb\u884c\u540c\u6b65\u66f4\u6539     <pre><code>methods: {\n    onChange(e) {\n        this.updateActiveTabBarIndex(event.detail); // \u540c\u6b65\u4fee\u6539\u81f3 Store\n        wx.switchTab({ url: this.data.list[event.detail].path});\n    }\n}\n</code></pre></li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/","title":"5 \u8bed\u6cd5\u5236\u5bfc\u7ffb\u8bd1","text":"<p> \u7ea6 2954 \u4e2a\u5b57  37 \u884c\u4ee3\u7801  4 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p> <p>\u4ec0\u4e48\u662f\u8bed\u6cd5\u5236\u5bfc\u7ffb\u8bd1 Syntax-Directed Translation</p> <p>\u8bed\u6cd5\u5236\u5bfc\u7ffb\u8bd1\u4f7f\u7528 CFG \u6765\u5f15\u5bfc\u5bf9\u8bed\u8a00\u7684\u7ffb\u8bd1\uff0c\u662f\u4e00\u79cd \u9762\u5411\u6587\u6cd5 \u7684\u7ffb\u8bd1\u6280\u672f\u3002</p> <p>\u6211\u4eec\u5c06\u300c\u7f16\u8bd1\u300d\u5de5\u4f5c\u5212\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li>\u8bcd\u6cd5\u5206\u6790</li> <li>\u8bed\u6cd5\u5206\u6790</li> <li>\u8bed\u4e49\u5206\u6790</li> <li>\u4e2d\u95f4\u4ee3\u7801\u751f\u6210 <ul> <li> <p>\u7531\u4e8e\u8bed\u4e49\u5206\u6790\u7684\u7ed3\u679c\u901a\u5e38\u76f4\u63a5\u88ab\u8868\u793a\u6210\u201c\u4e2d\u95f4\u4ee3\u7801\u201d\uff0c\u6240\u4ee5 3&amp;4 \u901a\u5e38\u4e00\u8d77\u5b9e\u73b0\uff0c\u79f0\u4e3a\u300c\u8bed\u4e49\u7ffb\u8bd1\u300d</p> </li> <li> <p>\u540c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8fdb\u884c\u300c\u8bed\u6cd5\u5206\u6790\u300d\u7684\u540c\u65f6\u8fdb\u884c\u300c\u8bed\u4e49\u7ffb\u8bd1\u300d\uff0c\u8fd9\u4e00\u6280\u672f\u53eb\u505a\u300c\u8bed\u6cd5\u5236\u5bfc\u7ffb\u8bd1\u300d</p> </li> </ul> </li> <li>\u4ee3\u7801\u4f18\u5316</li> <li>\u76ee\u6807\u4ee3\u7801\u751f\u6210</li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#1","title":"1 \u57fa\u672c\u601d\u60f3","text":"<p>\u5982\u4f55\u300c\u8868\u793a\u300d\u8bed\u4e49\u4fe1\u606f</p> <ul> <li>\u6211\u4eec\u4e3a CFG \u4e2d\u7684 \u6587\u6cd5\u7b26\u53f7 \u8bbe\u7f6e \u8bed\u4e49\u5c5e\u6027\uff0c\u4ece\u800c\u8868\u793a\u8bed\u6cd5\u6210\u5206\u6240\u5bf9\u5e94\u7684 \u8bed\u4e49\u4fe1\u606f\u3002</li> <li>\u4ee5\u300c\u53d8\u91cf\u300d\u4e3a\u4f8b\uff0c\u5176\u8bed\u4e49\u4fe1\u606f\u5305\u62ec\uff1a\u53d8\u91cf\u7c7b\u578b\u3001\u503c\u3001\u5b58\u50a8\u5730\u5740 ...</li> </ul> <p>\u5982\u4f55\u300c\u8ba1\u7b97\u300d\u8bed\u4e49\u4fe1\u606f</p> <ul> <li>\u8bed\u4e49\u5c5e\u6027  \u7684\u300c\u503c\u300d\u662f\u901a\u8fc7\u4e0e\u5bf9\u5e94\u6587\u6cd5\u7b26\u53f7\u6240\u5728\u7684 Production\uff08\u6587\u6cd5\u89c4\u5219\uff09\u76f8\u5173\u8054\u7684\u300c\u8bed\u4e49\u89c4\u5219\u300d\u8ba1\u7b97\u7684\u3002</li> <li>\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u8f93\u5165\u4e32 \\(x\\)\uff0c\u6211\u4eec\u9996\u5148\u6784\u5efa\u5bf9\u5e94\u7684\u300c\u8bed\u6cd5\u300d\u5206\u6790\u6811\uff0c\u968f\u540e\u901a\u8fc7\u4e0e\u5bf9\u5e94 Production \u76f8\u5173\u7684 \u8bed\u4e49\u89c4\u5219 \u8ba1\u7b97\u6811\u4e2d\u5404 \u8282\u70b9 \u5bf9\u5e94\u7684 \u8bed\u4e49\u5c5e\u6027\u503c\u3002</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#1-sdd","title":"1 \u8bed\u6cd5\u5236\u5bfc\u5b9a\u4e49 SDD","text":"<p>Syntax-Directed Definitions</p> <ul> <li> <p>SDD \u662f\u5bf9 CFG \u7684\u63a8\u5e7f</p> <ul> <li>\u5c06\u6bcf\u4e2a\u300c\u6587\u6cd5\u7b26\u53f7\u300d\u4e0e\u4e00\u4e2a\u300c\u8bed\u4e49\u5c5e\u6027\u96c6\u5408\u300d\u76f8\u5173\u8054</li> </ul> <p>\u611f\u89c9\u50cf\u662f\u4e00\u4e2a Object \u5e26\u4e86\u4e00\u5806\u7684\u5c5e\u6027</p> <ul> <li>\u5c06\u6bcf\u4e2a Production \u4e0e \u7528\u4e8e\u8ba1\u7b97\u4ea7\u751f\u5f0f\u4e2d\u5404\u6587\u6cd5\u7b26\u53f7\u5c5e\u6027\u503c\u7684 \u4e00\u7ec4 \u8bed\u4e49\u89c4\u5219\u76f8\u5173\u8054<ul> <li>\u51fa\u4e8e\u8ba1\u7b97\u5c5e\u6027\u503c\u7684\u8003\u91cf\uff0c\u8bed\u4e49\u89c4\u5219\u4e00\u822c\u88ab\u5199\u6210\u8868\u8fbe\u5f0f\u7684\u5f62\u5f0f</li> <li>\u4f46\u5f53\u8bed\u4e49\u89c4\u5219\u53ea\u662f\u7528\u4e8e\u4ea7\u751f\u4e00\u4e2a Side Effect \u65f6\uff0c\u53ef\u80fd\u4f1a\u88ab\u5199\u6210\u8fc7\u7a0b\u8c03\u7528\u7684\u5f62\u5f0f\uff0c\u6bd4\u5982 \\(print(E.val)\\)</li> </ul> </li> </ul> </li> <li> <p>\u9690\u85cf\u4e86\u5f88\u591a\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\uff0c\u7528\u6237\u4e0d\u5fc5\u300c\u663e\u5f0f\u8bf4\u660e\u300d\u7ffb\u8bd1\u53d1\u751f\u7684\u987a\u5e8f</p> </li> </ul> <p></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#11","title":"1.1 \u5c5e\u6027","text":""},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#synthesized-attribute","title":"\u7efc\u5408\u5c5e\u6027 Synthesized Attribute","text":"<ul> <li>\u4e3a Non-Terminal \u8282\u70b9\u5c5e\u6027\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7 \u672c\u8282\u70b9/\u5b50\u8282\u70b9 \u7684\u5c5e\u6027\u503c\u6765\u5b9a\u4e49\uff1b</li> <li>\u4e3a Terminal \u8282\u70b9\u5c5e\u6027\u65f6\uff0c\u7531\u300c\u8bcd\u6cd5\u5206\u6790\u5668\u300d\u63d0\u4f9b\u503c\uff08SSD \u4e2d\u4e0d\u5b58\u5728\u4e3a\u201c\u7ec8\u7ed3\u7b26\u201d\u8ba1\u7b97\u5c5e\u6027\u7684\u8bed\u4e49\u89c4\u5219\uff09</li> </ul> <p>\u4ee5\u6587\u6cd5 \\(number_1 \\rightarrow number_2 \\ digit\\) \u4e3a\u4f8b\uff1a</p> <ul> <li>\u5176\u5bf9\u5e94\u7684\u8bed\u4e49\u89c4\u5219\u4e3a \\(number_1.val = number_2.val*10 + digit.val\\)</li> <li>\u5bf9\u5e94\u7684\u8bed\u6cd5\u6811\u5982\u4e0b\uff1a           </li> </ul> <p>\u663e\u7136\uff0c\u5728\u8ba1\u7b97\u975e\u7ec8\u7ed3\u7b26\u5c5e\u6027 \\(number_1.val\\)  \u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u8ba1\u7b97\u5f97\u5230\u4e24\u4e2a\u5b50\u8282\u70b9 \\(number_2\\) \u4e0e \\(digit\\) \u7684\u76f8\u5173\u5c5e\u6027\u503c </p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#inherited-attribute","title":"\u7ee7\u627f\u5c5e\u6027 Inherited Attribute","text":"<ul> <li> <p>\u4e3a Non-Terminal \u8282\u70b9\u5c5e\u6027\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7 \u672c\u8282\u70b9/\u7236\u8282\u70b9/\u5144\u5f1f\u8282\u70b9 \u7684\u5c5e\u6027\u503c\u6765\u5b9a\u4e49</p> <p>=&gt; \u4e0e\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u8131\u94a9\uff01</p> </li> </ul> <p>Terminal \u6ca1\u6709\u7ee7\u627f\u5c5e\u6027\uff08\u4ece\u8bed\u6cd5\u5206\u6790\u4e2d\u5f97\u5230\u7684\u503c\u88ab\u8ba4\u4e3a\u662f\u201c\u7ee7\u627f\u5c5e\u6027\u201d\uff09</p> <p></p> <p>\u4ee5\u6587\u6cd5 \\(D \\rightarrow T \\ L\\) \u4e3a\u4f8b\uff0c\u5bf9\u5e94\u7684\u8bed\u4e49\u89c4\u5219\u4e3a \\(L.inh = T.type\\) =&gt; \u503c\u662f\u81ea\u5de6\u5411\u53f3\u4f20\u9012\u7684\uff08\u5144\u5f1f\u95f4\u4f20\u9012\uff09</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#12-attribute-grammar","title":"1.2 \u5c5e\u6027\u6587\u6cd5 Attribute Grammar","text":"<ul> <li>\u4e00\u4e2a\u6ca1\u6709 Side Effect \u7684 SDD \u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u201c\u5c5e\u6027\u6587\u6cd5\u201d</li> <li>\u201c\u5c5e\u6027\u6587\u6cd5\u201d\u7684\u89c4\u5219\u4ec5\u901a\u8fc7 \u5176\u4ed6\u5c5e\u6027\u503c+\u5e38\u91cf \u6765\u8ba1\u7b97\u4e00\u4e2a\u5c5e\u6027\u503c</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#13","title":"1.3 \u8ba1\u7b97\u987a\u5e8f","text":"<ul> <li>\u8bed\u4e49\u89c4\u5219\u5efa\u7acb\u4e86 \u5c5e\u6027\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u5728\u5bf9\u4e00\u4e2a\u5c5e\u6027\u8fdb\u884c\u6c42\u503c\u524d\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u8ba1\u7b97\u5176\u6240\u6709\u4f9d\u8d56\u9879\u7684\u503c\u3002</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#dependency-graph","title":"\u4f9d\u8d56\u56fe Dependency Graph","text":"<ul> <li>\u6211\u4eec\u4f7f\u7528\u6709\u5411\u8868\u793a\u5206\u6790\u6811\u5404\u8282\u70b9\u5c5e\u6027\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb<ul> <li>\u4f9d\u8d56\u56fe\u8282\u70b9 \u4e0e \u8bed\u6cd5\u5206\u6790\u6811\u4e2d\u7684\u8282\u70b9\u5c5e\u6027 \u4e00\u4e00\u5bf9\u5e94</li> <li>\u51fa\u5ea6 = \u524d\u7f6e\u6761\u4ef6\uff0c\u5165\u5ea6 = \u5b58\u5728\u4f9d\u8d56</li> </ul> </li> <li>\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u4efb\u52a1\u5c31\u53d8\u6210\u4e86\u627e\u51fa\u6709\u5411\u56fe\u4e2d\u7684\u300c\u62d3\u6251\u987a\u5e8f\u300d</li> </ul> <p>\u4ee5\u5b57\u7b26\u4e32 <code>float x, y</code> \u4e3a\u4f8b\uff0c\u5176\u4f9d\u8d56\u56fe\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>\u5b9e\u7ebf\u8868\u793a\u300c\u4f9d\u8d56\u4f20\u9012\u300d\u5173\u7cfb</li> <li>\u865a\u7ebf\u53ea\u662f\u4e3a\u4e86\u4fdd\u7559\u8bed\u6cd5\u6811\u7684\u76f8\u5173\u7ed3\u6784</li> <li>\u6211\u4eec\u4e00\u822c\u5c06\u201c\u7ee7\u627f\u5c5e\u6027\u201d\u653e\u5728\u8282\u70b9\u5de6\u4fa7\uff0c\u201c\u7efc\u5408\u5c5e\u6027\u201d\u653e\u5728\u8282\u70b9\u53f3\u4fa7</li> </ul> <ul> <li>\u5bf9\u4e8e\u300c\u53ea\u5b58\u5728\u7efc\u5408\u5c5e\u6027\u300d\u7684 SSD\uff08\u65e0\u73af\u56fe\u81f3\u5c11\u5b58\u5728\u4e00\u6761\u62d3\u6251\u987a\u5e8f\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u201c\u4efb\u610f\u201d\u81ea\u5e95\u5411\u4e0a\u7684\u987a\u5e8f \u4e00\u6b21\u6027 \u5b8c\u6210\u6240\u6709\u5c5e\u6027\u7684\u8ba1\u7b97</li> <li>\u5bf9\u4e8e\u540c\u65f6\u5177\u6709 \u7efc\u5408\u5c5e\u6027&amp;\u7ee7\u627f\u5c5e\u6027 \u7684 SSD\uff08\u53ef\u80fd\u51fa\u73b0\u201c\u73af\u201d\uff09\uff0c\u6211\u4eec \u53ef\u80fd\u9700\u8981 \u591a\u6b21\u904d\u5386\u624d\u80fd\u5b8c\u6210\u8ba1\u7b97</li> </ul> <p>\u6211\u4eec\u5f88\u96be\u786e\u5b9a SDD \u7684\u5c5e\u6027\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u5faa\u73af\u4f9d\u8d56\u5173\u7cfb\uff08\u6709\u73af\uff09\uff0c\u5b58\u5728\u66f4\u6709\u6548\u7684\u65b9\u6cd5\u5417</p> <p>\u4ee5\u4e0b\u7684\u4e24\u4e2a SDD \u5b50\u7c7b\u80fd\u591f\u4fdd\u8bc1\u6bcf\u68f5\u8bed\u6cd5\u5206\u6790\u6811\u90fd\u5b58\u5728\u4e00\u4e2a\u6c42\u503c\u987a\u5e8f\uff08\u4e0d\u5141\u8bb8\u4ea7\u751f\u73af\uff09\uff1a</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#s-s-sdd","title":"S \u5c5e\u6027\u5b9a\u4e49 S-SDD","text":"<p>S-Attributed Definition </p> <ul> <li>\u53ea\u5b58\u5728\u300c\u7efc\u5408\u5c5e\u6027\u300d\uff0c\u53ef\u4ee5\u901a\u8fc7 \u4efb\u610fBottom-Up \u7684\u65b9\u6cd5\u4e00\u6b21\u6027\u5b8c\u6210\u8ba1\u7b97</li> <li>\u6bcf\u4e2a S-SDD \u90fd\u662f L-SDD\uff08\u53ea\u6709\u7efc\u5408\u5c5e\u6027\uff09</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#l-l-sdd","title":"L \u5c5e\u6027\u5b9a\u4e49 L-SDD","text":"<p>L-Attributed Definition</p> <ul> <li> <p>\u4f9d\u8d56\u53ea\u80fd\u300c\u81ea\u5de6\u5411\u53f3\u300d\uff0c\u5bf9\u4e8e \\(A \\rightarrow X_1X_2X_3...X_n\\)\uff0c\\(X_n\\) \u7684 \u7ee7\u627f\u5c5e\u6027 \u53ea\u80fd\u4f9d\u8d56\u4e8e\uff1a</p> <ul> <li>\\(A\\) \u7684\u7ee7\u627f\u5c5e\u6027\uff08\u7efc\u5408\u5c5e\u6027\u53ef\u80fd\u5bfc\u81f4\u5faa\u73af\u4f9d\u8d56\uff09</li> <li>\u5176\u5de6\u4fa7\u5144\u5f1f \\(X_1X_2...X_{n-1}\\) \u7684\u5c5e\u6027</li> <li>\\(X_n\\) \u672c\u8eab\u7684\u5c5e\u6027\uff08\u4f46\u5176\u672c\u8eab\u7684\u5168\u90e8\u5c5e\u6027\u4e0d\u80fd\u5f62\u6210\u73af\uff09</li> </ul> <p>\u5bf9 \u7efc\u5408\u5c5e\u6027 \u4e0d\u505a\u9650\u5236</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#2-sdt","title":"2 \u8bed\u6cd5\u5236\u5bfc\u7ffb\u8bd1\u65b9\u6848 SDT","text":"<p>Syntax-Directed Translation Scheme</p> <ul> <li>\u662f\u5bf9 SDD \u7684\u4e00\u79cd\u8865\u5145\uff0c\u8bf4\u660e\u4e86\u5177\u4f53\u7684\u5b9e\u65bd\u65b9\u6848\uff0c\u663e\u5f0f\u6307\u660e\u4e86\u8bed\u4e49\u89c4\u5219\u7684\u8ba1\u7b97\u987a\u5e8f\u3002</li> <li>SDT \u662f\u5728 Production \u53f3\u4fa7 \u5d4c\u5165\u300c\u7a0b\u5e8f\u7247\u6bb5\u300d\u7684 CFG\uff0c\u8fd9\u4e9b\u7247\u6bb5\u88ab\u79f0\u4e3a\u201c\u8bed\u4e49\u52a8\u4f5c\u201d</li> <li>\u6309\u7167\u60ef\u4f8b\uff0c\u201c\u8bed\u4e49\u52a8\u4f5c\u201d\u9700\u8981\u88ab\u4e66\u5199\u5728\u4e00\u5bf9 <code>{}</code> \u5185\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a     $$     \\begin{align}     &amp;D \\rightarrow T \\ {L.inh = T.type}\\ L\\\\     &amp;T \\rightarrow int \\ {T.type = int}\\\\     &amp;T \\rightarrow real \\ {T.type = real}\\\\     &amp;L \\rightarrow {L_1.inh = L.inh}\\ L_1,\\ id     \\end{align} $$</li> <li>\u201c\u8bed\u4e49\u52a8\u4f5c\u201d\u5728\u4ea7\u751f\u5f0f\u4e2d\u7684 \u4f4d\u7f6e  \u51b3\u5b9a\u4e86\u8be5\u52a8\u4f5c\u7684 \u6267\u884c\u65f6\u95f4</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#21-s-sdd-sdt","title":"2.1 S-SDD \u2192 SDT","text":"<p>\u628a \u8bed\u6cd5\u89c4\u5219 \u62fc\u63a5 Production \u672b\u5c3e\u5373\u53ef\uff08\u641e\u5b9a\u6240\u6709 child \u540e\u6267\u884c\uff09</p> <ul> <li> <p>\u5982\u679c\u4e00\u4e2a S-SDD \u6587\u6cd5\u662f LR \u7684\uff0c\u90a3\u4e48\u5176\u7ffb\u8bd1\u5c31\u53ef\u4ee5\u5728 LR \u5206\u6790\u8fc7\u7a0b\u4e2d\u5b9e\u73b0</p> <p>=&gt; reduce \u65f6\u6267\u884c \u8bed\u6cd5\u89c4\u5219\uff1a</p> <ol> <li>\u5f53\u524d\u8bb0\u5f55\u51fa\u6808</li> <li>\u8fd4\u56de\u4e0a\u4e00\u72b6\u6001\uff08\u4e0a\u4e00\u884c\u7684 status\uff09\u5e76\u66ff\u6362 token</li> <li>\u6839\u636e\u65b0\u7684 token \u8f6c\u6362\u81f3\u4e0b\u4e00\u72b6\u6001</li> </ol> </li> <li> <p>\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\uff1a</p> <ol> <li> <p>\u5bf9 LR \u5206\u6790\u6808\u8fdb\u884c\u6269\u5145 =&gt; \u6dfb\u52a0\u7528\u4e8e\u5b58\u653e \u7efc\u5408\u5c5e\u6027 \u7684\u57df\uff08\u53ef\u80fd\u6d89\u53ca\u591a\u4e2a\u5c5e\u6027\uff09</p> <ul> <li>\u539f\u672c\u7684\u683c\u5f0f\u5927\u6982\u662f\uff1a<code>\u72b6\u6001\u7f16\u53f7 | \u5f53\u524dtoken</code></li> <li>\u73b0\u5728\u641e\u6210\uff1a<code>\u72b6\u6001\u7f16\u53f7 | \u5f53\u524dtoken \uff5c \u5c5e\u6027\u503c</code></li> </ul> </li> <li> <p>\u5c06\u8bed\u6cd5\u89c4\u5219\u7684\u62bd\u8c61\u5b9a\u4e49\u5f0f\u6539\u5199\u4e3a\u53ef\u6267\u884c\u7684\u6808\u64cd\u4f5c\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <ul> <li>\u6808\u4e2d\u4f9d\u6b21\u5b58\u653e\u4e86 Z -&gt; Y -&gt; X\uff08\u5de6\u4fa7\u4e3a\u6808\u9876\uff09</li> <li> <p>\u8bed\u6cd5\u89c4\u5219\u4e3a <code>A.a = f(X.x, Y.y, Z.z)</code></p> <p>\u663e\u7136\u6211\u4eec\u9700\u8981\u5c06 X\uff0cY\uff0cZ \u51fa\u6808\u8fdb\u884c\u8ba1\u7b97\uff0c\u5e76\u5c06\u7ed3\u679c A \u5165\u6808\u4fdd\u5b58</p> </li> <li> <p>\u6539\u5199\u7ed3\u679c\u5982\u4e0b\uff1a     <pre><code>// 1. \u7ed3\u679c A \u8986\u76d6 X \u7684\u4f4d\u7f6e\nstack[top-2].symb = A;\n// 2. \u8ba1\u7b97 A \u7684\u503c\u5e76\u4fdd\u5b58\nstack[top-2].val = f(stack[top-2].val, stack[top-1].val, stack[top].val); \n// 3. \u5c06 X\uff0cY\uff0cZ \u51fa\u6808\uff08X\u672c\u8eab\u5df2\u7ecf\u88ab\u8986\u76d6\u4e86\uff09\ntop = top-2; \n</code></pre></p> </li> </ul> </li> </ol> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#22-l-sdd-sdt","title":"2.2 L-SDD \u2192 SDT","text":"<ul> <li>\u5c06\u8ba1\u7b97 Non-Terminal \u7ee7\u627f\u5c5e\u6027 \u7684\u52a8\u4f5c\u63d2\u5165\u5230\u8be5 token \u4f4d\u7f6e\u4e4b\u524d</li> <li>\u5c06\u8ba1\u7b97\u5de6\u4fa7\u7b26\u53f7\u7684 \u7efc\u5408\u5c5e\u6027 \u7684\u52a8\u4f5c\u653e\u5230 Production \u672b\u5c3e</li> </ul> <p>\u5982\u679c\u4e00\u4e2a L-SSD \u6587\u6cd5\u662f LL \u7684\uff0c\u90a3\u4e48\u5176\u7ffb\u8bd1\u5c31\u53ef\u4ee5\u5728 LL/LR \u5206\u6790\u8fc7\u7a0b\u4e2d\u5b9e\u73b0</p> \u5feb\u901f\u5224\u65ad LL \u6587\u6cd5 <p>\u5177\u6709\u300c\u76f8\u540c\u5de6\u90e8\u300d\u7684 SELECT \u96c6\u4e92\u4e0d\u76f8\u4ea4\uff08FIRST \u4e2d\u6709 \\(\\varepsilon\\) \u65f6\u8003\u8651 FOLLOW\uff09</p> <p>\u4ee5 \\(T \\rightarrow F\\ T'\\) \u4e3a\u4f8b\uff0c\u5bf9\u5e94\u4e86\u4e24\u4e2a\u8bed\u4e49\u89c4\u5219\uff1a</p> <ol> <li>\\(T'.inh = F.val\\) =&gt; \u8ba1\u7b97\u4e86 T\u2018 \u7684 \u7ee7\u627f\u5c5e\u6027\uff08\u4ece\u5144\u5f1f\u7ee7\u627f\uff09\uff0c\u653e\u5230 T' \u524d</li> <li>\\(T.val = T'.syn\\) =&gt; \u8ba1\u7b97\u4e86\u5de6\u4fa7 T \u7684 \u7efc\u5408\u5c5e\u6027\uff0c\u653e\u5230\u672b\u5c3e</li> </ol> <p>=&gt; \u6539\u5199\u7ed3\u679c\u4e3a \\(T \\rightarrow F \\ \\{T'.inh = F.val\\} \\ T' \\  \\{T.val = T'.syn \\}\\)</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#221","title":"2.2.1 \u300c\u975e\u9012\u5f52\u300d\u5206\u6790\u7ffb\u8bd1","text":"<ol> <li> <p>\u6269\u5c55\u8bed\u6cd5\u5206\u6790\u6808</p> <p>\u4e0d\u540c\u7684\u5c5e\u6027\u5177\u6709\u4e0d\u540c\u7684\u8ba1\u7b97\u65f6\u673a\uff1a</p> <ul> <li>\u7ee7\u627f\u5c5e\u6027\uff1a\u5728\u5373\u5c06\u51fa\u73b0\uff08\u524d\uff09\u8ba1\u7b97</li> <li>\u7efc\u5408\u5c5e\u6027\uff1a\u5728\u6240\u6709\u5b50\u8282\u70b9\u5b8c\u6210\u540e\u8ba1\u7b97</li> </ul> <p>\u5728\u65b0\u7684\u6808\u4e2d\u5305\u542b\u4e09\u79cd\u8bb0\u5f55\u7c7b\u578b\uff1a</p> <ol> <li><code>action</code> \u6307\u5411\u5c06\u88ab\u6267\u884c\u7684\u52a8\u4f5c\u4ee3\u7801</li> <li><code>A</code> \u975e\u7ec8\u7ed3\u7b26 A \u7684\u300c\u7ee7\u627f\u5c5e\u6027\u300d</li> <li><code>Asyn</code> \u975e\u7ec8\u7ed3\u7b26 A \u7684\u300c\u7efc\u5408\u5c5e\u6027\u300d <p>\u540c\u65f6\u5b58\u5728 A &amp; Asyn \u65f6\uff0cAsyn \u5148\u5165\u6808\uff08\u540e\u8ba1\u7b97\uff09</p> </li> </ol> </li> <li> <p>\u4e3a\u4e86\u65b9\u4fbf\u8bb0\u5f55\uff0c\u5bf9\u4e8e\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u7f16\u53f7 \\(a_1 \\ ...\\ a_n\\) </p> </li> <li>\u81ea\u5b9a\u5411\u4e0b\u5206\u6790\uff08\u4ece Start Symbol \u5165\u6808\u5f00\u59cb\uff09<ul> <li>Non-Terminal \u5165\u6808\u65f6\uff0c\u5982\u679c\u5b58\u5728\u9700\u8981\u8bb0\u5f55\u7684\u7efc\u5408\u5c5e\u6027\uff0c\u5c31\u4ee5 Tsyn + T \u7684\u987a\u5e8f\u8fde\u7eed\u8fdb\u6808</li> <li>Non-Terminal \u51fa\u6808\u65f6\uff0c\u6839\u636e\u4e0b\u4e00\u4e2a token \u9009\u62e9 Production<ul> <li>\u82e5 syn \u8fd8\u6ca1\u8ba1\u7b97\u53ef\u4ee5\u5355\u72ec\u4fdd\u7559</li> <li>\u82e5 syn \u8ba1\u7b97\u5b8c\u6bd5\uff08\u51fa\u6808\uff09\uff0c\u9700\u8981\u62f7\u8d1d\u5230\u5bf9\u5e94\u7684 Action \u4e2d</li> <li>\u5176\u4f59 Non-Terminal &amp; Action \u9006\u5e8f\u8fdb\u7ad9\uff08FILO\uff09</li> </ul> </li> <li>\u6808\u9876\u4e3a Terminal \u65f6\uff0c\u5c06\u5339\u914d\u7684\u7efc\u5408\u5c5e\u6027\u62f7\u8d1d\u7ed9 Action\uff0c\u51fa\u6808\u3002</li> <li>\u6808\u9876\u4e3a Action \u65f6\uff0c\u6267\u884c\u6808\u64cd\u4f5c\uff0c\u51fa\u6808\u3002</li> <li>\u6808\u9876\u4e3a Asyn \u65f6\uff0c\u5907\u4efd\u5230\u9700\u8981\u4f7f\u7528\u8be5\u503c\u7684 Action \u4e2d\uff0c\u51fa\u6808\u3002</li> </ul> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#222","title":"2.2.2 \u300c\u9012\u5f52\u300d\u9884\u6d4b\u5206\u6790\u7ffb\u8bd1","text":"<ul> <li>\u6784\u5efa\u5165\u53e3\u51fd\u6570\uff08\u7ed9 Start Symbol \u5bf9\u5e94\u7684\u51fd\u6570\u518d\u5957\u4e00\u6b21\u76ae\uff09     <pre><code>void Desent() {\n    D: T.val; // Start Symbol = 'T'\uff0c\u6700\u7ec8\u7ed3\u679c\u5c31\u662f T \u7684\u7efc\u5408\u5c5e\u6027 val\n    GetNext(token);   // \u8bfb\u53d6\u7b2c\u4e00\u4e2a token\n    T.val = T(token); // \u8c03\u7528 Start Symbol \u5bf9\u5e94\u7684 func\uff0c\u5f00\u59cb\u5904\u7406\n\n    // \u5982\u679c\u8fd8\u6709\u5269\u4f59\u7684 token\uff0c\u4e00\u5b9a\u6709\u9519\u8bef\n    if (token != '$') return Error;\n\n    return;\n}\n</code></pre></li> <li>\u6211\u4eec\u4e3a\u6bcf\u4e2a Non-Terminal \u6784\u9020\u4e00\u4e2a\u51fd\u6570<ul> <li>\u6bcf\u4e2a \u7ee7\u627f\u5c5e\u6027 \u90fd\u4f5c\u4e3a\u51fd\u6570\u7684 \u5f62\u53c2</li> <li>\u7efc\u5408\u5c5e\u6027 \u4f5c\u4e3a\u51fd\u6570\u7684 \u8fd4\u56de\u503c</li> <li>\u7b49\u5f0f\u53f3\u4fa7 token \u7684 \u6bcf\u4e00\u4e2a\u5c5e\u6027 \u90fd\u8bbe\u7f6e\u4e00\u4e2a \u5c40\u90e8\u53d8\u91cf</li> </ul> </li> <li>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a Production<ul> <li>\u4ece\u5de6\u5230\u53f3\u8003\u8651\u53f3\u4fa7\u7684 Terminal / Non-Terminal / Action<ul> <li>\u5bf9\u4e8e\u5177\u6709\u7efc\u5408\u5c5e\u6027\u7684 Non-Terminal\uff0c\u8c03\u7528\u5bf9\u5e94\u7684 function\uff08\u53c2\u6570\u662f\u8be5 Non-Terminal \u7684\u6240\u6709\u7ee7\u627f\u5c5e\u6027\uff09\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u8d4b\u7ed9\u5b58\u50a8\u5bf9\u5e94 \u7efc\u5408\u5c5e\u6027 \u7684 \u5c40\u90e8\u53d8\u91cf</li> <li>\u5bf9\u4e8e\u5e26\u6709\u7efc\u5408\u5c5e\u6027 \\(x\\) \u7684\u8bcd\u6cd5\u5355\u5143 \\(X\\)\uff0c\u5c06\u5176\u4fdd\u5b58\u5728\u5c40\u90e8\u53d8\u91cf \\(X.x\\) \u4e2d\uff0c\u968f\u540e\u4ea7\u751f\u4e00\u4e2a\u5339\u914d \\(X\\) \u7684\u8c03\u7528\uff0c\u7ee7\u7eed\u8f93\u5165</li> <li>\u5bf9\u4e8e Action\uff0c\u76f4\u63a5\u590d\u5236\u5176\u4ee3\u7801</li> </ul> </li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u8bed\u6cd5\u89c4\u5219\uff1a</p> \\[ T' \\rightarrow \\left\\{ \\begin{align} &amp;* F \\ \\{T_1'.inh = T'.inh * F.val\\}\\ T_1' \\ \\{T'.syn=T_1'.syn\\} \\\\\\\\ &amp;\\varepsilon \\ \\{T'.syn=T'.inh\\} \\end{align} \\right. \\] <p>\u6211\u4eec\u5c06\u5176\u6539\u9020\u4e3a\u4ee5\u4e0b\u51fd\u6570\uff1a <pre><code>T'.syn T'(token, T'.inh) {\n    // \u4e3a\u53f3\u4fa7 token \u8bbe\u7f6e\u5c40\u90e8\u53d8\u91cf\n    D: F.val, T1'.inh, T1'.syn;\n    // \u6839\u636e\u5f53\u524d\u8f93\u5165 token \u51b3\u5b9a\u5177\u4f53\u4f7f\u7528\u90a3\u4e2a Production\n    if (token == '*') then {\n        // \u7b2c\u4e00\u6761\u89c4\u5219\n        GetNext(token);\n        F.val = F(token); // \u8c03\u7528 func\uff0c\u8d4b\u7ed9\u5bf9\u5e94\u7efc\u5408\u5c5e\u6027\u5c40\u90e8\u53d8\u91cf\n        T1'.inh = T'.inh * F.val;\n        GetNext(token);\n        T1'.syn = T1'(token, T1'.inh);\n        T'.syn = T1'.syn;\n        return T'.syn;\n    } else if (token == '$') then {\n        // \u7b2c\u4e8c\u6761\u89c4\u5219\n        T'.syn = T'.inh;\n        return T'.syn;\n    } else {\n        return Error;\n    }\n}\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/#223-l-","title":"2.2.3 L-\u5c5e\u6027 \u7684\u81ea\u5e95\u5411\u4e0a\u7ffb\u8bd1","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a LL \u7684 L-SSD \u6587\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u4fee\u6539\u4f7f\u4e4b\u5728 LR \u4e0a\u6210\u7acb\uff1a</p> <ul> <li>\u6211\u4eec\u9996\u5148\u5bf9 SDT \u8fdb\u884c\u6784\u9020\uff0c\u5728\u6bcf\u4e2a Non-Terminal \u524d\u8bbe\u7f6e\u4e00\u4e2a Action \u7528\u4e8e\u8ba1\u7b97\u5176 \u7ee7\u627f\u5c5e\u6027\uff0c\u5728 Production \u8bbe\u7f6e Action \u7528\u4e8e\u8ba1\u7b97 \u7efc\u5408\u5c5e\u6027</li> <li>\u5bf9\u4e8e \u5185\u5d4c\u8bed\u4e49\u52a8\u4f5c\uff0c\u6211\u4eec\u5f15\u5165\u300c\u6807\u8bb0\u975e\u7ec8\u7ed3\u7b26\u300d\u8fdb\u884c\u66ff\u6362\uff08Unique\uff09\uff0c\u5177\u6709\u4e00\u4e2a Empty Production<ul> <li>\u6211\u4eec\u5c06\u539f Action \u4e2d\u7684\u9700\u8981\u7684\u3001\u4f4d\u4e8e\u8be5 Action \u5de6\u4fa7 token\uff08\u5305\u62ec\u5de6\u503c\uff09\u7684\u6240\u6709\u5c5e\u6027\u4f5c\u4e3a\u300c\u975e\u6807\u8bb0\u7ec8\u7ed3\u7b26\u300d\u7684 \u7ee7\u627f\u5c5e\u6027 \u8fdb\u884c\u590d\u5236</li> <li>\u6309\u7167\u539f Action \u4e2d\u7684\u65b9\u6cd5\u8ba1\u7b97\uff0c\u5e76\u5c06\u7ed3\u679c\u4f5c\u4e3a\u300c\u975e\u6807\u8bb0\u7ec8\u7ed3\u7b26\u300d\u7684 \u7efc\u5408\u5c5e\u6027</li> </ul> </li> </ul> <p>\u4ee5\u4e0b\u6587\u6cd5\u7531\u4e8e\u89c4\u5219 1&amp;2 \u4e2d\u7684\u9996\u4e2a Action \u5bfc\u81f4\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c Bottom-Up \u7ffb\u8bd1\uff1a</p> \\[ \\begin{align} &amp;T \\rightarrow F \\{T'.inh = F.val\\} T'\\{T.val=T'.syn\\}\\\\\\\\ &amp;T\\ \\rightarrow * F\\{T_1'.inh = T'.inh * F.val\\}T_1'\\{T'.syn = T_1'.syn\\}\\\\\\\\ &amp;T' \\rightarrow \\varepsilon \\{T'.syn = T'.inh\\}\\\\\\\\ &amp;F \\rightarrow digit \\{F.val=digit.lexval\\} \\end{align} \\] <p>\u6211\u4eec\u4f7f\u7528\u300c\u6807\u8bb0\u975e\u7ec8\u7ed3\u7b26 Marker Nonterminal\u300d \\(M, N\\) \u5bf9\u8fd9\u4e24\u4e2a Action \u8fdb\u884c\u66ff\u6362\uff0c\u6709\uff1a</p> \\[ \\begin{align} &amp;T \\rightarrow F M T'\\{T.val=T'.syn\\}\\\\\\\\ &amp;M \\rightarrow \\varepsilon \\{T'.inh = F.val; M.s=M.i\\}\\\\\\\\ &amp;T \\rightarrow * F N T_1'\\{T'.syn = T_1'.syn\\}\\\\\\\\ &amp;N \\rightarrow \\varepsilon \\{N.i_1=T'.inh;N.i_2=F.val;N.s=N.i_1*N.i_2\\}\\\\\\\\ &amp;T' \\rightarrow \\varepsilon \\{T'.syn = T'.inh\\}\\\\\\\\ &amp;F \\rightarrow digit \\{F.val=digit.lexval\\} \\end{align} \\] <ul> <li>\u6dfb\u52a0\u7684\u975e\u6807\u8bb0\u7ec8\u7ed3\u7b26 \\(M,N\\) \u90fd\u53ea\u6709\u4e00\u4e2a Empty Production\uff0c\u7528\u4e8e\u6267\u884c\u88ab\u66ff\u6362\u7684\u8bed\u4e49\u52a8\u4f5c<ul> <li>\u867d\u7136 \\(M,N\\) \u770b\u4f3c\u4f7f\u7528\u4e86\u201c\u975e\u6cd5\u7684\u5c5e\u6027\u201d\uff08\\(T',F\\) \u5e76\u672a\u5728 Production \u4e2d\u51fa\u73b0\uff09\uff0c\u4f46\u7531\u4e8e\u91c7\u7528 LR Parsing\uff0c\u6b64\u65f6\u8fd9\u4e24\u4e2a\u6570\u636e\u5df2\u7ecf\u5b58\u5728\u6808\u4e2d</li> </ul> </li> <li>\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u6240\u6709\u7684\u8bed\u4e49\u52a8\u4f5c\u5747\u4f4d\u4e8e Production \u7684\u672b\u5c3e =&gt; \u53ef\u4ee5\u76f4\u63a5 Bottom-Up \u4e86</li> <li>\u6839\u636e\u540e\u4e00\u4e2a token \u8fdb\u884c reduce -&gt; \u5f39\u51fa\u6808\u9876\u4e0e Production \u53f3\u4fa7\u543b\u5408\u7684\u51e0\u4e2a token\uff0c\u538b\u5165\u5de6\u5f0f\uff08\u6839\u636e\u672b\u5c3e\u7684 Action \u8ba1\u7b97\uff09\uff0c\u5e76\u56de\u5230\u524d\u4e00\u4e2a token \u6240\u5728\u7684\u72b6\u6001\u5f00\u59cb\u8fc1\u79fb</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u5c06\u6539\u5199 SDT \u4e2d\u7684 Action \u7f16\u5199\u4ee3\u7801\uff1a</p> <pre><code>1.  // T.val = \u6700\u53f3token.syn\uff08\u6808\u9876\uff09\uff0c\u4e14\u9876\u66ff F \u8fdb\u884c\u5b58\u50a8\n    T -&gt; FMT'{stack[top-2].val = stack[top].syn; top -= 2;}\n    // M \u5165\u6808\uff08\u5b58\u50a8 T'.inh\uff09\uff0c\u4f9d\u8d56 F.val \u6b64\u65f6\u6b63\u5728\u6808\u9876\n    M -&gt; NULL {stack[top+1].T'inh = stack[top].val; top += 1;}\n2.  // T'.syn = \u6700\u53f3token.syn\uff0c\u9876\u66ff * \u8fdb\u884c\u5b58\u50a8\n    T' -&gt; *FNT1' {stack[top-3].syn = stack[top].syn; top -= 3;}\n    // N \u5165\u6808\uff08\u5b58\u50a8 T1'.inh\uff09\n    N -&gt; NULL {stack[top+1].T1'inh = stack[top-2].T'inh * stack[top].val; top += 1;}\n3.  // T' \u5165\u6808\n    T' -&gt; NULL {stack[top+1] = stack[top].T'inh; top += 1;}\n4.  // F \u66ff\u6362 digit \u5b58\u50a8\n    F -&gt; digit {stack[top].val = stacktop.lexval;}\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/","title":"6 \u4e2d\u95f4\u4ee3\u7801\u751f\u6210","text":"<p> \u7ea6 1868 \u4e2a\u5b57  20 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#1","title":"1 \u57fa\u672c\u7ffb\u8bd1\u65b9\u6cd5","text":""},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#11","title":"1.1 \u58f0\u660e\u8bed\u53e5","text":"<p>\u6536\u96c6\u7c7b\u578b\u4fe1\u606f\uff0c\u5e76\u4e3a identifier \u5206\u914d\u5730\u5740</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#111-type-expression","title":"1.1.1 \u7c7b\u578b\u8868\u8fbe\u5f0f Type Expression","text":"<p>\u7528\u4e8e\u8868\u8fbe\u201c\u7c7b\u578b\u7684\u7ed3\u6784\u201d</p> <p>\u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>\u57fa\u672c\u7c7b\u578b\uff1a<code>integer</code>, <code>real</code>, <code>char</code>, <code>boolean</code>, <code>type_error</code>, <code>void</code></li> <li>\u7c7b\u578b\u540d\uff08\u4e3a\u7c7b\u578b\u8868\u8fbe\u5f0f\u547d\u540d\uff09</li> <li>\u6570\u7ec4\u6784\u9020\u7b26\uff08<code>type constructor</code>\uff09 + \u7c7b\u578b\u8868\u8fbe\u5f0f \u4ea7\u751f\u7684\u65b0\u7c7b\u578b\u8868\u8fbe\u5f0f\uff0c\u5982\uff1a<ul> <li>\u4f7f\u7528\u6570\u7ec4\u6784\u9020\u7b26 array \u4ea7\u751f\u7684 <code>array(int lenth, Type)</code><ul> <li>\u4e00\u7ef4\u6570\u7ec4 <code>int[3] = array(3, int)</code></li> <li>\u4e8c\u7ef4\u6570\u7ec4 <code>int[2][3] = array(2, array(3, int))</code></li> </ul> </li> <li>\u4f7f\u7528\u6307\u9488\u6784\u9020\u7b26 pointer \u4ea7\u751f\u7684 <code>pointer(Type)</code>\uff08\u8868\u8fbe\u7684\u662f\u6307\u9488\u7c7b\u578b\uff09</li> <li>\u4f7f\u7528\u7b1b\u5361\u5c14\u79ef\u6784\u9020\u7b26 \u00d7 \u4ea7\u751f\u7684 <code>Exp1 \u00d7 Exp2</code></li> <li>\u4f7f\u7528\u51fd\u6570\u6784\u9020\u7b26 \u2192 \u4ea7\u751f\u7684 <code>Exp1 \u00d7 Exp2 \u00d7 Exp3 \u00d7 ExpN \u2192 R</code></li> <li>\u4f7f\u7528\u8bb0\u5f55\u6784\u9020\u7b26 record \u4ea7\u751f\u7684 <code>record((Exp1 \u00d7 Type1) \u00d7 (ExpN \u00d7 TypeN))</code></li> </ul> </li> </ul> <p>\u4ee5\u4e0b\u9762\u7684 C \u7a0b\u5e8f\u4e3a\u4f8b\uff1a</p> <pre><code>struct stype {\n    char[8] name;\n    int score;\n};\nstype[50] table;\nstype *p;\n</code></pre> <ul> <li><code>stype</code> \u7ed1\u5b9a\u7684\u7c7b\u578b\u8868\u8fbe\u5f0f\u4e3a\uff1a     <pre><code>record((name \u00d7 array(8, char)) \u00d7 (score \u00d7 int))\n</code></pre></li> <li><code>table</code> \u7ed1\u5b9a\u7684\u7c7b\u578b\u8868\u8fbe\u5f0f\u4e3a\uff1a     <pre><code>array(50, stype)\n</code></pre></li> <li><code>p</code> \u7ed1\u5b9a\u7684\u7c7b\u578b\u8868\u8fbe\u5f0f\u4e3a\uff1a     <pre><code>pointer(stype)\n</code></pre></li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#112","title":"1.1.2 \u5c40\u90e8\u53d8\u91cf\u7684\u5b58\u50a8\u5206\u914d","text":"<ul> <li>\u5bf9\u4e8e\u58f0\u660e\u8bed\u53e5\uff0c\u8bed\u4e49\u5206\u6790\u7684\u4e3b\u8981\u4efb\u52a1\u5c31\u662f\u6536\u96c6 identifier \u7684\u7c7b\u578b\u7b49\u5c5e\u6027\u4fe1\u606f\uff0c\u5e76\u4e3a\u6bcf\u4e00\u4e2a\u6807\u8bc6\u7b26\u5206\u914d\u4e00\u4e2a \u76f8\u5bf9\u5730\u5740</li> <li>\u6211\u4eec\u53ef\u4ee5\u4ece\u7c7b\u578b\u8868\u8fbe\u5f0f\u4e2d\u8ba1\u7b97\u5f97\u51fa\u7c7b\u578b\u5728\u8fd0\u884c\u65f6\u523b\u6240\u9700\u7684\u5b58\u50a8\u5355\u5143\u6570\u91cf\uff0c\u79f0\u4e4b\u4e3a\u300c\u7c7b\u578b\u7684\u5bbd\u5ea6 width\u300d\u3002\u5728\u8fd0\u884c\u65f6\u523b\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u6b64\u4e3a\u4f9d\u636e\u8fdb\u884c\u5730\u5740\u5206\u914d</li> </ul> <p>identifier \u7684 \u7c7b\u578b &amp; \u76f8\u5bf9\u5730\u5740\u4fe1\u606f \u5747\u4fdd\u5b58\u5728 \u7b26\u53f7\u8868 \u7684\u5bf9\u5e94\u8bb0\u5f55\u4e2d</p> <ul> <li>\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5<ul> <li>\u5168\u5c40\u53d8\u91cf<ul> <li><code>offset</code>\uff1a\u5f53\u524d\u53ef\u7528\u5730\u5740\u7684\u504f\u79fb\u91cf</li> <li><code>t</code>\uff1a\u5f53\u524d\u5b9a\u4e49\u53d8\u91cf\u7684\u7c7b\u578b</li> <li><code>w</code>\uff1a\u5f53\u524d\u5b9a\u4e49\u53d8\u91cf\u7684\u57fa\u672c\u957f\u5ea6</li> </ul> </li> <li>\u8282\u70b9\u5c5e\u6027<ul> <li><code>type</code>\uff1a\u5f53\u524d\u8282\u70b9\u7684\u6570\u636e\u7c7b\u578b</li> <li><code>width</code>\uff1a\u5f53\u524d\u8282\u70b9\u6570\u636e\u6240\u5360\u7684\u603b\u957f</li> </ul> </li> <li> <p>\u51fd\u6570 <code>enter(id, type, offset)</code> </p> <p>\u7528\u4e8e\u5411\u7b26\u53f7\u8868\u4e2d\u63d2\u5165\u5173\u4e8e\u53d8\u91cf id \u7684\u8bb0\u5f55\uff1a\u7c7b\u578b\u4e3a type\uff0c\u8d77\u59cb\u5730\u5740\u4e3a offset</p> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#12","title":"1.2 \u7b80\u5355\u8d4b\u503c\u8bed\u53e5","text":"<ul> <li>\u5bf9\u4e8e\u8d4b\u503c\u8bed\u53e5\uff0c\u8bed\u4e49\u5206\u6790\u7684\u4e3b\u8981\u4efb\u52a1\u5c31\u662f\u751f\u6210\u5bf9\u8868\u8fbe\u5f0f\u6c42\u503c\u7684 \u4e09\u5730\u5740\u7801 \uff08 id = val \uff09</li> <li>\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5<ul> <li>\u8282\u70b9\u5c5e\u6027<ul> <li><code>code</code>\uff1a\u4e09\u5730\u5740\u7801</li> <li><code>addr</code>\uff1a\u5f53\u524d token \u503c\u7684\u5b58\u653e\u5730\u5740</li> </ul> </li> <li>\u51fd\u6570<ul> <li><code>lookup(name)</code> \u67e5\u8be2\u7b26\u53f7\u8868\u4e2d\u5173\u4e8e name \u7684\u8bb0\u5f55</li> <li><code>gen(code)</code> \u7528\u4e8e\u4ea7\u751f\u4e09\u5730\u5740\u6307\u4ee4 code</li> <li><code>newtemp()</code> \u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u4e34\u65f6\u53d8\u91cf\uff0c\u8fd4\u56de\u5176\u5730\u5740</li> </ul> </li> </ul> </li> <li>\u589e\u91cf\u7ffb\u8bd1 Incremenatl Translation<ul> <li>\u5728\u539f\u59cb\u7684\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4e0d\u65ad concat \u8868\u8fbe\u5f0f\u7684 code \u5c5e\u6027 =&gt; \u6781\u5927\u7684\u5b58\u50a8\u5f00\u9500</li> <li> <p>\u901a\u8fc7\u76f4\u63a5\u5728\u5df2\u7ecf\u751f\u6210\u7684\u4e09\u5730\u5740\u6307\u4ee4\u540e\u8fdb\u884c\u8ffd\u52a0\u7684\u65b9\u5f0f\uff0c\u5c31\u53ef\u4ee5\u628a code concat \u7684\u64cd\u4f5c\u53bb\u9664\u4e86</p> </li> </ul> </li> </ul> <pre><code>t1 = a + b;\nt2 = t1 * c;\nx = t2;\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#gen","title":"\u6b64\u65f6\u7684 <code>gen()</code> \u51fd\u6570\u4e0d\u4ec5\u9700\u8981\u6784\u9020\u51fa\u65b0\u7684\u4e09\u5730\u5740\u6307\u4ee4\uff0c\u8fd8\u8981\u8d1f\u8d23\u5c06\u5176\u8ffd\u52a0\u5230\u5df2\u751f\u6210\u7684\u6307\u4ee4\u5e8f\u5217\u4e4b\u540e","text":"<p>\u4e0b\u9762\u4ee5 <code>x = (a+b)*c</code> \u4e3a\u4f8b\u5c55\u793a\u4e09\u5730\u5740\u7801\u7684\u4ea7\u751f\u8fc7\u7a0b\uff1a</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#13","title":"1.3 \u6570\u7ec4\u5f15\u7528","text":"<p>\u5bf9\u4e8e\u6570\u7ec4\u5f15\u7528\u8bed\u53e5\uff08 <code>a[idx]</code>\uff09\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c\u6570\u7ec4\u5143\u7d20\u7684\u5bfb\u5740\uff08\u786e\u5b9a\u7279\u5b9a\u6570\u7ec4\u5143\u7d20\u7684\u5b58\u653e\u5730\u5740\uff09\uff0c\u968f\u540e\u8fdb\u884c\u4e09\u5730\u5740\u7801\u7684\u7ffb\u8bd1\u3002</p> <ul> <li>\u5bf9\u4e8e\u300c\u4e00\u7ef4\u6570\u7ec4\u300d\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5047\u8bbe\u6bcf\u4e2a\u6570\u7ec4\u5143\u7d20\u7684\u5bbd\u5ea6\u4e3a \\(w\\)\uff0c\u5219 <code>a[i].addr = baseAddr + i * w</code></li> <li>\u5bf9\u4e8e\u300c\u4e8c\u7ef4\u6570\u7ec4\u300d\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5047\u8bbe\u884c\u5bbd\u4e3a \\(w_1\\) \uff0c\u5355\u4e2a\u6570\u7ec4\u5143\u7d20\u7684\u5bbd\u5ea6\u4e3a \\(w_2\\) \uff0c\u5219 <code>a[i1][i2].addr = baseAddr + i1 * w1 + i2 * w2</code></li> <li>\u6211\u4eec\u4e0d\u96be\u5c06\u5176\u63a8\u5e7f\u81f3\u300cK \u7ef4\u6570\u7ec4\u300d\u7684\u60c5\u51b5\uff0c<code>a[i1][i2]...[ik] = baseAddr + i1*w1 + i2*w2 + ... + ik*wk</code>\uff0c\u5176\u4e2d \\(w_i = \\prod_{j=i+1}^{k} w_j * w_{unit}\\)</li> </ul> <p>\u8fd9\u6b21\u6211\u4eec\u53ea\u7528\u4e3a\u8282\u70b9\u6dfb\u52a0\u4e24\u4e2a\u5c5e\u6027\uff1a</p> <ul> <li><code>type</code>\uff1a \u5f53\u524d\u8282\u70b9\u6570\u7ec4\u5143\u7d20\u7684\u7c7b\u578b\uff08\u5305\u4e86\u51e0\u5c42\u4e86\uff0c\u6bcf\u5c42\u591a\u5c11\u4e2a\uff09</li> <li><code>offset</code>\uff1a\u622a\u81f3\u76ee\u524d\u7684\u603b\u504f\u79fb\u91cf\uff0c\u7528\u4e8e\u7d2f\u52a0 <code>ik * wk</code></li> <li><code>array</code>\uff1a\u6570\u7ec4\u540d\u5728\u7b26\u53f7\u8868\u4e2d\u7684\u5165\u53e3\u5730\u5740</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#14-switch","title":"1.4 Switch \u8bed\u53e5","text":"<ul> <li>\u6211\u4eec\u8ba4\u4e3a Switch \u7684\u4ee3\u7801\u662f\u7531 \u6761\u4ef6\u4ee3\u7801 \\(E\\) &amp; \u5404\u5206\u652f\u60c5\u51b5\u4ee3\u7801 \\(S_i\\) \u6784\u6210\u7684\uff0c\u7136\u540e<ul> <li>\u5728\u6bcf\u4e2a\u5c41\u80a1\u540e\u9762\u63d2\u5165 \u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\uff08\u6548\u7387\u6bd4\u8f83\u4f4e\uff09</li> <li>\u628a\u6240\u6709\u6761\u4ef6\u6d4b\u8bd5\u8bed\u53e5\u90fd\u585e\u5230 <code>test</code> \u6807\u7b7e\u4e0b\uff0c\u5e76\u5728 \\(E\\) \u540e\u9762\u63d2\u5165 <code>goto test</code></li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#15","title":"1.5 \u8fc7\u7a0b\u8c03\u7528\u8bed\u53e5","text":"<ul> <li>\u5178\u578b\u7684\u8fc7\u7a0b\u8c03\u7528\u8bed\u53e5\u5f62\u5982 <code>call id (eList)</code> \uff0c\u5176\u4e2d id \u4e3a\u51fd\u6570\u540d</li> <li>\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u6211\u4eec\u4f7f\u7528\u961f\u5217 q \u5b58\u653e\u6240\u6709\u53c2\u6570\uff08\u53c2\u6570\u8868\u8fbe\u5f0f\u8ba1\u7b97\u7ed3\u679c\uff09\u7684 addr</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#2-sdt","title":"2 \u63a7\u5236\u6d41\u8bed\u53e5 SDT","text":"<ul> <li>\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u7684\u6d41\u7a0b\u4e00\u822c\u5206\u4e3a \u987a\u5e8f\u3001\u5206\u652f\u3001\u5faa\u73af \u4e09\u79cd</li> <li> <p>\u4ee5\u5206\u652f\u8bed\u53e5 \\(S \\rightarrow if \\ B\\ then \\ S_1 \\ else S_2\\) \u4e3a\u4f8b\uff1a</p> <ul> <li> <p>\u6211\u4eec\u8ba4\u4e3a\u5b83\u7684\u4ee3\u7801\u90e8\u5206\u7531\u4e09\u90e8\u5206\u6784\u6210\uff1a\u5e03\u5c14\u8868\u8fbe\u5f0f \\(B\\)\uff0c\u4e24\u4e2a\u5206\u652f\u7ed3\u6784\u4f53 \\(S_1, S_2\\)</p> <p>\u5176\u4e2d\u5e03\u5c14\u8868\u8fbe\u5f0f \\(B\\) \u88ab\u7ffb\u8bd1\u6210\u7531 \u8df3\u8f6c\u6307\u4ee4 \u6784\u6210\u7684\u8df3\u8f6c\u4ee3\u7801\uff08\u9009\u62e9\u4e0b\u4e00\u4e2a\u6267\u884c\u70b9\uff09</p> </li> <li> <p>\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5</p> <ul> <li>\u5c5e\u6027<ul> <li><code>S.next</code>\uff1a\u4fdd\u5b58\u4e86 \\(S\\) \u4ee3\u7801\u7684\u540e\u7ee7\u6307\u4ee4\u5e8f\u53f7\uff08\u4e0d\u7b97\u5206\u652f\u4f53\uff0c\\(S_1,S_2\\) \u7684 next \u5c5e\u6027\u6307\u5411\u540c\u4e00\u6807\u53f7\uff09</li> <li><code>B.true</code>\uff1a\u4fdd\u5b58\u5f53 <code>B == true</code> \u65f6\u63a7\u5236\u6d41\u4e13\u9879\u6307\u4ee4\u7684\u6807\u53f7</li> <li><code>B.false</code>\uff1a\u4fdd\u5b58\u5f53 <code>B == false</code> \u65f6\u63a7\u5236\u6d41\u4e13\u9879\u6307\u4ee4\u7684\u6807\u53f7</li> </ul> </li> <li>\u65b9\u6cd5<ul> <li><code>newLabel()</code>\uff1a\u751f\u6210\u7528\u4e8e\u5b58\u653e\u6807\u53f7\u7684\u4e34\u65f6\u53d8\u91cf\uff0c\u8fd4\u56de\u5730\u5740</li> <li><code>label(token.next)</code>\uff1a\u5c06\u5413\u4e00\u8df3\u4e09\u5730\u5740\u6307\u4ee4\u7684\u6807\u53f7\u8d4b\u7ed9\u4f20\u5165\u7684\u53c2\u6570\uff08\u8fd9\u91cc\u53ea\u662f\u4e3a\u4e86\u5411 \\(S,S_1,S_2\\) \u4f20\u9012\u5171\u540c\u540e\u7ee7\u6307\u4ee4\u7684\u6807\u53f7\uff09</li> </ul> </li> </ul> </li> <li>\u800c\u5bf9\u4e8e <code>while-do</code> \u5faa\u73af\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4fdd\u5b58\u7ed3\u6784\u4f53\u8d77\u59cb\u6307\u4ee4\u7684\u5730\u5740 <code>S.begin</code></li> </ul> </li> </ul> <p>\u4efb\u4f55 SDT \u90fd\u53ef\u4ee5\u901a\u8fc7\u81ea\u5de6\u5411\u53f3\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u5b9e\u73b0</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#3-sdt","title":"3 \u5e03\u5c14\u8868\u8fbe\u5f0f SDT","text":"<p>\u5e03\u5c14\u8868\u8fbe\u5f0f\u7684\u57fa\u672c\u6587\u6cd5\u5982\u4e0b\uff1a</p> \\[ \\begin{align} B \\rightarrow &amp;B \\ or \\ B \\ |\\  B\\ and \\ B \\ |\\ not \\ B\\\\\\\\ &amp;|\\ (B) \\ |\\ E \\ relop \\ E \\\\\\\\ &amp;|\\ true \\ |\\ false \\end{align} \\] <ul> <li>\u5176\u4e2d \\(relop\\) \u662f \u5173\u7cfb\u8fd0\u7b97\u7b26\uff0c\u5305\u542b <code>&lt; &lt;= &gt; &gt;= == !=</code>\uff0c\\(E \\ relop \\ E\\) \u6784\u6210\u7684 \u5173\u7cfb\u8868\u8fbe\u5f0f \u4e5f\u662f\u5e03\u5c14\u8868\u8fbe\u5f0f</li> <li>\u51e0\u4e2a\u57fa\u672c\u64cd\u4f5c\u7684\u4f18\u5148\u7ea7\u4e3a\uff1a<code>not &gt; and &gt; or</code></li> </ul> <ul> <li>\u5728 \u8df3\u8f6c\u4ee3\u7801 \u4e2d\uff0c\u903b\u8f91\u8fd0\u7b97\u7b26 <code>&amp;&amp; || !</code> \u88ab\u7ffb\u8bd1\u6210 \u8df3\u8f6c\u6307\u4ee4\uff0c\u8fd0\u7b97\u7b26\u672c\u8eab\u5e76\u4e0d\u4f1a\u51fa\u73b0\u5728\u4ee3\u7801\u4e2d\u3002</li> <li>\u6211\u4eec\u4ee5 <code>if( x&lt;100 || x&gt;200 &amp;&amp; x!=y) x=0;</code> \u4e3a\u4f8b\uff0c\u751f\u6210\u7684\u4e09\u5730\u5740\u4ee3\u7801\u5982\u4e0b\uff1a     <pre><code>    if x&lt;100 goto L2;\n    goto L3;\nL3: if x&gt;200 goto L4;\n    goto L1;\nL4: if x!=y goto L2;\n    goto L1;\nL2: x=0;\nL1: next();\n</code></pre></li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/6%20%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#4-backpatching","title":"4 \u56de\u586b Backpatching","text":"<ul> <li> <p>\u5728\u4e3a \u5e03\u5c14\u8868\u8fbe\u5f0f/\u63a7\u5236\u6d41\u8bed\u53e5 \u751f\u6210\u4e2d\u95f4\u4ee3\u7801\u65f6\uff0c\u5173\u952e\u7684\u95ee\u9898\u662f\uff1a\u786e\u5b9a\u8df3\u8f6c\u6307\u4ee4\u7684\u76ee\u6807\u6807\u53f7\uff08\u4e0b\u4e00\u6761\u6307\u4ee4\u5e94\u8be5\u8df3\u5230\u54ea\u91cc</p> </li> <li> <p>\u7531\u4e8e\u5728 \u751f\u6210\u8df3\u8f6c\u6307\u4ee4 \u65f6\uff0c\u76ee\u6807\u6807\u53f7\u5c1a\u4e14\u4e0d\u80fd\u786e\u5b9a</p> <ul> <li>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u76ee\u6807\u6807\u53f7\u4f5c\u4e3a \u7ee7\u627f\u5c5e\u6027 \u8fdb\u884c\u4f20\u9012\uff0c\u4f46\u8fd9\u6837\u9700\u8981\u5c06\u6807\u53f7\u4e0e\u5177\u4f53\u7684\u5730\u5740\u7ed1\u5b9a</li> <li>\u5728 \u56de\u586b \u8fd9\u4e00\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u5c06\u7531 \u8df3\u8f6c\u6307\u4ee4 \u7ec4\u6210\u7684\u5217\u8868 \u4ee5 \u7efc\u5408\u5c5e\u6027 \u7684\u5f62\u5f0f\u8fdb\u884c\u4f20\u9012<ul> <li>\u5728\u300c\u751f\u6210\u300d\u8df3\u8f6c\u6307\u4ee4\u65f6\uff0c\u6211\u4eec\u5e76\u4e0d\u6307\u5b9a\u76ee\u6807\u6807\u53f7\uff0c\u800c\u662f\u5c06\u5176\u653e\u5165\u7531\u8df3\u8f6c\u6307\u4ee4\u7ec4\u6210\u7684\u5217\u8868\u4e2d</li> <li>\u540c\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u6240\u6709\u8df3\u8f6c\u6307\u4ee4\u90fd\u5177\u6709\u300c\u76f8\u540c\u7684\u76ee\u6807\u6807\u53f7\u300d</li> <li>\u76f4\u5230\u80fd\u591f\u786e\u8ba4\u6807\u53f7\u65f6\uff0c\u518d\u300c\u7edf\u4e00\u300d\u5bf9\u5217\u8868\u4e2d\u7684\u8df3\u8f6c\u6307\u4ee4\u8fdb\u884c\u586b\u5145</li> </ul> </li> </ul> </li> <li>\u5728\u300c\u56de\u586b\u300d\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u975e\u7ec8\u7ed3\u7b26 \\(B\\) \u6dfb\u52a0\u4ee5\u4e0b\u7684 \u7efc\u5408\u5c5e\u6027 \u548c \u51fd\u6570<ul> <li>\u7efc\u5408\u5c5e\u6027<ul> <li><code>B.trueList</code>\uff1a\u6307\u5411\u5217\u8868\uff0c\u5176\u4e2d\u6240\u6709\u8df3\u8f6c\u6307\u4ee4\u9700\u8981\u83b7\u53d6 <code>B == true</code> \u65f6\u7684\u76ee\u6807\u6807\u53f7</li> <li><code>B.falseList</code>\uff1a\uff08\u7565\uff09</li> </ul> </li> <li>\u51fd\u6570<ul> <li><code>makeList(i)</code>\uff1a\u521b\u9020\u4ec5\u5305\u542b i \u7684\u5217\u8868\uff08 i \u4e3a \u8df3\u8f6c\u6307\u4ee4 \u6807\u53f7\uff09\uff0c\u8fd4\u56de\u5217\u8868\u6307\u9488</li> <li><code>merge(p1, p2)</code>\uff1a\u5408\u5e76 p1 &amp; p2 \u6307\u5411\u7684\u5217\u8868\uff0c\u8fd4\u56de\u7ed3\u679c\u6307\u9488</li> <li><code>backpatch(p, i)</code>\uff1a\u5c06\u5217\u8868 p \u4e2d\u7684\u6240\u6709\u76ee\u6807\u6807\u53f7\u7f6e\u4e3a i</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/","title":"7 \u8fd0\u884c\u5b58\u50a8\u5206\u914d","text":"<p> \u7ea6 3190 \u4e2a\u5b57  95 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <ul> <li>\u6240\u8c13\u7684 \u201c\u9759\u6001\u201d \u4e0e \u201c\u52a8\u6001\u201d \u5206\u522b\u5bf9\u5e94\u4e86 \u7f16\u8bd1\u65f6\u523b \u4e0e \u8fd0\u884c\u65f6\u523b</li> <li> <p>\u9759\u6001\u5b58\u50a8\u5206\u914d</p> <p>\u5bf9\u4e8e\u5728 \u7f16\u8f91\u65f6\u523b  \u5c31\u53ef\u4ee5\u786e\u5b9a\u5927\u5c0f\u7684\u6570\u636e\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u5c31\u4e3a\u5176\u5206\u914d\u5b58\u50a8\u7a7a\u95f4</p> </li> <li> <p>\u52a8\u6001\u5b58\u50a8\u5206\u914d</p> <p>\u82e5\u5728 \u7f16\u8bd1\u65f6\u523b \u4e0d\u80fd\u786e\u5b9a\u6570\u636e\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u6211\u4eec\u53ea\u5b58\u50a8\u5fc5\u8981\u4fe1\u606f\uff0c\u5728 \u8fd0\u884c\u65f6\u523b \u4e3a\u6570\u636e\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4</p> <p>\u4e00\u822c\u5206\u4e3a \u6808\u5f0f\u5b58\u50a8\u5206\u914d &amp; \u5806\u5f0f\u5b58\u50a8\u5206\u914d</p> </li> <li> <p>\u8fd0\u884c\u65f6\u5185\u5b58\u5212\u5206     <pre><code>\u250c-------------\u2510----- low\n| \u9759\u6001 code \u533a |\n\u251c-------------\u2524\n| \u9759\u6001 data \u533a |\n\u251c-------------\u2524-----\n| Stack \u533a  \u2193 |    \uff5c\n\u251c-------------\u2524    |\n|   \u7a7a\u95f2\u5185\u5b58   |  \u52a8\u6001\u6570\u636e\u533a\n\u251c-------------\u2524    |\n| Heap \u533a   \u2191 |    |\n\u2514-------------\u2518----- high\n</code></pre></p> </li> <li> <p>\u6d3b\u52a8\u8bb0\u5f55 Activation Record</p> <ul> <li>\u4f7f\u7528\u8fc7\u7a0b\uff08\u51fd\u6570\uff09\u4f5c\u4e3a\u7528\u6237\u81ea\u5b9a\u4e49\u52a8\u4f5c\u5355\u4f4d\u7684\u8bed\u8a00\uff0c\u5176\u7f16\u8bd1\u5668\u901a\u5e38 \u4ee5\u8fc7\u7a0b\u4e3a\u5355\u4f4d \u5206\u914d\u5b58\u50a8\u7a7a\u95f4</li> <li>\u6211\u4eec\u5c06\u8fc7\u7a0b\u4f53\u7684\u6bcf\u4e00\u6b21\u6267\u884c\u90fd\u79f0\u4e3a\u8be5\u8fc7\u7a0b\u7684\u4e00\u4e2a \u201c\u6d3b\u52a8 Activation\u201c\uff0c\u5e76\u4e3a\u5176\u5206\u914d\u4e00\u5757 \u8fde\u7eed \u7684\u5b58\u50a8\u533a\u57df\uff0c\u7528\u4e8e\u7ba1\u7406\u672c\u6b21\u6267\u884c\u6240\u9700\u7684\u4fe1\u606f -&gt; \u8fd9\u5757\u8fde\u7eed\u533a\u57df\u88ab\u79f0\u4e3a \u201c\u6d3b\u52a8\u8bb0\u5f55\u201d</li> <li> <p>\u6d3b\u52a8\u8bb0\u5f55\u7684\u4e00\u822c\u5185\u5bb9\u5982\u4e0b\uff1a</p> \u5b9e\u53c2 \u8fd4\u56de\u503c \u63a7\u5236\u94fe \uff08\u8c03\u7528\u8005\u6d3b\u52a8\u8bb0\u5f55\uff09 \u8bbf\u95ee\u94fe \uff08\u7528\u4e8e\u8bbf\u95ee\u5176\u4ed6\u6d3b\u52a8\u8bb0\u5f55\u4e2d\u7684\u975e\u5c40\u90e8\u6570\u636e\uff09 \u4fdd\u5b58\u7684\u673a\u5668\u72b6\u6001 \u5c40\u90e8\u6570\u636e \u4e34\u65f6\u53d8\u91cf </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#1","title":"1 \u9759\u6001\u5b58\u50a8\u5206\u914d","text":"<ul> <li> <p>\u5728 \u9759\u6001\u5b58\u50a8\u5206\u914d \u4e2d\uff1a</p> <ul> <li>\u7f16\u8bd1\u5668\u4e3a\u6bcf\u4e2a\u8fc7\u7a0b\u786e\u5b9a\u5176\u6d3b\u52a8\u8bb0\u5f55\u5728\u76ee\u6807\u7a0b\u5e8f\u4e2d\u7684\u4f4d\u7f6e</li> <li>\u56e0\u6b64\uff0c\u6bcf\u4e2a\u540d\u5b57\u7684\u5b58\u50a8\u4f4d\u7f6e\u662f\u786e\u5b9a\u7684\uff0c\u53ef\u4ee5\u88ab\u76f4\u63a5\u7f16\u8bd1\u5230\u76ee\u6807\u4ee3\u7801\u4e2d</li> <li>\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u540d\u5b57\u88ab\u7ed1\u5b9a\u5230 \u56fa\u5b9a\u7684\u5b58\u50a8\u5355\u5143</li> </ul> </li> <li> <p>\u4f7f\u7528\u9759\u6001\u5b58\u50a8\u5206\u914d\u7684\u8bed\u8a00\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6</p> <ul> <li>Array \u7684\u4e0a\u4e0b\u754c\u4e3a\u5e38\u6570\uff08\u6570\u7ec4\u5927\u5c0f\u786e\u5b9a\uff09</li> <li>\u4e0d\u5141\u8bb8 function \u7684\u9012\u5f52\u8c03\u7528\uff08\u65e0\u6cd5\u786e\u5b9a\u540c\u65f6\u751f\u6210\u591a\u5c11\u4e2a\u6d3b\u52a8\u8bb0\u5f55\uff09</li> <li>\u4e0d\u5141\u8bb8\u52a8\u6001\u5efa\u7acb\u6570\u636e\u5b9e\u4f53\uff08\u8fd0\u884c\u65f6\u4e0d\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff09</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#11","title":"1.1 \u987a\u5e8f\u5206\u914d\u6cd5","text":"<ul> <li> <p>\u5728\u6ee1\u8db3\u9759\u6001\u5206\u914d\u6761\u4ef6\u7684\u7a0b\u5e8f\u91cc\uff0c\u8c03\u7528\u51fd\u6570\u7684\u603b\u91cf\u548c\u987a\u5e8f\u662f\u786e\u5b9a\u7684</p> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u6309\u7167 function \u5728\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u7684\u5148\u540e\u987a\u5e8f\u5bf9\u5176\u8fdb\u884c\u6807\u53f7\uff0c\u5e76\u8ba1\u7b97\u6bcf\u4e00\u4e2a function \u9700\u8981\u7684\u5b58\u50a8\u7a7a\u95f4\u957f\u5ea6</li> <li>\u968f\u540e\uff0c\u6309\u7167\u51fa\u73b0\u987a\u5e8f\uff08\u6807\u53f7\u987a\u5e8f\uff09\u9010\u6bb5\u4e3a\u5176\u5206\u914d\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4\uff08\u4e92\u4e0d\u76f8\u4ea4\uff09 <p>\u7c7b\u4f3c\u4e8e OS \u4e2d\u7684\u300c\u6bb5\u8868\u300d</p> </li> </ul> </li> <li> <p>\u5206\u914d\u7ed3\u679c\u7684\u4e00\u4e2a\u4f8b\u5b50</p> \u8fc7\u7a0b\u7f16\u53f7 \u5b58\u50a8\u533a\u57df 1 0-21 2 22-36 3 37-54 </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#12","title":"1.2 \u5c42\u6b21\u5206\u914d\u6cd5","text":"<p>\u201c\u987a\u5e8f\u5206\u914d\u6cd5\u201d\u663e\u7136\u4e0d\u80fd\u5145\u5206\u5229\u7528\u7a7a\u95f4\uff1a</p> <ul> <li>\u901a\u8fc7\u89c2\u5bdf\u8c03\u7528\u5173\u7cfb\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u67d0\u51e0\u4e2a\u51fd\u6570\u4e4b\u95f4\u4e0d\u5b58\u5728\u76f8\u4e92\u8c03\u7528\u5173\u7cfb =&gt; \u4ed6\u4eec\u4e0d\u53ef\u80fd\u540c\u65f6\u6d3b\u8dc3\uff01</li> <li>\u8fd9\u51e0\u4e2a\u4e92\u4e0d\u76f8\u5e72\u7684\u51fd\u6570\u53ef\u4ee5\u5171\u7528\u540c\u4e00\u5757\u5b58\u50a8\u7a7a\u95f4\uff01</li> </ul> <p>\u5728 \u201d\u5c42\u6b21\u5206\u6790\u6cd5\u201c \u4e2d\uff0c\u6211\u4eec\u5c3d\u91cf\u4f7f\u65e0\u76f8\u4e92\u8c03\u7528\u5173\u7cfb\u8fc7\u7a0b\u7684\u5c40\u90e8\u6570\u636e \u5171\u4eab\u5b58\u50a8\u7a7a\u95f4</p> <ul> <li>\u56e0\u4e3a\u4e0d\u5141\u8bb8\u5d4c\u5957\u8c03\u7528\uff0c\u4f9d\u8d56\u5173\u7cfb\u4e2d\u4e0d\u5b58\u5728\u73af -&gt; \u53ef\u4ee5\u4f7f\u7528 Bottom-Up \u7684\u65b9\u6cd5\u904d\u5386</li> <li>\u5bf9 \u540c\u4e00 depth \u4e0a\u3001\u4e0d\u5b58\u5728\u76f8\u4e92\u8c03\u7528\u5173\u7cfb \u7684\u51e0\u4e2a function\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u300c\u540c\u4e00\u8d77\u70b9\u300d\u5f00\u59cb\u5206\u914d</li> <li>\u5bf9\u4e8e\u5b58\u5728\u5185\u90e8\u8c03\u7528\u7684\u51fd\u6570\uff0c\u9700\u8981\u4ece <code>max( child[i].endAddr ) + 1</code> \u5f00\u59cb</li> </ul> <ul> <li>\u5c42\u6b21\u5206\u914d\u7b97\u6cd5<ul> <li>\u4f7f\u7528 \u201d\u5173\u7cfb\u8c03\u7528\u77e9\u9635\u201c <code>B[i][j]</code> \u6765\u8868\u793a\u51fd\u6570\u95f4\u7684\u8c03\u7528\u5173\u7cfb\uff0c<code>B[i][j] == 1</code> \u8868\u793a \\(func_i\\) \u8c03\u7528\u4e86 \\(func_j\\)</li> <li>\u6570\u7ec4 <code>Units[n]</code> \u5b58\u653e\u6bcf\u4e2a function \u9700\u8981\u7684\u5185\u5b58\u5355\u5143\u6570\u91cf</li> <li>\u6570\u7ec4 <code>base[n]</code> \u8868\u793a\u5c40\u90e8\u6570\u636e\u533a\u57fa\u5730\u5740</li> <li>\u6570\u7ec4 <code>allocated[n]</code> \u8868\u793a\u8be5\u5c40\u90e8\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5206\u914d</li> </ul> </li> </ul> <pre><code>void allocate(int* Units, int* base, int nBlock) {\n    int i, j, k, sum;\n    // initialization\n    int* allocated = (int*)malloc(sizeof(int) * nBlock);\n    for(i=0 ; i&lt;nBlock ; i++) {\n        base[i] = 0;\n        allocated[i] = 0;\n    }\n    // allocate\n    for(j=0 ; i&lt;nBlocks ; j++) {\n        for(i=0 ; i&lt;nBlocks; i++) {\n            sum = 0;\n            for(k=0 ; k&lt;nBlocks ; k++) sum += B[i][k];\n            if(!sum &amp;&amp; !allocated[i]) {\n                allocated[i] = i;\n                print(i, base[i], base[i]+Units[i]-1);\n                for(k=0 ; k&lt;nBlocks ; k++) {\n                    if(B[k][i]) {\n                        if(base[k] &lt; base[i]+Units[i]) {\n                            base[k] = base[i]-Units[i];\n                            B[k][i] = 0;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    free(allocated);\n}\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#2","title":"2 \u6808\u5f0f\u5b58\u50a8\u5206\u914d","text":"<ul> <li>\u5f53\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u5bf9\u5e94\u7684\u6d3b\u52a8\u8bb0\u5f55\u88ab\u538b\u5165 Stack\uff1b\u7ed3\u675f\u65f6\u88ab\u5f39\u51fa</li> <li>\u8fd9\u79cd\u5b89\u6392\u5141\u8bb8 \u6d3b\u8dc3\u65f6\u95f4\u4e0d\u91cd\u53e0 \u7684\u591a\u4e2a\u8fc7\u7a0b\u8c03\u7528\u4e4b\u95f4\u5171\u4eab\u8fc7\u7a0b\uff0c\u5e76\u4e14\u5141\u8bb8 \u975e\u5c40\u90e8\u53d8\u91cf \u7684 \u76f8\u5bf9\u5730\u5740\u56fa\u5b9a\uff08\u4e0e\u8c03\u7528\u5e8f\u5217\u65e0\u5173\uff09</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#_1","title":"\u6d3b\u52a8\u6811","text":"<p>\u7528\u4e8e\u63cf\u8ff0\u7a0b\u5e8f \u8fd0\u884c\u671f\u95f4 \u8fdb\u5165&amp;\u79bb\u5f00 \u5404\u4e2a\u6d3b\u52a8\u7684\u60c5\u51b5</p> <ul> <li>\u6811\u4e2d\u7684\u6bcf\u4e00\u4e2a node \u90fd\u5bf9\u5e94\u4e86\u4e00\u4e2a\u6d3b\u52a8\uff0croot \u4ee3\u8868\u542f\u52a8\u65f6\u6267\u884c\u7684 <code>main()</code> \u51fd\u6570</li> <li>\u5bf9\u4e8e\u975e\u53f6\u8282\u70b9 p\uff0c\u5176 childs \u5bf9\u5e94\u8be5 p \u5728\u6b64\u6b21\u6d3b\u52a8\u4e2d\u8c03\u7528\u7684\u5404\u8fc7\u7a0b\u6d3b\u52a8<ul> <li>\u8fd9\u4e9b\u88ab\u8c03\u7528\u6d3b\u52a8\u6309\u7167 \u8c03\u7528\u987a\u5e8f\uff0c\u81ea\u5de6\u5411\u53f3\u6392\u5217</li> <li>\u4e00\u4e2a child \u5fc5\u987b\u5728\u5176 rightBrother \u5f00\u59cb\u524d\u7ed3\u675f</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#_2","title":"\u63a7\u5236\u6808","text":"<ul> <li>\u6bcf\u4e00\u4e2a\u6d3b\u8dc3\u7684 function \u90fd\u6709\u4e00\u4e2a\u4f4d\u4e8e \u63a7\u5236\u6808 \u4e2d\u7684\u6d3b\u52a8\u8bb0\u5f55<ul> <li>\u6808\u5e95\uff1a\u6d3b\u52a8\u6811\u7684\u6839\u6d3b\u52a8\u8bb0\u5f55 <code>main()</code></li> <li>\u6808\u9876\uff1a\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u51fd\u6570</li> </ul> </li> <li>\u6808\u4e2d\u6240\u6709\u7684\u6d3b\u52a8\u8bb0\u5f55\u5e8f\u5217 == \u6d3b\u52a8\u6811\u4e2d\u4ece root \u5230\u8fbe\u5f53\u524d\u8282\u70b9\u7684\u8def\u5f84</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#_3","title":"\u6d3b\u52a8\u8bb0\u5f55","text":"<pre><code>  | \u250c-------------\u2510----- bottom of Stack \u2193 \n  | | \u53c2\u6570 &amp; \u8fd4\u56de\u503c |   \uff5c\n  | \u251c-------------\u2524   \uff5c\n  \u2514-| \u63a7\u5236\u94fe\uff0c\u8bbf\u95ee\u94fe\uff5c  Record of\n  \u250c&gt;| \u673a\u5668\u72b6\u6001     \uff5c  Caller\n  | \u251c-------------\u2524   \uff5c\n  | | \u5c40\u90e8/\u4e34\u65f6\u6570\u636e |   \uff5c\n  | \u251c-------------\u2524-----\n  | | \u53c2\u6570 &amp; \u8fd4\u56de\u503c |   \uff5c\n  | \u251c-------------\u2524   \uff5c\n  \u2514-| \u63a7\u5236\u94fe\uff0c\u8bbf\u95ee\u94fe\uff5c  Record of\n    | \u673a\u5668\u72b6\u6001     \uff5c  Callee\nsp-&gt;\u251c-------------\u2524   \uff5c\n    | \u5c40\u90e8/\u4e34\u65f6\u6570\u636e |   \uff5c\n    \u251c-------------\u2524----- \n    |             |\n</code></pre> <ul> <li>\u5728 Caller &amp; Callee \u4e4b\u95f4\u4f20\u9012\u7684\u503c\u4e00\u822c\u653e\u5728 Callee \u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4e24\u8fb9\u90fd\u6bd4\u8f83\u8fd1\uff09</li> <li>\u957f\u5ea6\u56fa\u5b9a\u7684\u6570\u636e\u88ab\u653e\u5728\u4e2d\u95f4\u4f4d\u7f6e\uff08\u63a7\u5236\u94fe\uff0c\u8bbf\u95ee\u94fe\uff0c\u673a\u5668\u72b6\u6001\uff09</li> <li>\u5728\u65e9\u8d77\u5b9e\u73b0\u4e2d\uff0c\u4e0d\u77e5\u9053\u5927\u5c0f\u7684\u9879\u653e\u5728\u5c3e\u90e8</li> <li>\u6808\u9876\u6307\u9488 <code>sp</code> \u5b9e\u9645\u6307\u5411\u7684\u662f curFunc \u4e2d \u5c40\u90e8\u6570\u636e\u7684\u8d77\u59cb\u5730\u5740</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#3","title":"3 \u8c03\u7528/\u8fd4\u56de\u5e8f\u5217","text":"<ul> <li> <p>\u5728\u8fc7\u7a0b \u8c03\u7528 / \u8fd4\u56de \u9636\u6bb5\u90fd\u9700\u8981\u64cd\u4f5c\u6d3b\u52a8\u8bb0\u5f55\u6808\uff0c\u5bf9\u673a\u5668\u72b6\u6001\u8fdb\u884c \u4fdd\u5b58/\u6062\u590d</p> <ul> <li> <p>\u300c\u8c03\u7528\u5e8f\u5217\u300d</p> <p>\u8fc7\u7a0b\u8c03\u7528\u65f6\u9700\u8981\u6267\u884c\u7684\u4ee3\u7801\u6bb5\uff0c\u5b83\u5728\u6808\u4e2d\u4e3a\u6d3b\u52a8\u8bb0\u5f55\u5206\u914d\u76f8\u5e94\u7a7a\u95f4\uff0c\u5e76\u5728\u76f8\u5173\u5b57\u6bb5\u4e2d\u586b\u5199\u4fe1\u606f</p> </li> <li> <p>\u300c\u8fd4\u56de\u5e8f\u5217\u300d</p> <p>\u8fc7\u7a0b\u7ed3\u675f\u65f6\u9700\u8981\u6267\u884c\u7684\u4ee3\u7801\u6bb5\uff0c\u5bf9\u673a\u5668\u72b6\u6001\u8fdb\u884c\u6062\u590d\uff0c\u4f7f\u5f97\u540e\u7eed\u4ee3\u7801\u80fd\u591f\u6b63\u5e38\u6267\u884c</p> </li> </ul> </li> <li> <p>\u8c03\u7528 / \u8fd4\u56de \u5e8f\u5217\u6240\u5305\u542b\u7684\u4ee3\u7801\u5f80\u5f80\u88ab\u5206\u6210\u4e24\u90e8\u5206\uff0c\u5206\u522b\u585e\u5230 Caller &amp; Callee \u4e2d</p> </li> </ul> <p>\u4e0b\u9762\u662f Caller &amp; Callee \u5408\u4f5c\u7684\u4f8b\u5b50\uff1a</p> <ul> <li>\u300c\u8c03\u7528\u5e8f\u5217\u300d<ol> <li>Caller<ul> <li>\u8ba1\u7b97 \u5b9e\u53c2 \u7684\u503c\uff0c\u5e76\u5c06\u5176\u653e\u5728 Callee \u6d3b\u52a8\u8bb0\u5f55\u4e2d\u7684\u6307\u5b9a\u4f4d\u7f6e</li> <li>\u5c06 \u8fd4\u56de\u5730\u5740\uff08\u7a0b\u5e8f\u8ba1\u6570\u5668\u503c\uff09\u653e\u5230 Callee \u7684 \u673a\u5668\u72b6\u6001 \u5b57\u6bb5\u4e2d</li> <li>\u5c06\u539f\u6765\u7684 <code>sp</code> \u503c\u653e\u5230 Callee \u7684 \u63a7\u5236\u94fe \u4e2d</li> <li>\u4fee\u6539 <code>sp</code> \u7684\u503c\uff0c\u4f7f\u5176\u6307\u5411 Callee \u5c40\u90e8\u6570\u636e\u5f00\u59cb\u4f4d\u7f6e</li> </ul> </li> <li>Callee<ul> <li>\u4fdd\u5b58 \u5bc4\u5b58\u5668\u503c \u53ca\u5176\u4ed6\u72b6\u6001\u4fe1\u606f</li> <li>\u521d\u59cb\u5316\u5c40\u90e8\u6570\u636e\uff0c\u5e76\u5f00\u59cb\u6267\u884c</li> </ul> </li> </ol> </li> <li>\u300c\u8fd4\u56de\u5e8f\u5217\u300d<ol> <li> <p>Callee</p> <ul> <li>\u5c06 \u8fd4\u56de\u503c \u4fdd\u5b58\u5230\u4e0e \u53c2\u6570\u76f8\u90bb \u7684\u4f4d\u7f6e</li> <li> <p>\u4f7f\u7528 \u72b6\u6001\u94fe&amp;\u673a\u5668\u72b6\u6001 \u4fe1\u606f\uff0c\u6062\u590d <code>sp</code> &amp; \u5bc4\u5b58\u5668\u503c</p> <p>\u5c3d\u7ba1\u6b64\u65f6 <code>sp</code> \u5df2\u7ecf\u88ab\u51cf\u5c0f\u4e86\uff08\u6307\u5411 Caller\uff09\u4e14 \u8fd4\u56de\u503c \u4fdd\u5b58\u5728 Callee \u7684\u8bb0\u5f55\u4e2d\uff0c\u4f46\u7531\u4e8e Caller \u77e5\u9053\u5176\u76f8\u5bf9\u4e8e \u5f53\u524d<code>sp</code> \u7684\u504f\u79fb\u91cf\uff0c\u56e0\u6b64\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee</p> </li> <li> <p>\u8df3\u8f6c\u5230 \u673a\u5668\u72b6\u6001\u4e2d\u8bb0\u5f55\u7684\u8fd4\u56de\u5730\u5740\uff08 Caller \u5728\u8c03\u7528\u65f6\u5199\u5165\u7684\uff09</p> </li> <li>\u5c0f\u7ed3<ul> <li><code>sp</code> \u6307\u9488\u7531 Caller \u66f4\u65b0\uff0cCallee \u6062\u590d</li> <li>Callee \u4e2d\u7684\u5b57\u6bb5</li> </ul> </li> <li>Caller \u586b\u5199\uff1a\u53c2\u6570\u3001\u63a7\u5236\u94fe\u3001\u673a\u5668\u72b6\u6001\uff08\u8fd4\u56de\u503c\uff09</li> <li>Callee \u586b\u5199\uff1a\u8fd4\u56de\u503c\u3001\u673a\u5668\u72b6\u6001\uff08\u5bc4\u5b58\u5668\u53ca\u5176\u4ed6\uff09</li> </ul> </li> </ol> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#4","title":"4 \u53d8\u957f\u6570\u636e\u5b58\u50a8\u5206\u914d","text":"<ul> <li>\u5728\u73b0\u4ee3\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u4e2d\uff0c\u7f16\u8bd1\u65f6\u523b \u4e0d\u80fd\u786e\u5b9a\u5927\u5c0f\u7684\u5bf9\u8c61\u901a\u5e38\u88ab\u653e\u5728 Heap \u4e2d</li> <li>\u4f46 \u51fd\u6570\u7684\u5c40\u90e8\u5bf9\u8c61 \uff08\u51fa\u4e86\u8be5\u51fd\u6570\u5c31\u4e0d\u53ef\u8bbf\u95ee\uff09\u53ef\u4ee5\u88ab\u653e\u5728 Stack \u4e2d\uff08\u8fd0\u884c\u65f6\u523b\u6808\uff09 <p>\u5c06\u5bf9\u8c61\u653e\u5728 Stack \u4e2d\u53ef\u4ee5\u907f\u514d\u5bf9\u7a7a\u95f4\u8fdb\u884c \u5783\u573e\u56de\u6536 \uff0c\u4ece\u800c\u964d\u4f4e overhead</p> </li> </ul> <p>\u4ee5\u300c\u52a8\u6001\u6570\u7ec4\u300d\u5b58\u50a8\u5206\u914d\u4e3a\u4f8b\uff1a</p> <ul> <li> <p>\u5728\u7f16\u8bd1\u65f6\u523b\uff0c\u6570\u7ec4\u957f\u5ea6\u4e0d\u80fd\u786e\u5b9a\uff0c\u6d3b\u52a8\u8bb0\u5f55\u4e2d\u6307\u5b58\u50a8\u4e86\u6307\u5411 \u6570\u7ec4\u8d77\u59cb\u4f4d\u7f6e \u7684\u6307\u9488</p> <p>\u6570\u7ec4\u672c\u8eab\u6240\u5360\u7a7a\u95f4\u5e76\u4e0d\u662f\u672c\u51fd\u6570\u6d3b\u52a8\u8bb0\u5f55\u7684\u4e00\u90e8\u5206\uff0c\u800c\u662f\u5728\u672c\u8bb0\u5f55\u4e0e\u4e0b\u4e00\u8bb0\u5f55\u4e4b\u95f4</p> </li> <li> <p>\u5728\u8fd0\u884c\u65f6\u523b\uff0c\u6570\u7ec4\u6307\u9488\u5173\u4e8e <code>sp</code> \u7684\u504f\u79fb\u91cf\u5df2\u77e5\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\u6b63\u5e38\u8bbf\u95ee\u6570\u7ec4</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#5","title":"5 \u975e\u5c40\u90e8\u6570\u636e\u8bbf\u95ee","text":"<p>\u4f7f\u7528\u5728\u672c\u8fc7\u7a0b\u5916\u8c03\u7528\u7684\u6570\u636e</p> <p>\u6211\u4eec\u9996\u5148\u5c06\u8bed\u8a00\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a</p> <ul> <li> <p>\u652f\u6301 \u8fc7\u7a0b\u5d4c\u5957\u58f0\u660e\uff08\u7c7b SASS\uff09</p> <p>\u5141\u8bb8\u5728\u4e00\u4e2a function \u5185\u90e8\u58f0\u660e\u53e6\u4e00\u4e2a function\uff0c\u5982 \\(Pascal\\)</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a \\(Pascal\\) \u7f16\u5199\u7684\u6392\u5e8f\u51fd\u6570\uff1a</p> <pre><code>program sort(input, output);\n    var a:array[0..10] of integer;\n        x:integer;\n    procedure readarray;\n        var i:integer;\n        begin ... a ... end {readarray};\n    procedure exchange(i, j:integer);\n        begin x=a[i];a[i]=a[j];a[j]=x; end {exchange};\n    procedure quicksort(m, n:integer);\n        var k, v:integer;\n        function partition(y, z:integer):integer;\n            var i, j:integer;\n                begin ... a ... v ... exchange(i,j) ... end {partition};\n        begin ... a ... v ... partition ... quicksort ... end {quicksort};\n    begin ... a ... readarray ... quicksort ... end {sort};\n</code></pre> <ul> <li>\u5728\u8fd9\u79cd\u652f\u6301\u5d4c\u5957\u5b9a\u4e49\u7684\u8bed\u8a00\u4e2d\uff0c\u8fc7\u7a0b\u4e0d\u4ec5\u53ef\u4ee5\u8bbf\u95ee \u81ea\u8eab\u5b9a\u4e49 \u7684\u5c40\u90e8\u6570\u636e\u3001\u5168\u5c40\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 \u5916\u56f4\u8fc7\u7a0b \u4e2d\u58f0\u660e\u7684\u5bf9\u8c61\u3002</li> <li>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a<ul> <li>\u8fc7\u7a0b <code>readarray</code> , <code>exchange</code>, <code>quicksort</code> \u5747\u53ef\u4ee5\u8bbf\u95ee\u7531 <code>sort</code> \u5b9a\u4e49\u7684 \\(a, x\\)</li> <li>\u8fc7\u7a0b <code>partition</code> \u53ef\u4ee5\u8bbf\u95ee\u7531\u5916\u56f4\u8fc7\u7a0b <code>quicksort</code> \u5b9a\u4e49\u7684\u53d8\u91cf \\(v\\)</li> </ul> </li> </ul> </li> <li> <p>\u4e0d\u652f\u6301 \u8fc7\u7a0b\u5d4c\u5957\u58f0\u660e\uff08\u7c7b CSS\uff09\uff0c\u5982 \\(C\\)</p> <p>\u4e0b\u9762\u4e5f\u662f\u4e00\u4e2a\u7528 \\(C\\) \u7f16\u5199\u7684\u6392\u5e8f\u4f8b\u7a0b\uff1a</p> <pre><code>int a[11];\n\nvoid readArray() {\n    int i;\n    for(i=1;i&lt;10;i++) scanf(\"%d\", &amp;a[i]);\n}\n\nint partition(int m, int n) {}\n\nvoid quickSort(int m, int n) {\n    int i;\n    if(n&gt;m) {\n        i = partition(m, n);\n        quicksort(m, i-1);\n        quicksort(i+1, n);\n    }\n}\n\nvoid main() {\n    readArray();\n    a[0] = -9999;\n    a[10] = 9999;\n    qicksort(1, 9);\n}\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cfunction \u53ea\u80fd\u4f7f\u7528 \u81ea\u8eab\u5b9a\u4e49 \u7684\u5c40\u90e8\u6570\u636e \u548c \u5168\u5c40\u6570\u636e</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#51","title":"5.1 \u65e0\u5d4c\u5957\u58f0\u660e\u6570\u636e\u8bbf\u95ee","text":"<ul> <li> <p>\u5168\u5c40\u53d8\u91cf</p> <p>\u5206\u914d\u81f3 \u9759\u6001\u533a\uff0c\u4f7f\u7528 \u9759\u6001\u786e\u5b9a \u7684\u5730\u5740\u8fdb\u884c\u8bbf\u95ee</p> </li> <li> <p>\u5176\u4ed6\u53d8\u91cf</p> <ul> <li>\u4e00\u5b9a\u662f \u6808\u9876\u6d3b\u52a8 \u7684 \u5c40\u90e8\u53d8\u91cf</li> <li>\u901a\u8fc7\u8fd0\u884c\u65f6\u523b\u6808\u7684 <code>sp</code> \u6307\u9488\u8fdb\u884c\u8bbf\u95ee</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#52","title":"5.2 \u5d4c\u5957\u58f0\u660e\u6570\u636e\u8bbf\u95ee","text":""},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#_4","title":"\u5d4c\u5957\u6df1\u5ea6","text":"<ul> <li>\u8fc7\u7a0b\u5d4c\u5957\u6df1\u5ea6<ul> <li>\u4e0d\u5d4c\u5957\u5728\u4efb\u610f\u8fc7\u7a0b\u4e2d\u7684\u8fc7\u7a0b\uff0c\\(depth = 1\\)</li> <li>\u82e5\u8fc7\u7a0b\u5728 \\(depth=i\\) \u7684\u8fc7\u7a0b\u4e2d\u88ab\u5d4c\u5957\u5b9a\u4e49\uff0c\u5219 \\(depth_p =i+1\\)</li> </ul> </li> <li> <p>\u53d8\u91cf\u5d4c\u5957\u6df1\u5ea6</p> <p>\u5373\u4e3a\u5b9a\u4e49\u8be5\u53d8\u91cf\u7684\u5d4c\u5957\u6df1\u5ea6</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#access-links","title":"\u8bbf\u95ee\u94fe Access Links","text":"<ul> <li> <p>\u9759\u6001\u4f5c\u7528\u57df\u539f\u5219</p> <p>\u53ea\u8981\u8fc7\u7a0b \\(b\\) \u7684\u58f0\u660e\u5d4c\u5957\u5728\u8fc7\u7a0b \\(a\\) \u7684\u58f0\u660e\u4e2d\uff0c\\(b\\) \u5c31\u53ef\u4ee5\u8bbf\u95ee \\(a\\) \u4e2d\u58f0\u660e\u7684\u53d8\u91cf</p> <p>\u5d4c\u5957\u5b9a\u4e49\u7684\u51fd\u6570\u53ea\u80fd\u5728\u5176\u7236\u51fd\u6570\u4e2d\u88ab\u8c03\u7528\uff08\u5176\u4ed6\u7956\u5148\u4e0d\u884c\uff09</p> </li> <li> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u4e92\u76f8\u5d4c\u5957\u7684\u6d3b\u52a8\u8bb0\u5f55\u4e4b\u95f4\u5efa\u7acb Access Link\uff08\u6307\u9488\uff09\uff0c\u4f7f\u5f97\u5185\u5d4c\u8fc7\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u5916\u5c42\u8fc7\u7a0b\u4e2d\u58f0\u660e\u7684\u5bf9\u8c61</p> </li> <li> <p>\u82e5 \\(b\\) \u76f4\u63a5\u5d4c\u5957\u5728 \\(a\\) \u4e2d\u88ab\u58f0\u660e\uff08\\(depth_b=depth_a+1\\)\uff09\uff0c\u5219 \\(b\\) \u7684 \u4efb\u4f55\u6d3b\u52a8 \u7684 Access Link \u5747\u6307\u5411 \u6700\u8fd1\u7684 \u00b7 \\(a\\) \u7684 \u6d3b\u52a8\u8bb0\u5f55</p> <p>\u5f53\u524d\u7684 \\(b\\) \u51fd\u6570\u4e00\u5b9a\u662f\u88ab\u5c1a\u672a\u7ed3\u675f\u7684 \\(a\\) \u51fd\u6570\u8fdb\u7a0b\u8c03\u7528\u7684\uff08\u800c\u4e14\u53ef\u4ee5\u8c03\u7528\u591a\u6b21\uff09</p> </li> <li> <p>\u8bbf\u95ee\u94fe\u7684\u5efa\u7acb\uff08\u8c03\u7528\u5e8f\u5217\uff09</p> <ul> <li> <p>\u5047\u8bbe\u8fc7\u7a0b \\(x\\) \u8c03\u7528\u4e86\u8fc7\u7a0b \\(y\\) \uff0c\u4e24\u8005\u7684\u5d4c\u5957\u6df1\u5ea6\u5206\u522b\u4e3a \\(n_x,n_y\\)</p> <ul> <li> <p>\\(n_x &lt; n_y\\) \u5916\u5c42\u8c03\u5185\u5c42</p> <p>\\(y\\) \u4e00\u5b9a\u662f\u5728 \\(x\\) \u4e2d\u76f4\u63a5\u5b9a\u4e49\u7684(\\(n_y=n_x+1\\)) =&gt; \u5728\u8bb2 \\(y\\) \u7684\u8bbf\u95ee\u94fe\u6307\u5411 \\(x\\)</p> </li> <li> <p>\\(n_x == n_y\\) \u5e73\u7ea7\u8c03\u7528</p> <p>\u4e00\u5b9a\u662f\u9012\u5f52\u8c03\u7528 \\(x \\rightarrow x\\)\uff0c\u76f4\u63a5\u590d\u5236</p> </li> <li> <p>\\(n_x &gt; n_y\\) \u5185\u5c42\u8c03\u5916\u5c42</p> <p>\u8fc7\u7a0b \\(x\\) \u88ab\u5d4c\u5957\u5728\u8fc7\u7a0b \\(z\\) \u4e2d\uff08\u540e\u4ee3\u8fc7\u7a0b\uff09\uff0c\u800c \\(z\\) \u4e2d\u76f4\u63a5\u5b9a\u4e49\u4e86 \\(y\\)</p> <p>\u6211\u4eec\u4ece \\(x\\) \u7684\u8bbf\u95ee\u94fe\u5f00\u59cb\u56de\u6eaf \\(n_x-n_y+1\\) \u5c42\u4ee5\u83b7\u53d6\u6700\u65b0\u7684 \\(z\\) \u8bb0\u5f55\uff0c\u5e76\u5c06 \\(y\\) \u7684\u8bbf\u95ee\u94fe\u6307\u5411\u5b83</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#6","title":"6 \u7b26\u53f7\u8868","text":"<p>\u6211\u4eec\u9700\u8981\u4e3a\u6bcf\u4e00\u4e2a \u4f5c\u7528\u57df\uff08\u7a0b\u5e8f\u5757\uff09 \u5efa\u7acb\u5355\u72ec\u7684\u7b26\u53f7\u8868</p> <ul> <li>\u7b26\u53f7\u8868\u5185\u5bb9<ul> <li>\u672c\u7b26\u53f7\u8868\u4e2d \u6240\u6709\u53d8\u91cf \u9700\u8981\u7684\u603b\u5b58\u50a8\u7a7a\u95f4\u5927\u5c0f</li> <li>\u5b9a\u4e49\u7684 \u53d8\u91cf \u53ca\u5176\u8d77\u59cb\u5730\u5740</li> <li>\u76f4\u63a5\u5d4c\u5957\u58f0\u660e\u7684 \u51fd\u6570\u540d \u53ca\u6307\u5411\u5bf9\u5e94\u7b26\u53f7\u8868\u7684\u6307\u9488</li> </ul> </li> <li> <p>\u4e3a \u6bcf\u4e2a\u8fc7\u7a0b/\u4f5c\u7528\u57df \u5efa\u7acb\u7684\u7b26\u53f7\u8868 \u4e0e \u7f16\u8bd1\u65f6\u7684\u6d3b\u52a8\u8bb0\u5f55 \u662f\u5bf9\u5e94\u7684\uff0c</p> <p>\u8fc7\u7a0b\u4e2d \u975e\u5c40\u90e8\u53d8\u91cf \u7684 id \u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u626b\u63cf\u5176 \u5916\u56f4\u8fc7\u7a0b\u7b26\u53f7\u8868 \u5f97\u5230\u3002</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#61","title":"6.1 \u6839\u636e\u7b26\u53f7\u8868\u6784\u9020\u8bbf\u95ee\u94fe","text":"<ul> <li> <p>\\(n_x &lt; n_y\\) </p> <p>\u901a\u8fc7\u76f4\u63a5\u626b\u63cf Caller \\(x\\) \u7684\u7b26\u53f7\u8868\uff0c\u53ef\u4ee5\u5f97\u77e5 \\(y\\) \u5728 \\(x\\) \u4e2d\u88ab\u58f0\u660e\u3002</p> <p>=&gt; \\(y\\) \u7684\u8bbf\u95ee\u94fe\u6307\u5411 \\(x\\)</p> </li> <li> <p>\\(n_x == n_y\\) \u76f4\u63a5\u590d\u5236</p> </li> <li> <p>\\(n_x &gt; n_y\\) </p> <p>\u9996\u5148\u5728 Caller \\(x\\) \u7684\u7b26\u53f7\u8868\u4e2d\u67e5\u627e \\(y\\) \uff08\u80af\u5b9a\u627e\u4e0d\u5230\uff09\uff0c\u56de\u6eaf\u81f3\u4e0a\u4e00\u7ea7\uff1b</p> <p>\u5728\u5f53\u524d\u7b26\u53f7\u8868\u4e2d\u67e5\u627e \\(y\\)\uff0c\u627e\u4e0d\u5230\u5c31\u7ee7\u7eed\u56de\u6eaf\uff1b</p> <p>\u82e5\u5728\u5f53\u524d\u5c42\u7ea7\u7684\u7b26\u53f7\u8868\u4e2d\u627e\u5230 \\(y\\) =&gt; \\(y\\) \u7684\u8bbf\u95ee\u94fe\u6307\u5411\u5f53\u524d\u5c42\u7ea7\u51fd\u6570\u7684\u6d3b\u52a8\u8bb0\u5f55</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#62-identifier","title":"6.2 identifier \u57fa\u672c\u5904\u7406\u65b9\u6cd5","text":"<ul> <li>\u5728\u67d0\u4e00\u51fd\u6570\u7684 \u58f0\u660e\u8bed\u53e5 \u4e2d\u8bc6\u522b\u51fa\u4e86\u4e00\u4e2a \\(id\\) =&gt; \u67e5\u627e\u672c\u51fd\u6570\u7684\u7b26\u53f7\u8868<ul> <li>\u80fd\u67e5\u5230 =&gt;  Error\uff1a\\(id\\) \u91cd\u590d\u58f0\u660e</li> <li>\u67e5\u4e0d\u5230 =&gt; \u4e3a\u7b26\u53f7\u8868\u6dfb\u52a0\u65b0\u7684\u8868\u9879\uff0c\u5e76\u586b\u5199\u76f8\u5173\u4fe1\u606f</li> </ul> </li> <li>\u5728 \u53ef\u6267\u884c\u8bed\u53e5 \u4e2d\u8bc6\u522b\u51fa \\(id\\) \u65f6 =&gt; \u4ece\u672c\u51fd\u6570\u5f00\u59cb\u9012\u5f52\u56de\u6eaf\u67e5\u8be2<ul> <li>\u80fd\u67e5\u5230 =&gt; \u53d6\u51fa\u76f8\u5173\u4fe1\u606f\u8fdb\u884c\u5904\u7406</li> <li>\u67e5\u4e0d\u5230 =&gt; Error\uff1a\\(id\\) \u672a\u58f0\u660e</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/7%20%E8%BF%90%E8%A1%8C%E5%AD%98%E5%82%A8%E5%88%86%E9%85%8D/#63","title":"6.3 \u5efa\u7acb\u7b26\u53f7\u8868","text":"<p>\u5728 \u5141\u8bb8\u5d4c\u5957\u58f0\u660e \u7684\u8bed\u8a00\u4e2d\uff0c\u770b\u5230 \u5d4c\u5957\u8fc7\u7a0b \u65f6\uff0c\u5e94\u6682\u65f6\u6302\u8d77\u5bf9 \u5916\u56f4\u8fc7\u7a0b\u58f0\u660e\u8bed\u53e5 \u7684\u5904\u7406</p> <ol> <li> <p>\u5728\u8c03\u7528\u4e00\u4e2a function \u65f6</p> <ul> <li> <p>\u4f7f\u7528 <code>makeTable(previous)</code> \u5efa\u7acb\u65b0\u7684\u7b26\u53f7\u8868\uff0c\u8bb0\u5f55\u6307\u5411\u7b26\u53f7\u8868\u7684\u6307\u9488</p> <p><code>previous</code> \u662f\u6307\u5411\u5916\u56f4\u8fc7\u7a0b\u7b26\u53f7\u8868\u7684\u6307\u9488\uff08\u6700\u5916\u5c42\u51fd\u6570\u4f20 null \u5c31\u884c\uff09</p> </li> <li> <p>\u5c06\u65b0\u7684\u7b26\u53f7\u8868\u6307\u9488 <code>tablePtr</code> \u4e0e\u6b64\u65f6\u7684\u7b26\u53f7\u8868\u603b\u957f <code>offset = 0</code> \u5165\u6808</p> <p><code>offset</code> \u8bb0\u5f55\u7684\u662f\u5173\u4e8e\u672c\u6d3b\u52a8\u8bb0\u5f55\u7684\u76f8\u5bf9\u504f\u79fb\uff0c\u6240\u4ee5\u521d\u59cb\u5316\u90fd\u662f 0</p> </li> </ul> </li> <li> <p>\u8bc6\u522b\u5230(\u5355\u4e2a)\u53d8\u91cf\u58f0\u660e\u65f6</p> <ul> <li>\u8c03\u7528 <code>enter(tablePtr, idName, type, offset)</code> \u5728\u7b26\u53f7\u8868\u4e2d\u4e3a\u8be5\u53d8\u91cf\u65b0\u5efa\u4e00\u6761\u8bb0\u5f55</li> <li><code>offset += curId.width</code></li> </ul> </li> <li> <p>\u5b8c\u6210\u5d4c\u5957\u8fc7\u7a0b\u58f0\u660e\u65f6</p> <ul> <li> <p>\u4f7f\u7528 <code>addwidth(top(offset))</code> \u66f4\u65b0\u5f53\u524d\u7b26\u53f7\u8868\u8868\u5934\u4e2d\u8bb0\u5f55\u7684 \u53d8\u91cf\u603b\u5bbd\u5ea6</p> <p>\u8be5\u8868\u7684\u53d8\u91cf\u603b\u5bbd\u5ea6\u5c31\u662f\u6b64\u65f6\u6808\u9876\u7684 <code>offset</code> \u6570\u503c</p> </li> <li> <p>\u5c06 <code>tablePtr, offset</code> \u51fa\u6808 =&gt; \u6f0f\u51fa\u5916\u56f4\u8fc7\u7a0b\u7684 \u76f8\u5173\u6570\u636e</p> </li> <li>\u8c03\u7528 <code>enterProc(top(tablePtr), subProcName, subProcPtr)</code> \u5728 \u5916\u56f4\u8fc7\u7a0b\u7684\u7b26\u53f7\u8868 \u4e2d \u4e3a\u5d4c\u5957\u8fc7\u7a0b\u7684\u51fd\u6570\u540d \u5efa\u7acb\u8bb0\u5f55</li> </ul> </li> <li> <p>\u5b8c\u6210\u5bf9 \u5b8c\u6574\u7a0b\u5e8f \u7684\u8bc6\u522b\u65f6</p> <ul> <li>\u66f4\u65b0\u6700\u5916\u5c42\u51fd\u6570 <code>main()</code> \u7b26\u53f7\u8868\u8868\u5934\u4e2d\u8bb0\u5f55\u7684 <code>totWidth</code></li> <li>\u5c06\u6700\u5916\u5c42\u51fd\u6570\u7684 <code>tablePtr, offset</code> \u51fa\u6808</li> </ul> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/","title":"8 \u4ee3\u7801\u4f18\u5316","text":"<p> \u7ea6 5630 \u4e2a\u5b57  83 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 20 \u5206\u949f</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#1","title":"1 \u6d41\u56fe","text":"<p>\u7528\u4e8e\u63cf\u8ff0\u7a0b\u5e8f\u63a7\u5236\u6d41\u7a0b\u7684\u5de5\u5177</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#11-basic-block","title":"1.1 \u57fa\u672c\u5757 Basic Block","text":"<p>\u6d41\u56fe\u7684\u57fa\u672c\u5355\u4f4d</p> <p>\u300c\u57fa\u672c\u5757\u300d\u662f\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\u7684 \u6700\u5927\u8fde\u7eed \u4e09\u5730\u5740\u6307\u4ee4\u5e8f\u5217\uff1a</p> <ul> <li>\u63a7\u5236\u6d41\u53ea\u80fd\u4ece\u57fa\u672c\u5757\u7684 \u7b2c\u4e00\u4e2a\u6307\u4ee4 \u8fdb\u5165\u8be5\u5757 =&gt; \u4e0d\u5b58\u5728\u8df3\u8f6c\u5230\u57fa\u672c\u5757 \u4e2d\u95f4/\u672b\u5c3e \u7684\u6307\u4ee4</li> <li>\u63a7\u5236\u6d41\u5728 \u79bb\u5f00 \u57fa\u672c\u5757\u524d\u4e0d\u4f1a \u8df3\u8f6c/\u505c\u673a =&gt; \u76f4\u81f3\u8be5\u5757\u7684\u6700\u540e\u4e00\u6761\u6307\u4ee4</li> </ul> <p>\u57fa\u672c\u5757\u5212\u5206\u7b97\u6cd5</p> <ul> <li>\u8f93\u5165\uff1a\u4e09\u5730\u5740\u6307\u4ee4\u5e8f\u5217</li> <li>\u8f93\u51fa\uff1a\u4e0e\u8f93\u5165\u5e8f\u5217\u5bf9\u5e94\u7684\u57fa\u672c\u5757\u5217\u8868\uff08\u6bcf\u6761\u6307\u4ee4\u5c5e\u4e8e\u4e14\u4ec5\u5c5e\u4e8e\u4e00\u4e2a\u57fa\u672c\u5757\uff09</li> <li> <p>\u7b97\u6cd5</p> <ol> <li> <p>\u786e\u5b9a\u6307\u4ee4\u5e8f\u5217\u4e2d\u7684\u300c\u9996\u6307\u4ee4 Leaders\u300d\uff0c\u5373\u57fa\u672c\u5757\u7684\u7b2c\u4e00\u6761\u6307\u4ee4</p> <ul> <li>\u6307\u4ee4\u5e8f\u5217\u4e2d\u7684 \u9996\u6761\u4e09\u5730\u5740\u6307\u4ee4 \u662f\u4e00\u4e2a Leader</li> <li>\u6240\u6709\u7684 \u6761\u4ef6/\u65e0\u6761\u4ef6 \u8df3\u8f6c\u6307\u4ee4 \u7684 \u76ee\u6807\u6307\u4ee4 \u662f\u4e00\u4e2a Leader</li> <li>\u7d27\u8ddf \u6761\u4ef6/\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4 \u7684 \u540e\u4e00\u6761 \u6307\u4ee4\u662f\u4e00\u4e2a Leader\uff08\u5141\u8bb8\u8fd9\u6761\u6307\u4ee4\u662f\u8df3\u8f6c\u6307\u4ee4\uff09</li> </ul> </li> <li> <p>\u6bcf\u4e2a\u4ee3\u7801\u5757\u5bf9\u5e94\u4e86 From CurLeader To NextLeader\uff08\u524d\u95ed\u540e\u5f00\uff09/ \u6307\u4ee4\u5e8f\u5217\u7ed3\u5c3e \u4e4b\u95f4\u7684\u6240\u6709\u6307\u4ee4</p> </li> </ol> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#12-flow-graph","title":"1.2 \u6d41\u56fe Flow Graph","text":"<p>\u554a\u5176\u5b9e\u5c31\u662f\u6d41\u7a0b\u56fe\uff1f</p> <ul> <li>\u6d41\u56fe\u7684\u8282\u70b9\u662f\u57fa\u672c\u5757</li> <li>\u53ef\u80fd\u5b58\u5728\u81ea\u5faa\u73af\u8fb9</li> <li>\u5f53\u4e14\u4ec5\u5f53 \\(C\\) \u7684\u9996\u6761\u6307\u4ee4\u53ef\u80fd\u7d27\u968f \\(B\\) \u7684\u6700\u540e\u4e00\u6761\u6307\u4ee4\u6267\u884c\u65f6\uff0c\u5b58\u5728\u8fb9 \\(B \\rightarrow C\\)<ul> <li>\u6b64\u65f6\uff0c\u6211\u4eec\u79f0\uff1a<ul> <li>B \u662f C \u7684\u300c\u524d\u9a71 Predecessor\u300d</li> <li>C \u662f B \u7684\u300c\u540e\u7ee7 Successor\u300d</li> </ul> </li> <li>\u8fd9\u6761\u8fb9\u53ef\u80fd\u5b58\u5728\u4e8e\u4ee5\u4e0b\u4e24\u79cd\u60c5\u5f62<ul> <li>\\(B \\rightarrow C\\) \u7684 \u6761\u4ef6/\u65e0\u6761\u4ef6 \u8df3\u8f6c\u8bed\u53e5</li> <li>\u6309\u7167\u539f\u59cb\u7684\u4e09\u5730\u5740\u6307\u4ee4\u5e8f\u5217\uff0c\\(C\\) \u7d27\u968f \\(B\\)\uff0c\u4e14 \\(B\\) \u7684\u7ed3\u5c3e\u4e0d\u5b58\u5728\u8df3\u8f6c\u8bed\u53e5</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#2","title":"2 \u5e38\u7528\u4ee3\u7801\u4f18\u5316\u65b9\u6848","text":"<ul> <li> <p>\u6211\u4eec\u5c06\u4ee3\u7801\u4f18\u5316\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li>\u673a\u5668\u65e0\u5173\u4f18\u5316 \u2014\u2014 \u9488\u5bf9\u4e2d\u95f4\u4ee3\u7801</li> <li>\u673a\u5668\u76f8\u5173\u4f18\u5316 \u2014\u2014 \u9488\u5bf9\u76ee\u6807\u4ee3\u7801</li> <li>\u5c40\u90e8\u4ee3\u7801\u4f18\u5316 \u2014\u2014 \u5728\u5355\u4e2a\u57fa\u672c\u5757\u5185\u8fdb\u884c\u4f18\u5316</li> <li>\u5168\u5c40\u4ee3\u7801\u4f18\u5316 \u2014\u2014 \u9762\u5411\u591a\u4e2a\u57fa\u672c\u5757\u8fdb\u884c\u4f18\u5316</li> </ul> </li> <li> <p>\u5e38\u7528\u4ee3\u7801\u4f18\u5316\u65b9\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li> <p>\u5220\u9664\u516c\u5171\u5b50\u8868\u8fbe\u5f0f</p> <ul> <li> <p>\u82e5\u8868\u8fbe\u5f0f <code>X op Y</code> \u5df2\u7ecf\u88ab\u8ba1\u7b97\u8fc7\uff0c\u4e14\u8bbe\u8ba1\u7684\u53d8\u91cf\u503c\u6ca1\u6709\u53d8\u5316</p> <p>=&gt; \u6b64\u6b21\u51fa\u73b0\u7684 <code>X op Y</code> \u79f0\u4e3a\u300c\u516c\u5171\u5b50\u8868\u8fbe\u5f0f Common Subexpression\u300d</p> </li> <li> <p>\u8fd9\u6b21\u5c31\u4e0d\u7528\u7b97\u54e9 =&gt; \u76f4\u63a5\u628a\u8fd9\u4e00\u884c\u4ece\u4ee3\u7801\u91cc\u5220\u53bb\uff08\u4f7f\u7528\u9996\u6761\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u8fdb\u884c\u6539\u5199\uff09</p> </li> <li>\u53ef\u80fd\u5b58\u5728 \u5c40\u90e8/\u5168\u5c40 \u7684 \u516c\u5171\u5b50\u8868\u8fbe\u5f0f</li> </ul> </li> <li> <p>\u5220\u9664\u65e0\u7528\u4ee3\u7801</p> <ul> <li> <p>\u300c\u65e0\u7528\u4ee3\u7801 Dead-Code\u300d- \u8ba1\u7b97\u7ed3\u679c\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u8c03\u7528\u7684\u4ee3\u7801</p> </li> <li> <p>\u300c\u590d\u5236\u4f20\u64ad\u300d</p> <p>\u5e38\u7528\u7684\u516c\u5171\u5b50\u8868\u8fbe\u5f0f\u5220\u9664\u7b97\u6cd5\uff08\u53ca\u5176\u4ed6\u4f18\u5316\u7b97\u6cd5\uff09\u4f1a\u5f15\u5165\u4e00\u4e9b\u5f62\u5982 <code>x = y</code> \u7684\u8d4b\u503c\u8bed\u53e5</p> <p>\u5728\u6267\u884c\u5b8c <code>x = y</code> \u540e\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528 <code>y</code> \u66ff\u6362\u539f\u672c\u5bf9\u4e8e <code>x</code> \u7684\u5f15\u7528</p> <p>=&gt; \u590d\u5236\u4f20\u64ad\u4e3a\u5220\u9664\u65e0\u7528\u4ee3\u7801\u63d0\u4f9b\u4e86\u4fbf\u5229\uff08\u590d\u5236\u8bed\u53e5\u672c\u8eab\u53ef\u80fd\u5197\u4f59 -&gt; \u6211\u4eec\u4e0d\u518d\u4f7f\u7528\u5de6\u4fa7\u7684\u53d8\u91cf\uff09</p> </li> </ul> </li> <li> <p>\u5e38\u91cf\u5408\u5e76 Constant Folding</p> <p>\u82e5\u5728\u7f16\u8bd1\u65f6\u523b\u63a8\u5bfc\u51fa \u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u4e3a\u5e38\u91cf\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u4e00\u4e2a <code>const</code> \u5bf9\u8868\u8fbe\u5f0f\u8fdb\u884c\u66ff\u6362\uff08\u4e0d\u7528\u7b97\u54e9\uff09</p> </li> <li> <p>\u4ee3\u7801\u79fb\u52a8 Code Motion</p> <p>\u7528\u4e8e\u5904\u7406\u300c\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97 Loop-Invariant Computation\u300d\uff08\u65e0\u8bba\u5faa\u73af\u591a\u5c11\u6b21\u7ed3\u679c\u90fd\u4e0d\u53d8\u7684\u8868\u8fbe\u5f0f\uff09</p> <p>\u6211\u4eec\u5c06\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u79fb\u51fa\u5faa\u73af =&gt; \u5728 \u8fdb\u5165\u4ee3\u7801\u524d \u5c31\u8fdb\u884c\u6c42\u503c</p> <ul> <li> <p>\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97\u7684\u76f8\u5bf9\u6027</p> <p>\u5bf9\u4e8e \u591a\u91cd\u5d4c\u5957\u5faa\u73af\uff0c\u67d0\u7ed9\u8868\u8fbe\u5f0f\u53ef\u80fd\u5bf9\u4e8e\u5f53\u524d\u5faa\u73af\u4e0d\u53d8\uff0c\u4f46\u5bf9\u4e8e\u66f4\u5916\u5c42\u7684\u5faa\u73af\u8fc1\u79fb</p> <p>=&gt; \u53ea\u80fd\u5916\u79fb\u6709\u9650\u5c42</p> </li> </ul> </li> <li> <p>\u5f3a\u5ea6\u524a\u5f31 Strengt Reduction</p> <p>\u6211\u4eec\u4f7f\u7528\u8f83\u5feb\u7684\u64cd\u4f5c\u4ee3\u66ff\u8f83\u6162\u7684\u64cd\u4f5c\uff0c\u5982\u7528 PLUS \u66ff\u4ee3 MUL</p> <ul> <li> <p>\u5faa\u73af\u4e2d\u7684\u5f3a\u5ea6\u524a\u5f31</p> <p>\u5bf9\u4e8e\u53d8\u91cf \\(X\\) \uff0c\u82e5\u5b58\u5728\u5e38\u6570 \\(c\\) \u662f\u7684\u6bcf\u6b21\u90fd\u662f \\(X += c\\) \uff0c\u5219\u79f0 \\(X\\) \u4e3a\u300c\u5f52\u7eb3\u53d8\u91cf Induction Variable\u300d</p> <p>\u5f52\u7eb3\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u8fdb\u884c\u4e00\u6b21\u7b80\u5355\u7684 \u589e\u91cf\u8fd0\u7b97 \u5b9e\u73b0</p> <pre><code>// Init\ni = i + 1;\nt = 4 * i;\n// After\ni = i + 1;\nt = t + 4; // \u52a0\u6cd5\u6bd4\u4e58\u6cd5\u7b80\u5355\n// \u540c\u65f6\u9700\u8981\u5728\u524d\u4e00\u72b6\u6001\u4e2d\u8ffd\u52a0 t \u7684\u521d\u59cb\u5316\uff08\u672c\u6765\u4f9d\u8d56 i\uff0c\u73b0\u5728\u9760\u81ea\u5df1\uff09\nt = 4 * i; // =&gt; \u53ea\u7528\u7b97\u4e00\u6b21\u4e58\u6cd5\n</code></pre> </li> </ul> </li> <li> <p>\u5220\u9664\u5f52\u7eb3\u53d8\u91cf</p> <p>\u5728\u5faa\u73af\u4e2d\uff0c\u82e5 \u4e00\u7ec4\u5f52\u7eb3\u53d8\u91cf \u7684\u53d8\u5316\u6b65\u8c03\u4fdd\u6301\u4e00\u81f4\uff0c\u53ef\u4ee5\u5220\u5230\u53ea\u5269\u4e00\u4e2a</p> <pre><code>// Before j&amp;t \u6bcf\u6b21\u53d8\u5316 -1 \u7684\u6574\u6570\u500d\nfor() {\n    j = j - 1;\n    t1 = t1 - 4;\n    i = i + 1;\n    t2 = t2 + 4;        \n}\nif(j&lt;=i) {};\n// After \u5220\u9664\u5f53\u524d\u72b6\u6001\u4e2d\u4e0d\u4f7f\u7528\u7684\u53d8\u91cf\nfor() {\n    t1 = t1 - 4;\n    t2 = t2 + 4;\n}\n// \u6309\u6bd4\u4f8b\u66ff\u6362\u540e\u7eed\u72b6\u6001\u4e2d\u88ab\u5220\u9664\u7684\u53d8\u91cf\nif(t1&lt;=t2) {} // \u6309\u6bd4\u4f8b\u662f 4*t1&lt;=4*t2 \u7ea6\u5206\u4e00\u4e0b\n</code></pre> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#3","title":"3 \u57fa\u672c\u5757\u4f18\u5316","text":"<p>\u8bb8\u591a\u91cd\u8981\u7684\u5c40\u90e8\u4f18\u5316\u6280\u672f\u90fd\u9700\u8981\u5c06 \u57fa\u672c\u5757 \u8f6c\u6362\u4e3a\u300c\u65e0\u73af\u6709\u5411\u56fe Directed Acyclic Graph\u300d</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#31-dag","title":"3.1 \u57fa\u672c\u5757\u7684 DAG \u8868\u793a","text":"<p>\u5757\u5185\u7684\u6bcf\u4e00\u6761\u8bed\u53e5 \\(s\\) \u90fd\u5bf9\u5e94\u4e86\u4e00\u4e2a\u5185\u90e8\u8282\u70b9 \\(N\\)</p> <ul> <li>\u8bed\u53e5\u8282\u70b9 \\(N\\) \u7684\u6807\u53f7\u4e3a\u8bed\u53e5\u4e2d\u7684 \u8fd0\u7b97\u7b26</li> <li>\u5b9a\u503c\u53d8\u91cf\u8868 \uff08\u5de6\u4fa7\u53d8\u91cf\uff09\u4e0e\u8282\u70b9 \\(N\\) \u76f8\u5173\u8054\uff0c\u8868\u793a \\(s\\) \u4e3a\u57fa\u672c\u5757\u5185 \u6700\u665a \u5bf9\u8868\u4e2d\u8be5\u53d8\u91cf\u8fdb\u884c\u8d4b\u503c\u7684\u8bed\u53e5</li> <li>\\(N\\) \u7684 childs \u4e3a\u672c\u5757\u4e2d \u5904\u4e8e \\(s\\) \u4e4b\u524d \u00b7 \u6700\u540e\u4e00\u4e2a \u5bf9 \\(s\\) \u4e2d\u6d89\u53ca\u7684\u8fd0\u7b97\u5206\u91cf\u8fdb\u884c\u8d4b\u503c\u8bed\u53e5\u6240\u5bf9\u5e94\u7684\u8282\u70b9</li> <li> <p>\u82e5 \\(s\\) \u4e2d\u7684\u67d0\u4e2a\u8fd0\u7b97\u5206\u91cf\u5728 \\(s\\) \u4e4b\u524d\u5c1a\u672a\u88ab\u8d4b\u503c</p> <p>=&gt; \u8be5\u5206\u91cf\u5bf9\u5e94\u7684\u5b50\u8282\u70b9\u5373\u4e3a\u4ee3\u8868\u8be5\u5206\u91cf\u521d\u503c\u7684 Leaf Node</p> <p>\u8fd9\u79cd\u8282\u70b9\u7684\u53d8\u91cf\u6807\u53f7\u9700\u8981\u52a0\u4e0b\u6807 0\uff0c\u8868\u793a\u521d\u59cb\u5316</p> </li> <li> <p>\u82e5\u65b0\u6784\u9020\u8282\u70b9\u7684 \u5b9a\u503c\u53d8\u91cf\u8868 \u66fe\u51fa\u73b0\u5728\u5176\u4ed6\u8282\u70b9\u7684\u4f9d\u8d56\u4e2d\uff0c\u5219\u5bf9\u5176\u4ed6\u8282\u70b9\u7684\u4f9d\u8d56\u8fdb\u884c\u5220\u9664\uff08\u53d8\u91cf\u53ea\u51fa\u73b0\u4e00\u6b21\uff09</p> <p>\u5bf9\u4e8e\u4ee5\u4e0b\u4e24\u6761\u4e09\u5730\u5740\u6307\u4ee4\uff1a</p> <pre><code>b = a - d;\nd = a - d;\n</code></pre> <p>\u663e\u7136\u5728\u6784\u5efa\u7b2c\u4e8c\u6761\u6307\u4ee4\u65f6\uff0c\u5df2\u7ecf\u5b58\u5728\u91cd\u590d\u7ed3\u6784 -&gt; \u76f4\u63a5\u5728 \\(b\\) \u6240\u5728\u7684\u8282\u70b9\u9644\u52a0 \\(d\\)</p> <p>=&gt; \u8fd9\u4e00\u60c5\u51b5\u4e5f\u8868\u660e\u8be5\u4ee3\u7801\u4e2d\u5b58\u5728 \u5c40\u90e8\u516c\u5171\u5b50\u8868\u8fbe\u5f0f</p> </li> <li> <p>\u82e5\u53d8\u91cf\u7684\u503c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u786e\u5b9a\uff0c\u5982\u5e38\u91cf\u8d4b\u503c <code>x = 3</code>\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5c06\u540c\u65f6\u8bb0\u5f55 \u5b9a\u503c\u53d8\u91cf\u540d + \u786e\u5b9a\u503c \\(x = 3\\)</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#32-dag","title":"3.2 \u57fa\u4e8e\u57fa\u672c\u5757\u7684 DAG \u5220\u9664\u65e0\u7528\u4ee3\u7801","text":"<ul> <li> <p>\u4ece DAG \u4e2d\u5220\u9664\u6240\u6709 \u6ca1\u6709 \u9644\u52a0\u6d3b\u8dc3\u53d8\u91cf\uff08\u5728\u57fa\u672c\u5757\u5916\u6ca1\u6709\u88ab\u4f7f\u7528\uff09\u7684 \u6839\u8282\u70b9\uff0c\u65e2\u53ef\u4ee5\u5220\u9664\u6240\u6709\u5bf9\u5e94\u65e0\u7528\u4ee3\u7801\u7684\u8282\u70b9\u3002</p> </li> <li> <p>\u6839\u8282\u70b9 \u8868\u793a\u5728 \u672c\u5757\u5185 \u8be5\u53d8\u91cf\u4e0d\u662f\u4efb\u4f55\u4eba\u7684\u4f9d\u8d56</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#33","title":"3.3 \u6570\u7ec4\u5143\u7d20\u8d4b\u503c\u6307\u4ee4\u7684\u8868\u793a","text":"<p>\u5982\u4f55\u9632\u6b62\u7cfb\u7edf\u5c06\u53ef\u80fd\u88ab\u66f4\u6539\u7684\u6570\u7ec4\u5143\u7d20 <code>a[i]</code> \u5224\u5b9a\u4e3a\u516c\u5171\u5b50\u8868\u8fbe\u5f0f</p> <ul> <li>\u5bf9\u5f62\u5982 <code>x = a[i]</code> \u7684\u6307\u4ee4\uff0c\u6211\u4eec\u8bb0\u8fd0\u7b97\u7b26\u4e3a <code>=[]</code> \uff0c\u5b9a\u503c\u53d8\u91cf\u8868\u4e3a <code>a</code>\uff0c\u5b50\u8282\u70b9\u4e3a <code>a, i</code></li> <li> <p>\u5bf9\u5f62\u5982 <code>a[j] = x</code> \u7684\u6307\u4ee4\uff0c\u6211\u4eec\u8bb0\u8fd0\u7b97\u7b26\u4e3a <code>[]=</code> \uff0c\u5b9a\u503c\u53d8\u91cf\u8868\u4e3a \u7a7a\uff0c\u5b50\u8282\u70b9\u4e3a <code>a, j, y</code></p> <p>\u6539\u8282\u70b9\u7684\u521b\u5efa\u5c06 \u6740\u6b7b kill \u6240\u6709 \u00b7 \u5df2\u7ecf\u5b58\u5728\u7684 \u00b7 \u4f9d\u8d56\u4e8e\u6570\u7ec4<code>a</code> \u7684\u8282\u70b9\uff08\u5982\u524d\u9762\u521b\u5efa\u7684 <code>=[]</code>\uff09</p> <p>=&gt; \u88ab\u6740\u6b7b killed \u7684\u8282\u70b9\u4e0d\u4f1a\u6709\u5b9a\u503c\u53d8\u91cf\uff0c\u4e0d\u4f1a\u6210\u4e3a\u516c\u5171\u5b50\u8868\u8fbe\u5f0f</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#34-dag","title":"3.4 \u57fa\u672c\u5757 DAG \u4fe1\u606f\u63a8\u65ad","text":"<ul> <li> <p>\u786e\u5b9a\u54ea\u4e9b\u53d8\u91cf\u7684\u503c\u5728 \u88ab\u672c\u57fa\u672c\u5757\u8d4b\u503c\u524d \u88ab\u5f15\u7528\u8fc7</p> <p>=&gt; \u521b\u5efa\u4e86 Leaf Node \u7684\u53d8\u91cf</p> </li> <li> <p>\u54ea\u4e9b\u8bed\u53e5\u7684\u8ba1\u7b97\u7ed3\u679c\u53ef\u4ee5\u5728 \u672c\u5757\u4ee5\u5916 \u88ab\u5f15\u7528</p> <p>=&gt; \u8282\u70b9\u7684\u5b9a\u503c\u53d8\u91cf\u4ece\u521b\u5efa\u5230\u6784\u9020\u7ed3\u675f\u4e00\u76f4\u6ca1\u53d8\u7684\u53d8\u91cf</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#35-dag","title":"3.5 \u6839\u636e DAG \u91cd\u7ec4\u57fa\u672c\u5757","text":"<ul> <li> <p>\u5bf9\u4e8e\u6bcf\u4e2a\u5177\u6709 \u82e5\u5e72\u5b9a\u503c\u53d8\u91cf \u7684\u8282\u70b9\uff0c\u6784\u9020\u4e00\u4e2a\u4e09\u5730\u5740\u8bed\u53e5\u4ee5\u8ba1\u7b97\u53d8\u91cf\u7684\u503c\uff08\u5927\u5bb6\u503c\u662f\u4e00\u6837\u7684\uff09</p> <ul> <li>\u6211\u4eec\u503e\u5411\u4e8e\u5c06\u8ba1\u7b97\u7ed3\u679c\u8d4b\u7ed9\u5728 \u57fa\u672c\u5757\u51fa\u53e3\u5904\u6d3b\u8dc3 \u7684\u53d8\u91cf\uff08\u7f3a\u5c11 \u5168\u5c40\u6d3b\u8dc3\u53d8\u91cf\u4fe1\u606f \u7684\u8bdd\uff0c\u5c31\u5047\u8bbe\u9664\u4e34\u65f6\u53d8\u91cf\u5916\u7684 \u6240\u6709\u4eba \u5728\u51fa\u53e3\u5904\u6d3b\u8dc3\uff09</li> <li> <p>\u82e5\u8282\u70b9\u5177\u6709 \u591a\u4e2a\u6d3b\u8dc3\u53d8\u91cf\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528 \u590d\u5236\u8bed\u53e5 \u4e3a \u6bcf\u4e2a\u53d8\u91cf \u8d4b\u6b63\u786e\u7684\u503c</p> <p>\u5982 \\(x,y,z\\) \u662f\u540c\u4e00\u8282\u70b9\u4e0a\u7684\u591a\u4e2a\u6d3b\u8dc3\u53d8\u91cf\uff0c\u9996\u5148 \\(x=res\\)\uff0c\u7d27\u63a5\u7740 \\(y = x,\\ z = x\\)</p> </li> </ul> </li> <li> <p>\u5bf9\u4e8e \u8bb0\u5f55\u4e86\u786e\u5b9a\u503c \u7684\u53d8\u91cf\uff0c\u6211\u4eec\u76f4\u63a5\u7528\u5b9a\u503c\u5bf9\u5176\u8fdb\u884c\u66ff\u6362</p> </li> <li>\u5bf9\u4e8e \u88ab\u5220\u9664 \u7684\u53d8\u91cf\uff0c\u6211\u4eec\u4f7f\u7528\u540c\u4e00\u8282\u70b9\u4e2d\u7684\u4fdd\u7559\u8005\u8fdb\u884c\u66ff\u6362\uff08\u662f\u516c\u5171\u5b50\u8868\u8fbe\u5f0f\uff09</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#4-data-flow-analysis","title":"4 \u6570\u636e\u6d41\u5206\u6790 Data-Flow Analysis","text":"<p>\u6570\u636e\u6d41\u5206\u6790\u5c06\u6bcf\u4e2a \u7a0b\u5e8f\u70b9 \u4e0e \u4e00\u4e2a \u6570\u636e\u6d41\u503c \u76f8\u5173\u8054\uff0c\u4e3b\u8981\u5e94\u7528\u5305\u62ec\uff1a</p> <ul> <li>\u5230\u8fbe-\u5b9a\u503c \u5206\u6790 Reaching-Definition Analysis</li> <li>\u6d3b\u8dc3\u53d8\u91cf \u5206\u6790 Live-Variable Analysis</li> <li>\u53ef\u7528\u8868\u8fbe\u5f0f \u5206\u6790 Available- Expression Analysis</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#41","title":"4.1 \u6570\u636e\u6d41\u5206\u6790\u6a21\u5f0f","text":"<ul> <li> <p>\u8bed\u53e5 \u7684\u6570\u636e\u6d41\u6a21\u5f0f</p> <ul> <li><code>IN[s]</code> \u8868\u793a \u8bed\u53e5 s \u4e4b\u524d\u7684\u6570\u636e\u6d41\u503c</li> <li><code>OUT[s]</code> \u8868\u793a \u8bed\u53e5 s \u4e4b\u540e\u7684\u6570\u636e\u6d41\u503c</li> <li>\\(f_S\\) \u8868\u793a \u8bed\u53e5 s \u7684\u300c\u4f20\u9012\u51fd\u6570 Transfer Function\u300d\uff0c\u5177\u6709\u4e24\u79cd\u98ce\u683c\uff1a<ul> <li>\u4fe1\u606f\u6cbf\u6267\u884c\u8def\u5f84\u4f20\u64ad \\(OUT[s]= f_s(IN[s])\\)</li> <li>\u4fe1\u606f\u6cbf\u6267\u884c\u8def\u5f84\u9006\u5411\u4f20\u64ad \\(IN[s] = f_s(OUT[s])\\)</li> </ul> </li> <li> <p>\u57fa\u672c\u5757\u5185\u76f8\u90bb\u8bed\u53e5\u7684\u6570\u636e\u6d41\u4f20\u9012\u5173\u7cfb</p> <p>\u5047\u8bbe \u57fa\u672c\u5757 \\(B = s_1,s_2,...,s_n\\)\uff0c\u5219 \\(IN[s_{i+1} = OUT[s_i], i \\in [1,n-1]\\)</p> </li> </ul> </li> <li> <p>\u57fa\u672c\u5757 \u7684\u6570\u636e\u6d41\u6a21\u5f0f</p> <ul> <li><code>IN[B]</code> \u8868\u793a \u57fa\u672c\u5757 B \u4e4b\u524d\u7684\u6570\u636e\u6d41\u503c\uff0c\\(IN[B]=IN[s_1]\\)</li> <li><code>OUT[B]</code> \u8868\u793a \u57fa\u672c\u5757 B \u4e4b\u540e\u7684\u6570\u636e\u6d41\u503c\uff0c\\(OUT[B]=OUT[s_n]\\)</li> <li> <p>\\(f_B\\) \u8868\u793a \u57fa\u672c\u5757B \u7684\u4f20\u9012\u51fd\u6570\uff0c\u5728\u524d\u5411\u4f20\u9012\u8fc7\u7a0b\u4e2d\uff1a</p> <p>\\(OUT[B] = OUT[s_n] = f_{sn}(IN[s_n]) = ... = f_{sn}f{s(n-1)}...f_{s1}(IN[B])\\)</p> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#5","title":"5 \u5230\u8fbe\u5b9a\u503c\u5206\u6790","text":"<ul> <li> <p>\u5b9a\u503c Definition</p> <p>\u5bf9\u4e8e\u53d8\u91cf \\(x\\)\uff0c\u5b9a\u503c \u53ef\u4ee5\u662f\u4e00\u4e2a \u5bf9 \\(x\\) \u8d4b\u503c\u7684\u8bed\u53e5</p> </li> <li> <p>\u5230\u8fbe\u5b9a\u503c Reaching Definition</p> <p>\u82e5\u5b58\u5728\u4e00\u6761 From \u7d27\u8ddf\u5728 \\(x\\) \u7684\u5b9a\u503c \\(d\\) \u540e\u7684\u70b9 To \u67d0\u4e00\u7a0b\u5e8f\u70b9 \\(p\\) \u7684\u8def\u5f84\uff0c\u4e14 \\(d\\) \u5728\u8be5\u8def\u5f84\u4e0a\u6ca1\u6709\u88ab killed\uff0c\u5219\u79f0 \u5b9a\u503c \\(d\\) \u5230\u8fbe\u7a0b\u5e8f\u70b9 \\(p\\)</p> <p>=&gt; \u5728 \\(p\\) \u51fa\u4f7f\u7528\u7684 \\(x\\) \u53ef\u80fd \u7531 \\(d\\) \u6700\u540e\u8d4b\u503c</p> <ul> <li>\u6211\u4eec\u4e3a\u6bcf\u4e2a\u63a7\u5236\u6d41\u56fe\u6dfb\u52a0\u7a7a\u57fa\u672c\u5757 ENTRY &amp; EXIT\uff0c\u6240\u6709\u79bb\u5f00\u6d41\u7a0b\u56fe\u7684\u63a7\u5236\u6d41\u90fd\u6b62\u4e8e EXIT</li> </ul> </li> <li> <p>\u5230\u8fbe\u5b9a\u503c\u5206\u6790\u7684\u4e3b\u8981\u7528\u9014</p> <ul> <li>\u68c0\u6d4b \u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97</li> <li>\u5e38\u91cf\u5408\u5e76</li> <li>\u5224\u5b9a\u53d8\u91cf\u5728\u8be5\u70b9\u662f\u5426 \u672a\u7ecf\u5b9a\u503c \u5c31\u88ab\u5f15\u7528</li> </ul> </li> <li> <p>\u5230\u8fbe\u5b9a\u503c\u7684\u4f20\u9012\u51fd\u6570</p> <ul> <li> <p>\u5bf9\u4e8e \u8bed\u53e5 - \\(f_s\\) - \\(s:u=v+w\\)</p> <p>\\(f_s(x) = gen_s \\cup (x-kill_s)\\)</p> <ul> <li>\\(f_s(x)\\) \u5373\u4e3a\u8bed\u53e5 s \u4e4b\u540e\u6240\u6709\u5b9a\u503c\u8bed\u53e5\u72d7\u751f\u7684\u96c6\u5408</li> <li>\\(gen_s\\) \u7531\u8bed\u53e5 s \u751f\u6210\u7684\u5b9a\u503c\u8bed\u53e5\u96c6\u5408\uff0c\u6b64\u5904\u4e3a \\(\\{s\\}\\)</li> <li>\\(kill_s\\) \u7531\u8bed\u53e5 s \u6740\u6b7b\u7684\u5b9a\u503c\u8bed\u53e5\u96c6\u5408\uff0c\u5373\u7a0b\u5e8f\u4e2d\u6240\u6709\u5176\u4ed6\u5df2\u5b58\u5728\u7684\u5bf9 \\(u\\) \u7684\u5b9a\u503c\u8bed\u53e5</li> </ul> </li> <li> <p>\u5bf9\u4e8e \u57fa\u672c\u5757 - \\(f_B\\)</p> \\[ \\begin{align} &amp;f_B(x) = gen_B \\cup (x-kill_B)\\\\\\\\ &amp;kill_B = kill_1 \\cup kill_2 \\cup ... \\cup kill_n\\\\\\\\ &amp;gen_B = gen_n \\cup (gen_{n-1}-kill_n) \\cup ... \\cup (gen_1 - kill_n - kill_{n-1} - ... - kill_2) \\end{align}     \\] <ul> <li>\\(gen_B\\) \u5c31\u662f\u57fa\u672c\u5757 B \u4e2d\u6240\u6709\u6700\u540e\u5bf9\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u8bed\u53e5\u7684\u96c6\u5408</li> <li>\\(kill\\) \u7684\u8bed\u53e5\u5bf9\u8c61\u53ef\u4ee5\u8de8\u8d8a\u57fa\u672c\u5757</li> </ul> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#51","title":"5.1 \u5230\u8fbe\u5b9a\u503c\u7684\u6570\u636e\u6d41\u65b9\u7a0b","text":"\\[ \\begin{align} &amp;OUT[ENTRY] = \\phi \\tag{1}\\\\\\\\ &amp;OUT[B] = gen_B \\cup (IN[B]-kill_B),\\ B \\neq ENTRY\\tag{2}\\\\\\\\ &amp;IN[B] = \\cup_{P\u4e3aB\u7684\u4e00\u4e2a\u524d\u9a71}\\ OUT[P],\\ B \\neq ENTRY\\tag{3} \\end{align} \\] <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7684\u8fed\u4ee3\u7b97\u6cd5\u8ba1\u7b97 \\(IN[B],\\ OUT[B]\\)\uff1a</p> <pre><code>// initialization\nOUT[ENTRY] = {};\nfor(B !== ENTRY) OUT[B] = {};\n\n// calculation\nvar flag = true; // \u67d0\u4e2a OUT \u53d1\u751f\u4e86\u53d8\u5316\nwhile(flag) {\n    flag = false;\n    for(B !== ENTRY) {\n        IN[B] = OUT[P1] + ... OUT[Pn]; // P \u4e3a B \u7684\u524d\u9a71\n        OUT[B] = genB + (IN[B] - killB);\n        if(some OUT[B] changed) flag = true;\n    }\n}\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#52-use-definition-chains","title":"5.2 \u5f15\u7528-\u5b9a\u503c\u94fe Use-Definition Chains","text":"<ul> <li>UD Links \u662f\u4e00\u4e2a \u5217\u8868\uff0c \u8bb0\u5f55\u5230\u8fbe\u53d8\u91cf\u6bcf\u4e00\u6b21\u5f15\u7528\u6240\u6709\u5230\u8fbe\u5b9a\u503c</li> <li>\u5efa\u7acb UD Links<ul> <li>\u82e5 \u57fa\u672c\u5757 B \u4e2d\u7684 \u53d8\u91cf a \u5728\u5f15\u7528\u524d\u5b58\u5728\u5b9a\u503c\uff0c\u5219\u5b58\u50a8 a \u7684 \u6700\u540e\u4e00\u6b21\u5b9a\u503c</li> <li>\u82e5 \u57fa\u672c\u5757 B \u4e2d\u7684 \u53d8\u91cf a \u5728 \u5f15\u7528\u524d\u4e0d\u5b58\u5728\u5b9a\u503c\uff0c\u5219\u4fdd\u5b58 \\(IN[B]\\) \u4e2d \u6240\u6709 \u5bf9\u4e8e a \u7684\u5b9a\u503c</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#6","title":"6 \u6d3b\u8dc3\u53d8\u91cf\u5206\u6790","text":"<ul> <li> <p>\u6d3b\u8dc3\u53d8\u91cf</p> <p>\u5bf9\u4e8e\u53d8\u91cf \\(x\\) \u4e0e\u7a0b\u5e8f\u70b9 \\(p\\)\uff0c\u82e5\u5728\u6d41\u56fe\u4e2d\u6cbf\u7740 \u4ece \\(p\\) \u5f00\u59cb\u7684\u67d0\u6761\u8def\u5f84\u4f1a\u5f15\u7528 \u53d8\u91cf \\(x\\) \u5728 \\(p\\) \u5904\u7684\u503c\uff0c\u5219\u79f0 \u53d8\u91cf \\(x\\) \u5728 \\(p\\) \u5904\u662f\u300c\u6d3b\u8dc3 live\u300d\u7684\uff1b\u5426\u5219\u79f0\u5176\u5728 \\(p\\) \u51fa\u300c\u4e0d\u6d3b\u8dc3 dead\u300d</p> <p>=&gt; \u5728\u540e\u9762\u8fd8\u4f1a\u7528\u5230\u6b64\u5904\u4e3a\u53d8\u91cf\u8d4b\u7684\u503c</p> </li> <li> <p>\u6d3b\u8dc3\u53d8\u91cf\u4fe1\u606f\u7684\u7528\u9014</p> <ul> <li> <p>\u5220\u9664\u65e0\u7528\u8d4b\u503c </p> <p>=&gt; \u672c\u5904\u8d4b\u503c\u5728\u672c\u5757\u7684\u540e\u7eed\u3001\u51fa\u53e3\u540e\u7684\u5176\u4ed6\u5757\u4e2d\u5747\u4e0d\u88ab\u4f7f\u7528</p> </li> <li> <p>\u4e3a\u57fa\u672c\u5757\u5206\u914d\u5bc4\u5b58\u5668</p> <ul> <li>\u82e5\u6240\u6709\u5bc4\u5b58\u5668\u90fd\u88ab\u5360\u7528\uff0c\u5219\u6e05\u7406\u5b58\u50a8 dead \u53d8\u91cf\u7684\u5bc4\u5b58\u5668</li> <li>\u82e5\u5728\u57fa\u672c\u5757\u7ed3\u675f\u65f6\uff0c\u4e0d\u9700\u8981\u4fdd\u5b58 dead \u72b6\u6001\u7684\u53d8\u91cf</li> </ul> </li> </ul> </li> <li> <p>\u6d3b\u8dc3\u53d8\u91cf\u7684\u4f20\u9012\u51fd\u6570 \\(f_B\\)</p> <p>\u8fd9\u662f\u4e00\u4e2a\u300c\u9006\u5411\u6570\u636e\u6d41\u300d\u95ee\u9898 =&gt; \u8003\u8651\u4f1a\u4e0d\u4f1a\u5728\u4e4b\u540e\u88ab\u4f7f\u7528 \\(IN[B] = f_B(OUT[B]\\))</p> <p>\\(f_B(x) = use_B \\cup (x-def_B)\\)</p> <ul> <li>\\(x\\) \u5728 B \u51fa\u53e3\u5904\u7684 \u6d3b\u8dc3\u53d8\u91cf \u96c6\u5408</li> <li> <p>\\(def_B\\) \u5728 B \u4e2d\u88ab\u8d4b\u503c\uff0c\u4f46 \u5b9a\u503c\u524d \u5728 B \u4e2d \u6ca1\u6709\u88ab\u5f15\u7528 \u7684\u53d8\u91cf\u96c6\u5408</p> <p>\u5728 B \u4e2d\u9996\u6b21\u88ab\u5b9a\u4e49\uff08\u7b49\u5f0f\u5de6\u4fa7\uff09 =&gt; \u5728 \u5165\u53e3\u5904 \u4e00\u5b9a\u4e0d\u6d3b\u8dc3</p> </li> <li> <p>\\(use_B\\) \u5728 B \u4e2d\u88ab\u5f15\u7528\uff0c\u4f46 \u5f15\u7528\u524d \u5728 B \u4e2d \u6ca1\u6709\u88ab\u5b9a\u503c \u7684\u53d8\u91cf\u96c6\u5408</p> <p>\u5728 B \u4e2d\u6ca1\u6709\u5b9a\u4e49\u5374\u76f4\u63a5\u4f7f\u7528\uff08\u7b49\u5f0f\u53f3\u4fa7\uff09\uff0c\u4e00\u5b9a\u662f\u524d\u9762\u4f20\u6765\u7684 =&gt; \u5165\u53e3\u5904\u6d3b\u8dc3</p> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#61","title":"6.1 \u6d3b\u8dc3\u53d8\u91cf\u6570\u636e\u6d41\u65b9\u7a0b","text":"\\[ \\begin{align} &amp;IN[EXIT] = \\phi \\\\\\\\ &amp;IN[B] = use_B \\cup (OUT[B]-def_B),\\ B \\neq EXIT\\\\\\\\ &amp;OUT[B] = \\cup_{S\u4e3aB\u7684\u540e\u7ee7}\\ IN[S],\\ B \\neq EXIT \\end{align} \\] <p>\u8fed\u4ee3\u7b97\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>IN[EXIT] = null;\nfor(B !== EXIT) IN[B] = {};\n\nwhile(\u67d0\u4e2a IN \u53d8\u5316) {\n    for(B !== EXIT) {\n        OUT[B] = IN[S1] + ... + IN[Sn]; // S\u662fB\u7684\u540e\u7ee7\n        IN[B] = useB + (OUT[B] - defB);\n    }\n}\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#62-definition-use-chains","title":"6.2 \u5b9a\u503c-\u5f15\u7528\u94fe Definition-Use Chains","text":"<ul> <li>\u5047\u8bbe\u53d8\u91cf \\(x\\) \u6709\u4e00\u7684\u5b9a\u503c \\(d\\)\uff0c\u8be5\u5b9a\u503c\u80fd\u591f\u5230\u8fbe\u7684\u6240\u6709\u5f15\u7528\u7684\u96c6\u5408\u88ab\u79f0\u4e3a \\(x\\) \u5728 \\(d\\) \u5904\u7684\u300c\u5b9a\u503c-\u5f15\u7528\u94fe DU Chain\u300d</li> <li> <p>\u5728\u6c42\u89e3\u6d3b\u8dc3\u53d8\u91cf\u6570\u636e\u6d41\u65b9\u7a0b\u7684 \\(OUT[B]\\) \u65f6\uff0c\u5c06\u5176\u8868\u793a\u4e3a \u4ece B \u7684\u672b\u5c3e\u80fd\u591f\u5230\u8fbe\u7684\u7684\u5f15\u7528\u96c6\u5408\uff0c\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u8ba1\u7b97 B \u4e2d\u6bcf\u4e2a\u53d8\u91cf\u5728\u5176\u5b9a\u503c\u5904\u7684 DU \u94fe</p> <ul> <li> <p>\u82e5 B \u4e2d\u5148\u540e\u5b58\u5728\u4e24\u4e2a\u5bf9 \u53d8\u91cf\\(x\\) \u5b9a\u503c\u7684\u8bed\u53e5 \\(d,d'\\)\uff0c\u5219 \u4e4b\u95f4\u6240\u6709\u5bf9 \\(x\\) \u7684\u5f15\u7528\u90fd\u662f \\(d\\) \u7684 DU \u94fe</p> <pre><code>d: x = val1;\n    ...\n   ? = x + ...; =&gt; d \u7684 DU \u94fe\n    ...\nd': x = val2;\n</code></pre> </li> <li> <p>\u82e5 \\(d\\) \u4e3a B \u4e2d\u6700\u540e\u5bf9 \\(x\\) \u5b9a\u503c\u7684\u8bed\u53e5\uff0c\u5219 \\(d\\) \u7684 DU \u94fe =  B\u4e2d\u5176\u540e\u6240\u6709\u5bf9 \\(x\\) \u7684\u5f15\u7528 + \\(OUT[B]\\) \u4e2d\u6240\u6709\u5bf9 \\(x\\) \u7684\u5f15\u7528</p> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#7","title":"7 \u53ef\u7528\u8868\u8fbe\u5f0f\u5206\u6790","text":"<ul> <li> <p>\u4ece\u6d41\u56fe\u7684 \u9996\u8282\u70b9 \u5230\u67d0\u4e00\u7a0b\u5e8f\u70b9 \\(p\\) \u7684 \u6240\u6709\u8def\u5f84 \u90fd\u5bf9\u8868\u8fbe\u5f0f \\(x \\ op \\ y\\) \u8fdb\u884c\u4e86\u8ba1\u7b97\uff0c\u4e14\u6700\u540e\u4e00\u6b21\u8ba1\u7b97\u5230\u70b9 \\(p\\) \u4e4b\u95f4\u4e0d\u6d89\u53ca \\(x,\\ y\\) \u7684\u4fee\u6539\uff0c\u5219\u79f0 \\(x\\ op\\ y\\) \u5728 \\(p\\) \u5904\u300c\u53ef\u7528 available\u300d</p> <p>=&gt; \u4e4b\u524d\u7684\u8ba1\u7b97\u7ed3\u679c\u6709\u6548\uff0c\u4e0d\u7528\u518d\u7b97\u4e00\u904d\u4e86</p> </li> <li> <p>\u4e3b\u8981\u7528\u9014</p> <ul> <li>\u6d88\u9664 \u5168\u5c40 \u516c\u5171\u5b50\u8868\u8fbe\u5f0f</li> <li> <p>\u8fdb\u884c \u590d\u5236\u4f20\u64ad</p> <p>\u5bf9\u4e8e\u590d\u5236\u8bed\u53e5 <code>x=y</code> \u53ef\u4ee5\u4f7f\u7528 \\(y\\) \u66ff\u4ee3 \\(x\\) \u7684\u6761\u4ef6\u4e3a\uff1a</p> <p>\u4ece\u6d41\u56fe\u7684 \u9996\u8282\u70b9 \u5230\u8fbe\u8be5\u7a0b\u5e8f\u70b9\u7684 \u6bcf\u6761\u8def\u5f84 \u90fd\u5b58\u5728\u590d\u5236\u8bed\u53e5 <code>x=y</code>\uff0c\u4e14\u4ece\u6700\u540e\u4e00\u6b21\u590d\u5236\u5230\u8be5\u7a0b\u5e8f\u70b9\u4e4b\u95f4 \u6ca1\u6709\u518d\u6b21 \u5bf9 \\(x,\\ y\\) \u8fdb\u884c\u8d4b\u503c</p> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#71","title":"7.1 \u53ef\u7528\u8868\u8fbe\u5f0f\u7684\u4f20\u9012\u51fd\u6570","text":"<ul> <li>\u82e5\u57fa\u672c\u5757 B \u5bf9\u4f9d\u8d56\u53d8\u91cf \\(x,\\ y\\) \u91cd\u65b0\u8d4b\u503c\uff0c\u5e76\u4e14\u6ca1\u6709\u91cd\u65b0\u8ba1\u7b97 \\(x\\ op\\ y\\)\uff0c\u5219\u79f0 B \u6740\u6b7b\u8be5\u8868\u8fbe\u5f0f</li> <li>\u82e5\u57fa\u672c\u5757 B \u5bf9 \\(x\\ op\\ y\\) \u8fdb\u884c\u8ba1\u7b97\uff0c\u4e14\u6ca1\u6709\u66f4\u6539\u5176\u4f9d\u8d56\uff0c\u5219\u79f0 B \u751f\u6210\u8be5\u8868\u8fbe\u5f0f</li> <li>\u4f20\u9012\u51fd\u6570 \\(f_B(x) = e-gen_B \\cup (x - e-kill_B)\\)<ul> <li>\\(e-gen_B\\) \u57fa\u672c\u5757 B \u751f\u6210\u7684\u8868\u8fbe\u5f0f\u96c6\u5408\uff0c\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a<ol> <li>\u521d\u59cb\u5316 \\(e-gen_B = \\phi\\)</li> <li>\u626b\u63cf\u57fa\u672c\u5757\u4e2d\u7684\u6bcf\u4e2a <code>z = x op y</code><ul> <li>\u5c06 <code>x op y</code> \u52a0\u5165 \\(e-gen_B\\)</li> <li>\u4ece \\(e-gen_B\\) \u4e2d\u5220\u9664\u4e0e <code>z</code> \u76f8\u5173\u7684\u8868\u8fbe\u5f0f</li> </ul> </li> </ol> </li> <li>\\(e-kill_B\\) \u57fa\u672c\u5757 B \u6740\u6b7b\u7684\u8868\u8fbe\u5f0f\u96c6\u5408\uff08\u6740\u6b7b\u5bf9\u8c61\u662f\u6240\u6709\u5757\u7ec4\u6210\u7684\u5168\u96c6\uff09\uff0c\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a<ol> <li>\u521d\u59cb\u5316 \\(e-kill_B = \\phi\\)</li> <li>\u626b\u63cf\u57fa\u672c\u5757\u4e2d\u7684\u6bcf\u4e2a <code>z = x op y</code><ul> <li>\u4ece \\(e-kill_B\\) \u4e2d\u5220\u9664\u4e0e <code>x op y</code></li> <li>\u5c06\u6240\u6709\u4e0e <code>z</code> \u76f8\u5173\u7684\u8868\u8fbe\u5f0f\u52a0\u5165 \\(e-kill_B\\)</li> </ul> </li> </ol> </li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#72","title":"7.2 \u53ef\u7528\u8868\u8fbe\u5f0f\u7684\u6570\u636e\u6d41\u65b9\u7a0b","text":"\\[ \\begin{align} &amp;OUT[ENTRY] = \\phi\\\\\\\\ &amp;OUT[B] = f_B(IN[B])\\\\\\\\ &amp;f_B(x) = e\\_gen_B \\cup (x-e\\_kill_B)\\\\\\\\ &amp;IN[B] = \\cap_{P\u662fB\u7684\u524d\u9a71}\\ OUT[P] \\end{align} \\] <p>\u8fed\u4ee3\u7b97\u6cd5\u5982\u4e0b\uff1a <pre><code>OUT[ENTRY] = null;\n// \u521d\u59cb\u5316\u4e3a \u7a7a\u96c6 \u5c40\u9650\u6027\u5f88\u5927\uff08\u4ea4\u96c6\u4e00\u76f4\u4e3a empty\uff09\nfor(B !== ENTRY) OUT[B] = U;\n\nwhile(OUT changed) {\n    for(B !== ENTRY) {\n        IN[B] = intersection(OUT[Pi]);\n        OUT[B] = eGenB + (IN[B] - eKillB);\n    }\n}\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#8","title":"8 \u652f\u914d\u8282\u70b9\u4e0e\u56de\u8fb9","text":"<ul> <li> <p>\u652f\u914d\u8282\u70b9 Dominators</p> <p>\u82e5\u4ece\u6d41\u56fe\u7684\u5165\u53e3\u8282\u70b9\u5230\u67d0\u4e00\u8282\u70b9 \\(n\\) \u7684 \u6bcf\u6761\u8def\u5f84 \u90fd\u7ecf\u8fc7\u8282\u70b9 \\(d\\)\uff0c\u5219\u79f0 \\(d dominate n\\)\uff0c\u8bb0\u4e3a \\(d \\ dom \\ n\\)</p> <ul> <li> <p>\u6bcf\u4e2a\u8282\u70b9\u90fd\u652f\u914d\u672c\u8eab</p> </li> <li> <p>\u5165\u53e3\u8282\u70b9\u652f\u914d\u6240\u6709\u8282\u70b9</p> </li> <li> <p>\u6211\u4eec\u53ef\u4ee5\u7528 \u652f\u914d\u8282\u70b9\u6570 Dominator Tree \u8868\u8fbe\u8282\u70b9\u95f4\u7684\u652f\u914d\u5173\u7cfb\uff1a\u6bcf\u4e2a\u8282\u70b9\u652f\u914d\u5305\u62ec\u81ea\u5df1\u5728\u5185\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9</p> </li> </ul> </li> <li> <p>\u76f4\u63a5\u652f\u914d\u8282\u70b9 Immediate Dominator</p> <p>\u4ece\u5165\u53e3\u8282\u70b9\u5230 curNode \u7684 \u6240\u6709 \u8def\u5f84\u4e0a\uff0c\u4e0e\u5176\u76f8\u8fde\u7684\u6700\u540e\u4e00\u4e2a\u652f\u914d\u8282\u70b9</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#81","title":"8.1 \u652f\u914d\u8282\u70b9\u7684\u6570\u636e\u6d41\u65b9\u7a0b","text":"<ul> <li>\\(IN[B]\\) \u4e3a\u57fa\u672c\u5757\u5165\u53e3\u5904\u7684\u652f\u914d\u8282\u70b9\u96c6\u5408\uff0c\\(OUT[B]\\) \u4e3a\u51fa\u53e3\u5904\u7684\u652f\u914d\u8282\u70b9\u96c6\u5408</li> </ul> <p>\u65b9\u7a0b\u7ec4\u5982\u4e0b\uff1a $$ \\begin{align} &amp;OUT[ENTRY] = {ENTRY}\\\\ &amp;OUT[B] = IN[B] \\cup {B},\\ B \\neq ENTRY\\\\ &amp;IN[B] = \\cap_{P\u662fB\u7684\u524d\u9a71}\\ OUT[P] \\end{align} $$</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8fed\u4ee3\u7b97\u6cd5\u8fdb\u884c\u6c42\u89e3\uff1a <pre><code>OUT[ENTRY] = {ENTRY};\nfor(B !== ENTRY) OUT[B] = N;\n\nwhile(OUT changed) {\n    for(B !== ENTRY) {\n        IN[B] = interception(OUT[Pi]);\n        OUT[B] = IN[B] + {B};\n    }\n}\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#82-back-edge","title":"8.2 \u56de\u8fb9 Back Edge","text":"<p>\u7528\u4e8e\u8bc6\u522b\u81ea\u7136\u5faa\u73af</p> <ul> <li>\u5bf9\u4e8e\u6d41\u56fe\u4e2d\u7684\u4e24\u4e2a\u8282\u70b9 \\(d,\\ n\\) \u6ee1\u8db3\u5173\u7cfb \\(d \\ dom \\ n\\)\u3002\u82e5\u5b58\u5728\u6709\u5411\u8fb9 \\(n \\rightarrow d\\)\uff0c\u5219\u79f0\u4e3a\u300c\u56de\u8fb9 Back Edge\u300d</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#83-natrual-loop","title":"8.3 \u81ea\u7136\u5faa\u73af Natrual Loop","text":"<ul> <li>\u5177\u6709\u552f\u4e00\u7684\u5165\u53e3\u8282\u70b9 header\uff0c\u652f\u914d\u5faa\u73af\u4e2d\u7684\u6240\u6709\u8282\u70b9</li> <li>\u5faa\u73af\u4e2d\u81f3\u5c11\u6709\u4e00\u6761 \u8fd4\u56de header \u7684\u8def\u5f84</li> <li>\u300c\u6027\u8d28\u300d\u9664\u975e\u4e24\u4e2a\u81ea\u7136\u5faa\u73af\u7684 header \u76f8\u540c\uff0c\u5426\u5219 \u4e92\u65a5/\u5b8c\u5168\u5305\u542b<ul> <li>\u6211\u4eec\u5c06\u4e0d\u5305\u542b\u5176\u4ed6\u5faa\u73af\u7684\u5faa\u73af\u79f0\u4e3a\u300c\u6700\u5185\u5faa\u73af Innermost Loop\u300d</li> </ul> </li> <li>\u5bf9\u4e8e\u5177\u6709 \u76f8\u540c header \u7684\u4e24\u4e2a\u5faa\u73af\uff0c\u6211\u4eec\u96be\u4ee5\u786e\u5b9a\u54ea\u4e2a\u662f\u6700\u5185\u5faa\u73af =&gt; \u76f4\u63a5\u5408\u5e76</li> </ul> <p>\u81ea\u7136\u5faa\u73af\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u8fdb\u884c\u8bc6\u522b\uff1a</p> <ul> <li> <p>\u7ed9\u5b9a\u56de\u8fb9 \\(n \\rightarrow d\\)\uff0c\u5176\u81ea\u7136\u5faa\u73af\u4e3a \\(d\\) + \u6240\u6709\u4e0d\u7ecf \\(d\\) \u5230\u8fbe \\(n\\) \u7684\u8282\u70b9 + \\(n\\) \u672c\u8eab\uff08\\(d\\) \u4e3a\u5faa\u73af\u7684 header\uff09</p> </li> <li> <p>\u4e00\u822c\u6b65\u9aa4</p> <ol> <li>\u52a0\u5165 \\(n,\\ d\\)</li> <li>\u52a0\u5165\u6240\u6709\u76f4\u63a5\u5230\u8fbe \\(n\\) \u7684\u8282\u70b9 \\(x\\)</li> <li>\u52a0\u4e0a\u6240\u6709 \\(x\\) \u7684 \u76f4\u63a5\u524d\u9a71\uff08\u662f \\(n\\) \u5c31\u505c\u6b62\uff09</li> <li>\u9012\u5f52</li> </ol> </li> <li> <p>\u6784\u9020\u67d0\u6761\u56de\u8fb9\u6240\u5728\u81ea\u7136\u5faa\u73af\u7684\u7b97\u6cd5     <pre><code>stack = [];\nloop = {n, d};\nstack.push(n); // \u4e0d\u7528\u8003\u8651 d \u7684\u524d\u9a71\n\nwhile(stack != empty) {\n    m = stack.top();\n    stack.pop();\n    for(m \u7684 \u6240\u6709\u524d\u9a71) {\n        if(p is NOT in loop) {\n            loop += {p};\n            stack.push(p);\n        }\n    }\n}\n</code></pre></p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#9","title":"9 \u5220\u9664\u5168\u5c40\u516c\u5171\u5b50\u8868\u8fbe\u5f0f","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 \u53ef\u7528\u8868\u8fbe\u5f0f \u6765\u5224\u65ad\u70b9 \\(p\\) \u5904\u7684\u8868\u8fbe\u5f0f\u662f\u5426\u4e3a \u5168\u5c40\u516c\u5171\u5b50\u8868\u8fbe\u5f0f</p> <p>\u6211\u4eec\u67e5\u770b\u4ee5\u4e0b\u60c5\u5f62\uff1a</p> <pre><code>// \u90e8\u5206\u4ee3\u7801\n1: a = x + y;\n2: b = x + y;\n3: c = x + y;\n// \u524d\u540e\u7ee7\u5173\u7cfb\na   b\n \\ /\n  c\n</code></pre> <p>=&gt; \u5355\u72ec\u4ee5 \\(a,\\ b\\) \u66ff\u6362 \\(c\\) \u90fd\u662f\u4e0d\u5408\u9002\u7684 =&gt; \u6211\u4eec\u4e0d\u77e5\u9053\u5177\u4f53\u4f1a\u8d70\u54ea\u6761\u8def\u5f84</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u6b63\u786e\u7684\u66ff\u6362\u65b9\u6cd5 =&gt; \u4f7f\u7528\u7b2c\u4e09\u65b9 \\(u\\) <pre><code>// code\n1: u = x + y;\n   a = u;\n2: u = x + y;\n   b = u;\n3: c = u;\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#91","title":"9.1 \u5220\u9664\u7b97\u6cd5","text":"<ul> <li>\u8f93\u5165\uff1a\u5e26\u6709\u53ef\u7528\u8868\u8fbe\u5f0f\u4fe1\u606f\u7684 Flow Graph</li> <li>\u8f93\u51fa\uff1a\u4fee\u6b63\u540e\u7684 Flow Graph</li> </ul> <p>\u5bf9\u4e8e\u8bed\u53e5 \\(s:z=x\\ op\\ y\\)\uff0c\u82e5 \\(x\\ op\\ y\\) \u5728 \\(s\\) \u4e4b\u524d \u53ef\u7528\uff0c\u5219\u6267\u884c\u5982\u4e0b\u6b65\u9aa4\uff1a 1. \u4ece \\(s\\) \u5f00\u59cb \u9006\u5411 \u641c\u7d22\uff0c\u4f46\u4e0d \u7a7f\u8fc7 \u4efb\u4f55\u8ba1\u7b97\u4e86 \\(x\\ op\\ y\\) \u7684\u5757</p> <pre><code> =&gt; \u627e\u5230 *\u6240\u6709 \u00b7 \u6700\u8fd1\u7684 \u00b7 \u8ba1\u7b97\u4e86* $x\\ op\\ y$ \u7684\u8bed\u53e5\n</code></pre> <ol> <li>\u5efa\u7acb\u4e34\u65f6\u53d8\u91cf \\(u\\)</li> <li> <p>\u5c06\u6240\u6709\u5728 Step 1 \u4e2d\u627e\u5230\u7684\u6240\u6709\u8bed\u53e5 \\(w = x\\ op\\ y\\) \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u7ec4\u66ff\u4ee3\uff1a</p> <pre><code>u = x op y;\nw = x;\n</code></pre> </li> <li> <p>\u66ff\u6362 \\(s\\) \u4e3a \\(z=u\\)</p> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#10","title":"10 \u5220\u9664\u590d\u5236\u8bed\u53e5","text":"<p>\u6211\u4eec\u67e5\u770b\u4ee5\u4e0b\u4f8b\u5b50\uff1a <pre><code>           x = y        x = y+1\n          /     \\       /\n  t1 = x*2      t2 = x*3\n \u652f\u6301\u590d\u5236\u4f20\u64ad    \u4e0d\u652f\u6301\u590d\u5236\u4f20\u64ad\n</code></pre></p> <p>-&gt; \u56e0\u4e3a\u4e0d\u662f\u6240\u6709\u7684 subNode \u90fd\u53ef\u4ee5\u8fdb\u884c\u590d\u5236\u4f20\u64ad\uff0c\\(x= y\\) \u4e0d\u53ef\u5220\u9664</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#101","title":"10.1 \u5220\u9664\u7b97\u6cd5","text":"<ul> <li>\u8f93\u5165\uff1a\u6d41\u56fe G\uff0cDU \u94fe\uff0c\u4e2a\u57fa\u672c\u5757\u5165\u53e3\u5904\u7684 \u53ef\u7528\u590d\u5236\u8bed\u53e5 \u96c6\u5408</li> <li>\u8f93\u51fa\uff1a\u4fee\u6539\u540e\u7684\u6d41\u56fe G\u2018</li> </ul> <p>\u5bf9\u4e8e\u6bcf\u4e2a\u590d\u5236\u8bed\u53e5 \\(x=y\\) \uff1a 1. \u6839\u636e DU \u94fe\u627e\u51fa\u8be5\u5b9a\u503c\u8bed\u53e5\u6240\u80fd\u5230\u8fbe\u7684\u5bf9\u4e8e \\(x\\) \u7684\u5f15\u7528 2. \u786e\u5b9a\u5bf9\u4e8e\u6bcf\u4e2a\u5f15\u7528\u6240\u5728\u7684 B' \uff0c\\(IN[B]\\) \u662f\u5426\u90fd\u5305\u542b\u4e86 \\(x=y\\)\uff0cB\u2018 \u7684\u8be5\u5f15\u7528\u524d\u6ca1\u6709\u91cd\u65b0\u5bf9 \\(x,\\ y\\) \u8fdb\u884c\u8d4b\u503c 3. \u82e5\u6ee1\u8db3 Step 2\uff0c\u5220\u9664\u539f\u672c\u7684 \\(x=y\\)\uff0c\u5bf9\u4e8e Step 1 \u4e2d\u627e\u5230\u7684\u5f15\u7528\u90fd\u9002\u7528 \\(y\\) \u8fdb\u884c\u66ff\u6362</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#11","title":"11 \u4ee3\u7801\u79fb\u52a8","text":""},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#111","title":"11.1 \u68c0\u6d4b\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97","text":"<ul> <li>\u8f93\u5165\uff1a\u5faa\u73af L\uff0c\u6bcf\u4e2a\u4e09\u5730\u5740\u6307\u4ee4\u7684 UD \u94fe</li> <li> <p>\u8f93\u51fa\uff1aL \u7684\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97\u8bed\u53e5</p> </li> <li> <p>\u5c06 \u8fd0\u7b97\u5206\u91cf \u4e3a \u5e38\u6570 / \u6240\u6709\u5b9a\u503c\u70b9\u90fd\u5728L\u5916\u90e8 \u7684\u8bed\u53e5\u6807\u8bb0\u4e3a\u201c\u4e0d\u53d8\u201d</p> </li> <li>\u5c06 \u5148\u524d\u672a\u88ab\u6807\u8bb0\uff0c\u4e14 \u8fd0\u7b97\u5206\u91cf \u4e3a \u5e38\u6570 / \u6240\u6709\u5b9a\u503c\u70b9\u90fd\u5728L\u5916\u90e8 / \u53ea\u6709\u4e00\u4e2a\u5230\u8fbe\u5b9a\u503c\u4e14\u4e3aL\u4e2d\u5df2\u7ecf\u6807\u4e3a\u201c\u4e0d\u53d8\u201d \u7684\u8bed\u53e5\u6807\u8bb0\u4e3a\u201c\u4e0d\u53d8\u201d</li> <li>\u5faa\u73af\u6267\u884c Step 2 \u76f4\u81f3\u4e0d\u51fa\u73b0\u65b0\u7684\u201c\u4e0d\u53d8\u201d\u8bed\u53e5</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#112","title":"11.2 \u4ee3\u7801\u5916\u63d0","text":"<ul> <li>\u524d\u7f6e\u9996\u8282\u70b9 preHeader<ul> <li>\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97\u5c06\u88ab\u63d0\u524d\u81f3\u539f\u672c header \u4e4b\u524d\u4e00\u4e2a\u79f0\u4e3a preHeader \u7684 new Block \u4e2d</li> <li>preHeader \u7684 \u552f\u4e00\u540e\u7ee7 \u4e3a\u539f\u672c\u7684 header\uff0c\u5e76\u4e14\u4ee3\u7406\u4e86\u539f\u672c\u6240\u6709\u4ece\u5faa\u73af\u5916\u8fdb\u5165 header \u7684\u8def\u5f84\uff08\u5185\u90e8\u5230\u8fbe header \u7684\u8def\u5f84\u4e0d\u53d8\uff09</li> </ul> </li> <li>\u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97\u8bed\u53e5 \\(s:x=y+z\\) \u79fb\u52a8\u6761\u4ef6<ul> <li>\u8bed\u53e5\u6240\u5728\u7684 Block \u662f L \u7684 \u6240\u6709\u51fa\u53e3\u8282\u70b9 \u7684 \u652f\u914d\u8282\u70b9</li> <li>\u5faa\u73af\u4e2d \u6ca1\u6709\u5176\u4ed6\u8bed\u53e5 \u5bf9\u5176\u53d8\u91cf \\(x\\) \u8fdb\u884c\u8d4b\u503c</li> <li>\u5faa\u73af\u4e2d \u6240\u6709 \u5bf9 \\(x\\) \u7684\u5f15\u7528 \u4ec5 \u7531 \\(s\\) \u5230\u8fbe</li> </ul> </li> <li>\u7b97\u6cd5<ol> <li>\u5bfb\u627e \u5faa\u73af\u4e0d\u53d8\u8ba1\u7b97</li> <li>\u5bf9\u4e8e Step 1 \u4e2d\u627e\u5230\u7684\u6bcf\u4e00\u6761\u8bed\u53e5\uff0c\u68c0\u67e5\u662f\u5426\u7b26\u5408\u4e0a\u8ff0\u6761\u4ef6</li> <li>\u6309\u7167\u4e66\u5199\u987a\u5e8f\uff0c\u5c06\u6240\u6709\u5faa\u73af\u4e0d\u53d8\u8bed\u53e5\u79fb\u52a8\u81f3 preHeader\uff08\u82e5\u5176\u8ba1\u7b97\u5206\u91cf\u7684\u5b9a\u503c\u70b9\u5728\u5faa\u73af\u4f53\u5185\uff0c\u5219\u53ea\u6709\u53ef\u4ee5\u4e00\u540c\u5916\u63d0\u7684\u65f6\u5019\u624d\u80fd\u62ce\u51fa\u6765\uff09</li> </ol> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#12","title":"12 \u4f5c\u7528\u4e8e\u5f52\u7eb3\u53d8\u91cf\u7684\u5f3a\u5ea6\u524a\u5f31","text":"<ul> <li>\u5bf9\u4e8e\u53d8\u91cf \\(x\\)\uff0c\u82e5\u5b58\u5728\u5e38\u91cf \\(c\\) \uff0c\u662f\u7684\u6bcf\u6b21 \\(x\\) \u7684\u64cd\u4f5c\u90fd\u6ee1\u8db3 \\(x += c\\)\uff0c\u5219\u79f0 \\(x\\) \u4e3a\u5f52\u7eb3\u53d8\u91cf</li> <li>\u82e5\u5faa\u73af L \u4e2d\u7684\u53d8\u91cf \\(i\\) \u5f62\u5982 \\(i=i+c\\)\uff0c\u5219\u79f0 \\(i\\) \u4e3a L \u7684 \u57fa\u672c\u5f52\u7eb3\u53d8\u91cf</li> <li> <p>\u82e5 \\(j=c*i+d\\) \u4e14 \\(i\\) \u4e3a\u57fa\u672c\u5f52\u7eb3\u53d8\u91cf\uff0c\u5219 \\(j\\) \u4e3a \u5c5e\u4e8e \\(i\\) \u65cf\u7684\u5f52\u7eb3\u53d8\u91cf</p> <p>\u6211\u4eec\u8ba4\u4e3a\u4e0e\u53d8\u91cf \\(j\\) \u5173\u8054\u7684\u4e09\u5143\u7ec4\u4e3a \\((i,c,d)\\)</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#121","title":"12.1 \u5f52\u7eb3\u53d8\u91cf\u68c0\u6d4b\u7b97\u6cd5","text":"<ol> <li>\u626b\u63cf\u5faa\u73af L \u7684\u8bed\u53e5\uff0c\u627e\u51fa\u6240\u6709\u7684 \u57fa\u672c\u5f52\u7eb3\u53d8\u91cf\uff0c\u4e0e\u5176\u5173\u8054\u7684\u4e09\u5143\u7ec4\u4e3a \\((id,1,0)\\)</li> <li>\u5bfb\u627e\u5faa\u73af\u4e2d \u53ea\u6709\u4e00\u6b21\u5b9a\u503c \u7684\u53d8\u91cf \\(k\\)\uff0c\u5177\u6709\u5f62\u5f0f \\(k=c'*j+d'\\)\uff0c\\(j\\) \u4e3a \u57fa\u672c/\u975e\u57fa\u672c\u5f52\u7eb3\u53d8\u91cf<ul> <li>\u57fa\u672c\u5f52\u7eb3\u53d8\u91cf =&gt; \\(k \\in i\\)\uff0c\u4e09\u5143\u7ec4\u4e3a \\((j,c',d')\\)</li> <li>\u975e\u57fa\u672c\u5f52\u7eb3\u53d8\u91cf =&gt; \u5047\u8bbe \\(k\\in i\\)<ul> <li>\u5faa\u73af L \u4e2d\u5bf9 \\(j\\) \u7684 \u552f\u4e00\u5b9a\u503c &amp; \u5bf9 \\(k\\) \u7684\u552f\u4e00\u5b9a\u503c\u4e4b\u95f4\uff0c\u6ca1\u6709 \u5bf9 \\(i\\) \u5b9a\u503c</li> <li>\u5faa\u73af L \u5916 \u6ca1\u6709 \\(j\\) \u7684\u5b9a\u503c\u53ef\u4ee5\u5230\u8fbe \\(k\\)</li> </ul> </li> </ul> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#122","title":"12.2 \u5f3a\u5ea6\u524a\u5f31\u7b97\u6cd5","text":"<p>\u5bf9\u4e8e\u6bcf\u4e2a \u57fa\u672c\u5f52\u7eb3\u53d8\u91cf \\(i\\)\uff0c\u5bf9\u4e8e\u65cf\u4e2d\u7684\u6bcf\u4e2a\u5f52\u7eb3\u53d8\u91cf \\(j:(i,c,d)\\) \uff1a 1. \u5efa\u7acb\u4e34\u65f6\u53d8\u91cf \\(t\\) =&gt; \u5177\u6709\u76f8\u540c\u4e09\u5143\u7ec4\u7684\u65cf\u88d4\u53ef\u4ee5\u5171\u7528\u4e00\u4e2a 2. \u4f7f\u7528 \\(j=t\\) \u66ff\u6362 \\(j=c*i+d\\) 3. \u5728\u7d27\u8ddf\u5b9a\u503c \\(i = i+n\\) \u5904\u6dfb\u52a0 \\(t=t+c*n\\) 4. \u5c06 \\(t:(i,c,d)\\) \u52a0\u5165 \\(i\\) \u65cf 5. \u5728 preHead \u672b\u5c3e\u8ffd\u52a0 \\(t=c*i,\\ t = t+d\\)\uff0c\u4f7f\u5f97\u5faa\u73af\u5f00\u59cb\u65f6 \\(t=c*i+d = j\\)</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#123","title":"12.3 \u5220\u9664\u5f52\u7eb3\u53d8\u91cf","text":"<ul> <li>\u5bf9\u4e8e\u5f15\u5165\u7684 \\(j=t\\) \uff0c\u82e5\u53ef\u4ee5\u5728\u5f52\u7eb3\u53d8\u91cf \\(j\\) \u7684 \u6240\u6709\u5f15\u7528\u70b9 \u7528 \\(t\\) \u8fdb\u884c\u66ff\u6362\uff0c\u4e14 \\(j\\) \u5728 L \u7684\u51fa\u53e3\u5904\u4e0d\u6d3b\u8dc3\uff0c\u5219\u53ef\u4ee5\u5220\u9664\u8bed\u53e5 \\(j=t\\)</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/8%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/#124","title":"12.4 \u5220\u9664\u4ec5\u7528\u4e8e\u6d4b\u8bd5\u7684\u5f52\u7eb3\u53d8\u91cf","text":"<ul> <li>\u5b8c\u6210 \u5f3a\u5ea6\u524a\u5f31 \u540e\uff0c\u90e8\u5206\u5f52\u7eb3\u53d8\u91cf\u4ec5\u7528\u4e8e\u6d4b\u8bd5\u3002\u82e5\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5176\u4ed6\u5f52\u7eb3\u53d8\u91cf\u7684\u6d4b\u8bd5\u66ff\u4ee3\uff0c\u5219\u53ef\u4ee5\u5220\u9664\u8be5\u5f52\u7eb3\u53d8\u91cf\u3002</li> <li>\u5bf9\u4e8e\u7528\u4e8e\u6d4b\u8bd5\u7684\u57fa\u672c\u5f52\u7eb3\u53d8\u91cf \\(i\\) \uff0c\u53d6\u5176\u67d0\u4e2a\u65cf\u88d4 \\(j\\)\uff08\u8ba9\u4e24\u4e2a\u5e38\u6570\u5c3d\u53ef\u80fd\u7b80\u5355\uff09\uff0c\u4f7f\u7528\u5bf9 \\(j\\) \u7684\u6d4b\u8bd5\u66ff\u6362\u5bf9 \\(i\\) \u7684\u6d4b\u8bd5\uff0c\u5373 \\(relop\\ i \\ x \\ B \\rightarrow relop \\ j\\ c*x+d\\ B\\)</li> <li>\u5bf9\u4e8e \\(relop \\ i_1\\ i_2\\ B\\)\uff0c\u82e5\u80fd\u627e\u5230\u4e24\u65cf\u65cf\u88d4 \\(j_1:(i_1,c,d),\\ j_2:(i_2,c,d)\\)\uff0c\u5219\u53ef\u4ee5\u66ff\u6362\u4e3a \\(relop\\ (j_1,\\ j_2,\\ B),\\ c &gt; 0\\)</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/","title":"9 \u4ee3\u7801\u751f\u6210","text":"<p> \u7ea6 1160 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u4ee3\u7801\u751f\u6210\u5668\u4e3b\u8981\u5b8c\u6210\u4e86\u4ee5\u4e0b\u4efb\u52a1\uff1a - \u6307\u4ee4\u9009\u62e9</p> <pre><code>\u9009\u62e9\u5408\u9002\u7684 *\u76ee\u6807\u673a\u6307\u4ee4* \u5b9e\u73b0\u4e2d\u95f4\u4ee3\u7801\n</code></pre> <ul> <li> <p>\u5bc4\u5b58\u5668\u5206\u914d\u4e0e\u6307\u6d3e</p> <p>value \u5e94\u8be5\u653e\u7f6e\u5728\u54ea\u4e2a reg \u4e2d</p> </li> <li> <p>\u6307\u4ee4\u6392\u5e8f</p> <p>\u6309\u7167\u4ec0\u4e48\u987a\u5e8f\u6267\u884c\u6307\u4ee4\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#1","title":"1 \u7b80\u5355\u76ee\u6807\u673a\u6a21\u578b","text":"<ul> <li>\u4e09\u5730\u5740\u673a\u5668\u6a21\u578b<ul> <li>\u64cd\u4f5c\uff1a\u52a0\u8f7d\u3001\u4fdd\u5b58\u3001\u8fd0\u7b97\u3001\u8df3\u8f6c ...</li> <li>\u5185\u5b58\u6309 Byte \u5bfb\u5740</li> <li>\u5177\u6709 n \u4e2a\u901a\u7528\u5bc4\u5b58\u5668 \\(R_0,...,R_{n-1}\\)</li> <li>\u5047\u8bbe\u6240\u6709\u8fd0\u7b97\u5206\u91cf\u5747\u4e3a\u6574\u6570</li> <li>\u6307\u4ee4\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u6807\u53f7</li> </ul> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#11","title":"1.1 \u4e3b\u8981\u6307\u4ee4","text":"<ul> <li>\u52a0\u8f7d\u6307\u4ee4 \\(LD\\ dst,\\ addr\\)<ul> <li>\\(LD\\ r,\\ x\\) \u5c06 addr = x \u5904\u7684\u5185\u5bb9\u590d\u5236\u81f3 r</li> <li>\\(LD\\ r_1,\\ r_2\\) \u5c06\u5bc4\u5b58\u5668 r2 \u7684\u5185\u5bb9\u590d\u5236\u81f3 r1</li> </ul> </li> <li>\u4fdd\u5b58\u6307\u4ee4 \\(SD\\ x,\\ r\\)</li> <li>\u8fd0\u7b97\u6307\u4ee4 \\(OP\\ dst,\\ src1,\\ src2\\)</li> <li>\u65e0\u6761\u4ef6\u8df3\u8f6c \\(BR\\ L\\)\uff0c\\(L\\) \u4e3a\u6307\u4ee4\u6807\u53f7</li> <li>\u6761\u4ef6\u8df3\u8f6c \\(Bcond\\ r,\\ L\\)\uff0c\\(r\\) \u4e3a\u5bc4\u5b58\u5668</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#12","title":"1.2 \u5bfb\u5740\u6a21\u5f0f","text":"<ol> <li>\u53d8\u91cf\u540d \\(a\\)</li> <li>\\(a(r)\\)\uff0c\\(a\\) \u4e3a\u53d8\u91cf\uff0c\\(r\\) \u4e3a\u5bc4\u5b58\u5668\uff0c\u8868\u793a \\(a+contents(r)\\)</li> <li>\\(c(r)\\)\uff0c\\(c\\) \u4e3a\u6574\u6570\uff0c\\(r\\) \u4e3a\u5bc4\u5b58\u5668\uff0c\u8868\u793a \\(c+contents(r)\\)</li> <li>\\(*r\\) \u8868\u793a\u5bc4\u5b58\u5668\u4e2d\u5b58\u653e\u7684\u662f\u4e00\u4e2a\u5730\u5740\uff0c\u5373\u4e3a \\(contents(contents(r))\\)</li> <li>\\(*c(r)\\) \u8868\u793a \\(c+contents(r)\\) \u5b58\u653e\u7684\u662f\u5730\u5740\uff0c\u5373\u4e3a \\(contents(c+contents(r))\\)</li> <li>\\(\\#c\\)  \u7ed9\u5bc4\u5b58\u5668\u8d4b\u5e38\u6570 =&gt; \\(LD\\ R_1,\\ \\#100 \\rightarrow R_1=100\\) </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#2","title":"2 \u6307\u4ee4\u9009\u62e9","text":""},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#21","title":"2.1 \u8fd0\u7b97\u8bed\u53e5","text":"<p>\u4e09\u5730\u5740\u8bed\u53e5 \\(x=y-z\\)\uff0c\u5bf9\u5e94\u5982\u4e0b\u6846\u67b6\uff1a</p> <pre><code>LD r1, y;       // \u5df2\u7ecf\u5728\u5bc4\u5b58\u5668\u4e2d\u5c31\u53ef\u4ee5\u5220\u53bb\nLD r2, z;\nSUB r1, r1, r2; // r1 = r1 - r2 = y - z\nST x, r1;       // x = r1 = y - z\uff08\u4e0d\u9700\u8981\u5b58\u5230\u5185\u5b58\u5c31\u53ef\u4ee5\u5220\u53bb\uff09\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#22","title":"2.2 \u6570\u7ec4\u5bfb\u5740\u8bed\u53e5","text":"<p>\u5bf9\u4e8e \\(b=a[i]\\)\uff0c\u4e14\u6bcf\u4e2a\u5c5e\u4e8e\u5143\u7d20\u5360 8 Byte\uff1a <pre><code>LD r1, i;\nMUL r1, r1, 8; // r1 = 8 * i = offset\nLD r2, a(r1);  // r2 = contents(a + offset) = a[i]\nST b, r2;      // b = r2 = a[i]\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#23","title":"2.3 \u6307\u9488\u5b58\u53d6\u8bed\u53e5","text":"<p>\u5bf9\u4e8e \\(x=*p\\)\uff1a <pre><code>LD r1, p;\nLD r2, 0(r1); // r2 = contents(0 + p)\nST x, r2;     // x = contents(0+p) = *p\n</code></pre></p> <p>\u5bf9\u4e8e\\(*p=y\\)\uff1a <pre><code>LD r1, p;\nLD r2, y;\nST 0(r1), r2;\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#24","title":"2.4 \u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5","text":"<p>\u5bf9\u4e8e \\(if\\ x&lt;y\\ goto\\ L\\)\uff1a <pre><code>LD r1, x;\nLD r2, y;\nSUB r1, r1, r2; // r1 = x - y\nBLTZ r1, M;     // if r1&lt;0 jump to M\n</code></pre></p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#25","title":"2.5 \u8fc7\u7a0b\u8c03\u7528\u4e0e\u8fd4\u56de","text":"<ol> <li> <p>\u9759\u6001\u5b58\u50a8\u5206\u914d</p> <ul> <li> <p>\u5bf9\u4e8e\u4ee3\u7801 \\(call\\ calleeFunc\\)\uff1a</p> <pre><code>ST callee.staticArea, #here + 20; // \u5b58\u653e\u8fd4\u56de\u5730\u5740\n// staticArea \u5373\u4e3a callee \u6d3b\u52a8\u8bb0\u5f55\u8d77\u59cb\u4f4d\u7f6e\uff08\u5047\u88c5\u8fd9\u91cc\u5b58\u4e86\u8fd4\u56de\u5730\u5740\uff09\n// #here + 20 \u6307\u5411 cur+2 \u5904\u7684\u6307\u4ee4\n\nBR callee.codeArea; // \u8df3\u8f6c\u81f3 callee \u7684\u4ee3\u7801\u533a\u51c6\u5907\u6267\u884c\n</code></pre> </li> <li> <p>\u5bf9\u4e8e \\(return\\)\uff0c\u6709 <code>BR *callee.staticArea</code></p> </li> </ul> </li> <li> <p>\u6808\u5f0f\u5b58\u50a8\u5206\u914d</p> <ul> <li> <p>\u5bf9\u4e8e\u8c03\u7528\u8bed\u53e5</p> <pre><code>ADD sp, sp, #caller.recordSize; // \u8ba9 sp \u6307\u5411 callee\nST 0(sp), #here + 16;           // \u50a8\u5b58\u8fd4\u56de\u5730\u5740\nBR callee.codeArea;\n</code></pre> </li> <li> <p>\u5bf9\u4e8e\u8fd4\u56de\u8bed\u53e5</p> <pre><code>callee:\n    BR *0(sp); // \u8fd4\u56de\ncaller:\n    SUB sp, sp, #caller.recordSize; // \u628a sp \u632a\u56de\u81ea\u5df1\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#3","title":"3 \u5bc4\u5b58\u5668\u9009\u62e9","text":"<p>\u5bf9\u4e8e\u6bcf\u4e2a\u5f62\u5982 \\(I:x=y\\ op\\ z\\) \u7684\u4e09\u5730\u5740\u6307\u4ee4\uff1a 1. \u8c03\u7528 <code>getReg(I)</code> \u4e3a \\(x,\\ y,\\ z\\) \u9009\u62e9\u5bc4\u5b58\u5668 2. \u5bf9\u4e8e\u4f9d\u8d56\uff1a\u82e5 \\(R_y\\) \u4e2d\u5b58\u653e\u7684\u4e0d\u662f \\(y\\)\uff0c\u751f\u6210 \\(LD\\ R_y,\\ y'\\)\uff0c\\(y'\\) \u4e3a\u4efb\u610f\u5b58\u653e \\(y\\) \u7684\u5185\u5b58\u5730\u5740 3. \u751f\u6210\u76ee\u6807\u6307\u4ee4 \\(OP\\ R_x,\\ R_y,\\ R_z\\)</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#31","title":"3.1 \u5bc4\u5b58\u5668\u63cf\u8ff0\u7b26\u4e0e\u5730\u5740\u63cf\u8ff0\u7b26","text":"<ul> <li> <p>\u5bc4\u5b58\u5668\u63cf\u8ff0\u8d4b Register Description</p> <p>\u5bc4\u5b58\u5668\u5f53\u524d\u5b58\u653e\u7684\u662f\u54ea\u4e2a\u53d8\u91cf\u7684\u503c</p> </li> <li> <p>\u5730\u5740\u63cf\u8ff0\u7b26 Address Description</p> <p>\u8fd0\u884c\u65f6 \u6bcf\u4e2a id \u7684\u5f53\u524d\u503c\u5b58\u653e\u5728 \u54ea\u4e2a/\u54ea\u4e9b \u4f4d\u7f6e</p> <p>\u53ef\u4ee5\u662f \u5bc4\u5b58\u5668 / \u6808\u5355\u5143 / \u5185\u5b58\u5730\u5740</p> <p>\u53ef\u4ee5\u653e\u5728 \u7b26\u53f7\u8868 \u7684\u5bf9\u5e94 record \u4e2d</p> </li> <li> <p>\u57fa\u672c\u5757\u7ed3\u675f\u5904\u7406</p> <p>\u5bf9\u4e8e\u53ef\u80fd\u5728\u51fa\u53e3\u5904\u6d3b\u8dc3\u7684\u53d8\u91cf \\(x\\)\uff0c\u82e5\u8fd8\u6ca1\u6709\u88ab\u4fdd\u5b58\u5230\u5185\u5b58\u4e2d\uff0c\u5219\u751f\u6210 \\(ST\\ x,\\ R\\)</p> <p>\u5176\u4e2d \\(R\\) \u4e3a\u5f53\u524d\u4fdd\u5b58 \\(x\\) \u503c\u7684\u5bc4\u5b58\u5668 </p> </li> <li> <p>\u63cf\u8ff0\u7b26\u7684\u66f4\u65b0</p> <ol> <li>\u5bf9\u4e8e \\(LD,\\ R,\\ x\\)<ul> <li>\u4fee\u6539\u5bc4\u5b58\u5668 \\(R\\) \u7684\u63cf\u8ff0\u7b26 =&gt; \u4ec5\u5305\u542b \\(x\\)</li> <li>\u4fee\u6539 \\(x\\) \u7684\u5730\u5740\u63cf\u8ff0\u7b26 =&gt; \u6dfb\u52a0 \\(R\\)</li> <li>\u4ece\u4efb\u4f55 \\(!x\\) \u7684\u5730\u5740\u63cf\u8ff0\u7b26\u4e2d\u5220\u9664 \\(R\\)</li> </ul> </li> <li>\u5bf9\u4e8e \\(OP\\ R_x,\\ R_y,\\ R_z\\)<ul> <li>\u4fee\u6539\u5bc4\u5b58\u5668 \\(R\\) \u7684\u63cf\u8ff0\u7b26 =&gt; \u4ec5\u5305\u542b \\(x\\)</li> <li>\u4ece\u4efb\u4f55 \\(!R_x\\) \u7684\u5bc4\u5b58\u5668\u63cf\u8ff0\u7b26\u4e2d\u5220\u9664 \\(x\\)</li> <li>\u4fee\u6539 \\(x\\) \u7684\u5730\u5740\u63cf\u8ff0\u7b26 =&gt; \u4ec5\u5305\u542b \\(R_x\\)</li> <li>\u4ece\u4efb\u4f55 \\(!x\\) \u7684\u5730\u5740\u63cf\u8ff0\u7b26\u4e2d\u5220\u9664 \\(R_x\\)</li> </ul> </li> <li>\u5bf9\u4e8e \\(ST\\ x,\\ R\\)<ul> <li>\u4fee\u6539 \\(x\\) \u7684\u5730\u5740\u63cf\u8ff0\u7b26 =&gt; \u5305\u542b\u5f53\u524d\u7684\u5185\u5b58\u5730\u5740</li> </ul> </li> <li>\u5bf9\u4e8e\u590d\u5236\u8bed\u53e5 \\(x=y\\) \uff0c\u82e5\u9700\u8981\u52a0\u8f7d \\(y\\)\uff08\\(LD\\ R_y,\\ y'\\))\uff1a<ul> <li>\u4fee\u6539 \\(R_y\\) =&gt; \u4ec5\u5305\u542b \\(y\\)</li> <li>\u4fee\u6539 \\(y\\) =&gt; \u6dfb\u52a0 \\(R_y\\)</li> <li>\u4ece\u4efb\u4f55 \\(!y\\) \u4e2d\u5220\u9664 \\(R_y\\)</li> </ul> </li> </ol> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#32-getreg","title":"3.2 getReg \u51fd\u6570\u8bbe\u8ba1","text":"<ol> <li>\u5224\u65ad \\(y\\) \u662f\u5426\u5b58\u5728\u4e8e\u67d0\u4e2a\u5bc4\u5b58\u5668 \\(R\\) \u4e2d<ul> <li>T\uff1a\u9009\u62e9 \\(R\\)\uff0c\u7ed3\u675f</li> <li>F\uff1aStep 2</li> </ul> </li> <li>\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u7a7a\u95f2\u5bc4\u5b58\u5668<ul> <li>T\uff1a\u9009\u62e9\u7a7a\u95f2\u5bc4\u5b58\u5668\uff0c\u7ed3\u675f</li> <li>F\uff1aStep 3</li> </ul> </li> <li>\u8ba1\u7b97\u6bcf\u4e2a\u5019\u9009\u5bc4\u5b58\u5668\u9700\u8981\u751f\u6210\u4fdd\u5b58\u6307\u4ee4\u7684\u6570\u91cf\uff0c\u9009\u62e9\u6700\u5c11\u7684\uff0c\u7ed3\u675f</li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#33","title":"3.3 \u5bc4\u5b58\u5668\u8d39\u7528\u8ba1\u7b97","text":"<p>![[\u622a\u5c4f2023-04-22 21.38.32.png]]</p>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#34-r_x","title":"3.4 \\(R_x\\) \u7684\u9009\u62e9","text":"<ul> <li>\u7531\u4e8e \\(x\\) \u7684 newVal \u6b63\u5728\u88ab\u8ba1\u7b97\uff0c\u56e0\u6b64 \u53ea\u5b58\u653e\u4e86\\(x\\) \u7684\u5bc4\u5b58\u5668\u65f6\u53ef\u4ee5\u63a5\u53d7\u7684\uff08\u5373\u4f7f \\(R_x==R_y || R_x == R_z\\)\uff09</li> <li>\u82e5 \\(y\\) \u5728\u8be5\u8ba1\u7b97\u5b8c\u6210\u540e \u4e0d\u518d\u88ab\u4f7f\u7528\uff0c\u4e14 \\(R_y\\) \u4e2d\u4ec5\u4fdd\u5b58\u4e86 \\(y\\) \u7684\u503c\uff0c\u5219\u53ef\u4ee5\u9009\u62e9 \\(R_y\\) \u8fdb\u884c\u8986\u76d6</li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#4","title":"4 \u7aa5\u5b54\u4f18\u5316","text":"<ul> <li>\u7aa5\u5b54 peepHole \u662f\u7a0b\u5e8f\u4e0a\u7684\u4e00\u4e2a\u6ed1\u52a8\u7a97\u53e3</li> <li>\u300c\u7aa5\u5b54\u4f18\u5316\u300d\u662f\u6307\u68c0\u67e5\u76ee\u6807\u6307\u4ee4\u7684\u7aa5\u5b54\uff0c\u5982\u679c\u6709\u53ef\u80fd\u5c31\u5728\u7aa5\u5b54\u5185\u4f7f\u7528\u66f4\u5feb/\u66f4\u77ed\u7684\u6307\u4ee4\u6765\u66ff\u6362\u7aa5\u5b54\u4e2d\u7684\u90e8\u5206\u6307\u4ee4\u5e8f\u5217 <p>\u53ef\u4ee5\u5728\u4e2d\u95f4\u4ee3\u7801\u751f\u6210\u540e\u7acb\u523b\u8fdb\u884c\u7aa5\u5b54\u4f18\u5316</p> </li> </ul>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#41","title":"4.1 \u5197\u4f59\u6307\u4ee4\u5220\u9664","text":"<ol> <li> <p>\u6d88\u9664\u5197\u4f59\u7684 \u52a0\u8f7d/\u4fdd\u5b58 \u6307\u4ee4</p> <pre><code>LD r0, b;\nADD r0, r0, c;\nST a, r0;\nLD r0, a;  // =&gt; \u5728\u5b58\u50a8\u540e\u9a6c\u4e0a\u8bfb\uff0c\u6ca1\u6709\u6807\u53f7\u5c31\u53ef\u4ee5\u5220\u9664\uff08\u5426\u5219\u53ef\u80fd\u5b58\u5728\u8df3\u8f6c\uff09\nADD r0, r0, e;\nST d, r0;\n</code></pre> </li> <li> <p>\u6d88\u9664 \u4e0d\u53ef\u8fbe\u4ee3\u7801</p> <p>\u7d27\u8ddf\u5728 \u65e0\u6761\u4ef6\u8df3\u8f6c \u6307\u4ee4\u540e\u7684\u3001\u4e0d\u5e26\u6807\u53f7 \u7684\u6307\u4ee4\u662f\u4e0d\u53ef\u8fbe\u7684</p> <pre><code>    if debug == 1 goto L1\n    goto L2 // \u65e0\u6761\u4ef6\u8df3\u8f6c\nL1: print debugging information\nL2:\n\n// \u53ef\u4ee5\u7b49\u4ef7\u53d8\u6362\u4e3a\u5982\u4e0b\u5f62\u5f0f\n    if debug != 1 goto L2\n    print debugging information\nL2:\n\n// \u82e5\u5728\u5f00\u5934\u6267\u884c debug = 0\uff0c\u5219\u6761\u4ef6\u7f16\u7a0b 0!=1 \u6052\u4e3a true\uff0c\u65e0\u6761\u4ef6\u8df3\u8f6c\n    if 0!=1 goto L2;\n    goto L2;\n\n// \u7b49\u4ef7\u4e8e\n    goto L2;\n    print debugging information; // \u5197\u4f59\nL2:\n</code></pre> </li> </ol>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#42","title":"4.2 \u63a7\u5236\u6d41\u4f18\u5316","text":"<p>\u82e5\u51fa\u73b0 \u8df3\u8f6c\u81f3\u8df3\u8f6c\u6307\u4ee4 \u7684\u6307\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u5408\u5e76\uff1a</p> <pre><code>    if a &lt; b goto L1;\nL1: goto L2;\n\n// \u53ef\u4ee5\u4fee\u6539\u4e3a\n    if a &lt; b goto L2;\nL1: goto L2; // \u5982\u679c\u6ca1\u6709\u522b\u4eba\u8df3\u5230 L1\uff0c\u90a3\u4e48\u8fd9\u884c\u53ef\u4ee5\u5220\u9664\n</code></pre>"},{"location":"Nulling/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/9%20%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/#43","title":"4.3 \u4ee3\u6570\u4f18\u5316","text":"<ul> <li> <p>\u4ee3\u6570\u6052\u7b49\u5f0f</p> <p>=&gt; \u53bb\u6389 <code>x = x + 0</code>\uff0c<code>x = x * 1</code> \u7684\u5f31\u667a\u64cd\u4f5c</p> </li> <li> <p>\u5f3a\u5ea6\u524a\u5f31</p> <ul> <li>\u7528\u5de6\u53f3\u79fb\u4f4d\u66ff\u4ee3 <code>*2 or /2</code></li> <li>\u9664\u6570\u4e3a const \u7684\u6d6e\u70b9\u6570\u9664\u6cd5\u53ef\u4ee5\u7528 \\(*\\frac{1}{const}\\) \u6c42\u8fd1\u4f3c\u503c</li> </ul> </li> <li> <p>\u4f7f\u7528\u7279\u6b8a\u6307\u4ee4</p> <p>\u7528 <code>INC</code> \u66ff\u4ee3 <code>+1</code> \u64cd\u4f5c</p> </li> </ul>"}]}